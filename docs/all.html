<!-- pages/docs/about/01_overview.js -->
<doc-view>

<h2 id="_get_going"><span class="merged" id="all.17YHHU" style='background-color:yellow' title="原文 : Get Going">始動</span></h2>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/about/03_quickstart"><div class="card__link-hover"/>
<span class="merged" id="all.47whZK" style='background-color:yellow' title="原文 :  fa-rocket "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">fa-rocket</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.4eeEcP" style='background-color:yellow' title="原文 :  Quick Start "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">クイック・スタート</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1QE3X3" style='background-color:yellow' title="原文 : Quick start guide to running your first Coherence cluster using the Coherence Operator.">Coherence Operatorを使用して最初のCoherenceクラスタを実行するためのクイック・スタート・ガイド。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/installation/01_installation"><div class="card__link-hover"/>
<span class="merged" id="all.44a7HY" style='background-color:yellow' title="原文 :  fa-save "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">fa-save</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.2ZQGqO" style='background-color:yellow' title="原文 :  Install "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">インストール</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.31EgIH" style='background-color:yellow' title="原文 : Installing and running the Coherence Operator.">Coherence Operatorをインストールして実行します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/applications/010_overview"><div class="card__link-hover"/>
<span class="merged" id="all.47j8Gf" style='background-color:yellow' title="原文 :  cloud_upload "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">cloud_upload</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.1OAL0f" style='background-color:yellow' title="原文 :  Build and Deploy Applications "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">アプリケーションのブルドとデプロイ</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2mmA7i" style='background-color:yellow' title="原文 : Deploying Coherence Applications using the Coherence Operator.">Coherence Operatorを使用したCoherenceアプリケーションのデプロイ。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/troubleshooting/01_trouble-shooting"><div class="card__link-hover"/>
<span class="merged" id="all.2ByjhD" style='background-color:yellow' title="原文 :  fa-question-circle "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">fa-question-circle</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.175q3M" style='background-color:yellow' title="原文 :  Troubleshooting "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">トラブルシューティング</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1qvy64" style='background-color:yellow' title="原文 : Hints and tips to troubleshoot common issues.">一般的な問題をトラブルシューティングするためのヒント。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>

<h2 id="_examples"><span class="merged" id="all.2OLHXv"  title="原文:: Examples">例</span></h2>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/000_overview"><div class="card__link-hover"/>
<span class="merged" id="all.1G78Lh" style='background-color:yellow' title="原文 :  explore "></router-link> <v-layout align-center justify-center class=""><v-avatar size="150px"><v-icon class="xxx-large">explore</v-icon></v-avatar></v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.z8BRk" style='background-color:yellow' title="原文 :  Guides & Examples "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">ガイドと例</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.4PpVPR" style='background-color:yellow' title="原文 : There are a number of examples of using the Coherence Operator and different Coherence features in Kubernetes.">Kubernetesには、Coherence Operatorおよび様々なCoherence機能の使用例がいくつかあります。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/no-operator/000_overview"><div class="card__link-hover"/>
<span class="merged" id="all.3Ul0BV" style='background-color:yellow' title="原文 :  fa-ban "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">fa-ban</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.4Ej0Rw" style='background-color:yellow' title="原文 :  Non-Operator Guides & Examples "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">非オペレータ・ガイドと例</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1HioJF" style='background-color:yellow' title="原文 : Examples for those in the unlucky situation of not being able to install Operators, CRDs, RBAC cluster roles etc, and therfore need to manage Coherence clusters manually.">オペレータ、CRD、RBACクラスタ・ロールなどをインストールできないという不運な状況の例や、前述の方法でCoherenceクラスタを手動で管理する必要があります。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>

<h2 id="_in_depth"><span class="merged" id="all.266JbV" style='background-color:yellow' title="原文 : In Depth">詳細</span></h2>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/scaling/010_overview"><div class="card__link-hover"/>
<span class="merged" id="all.2OtGuJ" style='background-color:yellow' title="原文 :  fa-balance-scale "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">fa-balance-scale</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.3QQZo" style='background-color:yellow' title="原文 :  Scaling "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">スケーリング</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.35nsTw" style='background-color:yellow' title="原文 : Safe scaling of Coherence deployments the Coherence Operator.">Coherenceデプロイメントの安全なスケーリングは、Coherence Operatorです。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/coherence/010_overview"><div class="card__link-hover"/>
<span class="merged" id="all.2GkLI7" style='background-color:yellow' title="原文 :  fa-cogs "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">fa-cogs</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.4SqHsP" style='background-color:yellow' title="原文 :  Configure Coherence "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">Coherenceの構成</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1XNo4q" style='background-color:yellow' title="原文 : Configuring Coherence behaviour.">Coherenceの動作の構成。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/jvm/010_overview"><div class="card__link-hover"/>
<span class="merged" id="all.4WMA8D" style='background-color:yellow' title="原文 :  fa-cog "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">fa-cog</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.3e0QUb" style='background-color:yellow' title="原文 :  Configure the JVM "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">JVMの構成</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2KEfxH" style='background-color:yellow' title="原文 : Configure the behaviour of the JVM.">JVMの動作を構成します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/ports/010_overview"><div class="card__link-hover"/>
<span class="merged" id="all.19yBx2" style='background-color:yellow' title="原文 :  control_camera "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">control_camera</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.2evFpG" style='background-color:yellow' title="原文 :  Expose Ports & Services "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">ポートおよびサービスの公開</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1S1mBB" style='background-color:yellow' title="原文 : Configure services to expose ports provided by the application.">アプリケーションによって提供されるポートを公開するサービスを構成します。</span></p>
</v-card-text> </v-card> </v-flex> </v-layout> </v-container> </v-flex> </v-layout> <v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/metrics/010_overview"><div class="card__link-hover"/>
<span class="merged" id="all.2HzbQk" style='background-color:yellow' title="原文 :  speed "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"><v-icon class="xxx-large">speed</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.4P6Ox2" style='background-color:yellow' title="原文 :  Metrics "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">メトリクス</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2ZZGFw" style='background-color:yellow' title="原文 : Enabling and working with Metrics in the Coherence Operator.">Coherence Operatorのメトリクスの有効化および操作。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/management/010_overview"><div class="card__link-hover"/>
<span class="merged" id="all.2kBhTL" style='background-color:yellow' title="原文 :  fa-stethoscope "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">fa-stethoscope</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.3KLVos" style='background-color:yellow' title="原文 :  Management and Diagnostics "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">管理と診断</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.3dw4wP" style='background-color:yellow' title="原文 : Management and Diagnostics in the Coherence Operator.">Coherence Operatorの管理および診断。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/logging/010_overview"><div class="card__link-hover"/>
<span class="merged" id="all.FiJbK" style='background-color:yellow' title="原文 :  find_in_page "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">find_in_page</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.4HtJCe" style='background-color:yellow' title="原文 :  Logging "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">ログ</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1gdd1N" style='background-color:yellow' title="原文 : Viewing and managing log files within using the Coherence Operator.">Coherence Operatorを使用して、ログ・ファイルを表示および管理します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/about/04_coherence_spec"><div class="card__link-hover"/>
<span class="merged" id="all.2hQJZu" style='background-color:yellow' title="原文 :  widgets "></router-link> <v-layout align-center justify-center class=""> <v-avatar size="150px"> <v-icon class="xxx-large">widgets</v-icon> </v-avatar> </v-layout></span>
<div class="px-3">
<v-divider class="indigo lighten-4"/>
</div>
<span class="merged" id="all.2pYDuy" style='background-color:yellow' title="原文 :  Coherence CRD Reference "><v-card-title primary class="headline layout justify-center"><span style="text-align:center">Coherence CRDリファレンス</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2clcHn" style='background-color:yellow' title="原文 : Coherence CRD reference guide.">Coherence CRDリファレンス・ガイド。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</doc-view>
<!-- pages/docs/about/02_introduction.js -->
<doc-view>

<h2 id="_what_is_the_coherence_operator"><span class="merged" id="all.46lM5x" style='background-color:yellow' title="原文 : What is the Coherence Operator?">Coherence Operatorとは何ですか。</span></h2>
<div class="section">
<p><span class="merged" id="all.4e4Itn.spl1" style='background-color:yellow' title="原文 : The Coherence Operator is a Kubernetes Operator that is used to manage Oracle Coherence clusters in Kubernetes.">Coherence Operatorは、Kubernetesで<a href="https://oracle.github.io/coherence" id="" target="_blank" >Oracle Coherence</a>クラスタを管理するために使用される<a href="https://kubernetes.io/docs/concepts/extend-kubernetes/operator/" id="" target="_blank" >Kubernetes Operator</a>です。</span> <span class="merged" id="all.4e4Itn.spl2" style='background-color:yellow' title="原文 : The Coherence Operator takes on the tasks of that human DevOps resource might carry out when managing Coherence clusters, such as configuration, installation, safe scaling, management and metrics.">Coherence Operatorは、構成、インストール、セーフ・スケーリング、管理、メトリクスなど、Coherenceクラスタの管理時に人間のDevOpsリソースが実行する可能性があるタスクを実行します。</span> </p>

<p><span class="merged" id="all.1zVc8O.spl1" style='background-color:yellow' title="原文 : The Coherence Operator is a Go based application built using the Operator SDK.">Coherence Operatorは、<a href="https://github.com/operator-framework/operator-sdk" id="" target="_blank" >「オペレータSDK」</a>を使用してビルドされたGoベースのアプリケーションです。</span> <span class="merged" id="all.1zVc8O.spl2" style='background-color:yellow' title="原文 : It is distributed as a Docker image and Helm chart for easy installation and configuration.">インストールおよび構成を容易にするために、DockerイメージおよびHelmチャートとして配布されます。</span> </p>

</div>

<h2 id="_why_use_the_coherence_kubernetes_operator"><span class="merged" id="all.1neq7A" style='background-color:yellow' title="原文 : Why use the Coherence Kubernetes Operator">Coherence Kubernetes Operatorを使用する理由</span></h2>
<div class="section">
<p><span class="merged" id="all.1vvEZR.spl1" style='background-color:yellow' title="原文 : Using the Coherence Operator to manage Coherence clusters running in Kubernetes has many advantages over just deploying and running clusters with the resources provided by Kubernetes.">Coherence Operatorを使用して、Kubernetesで実行されているCoherenceクラスタを管理するには、Kubernetesで提供されるリソースを使用してクラスタをデプロイおよび実行するのみで多くの利点があります。</span> <span class="merged" id="all.1vvEZR.spl2" style='background-color:yellow' title="原文 : Coherence can be treated as just another library that your application depends on and uses and hence, a Coherence application can run in Kubernetes without requiring the Operator, but in this case there are a number of things that the DevOps team for an application would need to build or do manually.">Coherenceは、アプリケーションが依存する別のライブラリとして処理できるため、Operatorを必要とせずにKubernetesでCoherenceアプリケーションを実行できますが、この場合、アプリケーションのDevOpsチームが手動で作成または手動で実行する必要がある点がいくつかあります。</span> </p>


<h3 id="_cluster_discovery"><span class="merged" id="all.4HaWbB"  title="原文:: Cluster Discovery">クラスタの検出</span></h3>
<div class="section">
<p><span class="merged" id="all.24U4WW.spl1" style='background-color:yellow' title="原文 : JVMs that run as Coherence cluster members need to discover the other members of the cluster.">Coherenceクラスタ・メンバーとして実行されるJVMは、クラスタの他のメンバーを検出する必要があります。</span> <span class="merged" id="all.24U4WW.spl2" style='background-color:yellow' title="原文 : This is discussed in the Coherence Well Known Addressing section of the documentation.">これについては、ドキュメントの<router-link to="/docs/coherence/070_wka">「Coherenceの既知アドレス指定」</router-link>セクションを参照してください。</span> <span class="merged" id="all.24U4WW.spl3" style='background-color:yellow' title="原文 : When using the Operator the well known addressing configuration for clusters is managed automatically to allow a Coherence deployment to create its own cluster or to join with other deployments to form larger clusters.">オペレータを使用すると、クラスタに対して既知のアドレス指定構成が自動的に管理され、Coherenceデプロイメントが独自のクラスタを作成したり、他のデプロイメントと結合してより大きなクラスタを形成したりできます。</span> </p>

</div>

<h3 id="_better_fault_tolerant_data_distribution"><span class="merged" id="all.2vOY1w" style='background-color:yellow' title="原文 : Better Fault Tolerant Data Distribution">フォルト・トレラントなデータ分散の向上</span></h3>
<div class="section">
<p><span class="merged" id="all.27UzBn.spl1" style='background-color:yellow' title="原文 : The Operator configures the Coherence site and rack properties for cluster members based on Kubernetes Node topology labels.">オペレータは、Kubernetesノード・トポロジ・ラベルに基づいて、クラスタ・メンバーのCoherenceサイトおよびラックのプロパティを構成します。</span> <span class="merged" id="all.27UzBn.spl2" style='background-color:yellow' title="原文 : This allows Coherence to better distribute data across sites when a Kubernetes cluster spans availability domains.">これにより、Kubernetesクラスタが可用性ドメインにまたがる場合、Coherenceはサイト間でデータをより適切に分散できます。</span> </p>

</div>

<h3 id="_safe_scaling"><span class="merged" id="all.3IenmW" style='background-color:yellow' title="原文 : Safe Scaling">安全なスケーリング</span></h3>
<div class="section">
<p><span class="merged" id="all.3J2KSm.spl1" style='background-color:yellow' title="原文 : When scaling down a Coherence cluster, care must be taken to ensure that there will be no data loss.">Coherenceクラスタをスケール・ダウンする際は、データが失われないように注意する必要があります。</span> <span class="merged" id="all.3J2KSm.spl2" style='background-color:yellow' title="原文 : This typically means scaling down by a single Pod at a time and waiting for the cluster to become &quot;safe&quot; before scaling down the next Pod.">これは通常、一度に1つのポッドでスケール・ダウンし、次のポッドをスケール・ダウンする前にクラスタが安全になるのを待機することを意味します。</span> <span class="merged" id="all.3J2KSm.spl3" style='background-color:yellow' title="原文 : The Operator has built in functionality to do this, so scaling a Coherence cluster is as simple as scaling any other Kubernetes Deployment or StatefulSet.">オペレータはこれを行うための機能を組込みしているため、Coherenceクラスタのスケーリングは他のKubernetesデプロイメントまたはStatefulSetのスケーリングと同じくらい簡単です。</span> </p>

</div>

<h3 id="_autoscaling"><span class="merged" id="all.bnOQq"  title="原文:: Autoscaling">自動スケーリング</span></h3>
<div class="section">
<p><span class="merged" id="all.4UiZD3" style='background-color:yellow' title="原文 : Alongside safe scaling, because the Coherence CRD supports the Kubernetes scale sub-resource it is possible to configure the Kubernetes Horizontal Pod Autoscaler to scale Coherence clusters based on metrics.">安全なスケーリングに加えて、Coherence CRDはKubernetesスケール・サブリソースをサポートしているため、メトリクスに基づいてCoherenceクラスタをスケーリングするようにKubernetes Horizontal Pod Autoscalerを構成できます。</span></p>

</div>

<h3 id="_readiness_probes"><span class="merged" id="all.45zhcU" style='background-color:yellow' title="原文 : Readiness Probes">レディネス・プローブ</span></h3>
<div class="section">
<p><span class="merged" id="all.1MnFim" style='background-color:yellow' title="原文 : The Operator has an understanding of when a Coherence JVM is &quot;ready&quot;, so it configures a readiness probe that k8s will use to signal whether a Pod is ready or not.">オペレータは、Coherence JVMがいつ"準備可能"であるかを理解しているため、k8sがポッドの準備ができているかどうかを示すために使用するレディネス・プローブを構成します。</span></p>

</div>

<h3 id="_persistence"><span class="merged" id="all.2EaGxO"  title="原文:: Persistence">永続性</span></h3>
<div class="section">
<p><span class="merged" id="all.CeGNT" style='background-color:yellow' title="原文 : Using the Operator makes it simple to configure and use Coherence Persistence, storing data on Kubernetes Persistent Volumes to allow state to be maintained between cluster restarts.">オペレータを使用すると、Coherenceの永続性を構成および使用しやすくなり、Kubernetes永続ボリュームにデータを格納して、クラスタの再起動間で状態を保持できます。</span></p>

</div>

<h3 id="_graceful_shutdown"><span class="merged" id="all.4cp7zB"  title="原文:: Graceful Shutdown">正常な停止</span></h3>
<div class="section">
<p><span class="merged" id="all.dSeX.spl1" style='background-color:yellow' title="原文 : When a Coherence cluster is deployed with persistence enabled, the Operator will gracefully shutdown a cluster by suspending services before stopping all the Pods.">永続性を有効にしてCoherenceクラスタをデプロイすると、オペレータはすべてのポッドを停止する前にサービスを一時停止することによって、クラスタを正常に停止します。</span> <span class="merged" id="all.dSeX.spl2" style='background-color:yellow' title="原文 : This ensures that all persistence files are properly closed and allows for quicker recovery and restart of the cluster.">これにより、すべての永続性ファイルが適切にクローズされ、クラスタの迅速なリカバリと再起動が可能になります。</span> <span class="merged" id="all.dSeX.spl3" style='background-color:yellow' title="原文 : Without the Operator, if a cluster is shutdown, typically by removing the controlling StatefulSet from Kubernetes then the Pods will be shutdown but not all at the same time.">オペレータを使用しない場合、通常、制御しているStatefulSetをKubernetesから削除することによってクラスタが停止すると、ポッドは停止されますが、同時にすべては停止されません。</span> <span class="merged" id="all.dSeX.spl4" style='background-color:yellow' title="原文 : It is obviously impossible for k8s to kill all the Pods at the exact same instant in time.">k8sでは、まったく同じ瞬間にすべてのポッドを強制終了することはできません。</span> <span class="merged" id="all.dSeX.spl5" style='background-color:yellow' title="原文 : As some Pods die the remaining storage enabled Pods will be trying to recover data for the lost Pods, this can cause a lot of needles work and moving of data over the network.">一部のポッドは、残りのストレージを有効にしたポッドが失われたポッドのデータを回復しようとしているため、多くの針の作業とネットワーク上のデータの移動を引き起こす可能性があります。</span> <span class="merged" id="all.dSeX.spl6" style='background-color:yellow' title="原文 : It is much cleaner to suspend all the services before shutdown.">シャットダウンの前にすべてのサービスを中断することは、より賢明です。</span> </p>

</div>

<h3 id="_simpler_configuration"><span class="merged" id="all.SDnTw" style='background-color:yellow' title="原文 : Simpler Configuration">よりシンプルな構成</span></h3>
<div class="section">
<p><span class="merged" id="all.i0QiN.spl1" style='background-color:yellow' title="原文 : The Coherence CRD is designed to make the more commonly used configuration parameters for Coherence, and the JVM simpler to configure.">Coherence CRDは、Coherenceのより一般的に使用される構成パラメータ、およびJVMの構成を簡素化するように設計されています。</span> <span class="merged" id="all.i0QiN.spl2" style='background-color:yellow' title="原文 : The Coherence CRD is simple to use, in fact none of its fields are mandatory, so an application can be deployed with nothing more than a name, and a container image.">Coherence CRDは簡単に使用でき、実際にはどのフィールドも必須ではないため、アプリケーションは名前とコンテナ・イメージ以外にデプロイできます。</span> </p>

</div>

<h3 id="_consistency"><span class="merged" id="all.5S5Qx"  title="原文:: Consistency">一貫性</span></h3>
<div class="section">
<p><span class="merged" id="all.4KDQ5M" style='background-color:yellow' title="原文 : By using the Operator to manage Coherence clusters all clusters are configured and managed the same way making it easier for DevOps to manage multiple clusters and applications.">オペレータを使用してCoherenceクラスタを管理することで、すべてのクラスタが構成および管理されるため、DevOpsで複数のクラスタおよびアプリケーションの管理が容易になります。</span></p>

</div>

<h3 id="_expertise"><span class="merged" id="all.2w8ngO"  title="原文:: Expertise">専門</span></h3>
<div class="section">
<p><span class="merged" id="all.43hMst" style='background-color:yellow' title="原文 : The Operator has been built and tested by the Coherence engineering team, who understand Coherence and the various scenarios and edge cases that can occur when managing Coherence clusters at scale in Kubernetes.">Operatorは、CoherenceおよびKubernetesでCoherenceクラスタを大規模に管理する際に発生する可能性のある様々なシナリオおよびエッジ・ケースを理解するCoherenceエンジニアリング・チームによってビルドおよびテストされています。</span></p>

</div>
</div>

<h2 id="_coherence_clusters"><span class="merged" id="all.1ziNUv"  title="原文:: Coherence Clusters">Coherenceクラスタ</span></h2>
<div class="section">
<p><span class="merged" id="all.UpjEJ.spl1" style='background-color:yellow' title="原文 : A Coherence cluster is a number of distributed Java Virtual Machines (JVMs) that communicate to form a single coherent cluster.">Coherenceクラスタは、単一のコヒーレント・クラスタを形成するために通信する多数の分散Java Virtual Machines (JVM)です。</span> <span class="merged" id="all.UpjEJ.spl2" style='background-color:yellow' title="原文 : In Kubernetes, this concept can be related to a number of Pods that form a single cluster.">Kubernetesでは、この概念を単一のクラスタを形成する多数のポッドに関連付けることができます。</span> <span class="merged" id="all.UpjEJ.spl3" style='background-color:yellow' title="原文 : In each Pod is a JVM running a Coherence DefaultCacheServer, or a custom application using Coherence.">各<code>Pod</code>には、Coherence <code>DefaultCacheServer</code>を実行するJVM、またはCoherenceを使用するカスタム・アプリケーションがあります。</span> </p>

<p><span class="merged" id="all.2E77dp.spl1" style='background-color:yellow' title="原文 : The operator uses a Kubernetes Custom Resource Definition (CRD) to represent a group of members in a Coherence cluster.">オペレータは、Kubernetesカスタム・リソース定義(CRD)を使用して、Coherenceクラスタ内のメンバーのグループを表します。</span> <span class="merged" id="all.2E77dp.spl2" style='background-color:yellow' title="原文 : Typically, a deployment would be used to configure one or more members of a specific role in a cluster.">通常、デプロイメントは、クラスタ内の特定のロールの1つ以上のメンバーを構成するために使用されます。</span> <span class="merged" id="all.2E77dp.spl3" style='background-color:yellow' title="原文 : Every field in the Coherence CRD Spec is optional, so a simple cluster can be defined in yaml as:"><code>Coherence</code> CRD <code>Spec</code>の各フィールドはオプションであるため、単純なクラスタをyamlで次のように定義できます:</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: my-cluster <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3834Dk" style='background-color:yellow' title="原文 : In this case the metadata.name field in the Coherence resource yaml will be used as the Coherence cluster name.">この場合、<code>Coherence</code>リソースyamlの<code>metadata.name</code>フィールドがCoherenceクラスタ名として使用されます。</span></li>
</ul>
<p><span class="merged" id="all.2e79Te" style='background-color:yellow' title="原文 : The operator will use default values for fields that have not been entered, so the above yaml will create a Coherence deployment using a StatefulSet with a replica count of three, which means that will be three storage enabled Coherence Pods.">オペレータは、入力されていないフィールドにデフォルト値を使用するため、前述のyamlは、レプリカ数が3の<code>StatefulSet</code>を使用してCoherenceデプロイメントを作成します。これは、3つのストレージが有効なCoherence <code>Pods</code>になります。</span></p>

<p><span class="merged" id="all.2zRDx5" style='background-color:yellow' title="原文 : See the Coherence CRD spec page for details of all the fields in the CRD.">CRDのすべてのフィールドの詳細は、<router-link to="/docs/about/04_coherence_spec">「Coherence CRD仕様」</router-link>ページを参照してください。</span></p>

<p><span class="merged" id="all.dCNQG.spl1" style='background-color:yellow' title="原文 : In the above example no spec.image field has been set, so the Operator will use a publicly available Coherence CE image as its default.">前述の例では、<code>spec.image</code>フィールドが設定されていないため、オペレータは、パブリックに使用可能なCoherence CEイメージをデフォルトとして使用します。</span> <span class="merged" id="all.dCNQG.spl2" style='background-color:yellow' title="原文 : These images are meant for demos, POCs and experimentation, but for a production application you should build your own image.">これらのイメージはデモ、POCおよび実験を目的としていますが、本番アプリケーションでは独自のイメージを作成する必要があります。</span> </p>

</div>

<h2 id="_using_commercial_coherence_versions"><span class="merged" id="all.1cmsGU" style='background-color:yellow' title="原文 : Using Commercial Coherence Versions">商用Coherenceバージョンの使用</span></h2>
<div class="section">
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.1s9kbn" style='background-color:yellow' title="原文 : Whilst the Coherence CE version can be freely deployed anywhere, if your application image uses a commercial version of Oracle Coherence then you are responsible for making sure your deployment has been properly licensed.">Coherence CEバージョンは、どこでも自由にデプロイできますが、アプリケーション・イメージで商用バージョンのOracle Coherenceを使用する場合、デプロイメントが適切にライセンスされていることを確認する必要があります。</span></p>
</div>
<p><span class="merged" id="all.2xL7Op.spl1" style='background-color:yellow' title="原文 : Oracle’s current policy is that a license will be required for each Kubernetes Node that images are to be pulled to.">Oracleの現在のポリシーでは、イメージをプルするKubernetesノードごとにライセンスが必要となります。</span> <span class="merged" id="all.2xL7Op.spl2" style='background-color:yellow' title="原文 : While an image exists on a node it is effectively the same as having installed the software on that node.">イメージはノードに存在しますが、そのノードにソフトウェアをインストールした場合と実質的に同じです。</span> </p>

<p><span class="merged" id="all.7gpJY.spl1" style='background-color:yellow' title="原文 : One way to ensure that the Pods of a Coherence deployment only get scheduled onto nodes that meet the license requirement is to configure Pod scheduling, for example a node selector.">Coherenceデプロイメントのポッドがライセンス要件を満たすノードにのみスケジュールされるようにする1つの方法は、ノード・セレクタなどのポッド・スケジューリングを構成することです。</span> <span class="merged" id="all.7gpJY.spl2" style='background-color:yellow' title="原文 : Node selectors, and other scheduling, is simple to configure in the Coherence CRD, see the scheduling documentation">ノード・セレクタおよびその他のスケジューリングは、<code>Coherence</code> CRDで構成しやすくなります(<router-link to="/docs/other/090_pod_scheduling">「スケジューリング・ドキュメント」</router-link>を参照)</span> </p>

<p><span class="merged" id="all.3x0cDU" style='background-color:yellow' title="原文 : For example, if a commercial Coherence license exists such that a sub-set of nodes in a Kubernetes cluster have been covered by the license then those nodes could all be given a label, e.g. coherenceLicense=true">たとえば、Kubernetesクラスタ内のノードのサブセットがライセンスでカバーされるように商業Coherenceライセンスが存在する場合は、それらのノードすべてにラベル、たとえば、<code>coherenceLicense=true</code>を付与できます。</span></p>

<p><span class="merged" id="all.4DHTiY" style='background-color:yellow' title="原文 : When creating a Coherence deployment specify a node selector to match the label:"><code>Coherence</code>デプロイメントの作成時に、ラベルに一致するノード・セレクタを指定します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: my-app:1.0.0         <span class="conum" data-value="1" />
  nodeSelector:
    coherenceLicense: 'true'  <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1WiUVF" style='background-color:yellow' title="原文 : The my-app:1.0.0 image contains a commercial Coherence version."><code>my-app:1.0.0</code>イメージには、商用Coherenceバージョンが含まれています。</span></li>
<li data-value="2"><span class="merged" id="all.1hzKRf" style='background-color:yellow' title="原文 : The nodeSelector will ensure Pods only get scheduled to nodes with the coherenceLicense=true label."><code>nodeSelector</code>は、ポッドが<code>coherenceLicense=true</code>ラベルのノードにのみスケジュールされるようにします。</span></li>
</ul>
<p><span class="merged" id="all.dtarG.spl1" style='background-color:yellow' title="原文 : There are other ways to configure Pod scheduling supported by the Coherence Operator (such as taints and tolerations) and there are alternative ways to restrict nodes that Pods can be schedule to, for example a namespace in kubernetes can be restricted to a sub-set of the cluster’s nodes.">Coherence Operatorでサポートされているポッド・スケジューリングを構成する他の方法(taintsやtolerationsなど)があり、ポッドをスケジュールできるノードを制限する別の方法もあります。たとえば、kubernetesのネームスペースはクラスタ・ノードのサブセットに制限できます。</span> <span class="merged" id="all.dtarG.spl2" style='background-color:yellow' title="原文 : Using a node selector as described above is probably the simplest approach.">前述のようにノード・セレクタを使用すると、最も簡単な方法です。</span> </p>

</div>
</doc-view>
<!-- pages/docs/about/03_quickstart.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.2FbcJI"  title="原文:: Quick Start">クイック・スタート</span></dt>
<dd slot="desc"><p><span class="merged" id="all.2BlMhd" style='background-color:yellow' title="原文 : This guide is a simple set of steps to install the Coherence Operator and then use that to install a simple Coherence cluster.">このガイドは、Coherence Operatorをインストールし、それを使用して単純なCoherenceクラスタをインストールするための単純なステップのセットです。</span></p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_prerequisites"><span class="merged" id="all.2LZvWc"  title="原文:: Prerequisites">前提条件</span></h2>
<div class="section">
<p><span class="merged" id="all.Ofv4i" style='background-color:yellow' title="原文 : Ensure that the Coherence Operator prerequisites are available."><router-link to="/docs/installation/01_installation">「Coherence Operatorの前提条件」</router-link>が使用可能であることを確認します。</span></p>

</div>

<h2 id="_1_install_the_coherence_operator"><span class="merged" id="all.2CLSny" style='background-color:yellow' title="原文 : 1. Install the Coherence Operator">1. Coherence Operatorのインストール</span></h2>
<div class="section">
<p><span class="merged" id="all.1v0YpD" style='background-color:yellow' title="原文 : If you want the default Coherence Operator installation then the simplest solution is use kubectl to apply the manifests from the Operator release.">デフォルトのCoherence Operatorインストールが必要な場合は、最も単純なソリューションは<code>kubectl</code>を使用して、Operatorリリースからのマニフェストを適用します。</span></p>

<pre
lang="bash"

>kubectl apply -f https://github.com/oracle/coherence-operator/releases/download/v3.4.0/coherence-operator.yaml</pre>

<p><span class="merged" id="all.2vyxRX.spl1" style='background-color:yellow' title="原文 : This will create a namespace called coherence and install the Operator into it along with all the required ClusterRole and RoleBinding resources.">これにより、<code>coherence</code>というネームスペースが作成され、必要なすべての<code>ClusterRole</code>および<code>RoleBinding</code>リソースとともにオペレータがインストールされます。</span> <span class="merged" id="all.2vyxRX.spl2" style='background-color:yellow' title="原文 : The coherence namespace can be changed by downloading and editing the yaml file."><code>coherence</code>ネームスペースは、yamlファイルをダウンロードおよび編集することによって変更できます。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.Ipng.spl1" style='background-color:yellow' title="原文 : Because the coherence-operator.yaml manifest also creates the namespace, the corresponding kubectl delete command will remove the namespace and everything deployed to it!"><code>coherence-operator.yaml</code>マニフェストではネームスペースも作成されるため、対応する<code>kubectl delete</code>コマンドは<em>「ネームスペースおよびそれにデプロイされたすべてのネームスペースを削除」</em>になります。</span> <span class="merged" id="all.Ipng.spl2" style='background-color:yellow' title="原文 : If you do not want this behaviour you should edit the coherence-operator.yaml to remove the namespace section from the start of the file.">この動作を行わない場合は、<code>coherence-operator.yaml</code>を編集して、ファイルの先頭からネームスペース・セクションを削除する必要があります。</span> </p>
</div>

<h3 id="_alternatively_install_using_helm"><span class="merged" id="all.32m5kl" style='background-color:yellow' title="原文 : Alternatively Install Using Helm">Helmを使用する別手段のインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.I48id" style='background-color:yellow' title="原文 : Alternatively you can install the Operator using the Helm chart.">または、Helmチャートを使用してオペレータをインストールすることもできます。</span></p>


<h4 id="_add_the_coherence_operator_helm_repository"><span class="merged" id="all.2z5JGp" style='background-color:yellow' title="原文 : Add the Coherence Operator Helm repository">Coherence Operator Helmリポジトリを追加</span></h4>
<div class="section">
<p><span class="merged" id="all.2TTbme" style='background-color:yellow' title="原文 : Add the Coherence Operator Helm repo to your local Helm.">Coherence Operator HelmリポジトリをローカルのHelmに追加します。</span></p>

<pre
lang="bash"

>helm repo add coherence https://oracle.github.io/coherence-operator/charts

helm repo update</pre>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.1Gm9Vn.spl1" style='background-color:yellow' title="原文 : To avoid confusion, the URL https://oracle.github.io/coherence-operator/charts is a Helm repo, it is not a web site you open in a browser.">混乱を避けるために、URL <code><a href="https://oracle.github.io/coherence-operator/charts" id="" target="_blank" >https://oracle.github.io/coherence-operator/charts</a></code>はHelmリポジトリであり、ブラウザで開くwebサイトではありません。</span> <span class="merged" id="all.1Gm9Vn.spl2" style='background-color:yellow' title="原文 : You may think we shouldn’t have to say this, but you’d be surprised.">知らない方のために。</span> </p>
</div>
</div>

<h4 id="_install_the_coherence_operator_helm_chart"><span class="merged" id="all.4IuD5z" style='background-color:yellow' title="原文 : Install the Coherence Operator Helm chart">Coherence Operator Helmチャートのインストール</span></h4>
<div class="section">
<pre
lang="bash"
title="helm v3 install command"
>helm install  \
    --namespace &lt;namespace&gt; \
    &lt;release-name&gt; \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.1UP3T2" style='background-color:yellow' title="原文 : e.g. if the Kubernetes namespace is coherence-test the command would be:">例、Kubernetesネームスペースが<code>coherence-test</code>の場合、コマンドは次のようになります:</span></p>

<pre
lang="bash"
title="helm v3 install command"
>helm install --namespace coherence-test  operator coherence/coherence-operator</pre>

<p><span class="merged" id="all.3oocQh" style='background-color:yellow' title="原文 : or with Helm v2">またはHelm v2を使用</span></p>

<pre
lang="bash"

>helm install --namespace coherence-test  --name operator coherence/coherence-operator</pre>

<p><span class="merged" id="all.4Scp2H" style='background-color:yellow' title="原文 : See the full install guide for more details.">詳細は、<router-link to="/docs/installation/01_installation">「フル・インストール・ガイド」</router-link>を参照してください。</span></p>

</div>
</div>
</div>

<h2 id="_2_install_a_coherence_deployment"><span class="merged" id="all.1yBLKz" style='background-color:yellow' title="原文 : 2. Install a Coherence Deployment">2. Coherenceデプロイメントのインストール</span></h2>
<div class="section">
<p><span class="merged" id="all.2gTFgF.spl1" style='background-color:yellow' title="原文 : Ensure that the Coherence images can be pulled by the Kubernetes cluster, see Obtain Coherence Images.">CoherenceイメージをKubernetesクラスタによってプルできることを確認します。<router-link to="/docs/installation/04_obtain_coherence_images">「Coherenceイメージの取得」</router-link>を参照してください。</span> <span class="merged" id="all.2gTFgF.spl2" style='background-color:yellow' title="原文 : By default, a Coherence resource will use the OSS Coherence CE image from Docker Hub.">デフォルトでは、<code>Coherence</code>リソースは、Docker HubのOSS Coherence CEイメージを使用します。</span> <span class="merged" id="all.2gTFgF.spl3" style='background-color:yellow' title="原文 : If a different image is to be used the image name will need to be specified in the Coherence yaml, see Setting the Application Image for documentation on how to specify a different images to use.">別のイメージを使用する場合は、<code>Coherence</code> yamlにイメージ名を指定する必要があります。使用する別のイメージの指定方法については、<router-link to="/docs/applications/010_overview">「アプリケーション・イメージの設定」</router-link>を参照してください。</span> </p>


<h3 id="_2_1_install_a_coherence_resource_using_the_minimal_required_configuration"><span class="merged" id="all.cVvds" style='background-color:yellow' title="原文 : 2.1 Install a Coherence resource using the minimal required configuration.">2.1 最小限必要な構成を使用してCoherenceリソースをインストールします。</span></h3>
<div class="section">
<p><span class="merged" id="all.1LZI6D" style='background-color:yellow' title="原文 : The minimal required yaml to create a Coherence resource is shown below."><code>Coherence</code>リソースを作成するために必要な最小限のyamlを次に示します。</span></p>

<pre
lang="yaml"
title="my-deployment.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: my-deployment <span class="conum" data-value="1" /></pre>

<p><span class="merged" id="all.3m31Mr" style='background-color:yellow' title="原文 : The only required field is metadata.name which will be used as the Coherence cluster name, in this case my-deployment">必要なフィールドは、Coherenceクラスタ名として使用される<code>metadata.name</code>のみです(この場合は<code>my-deployment</code>)</span></p>

<pre
lang="bash"

>kubectl -n &lt;namespace&gt; apply -f my-deployment.yaml</pre>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.EoLS7" style='background-color:yellow' title="原文 : Use the same namespace that the operator was installed into, e.g. if the namespace is coherence-test the command would be kubectl -n coherence-test create -f my-deployment.yaml">オペレータがにインストールされたものと同じネームスペースを使用します。例、ネームスペースが<code>coherence-test</code>の場合、コマンドは<code>kubectl -n coherence-test create -f my-deployment.yaml</code>になります</span></p>
</div>
</div>

<h3 id="_2_2_list_the_coherence_resources"><span class="merged" id="all.1091MR" style='background-color:yellow' title="原文 : 2.2 List the Coherence Resources">2.2 Coherenceリソースのリスト</span></h3>
<div class="section">
<p><span class="merged" id="all.2A9Eh4" style='background-color:yellow' title="原文 : After installing the my-deployment.yaml above here should be a single Coherence resource named my-deployment in the Coherence Operator namespace.">前述の<code>my-deployment.yaml</code>をインストールした後、Coherence Operatorネームスペースで<code>my-deployment</code>という名前の単一の<code>Coherence</code>リソースである必要があります。</span></p>

<pre
lang="bash"

>kubectl -n &lt;namespace&gt; get coherence</pre>

<p><span class="merged" id="all.2JDKAh" style='background-color:yellow' title="原文 : or alternatively using the Coherence CRD a short name of coh">または、<code>Coherence</code> CRDを<code>coh</code>の短縮名として使用</span></p>

<pre
lang="bash"

>kubectl -n &lt;namespace&gt; get coh</pre>

<p><span class="merged" id="all.46gDUE" style='background-color:yellow' title="原文 : e.g. if the namespace is coherence-test the command would be kubectl -n coherence-test get coherence">例、ネームスペースが<code>coherence-test</code>の場合、コマンドは<code>kubectl -n coherence-test get coherence</code>になります</span></p>

<pre
lang="bash"

>NAME                                                  AGE
coherence.coherence.oracle.com/my-deployment   19s</pre>

</div>

<h3 id="_2_3_list_all_of_the_pods_for_the_coherence_resource"><span class="merged" id="all.lMISt" style='background-color:yellow' title="原文 : 2.3 List all of the Pods for the Coherence resource.">2.3 Coherenceリソースのすべての<code>Pods</code>をリストします。</span></h3>
<div class="section">
<p><span class="merged" id="all.36kgvv" style='background-color:yellow' title="原文 : The Coherence Operator applies a coherenceDeployment label to all Pods so this label can be used with the kubectl command to find Pods for a CoherenceCoherence resource.">Coherence Operatorは、すべての<code>Pods</code>に<code>coherenceDeployment</code>ラベルを適用するため、<code>kubectl</code>コマンドでこのラベルを使用して<code>CoherenceCoherence</code>リソースの<code>Pods</code>を検索できます。</span></p>

<pre
lang="bash"

>kubectl -n &lt;namespace&gt; get pod -l coherenceDeployment=my-deployment</pre>

<p><span class="merged" id="all.2c1HBi" style='background-color:yellow' title="原文 : e.g. if the namespace is coherence the command would be: kubectl -n coherence get pod -l coherenceDeployment=my-deployment">例、ネームスペースが<code>coherence</code>の場合、コマンドは: <code>kubectl -n coherence get pod -l coherenceDeployment=my-deployment</code></span></p>

<pre
lang="bash"

>NAME              READY   STATUS    RESTARTS   AGE
my-deployment-0   1/1     Running   0          2m58s
my-deployment-1   1/1     Running   0          2m58s
my-deployment-2   1/1     Running   0          2m58s</pre>

</div>

<h3 id="_2_3_list_all_the_pods_for_the_coherence_cluster"><span class="merged" id="all.iTN1m" style='background-color:yellow' title="原文 : 2.3 List all the Pods for the Coherence cluster.">2.3 Coherenceクラスタのすべての<code>Pods</code>をリストします。</span></h3>
<div class="section">
<p><span class="merged" id="all.42DrA2" style='background-color:yellow' title="原文 : The Coherence Operator applies a coherenceCluster label to all Pods, so this label can be used with the kubectl command to find all Pods for a Coherence cluster, which will be made up of multiple Coherence resources.">Coherence Operatorは、すべての<code>Pods</code>に<code>coherenceCluster</code>ラベルを適用するため、このラベルを<code>kubectl</code>コマンドとともに使用して、Coherenceクラスタのすべての<code>Pods</code>を検索できます。これは、複数の<code>Coherence</code>リソースで構成されます。</span></p>

<pre
lang="bash"

>kubectl -n &lt;namespace&gt; get pod -l coherenceCluster=my-cluster</pre>

<p><span class="merged" id="all.4OCDUz" style='background-color:yellow' title="原文 : e.g. If there is a cluster named my-cluster made up of two Coherence resources in the namespace coherence-test, one named storage and one named front-end then the kubectl command to list all Pods for the cluster would be:">例、ネームスペース<code>coherence-test</code>内に2つの<code>Coherence</code>リソースで構成された<code>my-cluster</code>という名前のクラスタがある場合、<code>storage</code>という名前のリソースと<code>front-end</code>という名前のクラスタが1つずつ構成されている場合、クラスタのすべてのポッドをリストする<code>kubectl</code>コマンドは次のようになります:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test get pod -l coherenceCluster=my-cluster</pre>

<p><span class="merged" id="all.2mbAp8" style='background-color:yellow' title="原文 : The result of which might look something like this">結果は次のようになります</span></p>

<pre
lang="bash"

>NAME          READY   STATUS    RESTARTS   AGE
storage-0     1/1     Running   0          2m58s
storage-1     1/1     Running   0          2m58s
storage-2     1/1     Running   0          2m58s
front-end-0   1/1     Running   0          2m58s
front-end-1   1/1     Running   0          2m58s
front-end-2   1/1     Running   0          2m58s</pre>

</div>
</div>

<h2 id="_3_scale_the_coherence_cluster"><span class="merged" id="all.2hr7Qm" style='background-color:yellow' title="原文 : 3. Scale the Coherence Cluster">3. Coherenceクラスタのスケーリング</span></h2>
<div class="section">

<h3 id="_3_1_use_kubectl_to_scale_up"><span class="merged" id="all.ucL7v" style='background-color:yellow' title="原文 : 3.1 Use kubectl to Scale Up">3.1 kubectlを使用したスケール・アップ</span></h3>
<div class="section">
<p><span class="merged" id="all.27tglj" style='background-color:yellow' title="原文 : Using the kubectl scale command a specific Coherence resource can be scaled up or down."><code>kubectl scale</code>コマンドを使用すると、特定の<code>Coherence</code>リソースをスケール・アップまたはスケール・ダウンできます。</span></p>

<pre
lang="bash"

>kubectl -n &lt;namespace&gt; scale coherence/my-deployment --replicas=6</pre>

<p><span class="merged" id="all.1RvSxt" style='background-color:yellow' title="原文 : e.g. if the namespace is coherence-test the command would be: kubectl -n coherence scale coherence/my-deployment --replicas=6">例、ネームスペースが<code>coherence-test</code>の場合、コマンドは: <code>kubectl -n coherence scale coherence/my-deployment --replicas=6</code></span></p>

</div>
</div>
</doc-view>
<!-- pages/docs/about/04_coherence_spec.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.2SFJgO" style='background-color:yellow' title="原文 : Coherence Operator API Docs">Coherence Operator APIドキュメント</span></dt>
<dd slot="desc"><p><span class="merged" id="all.1nD7DO" style='background-color:yellow' title="原文 : A reference guide to the Coherence Operator CRD types.">Coherence Operator CRDタイプへの参照ガイド。</span></p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_coherence_operator_api_docs"><span class="merged" id="all.2SFJgO.1" style='background-color:yellow' title="原文 : Coherence Operator API Docs">Coherence Operator APIドキュメント</span></h2>
<div class="section">
<p><span class="merged" id="all.4Lnj75.spl1" style='background-color:yellow' title="原文 : This is a reference for the Coherence Operator API types.">これは、Coherence Operator APIタイプの参照です。</span> <span class="merged" id="all.4Lnj75.spl2" style='background-color:yellow' title="原文 : These are all the types and fields that are used in the Coherence CRD.">これらはすべて、Coherence CRDで使用されるタイプおよびフィールドです。</span> </p>

<div class="admonition tip">
<p class="admonition-inline"><span class="merged" id="all.2bjrw3" style='background-color:yellow' title="原文 : This document was generated from comments in the Go structs in the pkg/api/ directory.">このドキュメントは、pkg/api/ディレクトリのGo構造体のコメントから生成されました。</span></p>
</div>

<h3 id="_table_of_contents"><span class="merged" id="all.2jNfVE"  title="原文:: Table of Contents">目次</span></h3>
<div class="section">
<ul class="ulist">
<li>
<p><span class="merged" id="all.3oe0H1" style='background-color:yellow' title="原文 : Action"><router-link @click.native="this.scrollFix('#_action')" to="#_action">Action</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.rfigY" style='background-color:yellow' title="原文 : ActionJob"><router-link @click.native="this.scrollFix('#_actionjob')" to="#_actionjob">ActionJob</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3jxFk9" style='background-color:yellow' title="原文 : CoherenceResourceSpec"><router-link @click.native="this.scrollFix('#_coherenceresourcespec')" to="#_coherenceresourcespec">CoherenceResourceSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3X1loC" style='background-color:yellow' title="原文 : ApplicationSpec"><router-link @click.native="this.scrollFix('#_applicationspec')" to="#_applicationspec">ApplicationSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1D93Rb" style='background-color:yellow' title="原文 : CloudNativeBuildPackSpec"><router-link @click.native="this.scrollFix('#_cloudnativebuildpackspec')" to="#_cloudnativebuildpackspec">CloudNativeBuildPackSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2NPXXs" style='background-color:yellow' title="原文 : CoherenceSpec"><router-link @click.native="this.scrollFix('#_coherencespec')" to="#_coherencespec">CoherenceSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.12oZQ5" style='background-color:yellow' title="原文 : CoherenceTracingSpec"><router-link @click.native="this.scrollFix('#_coherencetracingspec')" to="#_coherencetracingspec">CoherenceTracingSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.34Ou2J" style='background-color:yellow' title="原文 : CoherenceWKASpec"><router-link @click.native="this.scrollFix('#_coherencewkaspec')" to="#_coherencewkaspec">CoherenceWKASpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.29Ou5L" style='background-color:yellow' title="原文 : ConfigMapVolumeSpec"><router-link @click.native="this.scrollFix('#_configmapvolumespec')" to="#_configmapvolumespec">ConfigMapVolumeSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2Ymy4E" style='background-color:yellow' title="原文 : GlobalSpec">♪<router-link @click.native="this.scrollFix('#_globalspec')" to="#_globalspec">GlobalSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.y2gKO" style='background-color:yellow' title="原文 : ImageSpec"><router-link @click.native="this.scrollFix('#_imagespec')" to="#_imagespec">ImageSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2d6psR" style='background-color:yellow' title="原文 : JVMSpec"><router-link @click.native="this.scrollFix('#_jvmspec')" to="#_jvmspec">JVMSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3Ollma" style='background-color:yellow' title="原文 : JvmDebugSpec"><router-link @click.native="this.scrollFix('#_jvmdebugspec')" to="#_jvmdebugspec">JvmDebugSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2ZuOpU" style='background-color:yellow' title="原文 : JvmGarbageCollectorSpec"><router-link @click.native="this.scrollFix('#_jvmgarbagecollectorspec')" to="#_jvmgarbagecollectorspec">JvmGarbageCollectorSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.42SDVr" style='background-color:yellow' title="原文 : JvmMemorySpec"><router-link @click.native="this.scrollFix('#_jvmmemoryspec')" to="#_jvmmemoryspec">JvmMemorySpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.38EILg" style='background-color:yellow' title="原文 : JvmOutOfMemorySpec"><router-link @click.native="this.scrollFix('#_jvmoutofmemoryspec')" to="#_jvmoutofmemoryspec">JvmOutOfMemorySpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1qA5oR" style='background-color:yellow' title="原文 : LocalObjectReference"><router-link @click.native="this.scrollFix('#_localobjectreference')" to="#_localobjectreference">LocalObjectReference</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1oAwLD" style='background-color:yellow' title="原文 : NamedPortSpec"><router-link @click.native="this.scrollFix('#_namedportspec')" to="#_namedportspec">NamedPortSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.F4pVq" style='background-color:yellow' title="原文 : NetworkSpec"><router-link @click.native="this.scrollFix('#_networkspec')" to="#_networkspec">NetworkSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1E4S89" style='background-color:yellow' title="原文 : PersistenceSpec"><router-link @click.native="this.scrollFix('#_persistencespec')" to="#_persistencespec">PersistenceSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1LhJzE" style='background-color:yellow' title="原文 : PersistentStorageSpec"><router-link @click.native="this.scrollFix('#_persistentstoragespec')" to="#_persistentstoragespec">PersistentStorageSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.RXntg" style='background-color:yellow' title="原文 : PersistentVolumeClaim"><router-link @click.native="this.scrollFix('#_persistentvolumeclaim')" to="#_persistentvolumeclaim">PersistentVolumeClaim</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2SB7qo" style='background-color:yellow' title="原文 : PersistentVolumeClaimObjectMeta"><router-link @click.native="this.scrollFix('#_persistentvolumeclaimobjectmeta')" to="#_persistentvolumeclaimobjectmeta">PersistentVolumeClaimObjectMeta</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4WF2Cu" style='background-color:yellow' title="原文 : PodDNSConfig"><router-link @click.native="this.scrollFix('#_poddnsconfig')" to="#_poddnsconfig">PodDNSConfig</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.41U981" style='background-color:yellow' title="原文 : PortSpecWithSSL"><router-link @click.native="this.scrollFix('#_portspecwithssl')" to="#_portspecwithssl">PortSpecWithSSL</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1TGNXU" style='background-color:yellow' title="原文 : Probe"><router-link @click.native="this.scrollFix('#_probe')" to="#_probe">Probe</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.24ZleF" style='background-color:yellow' title="原文 : ProbeHandler"><router-link @click.native="this.scrollFix('#_probehandler')" to="#_probehandler">ProbeHandler</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3y6oZS" style='background-color:yellow' title="原文 : ReadinessProbeSpec"><router-link @click.native="this.scrollFix('#_readinessprobespec')" to="#_readinessprobespec">ReadinessProbeSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3OohcD" style='background-color:yellow' title="原文 : Resource"><router-link @click.native="this.scrollFix('#_resource')" to="#_resource">Resource</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1hiLqH" style='background-color:yellow' title="原文 : Resources"><router-link @click.native="this.scrollFix('#_resources')" to="#_resources">Resources</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2bbJ8l" style='background-color:yellow' title="原文 : SSLSpec"><router-link @click.native="this.scrollFix('#_sslspec')" to="#_sslspec">SSLSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4W8JIt" style='background-color:yellow' title="原文 : ScalingSpec"><router-link @click.native="this.scrollFix('#_scalingspec')" to="#_scalingspec">ScalingSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.40s136" style='background-color:yellow' title="原文 : SecretVolumeSpec"><router-link @click.native="this.scrollFix('#_secretvolumespec')" to="#_secretvolumespec">SecretVolumeSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4DoNAQ" style='background-color:yellow' title="原文 : ServiceMonitorSpec"><router-link @click.native="this.scrollFix('#_servicemonitorspec')" to="#_servicemonitorspec">ServiceMonitorSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3Qhqq0" style='background-color:yellow' title="原文 : ServiceSpec"><router-link @click.native="this.scrollFix('#_servicespec')" to="#_servicespec">ServiceSpec</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.Y2HDy" style='background-color:yellow' title="原文 : StartQuorum"><router-link @click.native="this.scrollFix('#_startquorum')" to="#_startquorum">StartQuorum</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3osdRG" style='background-color:yellow' title="原文 : StartQuorumStatus"><router-link @click.native="this.scrollFix('#_startquorumstatus')" to="#_startquorumstatus">StartQuorumStatus</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.xaUhl" style='background-color:yellow' title="原文 : Coherence"><router-link @click.native="this.scrollFix('#_coherence')" to="#_coherence">Coherence</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1Y7RXS" style='background-color:yellow' title="原文 : CoherenceList"><router-link @click.native="this.scrollFix('#_coherencelist')" to="#_coherencelist">CoherenceList</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3DKKfv" style='background-color:yellow' title="原文 : CoherenceResourceStatus"><router-link @click.native="this.scrollFix('#_coherenceresourcestatus')" to="#_coherenceresourcestatus">CoherenceResourceStatus</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.46hi7n" style='background-color:yellow' title="原文 : CoherenceStatefulSetResourceSpec"><router-link @click.native="this.scrollFix('#_coherencestatefulsetresourcespec')" to="#_coherencestatefulsetresourcespec">CoherenceStatefulSetResourceSpec</router-link></span></p>

</li>
</ul>
</div>

<h3 id="_action"><span class="merged" id="all.1B5r9w"  title="原文:: Action">Action</span></h3>
<div class="section">
<p><span class="merged" id="all.2v7Ym1" style='background-color:yellow' title="原文 : Action is an action to execute when the StatefulSet becomes ready.">Actionは、StatefulSetの準備ができたときに実行するアクションです。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.309fiz"  title="原文: name"><code>name</code></span></td>
<td class=""><span class="merged" id="all.3uonh3"  title="原文:: Action name">アクション名</span></td>
<td class=""><span class="merged" id="all.W18FC"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1ctnoL"  title="原文: probe"><code>probe</code></span></td>
<td class=""><span class="merged" id="all.2MBgrD" style='background-color:yellow' title="原文 : This is the spec of some sort of probe to fire when the Coherence resource becomes ready">これは、Coherenceリソースの準備が整ったときに起動するプローブの仕様です</span></td>
<td class=""><span class="merged" id="all.3aDXpb"  title="原文: *Probe"><code>*<router-link @click.native="this.scrollFix('#_probe')" to="#_probe">Probe</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.1"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1VGtL1"  title="原文: job"><code>job</code></span></td>
<td class=""><span class="merged" id="all.1Tdmq9" style='background-color:yellow' title="原文 : or this is the spec of a Job to create when the Coherence resource becomes ready">または、Coherenceリソースの準備が整ったときに作成するジョブの仕様です</span></td>
<td class=""><span class="merged" id="all.42ewF9"  title="原文: *ActionJob"><code>*<router-link @click.native="this.scrollFix('#_actionjob')" to="#_actionjob">ActionJob</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.2"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_actionjob"><span class="merged" id="all.3PHu50"  title="原文: ActionJob">ActionJob</span></h3>
<div class="section">

<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.1"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.1"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.1"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.1"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.26upHQ"  title="原文: spec"><code>spec</code></span></td>
<td class=""><span class="merged" id="all.2eNMlM.spl1" style='background-color:yellow' title="原文 : Spec will be used to create a Job, the name is the Coherence deployment name + &quot;-&quot; + the action name The Job will be fire and forget, we do not monitor it in the Operator.">仕様はジョブの作成に使用されます。名前はCoherenceデプロイメント名+ "-" +アクション名。ジョブは起動され、忘れるため、オペレータでは監視しません。</span> <span class="merged" id="all.2eNMlM.spl2" style='background-color:yellow' title="原文 : We set its owner to be the Coherence resource, so it gets deleted when the Coherence resource is deleted.">オラクルは、その所有者をCoherenceリソースに設定するため、Coherenceリソースが削除されると削除されます。</span> </td>
<td class=""><span class="merged" id="all.3SJPJz"  title="原文: batchv1.JobSpec"><code><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#jobspec-v1-batch" id="" target="_blank" >batchv1.JobSpec</a></code></span></td>
<td class=""><span class="merged" id="all.4eNR3V"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2Dbs6Z"  title="原文: labels"><code>labels</code></span></td>
<td class=""><span class="merged" id="all.SFO34" style='background-color:yellow' title="原文 : Labels are the extra labels to add to the Job.">ラベルは、ジョブに追加する追加ラベルです。</span></td>
<td class=""><span class="merged" id="all.6My6t"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.3"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2uY9DD"  title="原文: annotations"><code>annotations</code></span></td>
<td class=""><span class="merged" id="all.3N8wt6" style='background-color:yellow' title="原文 : Annotations to add to the Job.">ジョブに追加する注釈。</span></td>
<td class=""><span class="merged" id="all.6My6t.1"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.4"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.1" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_coherenceresourcespec"><span class="merged" id="all.pHcwt"  title="原文: CoherenceResourceSpec">CoherenceResourceSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.237THp.spl1" style='background-color:yellow' title="原文 : CoherenceResourceSpec defines the specification of a Coherence resource.">CoherenceResourceSpecは、Coherenceリソースの仕様を定義します。</span> <span class="merged" id="all.237THp.spl2" style='background-color:yellow' title="原文 : A Coherence resource is typically one or more Pods that perform the same functionality, for example storage members.">Coherenceリソースは、通常、同じ機能を実行する1つ以上のポッド(ストレージ・メンバーなど)です。</span> </p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.2"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.2"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.2"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.2"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.2vvqy1"  title="原文: image"><code>image</code></span></td>
<td class=""><span class="merged" id="all.4dlwuw.spl1"  title="原文: The name of the image.">イメージの名前。</span> <span class="merged" id="all.4dlwuw.spl2" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/containers/images">詳細情報: <a href="https://kubernetes.io/docs/concepts/containers/images" id="" target="_blank" >https://kubernetes.io/docs/concepts/containers/images</a></span> </td>
<td class=""><span class="merged" id="all.2JXhOu"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.5"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2yaYc3"  title="原文: imagePullPolicy"><code>imagePullPolicy</code></span></td>
<td class=""><span class="merged" id="all.267YMn.spl1" style='background-color:yellow' title="原文 : Image pull policy.">イメージ・プル・ポリシー。</span> <span class="merged" id="all.267YMn.spl2" style='background-color:yellow' title="原文 : One of Always, Never, IfNotPresent.">Always、Never、IfNotPresentのいずれか。</span> <span class="merged" id="all.267YMn.spl3" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/containers/images#updating-images">詳細情報: <a href="https://kubernetes.io/docs/concepts/containers/images#updating-images" id="" target="_blank" >https://kubernetes.io/docs/concepts/containers/images#updating-images</a></span> </td>
<td class=""><span class="merged" id="all.4MPcsS"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#PullPolicy"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#PullPolicy" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#PullPolicy</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.6"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1SIm27"  title="原文: imagePullSecrets"><code>imagePullSecrets</code></span></td>
<td class=""><span class="merged" id="all.tBKQ8.spl1" style='background-color:yellow' title="原文 : ImagePullSecrets is an optional list of references to secrets in the same namespace to use for pulling any of the images used by this PodSpec.">ImagePullSecretsは、このPodSpecで使用されるイメージのプルに使用する、同じネームスペース内のシークレットへの参照のオプション・リストです。</span> <span class="merged" id="all.tBKQ8.spl2" style='background-color:yellow' title="原文 : If specified, these secrets will be passed to individual puller implementations for them to use.">指定した場合、これらのシークレットは、使用する個別のプルア実装に渡されます。</span> <span class="merged" id="all.tBKQ8.spl3" style='background-color:yellow' title="原文 : For example, in the case of docker, only DockerConfig type secrets are honored.">たとえば、dockerの場合、DockerConfig型のシークレットのみが適用されます。</span> <span class="merged" id="all.tBKQ8.spl4" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod">詳細情報: <a href="https://kubernetes.io/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod" id="" target="_blank" >https://kubernetes.io/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod</a></span> </td>
<td class=""><span class="merged" id="all.1CKz3v"  title="原文: []LocalObjectReference"><code>[]<router-link @click.native="this.scrollFix('#_localobjectreference')" to="#_localobjectreference">LocalObjectReference</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.7"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1Ea5yX"  title="原文: replicas"><code>replicas</code></span></td>
<td class=""><span class="merged" id="all.3iXS82.spl1" style='background-color:yellow' title="原文 : The desired number of cluster members of this deployment.">このデプロイメントに必要な数のクラスタ・メンバー。</span> <span class="merged" id="all.3iXS82.spl2" style='background-color:yellow' title="原文 : This is a pointer to distinguish between explicit zero and not specified.">これは、明示的なゼロと未指定を区別するポインタです。</span> <span class="merged" id="all.3iXS82.spl3" style='background-color:yellow' title="原文 : If not specified a default value of 3 will be used.">指定しない場合、デフォルト値3が使用されます。</span> <span class="merged" id="all.3iXS82.spl4" style='background-color:yellow' title="原文 : This field cannot be negative.">このフィールドはマイナスにできません。</span> </td>
<td class=""><span class="merged" id="all.C5sgP"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.8"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.GeJKv"  title="原文: role"><code>role</code></span></td>
<td class=""><span class="merged" id="all.4bdm8F.spl1" style='background-color:yellow' title="原文 : The name of the role that this deployment represents in a Coherence cluster.">このデプロイメントがCoherenceクラスタ内で表すロールの名前。</span> <span class="merged" id="all.4bdm8F.spl2" style='background-color:yellow' title="原文 : This value will be used to set the Coherence role property for all members of this role">この値は、このロールのすべてのメンバーに対してCoherenceロール・プロパティを設定するために使用されます</span> </td>
<td class=""><span class="merged" id="all.W18FC.1"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.9"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1C42zK"  title="原文: appLabel"><code>appLabel</code></span></td>
<td class=""><span class="merged" id="all.LfFTM.spl1" style='background-color:yellow' title="原文 : An optional app label to apply to resources created for this deployment.">このデプロイメント用に作成されたリソースに適用するオプションのアプリケーション・ラベル。</span> <span class="merged" id="all.LfFTM.spl2" style='background-color:yellow' title="原文 : This is useful for example to apply an app label for use by Istio.">これは、たとえば、Istioで使用するアプリケーション・ラベルを適用する場合に便利です。</span> <span class="merged" id="all.LfFTM.spl3" style='background-color:yellow' title="原文 : This field follows standard Kubernetes label syntax.">このフィールドは、標準のKubernetesラベル構文に従います。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.1"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.10"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.42TwHc"  title="原文: versionLabel"><code>versionLabel</code></span></td>
<td class=""><span class="merged" id="all.20mHBN.spl1" style='background-color:yellow' title="原文 : An optional version label to apply to resources created for this deployment.">このデプロイメント用に作成されたリソースに適用するオプションのバージョン・ラベル。</span> <span class="merged" id="all.20mHBN.spl2" style='background-color:yellow' title="原文 : This is useful for example to apply a version label for use by Istio.">これは、たとえばIstioで使用するバージョン・ラベルを適用する場合に便利です。</span> <span class="merged" id="all.20mHBN.spl3" style='background-color:yellow' title="原文 : This field follows standard Kubernetes label syntax.">このフィールドは、標準のKubernetesラベル構文に従います。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.2"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.11"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.XXOb3"  title="原文: coherence"><code>coherence</code></span></td>
<td class=""><span class="merged" id="all.2Jjl89" style='background-color:yellow' title="原文 : The optional settings specific to Coherence functionality.">Coherence機能固有のオプション設定。</span></td>
<td class=""><span class="merged" id="all.12SMNT"  title="原文: *CoherenceSpec"><code>*<router-link @click.native="this.scrollFix('#_coherencespec')" to="#_coherencespec">CoherenceSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.12"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2zvFMg"  title="原文: application"><code>application</code></span></td>
<td class=""><span class="merged" id="all.v9mpl" style='background-color:yellow' title="原文 : The optional application specific settings.">オプションのアプリケーション固有の設定。</span></td>
<td class=""><span class="merged" id="all.vGxac"  title="原文: *ApplicationSpec"><code>*<router-link @click.native="this.scrollFix('#_applicationspec')" to="#_applicationspec">ApplicationSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.13"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2YGztV"  title="原文: jvm"><code>jvm</code></span></td>
<td class=""><span class="merged" id="all.2AdbYG" style='background-color:yellow' title="原文 : The JVM specific options">JVM固有のオプション</span></td>
<td class=""><span class="merged" id="all.1AdUN1"  title="原文: *JVMSpec"><code>*<router-link @click.native="this.scrollFix('#_jvmspec')" to="#_jvmspec">JVMSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.14"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2XgXVu"  title="原文: ports"><code>ports</code></span></td>
<td class=""><span class="merged" id="all.4BbCFZ" style='background-color:yellow' title="原文 : Ports specifies additional port mappings for the Pod and additional Services for those ports.">ポートでは、ポッドの追加ポート・マッピングと、それらのポートの追加サービスを指定します。</span></td>
<td class=""><span class="merged" id="all.3RPuHO"  title="原文: []NamedPortSpec"><code>[]<router-link @click.native="this.scrollFix('#_namedportspec')" to="#_namedportspec">NamedPortSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.15"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1HZjTT"  title="原文: startQuorum"><code>startQuorum</code></span></td>
<td class=""><span class="merged" id="all.oQHND" style='background-color:yellow' title="原文 : StartQuorum controls the start-up order of this Coherence resource in relation to other Coherence resources.">StartQuorumは、他のCoherenceリソースに関連して、このCoherenceリソースの起動順序を制御します。</span></td>
<td class=""><span class="merged" id="all.vw7Bg"  title="原文: []StartQuorum"><code>[]<router-link @click.native="this.scrollFix('#_startquorum')" to="#_startquorum">StartQuorum</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.16"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1P26zU"  title="原文: env"><code>env</code></span></td>
<td class=""><span class="merged" id="all.3UEI8.spl1" style='background-color:yellow' title="原文 : Env is additional environment variable mappings that will be passed to the Coherence container in the Pod.">環境変数は、Pod内のCoherenceコンテナに渡される追加の環境変数マッピングです。</span> <span class="merged" id="all.3UEI8.spl2" style='background-color:yellow' title="原文 : To specify extra variables add them as name value pairs the same as they would be added to a Pod containers spec.">追加変数を指定するには、Podコンテナ仕様に追加する場合と同じ名前と値のペアを追加します。</span> </td>
<td class=""><span class="merged" id="all.3p5BNC"  title="原文: []corev1.EnvVar"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#envvar-v1-core" id="" target="_blank" >corev1.EnvVar</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.17"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2Dbs6Z.1"  title="原文: labels"><code>labels</code></span></td>
<td class=""><span class="merged" id="all.25o9x6.spl1" style='background-color:yellow' title="原文 : The extra labels to add to the all the Pods in this deployment.">このデプロイメント内のすべてのポッドに追加する追加のラベル。</span> <span class="merged" id="all.25o9x6.spl2" style='background-color:yellow' title="原文 : Labels here will add to or override those defined for the cluster.">ここでラベルは、クラスタに定義されたラベルに追加またはオーバーライドします。</span> <span class="merged" id="all.25o9x6.spl3" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">詳細情報: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" id="" target="_blank" >https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/</a></span> </td>
<td class=""><span class="merged" id="all.6My6t.2"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.18"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2uY9DD.1"  title="原文: annotations"><code>annotations</code></span></td>
<td class=""><span class="merged" id="all.1GMHTE.spl1" style='background-color:yellow' title="原文 : Annotations are free-form yaml that will be added to the Coherence cluster member Pods as annotations.">注釈は、Coherenceクラスタ・メンバーPodに注釈として追加される自由形式のyamlです。</span> <span class="merged" id="all.1GMHTE.spl2" style='background-color:yellow' title="原文 : Any annotations should be placed BELOW this &quot;annotations:&quot; key, for example: annotations: foo.io/one: &quot;value1&quot; + foo.io/two: &quot;value2&quot; + see: Kubernetes Annotations">次のように、すべての注釈をこの"annotations:"キーの下に置く必要があります:<br><br>annotations:<br>foo.io/one: "value1" +<br>foo.io/two: "value2" +<br><br>参照: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/" id="" target="_blank" >Kubernetes注釈</a></span> </td>
<td class=""><span class="merged" id="all.6My6t.3"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.19"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.39gtZv"  title="原文: initContainers"><code>initContainers</code></span></td>
<td class=""><span class="merged" id="all.1919Iy.spl1" style='background-color:yellow' title="原文 : List of additional initialization containers to add to the deployment’s Pod.">デプロイメントのポッドに追加する追加の初期化コンテナのリスト。</span> <span class="merged" id="all.1919Iy.spl2" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/workloads/pods/init-containers/">詳細情報: <a href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/" id="" target="_blank" >https://kubernetes.io/docs/concepts/workloads/pods/init-containers/</a></span> </td>
<td class=""><span class="merged" id="all.3GeqhD"  title="原文: []corev1.Container"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#container-v1-core" id="" target="_blank" >corev1.Container</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.20"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3kcK47"  title="原文: sideCars"><code>sideCars</code></span></td>
<td class=""><span class="merged" id="all.4c1uYW" style='background-color:yellow' title="原文 : List of additional side-car containers to add to the deployment’s Pod.">デプロイメントのポッドに追加する追加サイドカー・コンテナのリスト。</span></td>
<td class=""><span class="merged" id="all.3GeqhD.1"  title="原文: []corev1.Container"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#container-v1-core" id="" target="_blank" >corev1.Container</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.21"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1Q1gqJ"  title="原文: configMapVolumes"><code>configMapVolumes</code></span></td>
<td class=""><span class="merged" id="all.3fPqjF.spl1" style='background-color:yellow' title="原文 : A list of ConfigMaps to add as volumes.">ボリュームとして追加するConfigMapsのリスト。</span> <span class="merged" id="all.3fPqjF.spl2" style='background-color:yellow' title="原文 : Each entry in the list will be added as a ConfigMap Volume to the deployment’s Pods and as a VolumeMount to all the containers and init-containers in the Pod. see: Add ConfigMap Volumes">リスト内の各エントリは、ConfigMapボリュームとしてデプロイメント・ポッドに追加され、ポッド内のすべてのコンテナおよびinitコンテナにVolumeMountとして追加されます。<br>参照: <router-link @click.native="this.scrollFix('#misc_pod_settings/050_configmap_volumes.adoc')" to="#misc_pod_settings/050_configmap_volumes.adoc">ConfigMapボリュームの追加</router-link></span> </td>
<td class=""><span class="merged" id="all.1Ir1sQ"  title="原文: []ConfigMapVolumeSpec"><code>[]<router-link @click.native="this.scrollFix('#_configmapvolumespec')" to="#_configmapvolumespec">ConfigMapVolumeSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.22"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1BjbC2"  title="原文: secretVolumes"><code>secretVolumes</code></span></td>
<td class=""><span class="merged" id="all.1cg8Wx.spl1" style='background-color:yellow' title="原文 : A list of Secrets to add as volumes.">ボリュームとして追加するシークレットのリスト。</span> <span class="merged" id="all.1cg8Wx.spl2" style='background-color:yellow' title="原文 : Each entry in the list will be added as a Secret Volume to the deployment’s Pods and as a VolumeMount to all the containers and init-containers in the Pod. see: Add Secret Volumes">リスト内の各エントリは、デプロイメント・ポッドにシークレット・ボリュームとして追加され、ポッド内のすべてのコンテナおよびinit-containersにVolumeMountとして追加されます。<br>参照: <router-link @click.native="this.scrollFix('#misc_pod_settings/020_secret_volumes.adoc')" to="#misc_pod_settings/020_secret_volumes.adoc">シークレット・ボリュームの追加</router-link></span> </td>
<td class=""><span class="merged" id="all.3Av1V3"  title="原文: []SecretVolumeSpec"><code>[]<router-link @click.native="this.scrollFix('#_secretvolumespec')" to="#_secretvolumespec">SecretVolumeSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.23"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.331nmb"  title="原文: volumes"><code>volumes</code></span></td>
<td class=""><span class="merged" id="all.1g7cOn.spl1" style='background-color:yellow' title="原文 : Volumes defines extra volume mappings that will be added to the Coherence Pod.">ボリュームは、Coherenceポッドに追加される追加のボリューム・マッピングを定義します。</span> <span class="merged" id="all.1g7cOn.spl2" style='background-color:yellow' title="原文 :  The content of this yaml should match the normal k8s volumes section of a Pod definition + as described in https://kubernetes.io/docs/concepts/storage/volumes/ "><br>このyamlの内容は、ポッド定義の通常のk8sボリューム・セクションと一致する必要があります+<br><a href="https://kubernetes.io/docs/concepts/storage/volumes/" id="" target="_blank" >https://kubernetes.io/docs/concepts/storage/volumes/</a>で説明<br></span> </td>
<td class=""><span class="merged" id="all.aDgC7"  title="原文: []corev1.Volume"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core" id="" target="_blank" >corev1.Volume</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.24"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4G7Ikf"  title="原文: volumeMounts"><code>volumeMounts</code></span></td>
<td class=""><span class="merged" id="all.bbAYO" style='background-color:yellow' title="原文 : VolumeMounts defines extra volume mounts to map to the additional volumes or PVCs declared above in store.volumes and store.volumeClaimTemplates ">VolumeMountsは、上で宣言された追加のボリュームまたはPVCにマップする追加のボリューム・マウントを定義<br>store.volumesおよびstore.volumeClaimTemplates<br></span></td>
<td class=""><span class="merged" id="all.3ZCUsp"  title="原文: []corev1.VolumeMount"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volumemount-v1-core" id="" target="_blank" >corev1.VolumeMount</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.25"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3NiYQp"  title="原文: healthPort"><code>healthPort</code></span></td>
<td class=""><span class="merged" id="all.3X51gy" style='background-color:yellow' title="原文 : The port that the health check endpoint will bind to.">ヘルス・チェック・エンドポイントがバインドされるポート。</span></td>
<td class=""><span class="merged" id="all.C5sgP.1"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.26"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1iiaw7"  title="原文: readinessProbe"><code>readinessProbe</code></span></td>
<td class=""><span class="merged" id="all.2tch6x" style='background-color:yellow' title="原文 : The readiness probe config to be used for the Pods in this deployment. ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/">このデプロイメントのポッドに使用するレディネス・プローブ構成。参照: <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/" id="" target="_blank" >https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/</a></span></td>
<td class=""><span class="merged" id="all.28MWCq"  title="原文: *ReadinessProbeSpec"><code>*<router-link @click.native="this.scrollFix('#_readinessprobespec')" to="#_readinessprobespec">ReadinessProbeSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.27"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4AQYCS"  title="原文: livenessProbe"><code>livenessProbe</code></span></td>
<td class=""><span class="merged" id="all.3MbtBY" style='background-color:yellow' title="原文 : The liveness probe config to be used for the Pods in this deployment. ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/">このデプロイメントのポッドに使用するlivenessプローブ構成。参照: <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/" id="" target="_blank" >https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/</a></span></td>
<td class=""><span class="merged" id="all.28MWCq.1"  title="原文: *ReadinessProbeSpec"><code>*<router-link @click.native="this.scrollFix('#_readinessprobespec')" to="#_readinessprobespec">ReadinessProbeSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.28"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.15flDg"  title="原文: startupProbe"><code>startupProbe</code></span></td>
<td class=""><span class="merged" id="all.4EMcSB.spl1" style='background-color:yellow' title="原文 : The startup probe config to be used for the Pods in this deployment.">このデプロイメントのポッドに使用される起動プローブ構成。</span> <span class="merged" id="all.4EMcSB.spl2" style='background-color:yellow' title="原文 : See: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">参照: <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/" id="" target="_blank" >https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/</a></span> </td>
<td class=""><span class="merged" id="all.28MWCq.2"  title="原文: *ReadinessProbeSpec"><code>*<router-link @click.native="this.scrollFix('#_readinessprobespec')" to="#_readinessprobespec">ReadinessProbeSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.29"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.MDm5o"  title="原文: readinessGates"><code>readinessGates</code></span></td>
<td class=""><span class="merged" id="all.3U54Qe.spl1" style='background-color:yellow' title="原文 : ReadinessGates defines a list of additional conditions that the kubelet evaluates for Pod readiness.">ReadinessGatesは、kubeletがポッド・レディネスに対して評価する追加の条件のリストを定義します。</span> <span class="merged" id="all.3U54Qe.spl2" style='background-color:yellow' title="原文 : See: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-readiness-gate">参照: <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-readiness-gate" id="" target="_blank" >https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-readiness-gate</a></span> </td>
<td class=""><span class="merged" id="all.3iM67N"  title="原文: []corev1.PodReadinessGate"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#podreadinessgate-v1-core" id="" target="_blank" >corev1.PodReadinessGate</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.30"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4MlaEo"  title="原文: resources"><code>resources</code></span></td>
<td class=""><span class="merged" id="all.2uQwxP" style='background-color:yellow' title="原文 : Resources is the optional resource requests and limits for the containers ref: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/ + The Coherence operator does not apply any default resources.">リソースはコンテナのオプションのリソース・リクエストおよび制限です<br>参照: <a href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/" id="" target="_blank" >https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a> +<br>Coherenceオペレータでは、デフォルト・リソースは適用されません。</span></td>
<td class=""><span class="merged" id="all.4IyPwY"  title="原文: *corev1.ResourceRequirements"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#resourcerequirements-v1-core" id="" target="_blank" >corev1.ResourceRequirements</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.31"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3DZ0qh"  title="原文: affinity"><code>affinity</code></span></td>
<td class=""><span class="merged" id="all.3obIbW" style='background-color:yellow' title="原文 : Affinity controls Pod scheduling preferences. ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity ">アフィニティはスケジューリング設定を制御します。<br>参照: <a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity" id="" target="_blank" >https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity</a><br></span></td>
<td class=""><span class="merged" id="all.HUjxF"  title="原文: *corev1.Affinity"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#affinity-v1-core" id="" target="_blank" >corev1.Affinity</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.32"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3aBnkC"  title="原文: nodeSelector"><code>nodeSelector</code></span></td>
<td class=""><span class="merged" id="all.eAYYa" style='background-color:yellow' title="原文 : NodeSelector is the Node labels for pod assignment ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector ">NodeSelectorは、ポッド割当てのノード・ラベルです<br> 参照: <a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector" id="" target="_blank" >https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector</a><br></span></td>
<td class=""><span class="merged" id="all.6My6t.4"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.33"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3i1GxM"  title="原文: tolerations"><code>tolerations</code></span></td>
<td class=""><span class="merged" id="all.2NZwKf.spl1" style='background-color:yellow' title="原文 : Tolerations for nodes that have taints on them.">taintsを持つノードのtolerations。</span> <span class="merged" id="all.2NZwKf.spl2" style='background-color:yellow' title="原文 :  Useful if you want to dedicate nodes to just run the coherence container + For example: tolerations: + - key: &quot;key&quot; + operator: &quot;Equal&quot; + value: &quot;value&quot; + effect: &quot;NoSchedule&quot; + ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/ "><br>コヒーレンス・コンテナのみを実行するようにノードを専用にする場合に便利です+<br>たとえば:<br>tolerations: +<br>- key: "key" +<br>operator: "Equal" +<br> value: "value" +<br> effect: "NoSchedule" +<br><br> 参照: <a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/" id="" target="_blank" >https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/</a><br></span> </td>
<td class=""><span class="merged" id="all.2NKZGQ"  title="原文: []corev1.Toleration"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#toleration-v1-core" id="" target="_blank" >corev1.Toleration</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.34"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3XP0J8"  title="原文: securityContext"><code>securityContext</code></span></td>
<td class=""><span class="merged" id="all.10wzrW.spl1" style='background-color:yellow' title="原文 : SecurityContext is the PodSecurityContext that will be added to all the Pods in this deployment.">SecurityContextは、このデプロイメント内のすべてのポッドに追加されるPodSecurityContextです。</span> <span class="merged" id="all.10wzrW.spl2" style='background-color:yellow' title="原文 : See: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/">参照: <a href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/" id="" target="_blank" >https://kubernetes.io/docs/tasks/configure-pod-container/security-context/</a></span> </td>
<td class=""><span class="merged" id="all.XjVWC"  title="原文: *corev1.PodSecurityContext"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#podsecuritycontext-v1-core" id="" target="_blank" >corev1.PodSecurityContext</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.35"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1cQ9rj"  title="原文: containerSecurityContext"><code>containerSecurityContext</code></span></td>
<td class=""><span class="merged" id="all.Mi3y5.spl1" style='background-color:yellow' title="原文 : ContainerSecurityContext is the SecurityContext that will be added to the Coherence container in each Pod in this deployment.">ContainerSecurityContextは、このデプロイメントの各ポッドのCoherenceコンテナに追加されるSecurityContextです。</span> <span class="merged" id="all.Mi3y5.spl2" style='background-color:yellow' title="原文 : See: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/">参照: <a href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/" id="" target="_blank" >https://kubernetes.io/docs/tasks/configure-pod-container/security-context/</a></span> </td>
<td class=""><span class="merged" id="all.vLcA6"  title="原文: *corev1.SecurityContext"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#securitycontext-v1-core" id="" target="_blank" >corev1.SecurityContext</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.36"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.wjpuU"  title="原文: shareProcessNamespace"><code>shareProcessNamespace</code></span></td>
<td class=""><span class="merged" id="all.2aVNeC.spl1" style='background-color:yellow' title="原文 : Share a single process namespace between all the containers in a pod.">ポッド内のすべてのコンテナ間で1つのプロセス・ネームスペースを共有します。</span> <span class="merged" id="all.2aVNeC.spl2" style='background-color:yellow' title="原文 : When this is set containers will be able to view and signal processes from other containers in the same pod, and the first process in each container will not be assigned PID 1.">これを設定すると、コンテナは、同じポッド内の他のコンテナからプロセスを表示およびシグナルすることができ、各コンテナの最初のプロセスにPID 1が割り当てられません。</span> <span class="merged" id="all.2aVNeC.spl3" style='background-color:yellow' title="原文 : HostPID and ShareProcessNamespace cannot both be set.">HostPIDとShareProcessNamespaceの両方を設定することはできません。</span> <span class="merged" id="all.2aVNeC.spl4" style='background-color:yellow' title="原文 : Optional: Default to false.">オプション: デフォルトはfalseです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.37"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.MBbPG"  title="原文: hostIPC"><code>hostIPC</code></span></td>
<td class=""><span class="merged" id="all.2q45Bb.spl1" style='background-color:yellow' title="原文 : Use the host’s ipc namespace.">ホストのipcネームスペースを使用します。</span> <span class="merged" id="all.2q45Bb.spl2" style='background-color:yellow' title="原文 : Optional: Default to false.">オプション: デフォルトはfalseです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.1"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.38"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4YPMmb"  title="原文: network"><code>network</code></span></td>
<td class=""><span class="merged" id="all.HShWd" style='background-color:yellow' title="原文 : Configure various networks and DNS settings for Pods in this role.">このロールでポッドの様々なネットワークおよびDNS設定を構成します。</span></td>
<td class=""><span class="merged" id="all.8OkLp"  title="原文: *NetworkSpec"><code>*<router-link @click.native="this.scrollFix('#_networkspec')" to="#_networkspec">NetworkSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.39"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3IviYI"  title="原文: coherenceUtils"><code>coherenceUtils</code></span></td>
<td class=""><span class="merged" id="all.1tUv5S" style='background-color:yellow' title="原文 : The configuration for the Coherence operator image name">Coherenceオペレータ・イメージ名の構成</span></td>
<td class=""><span class="merged" id="all.BZSIN"  title="原文: *ImageSpec"><code>*<router-link @click.native="this.scrollFix('#_imagespec')" to="#_imagespec">ImageSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.40"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1Ywsyf"  title="原文: serviceAccountName"><code>serviceAccountName</code></span></td>
<td class=""><span class="merged" id="all.2LWnmc" style='background-color:yellow' title="原文 : The name to use for the service account to use when RBAC is enabled The role bindings must already have been created as this chart does not create them it just sets the serviceAccountName value in the Pod spec.">RBACが有効な場合に使用するサービス・アカウントに使用する名前。このチャートではポッド仕様でserviceAccountName値を設定するのみでなく、ロール・バインディングがすでに作成されている必要があります。</span></td>
<td class=""><span class="merged" id="all.W18FC.2"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.41"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.103ZMv"  title="原文: automountServiceAccountToken"><code>automountServiceAccountToken</code></span></td>
<td class=""><span class="merged" id="all.37wJ8D" style='background-color:yellow' title="原文 : Whether to auto-mount the Kubernetes API credentials for a service account">サービス・アカウントのKubernetes API資格証明を自動マウントするかどうか</span></td>
<td class=""><span class="merged" id="all.q9cn0.2"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.42"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3oi8J3"  title="原文: operatorRequestTimeout"><code>operatorRequestTimeout</code></span></td>
<td class=""><span class="merged" id="all.2UQ4am.spl1" style='background-color:yellow' title="原文 : The timeout to apply to REST requests made back to the Operator from Coherence Pods.">Coherenceポッドからオペレータに戻されたRESTリクエストに適用するタイムアウト。</span> <span class="merged" id="all.2UQ4am.spl2" style='background-color:yellow' title="原文 : These requests are typically to obtain site and rack information for the Pod.">これらのリクエストは通常、ポッドのサイトおよびラック情報を取得することです。</span> </td>
<td class=""><span class="merged" id="all.C5sgP.2"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.43"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1WDGWU"  title="原文: activeDeadlineSeconds"><code>activeDeadlineSeconds</code></span></td>
<td class=""><span class="merged" id="all.eHdMo.spl1" style='background-color:yellow' title="原文 : ActiveDeadlineSeconds is the optional duration in seconds the pod may be active on the node relative to StartTime before the system will actively try to mark it failed and kill associated containers.">ActiveDeadlineSecondsは、システムがアクティブに失敗とマークし、関連付けられたコンテナを強制終了しようとする前に、StartTimeに関連するノードでポッドがアクティブになる可能性があるオプションの期間(秒)です。</span> <span class="merged" id="all.eHdMo.spl2"  title="原文: Value must be a positive integer.">値は、正の整数である必要があります。</span> </td>
<td class=""><span class="merged" id="all.2SZCBx"  title="原文: *int64"><code>*int64</code></span></td>
<td class=""><span class="merged" id="all.njUKu.44"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1NAysW"  title="原文: enableServiceLinks"><code>enableServiceLinks</code></span></td>
<td class=""><span class="merged" id="all.1LVghx.spl1" style='background-color:yellow' title="原文 : EnableServiceLinks indicates whether information about services should be injected into pod’s environment variables, matching the syntax of Docker links.">EnableServiceLinksは、サービスに関する情報がDockerリンクの構文と一致して、ポッドの環境変数にインジェクトされるかどうかを示します。</span> <span class="merged" id="all.1LVghx.spl2" style='background-color:yellow' title="原文 : Optional: Defaults to true.">オプション: デフォルトはtrueです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.3"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.45"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2HVmEd"  title="原文: preemptionPolicy"><code>preemptionPolicy</code></span></td>
<td class=""><span class="merged" id="all.3rj5qx.spl1" style='background-color:yellow' title="原文 : PreemptionPolicy is the Policy for preempting pods with lower priority.">PreemptionPolicyは、優先度の低いポッドを優先するポリシーです。</span> <span class="merged" id="all.3rj5qx.spl2" style='background-color:yellow' title="原文 : One of Never, PreemptLowerPriority.">なし、PreemptLowerPriority。</span> <span class="merged" id="all.3rj5qx.spl3" style='background-color:yellow' title="原文 : Defaults to PreemptLowerPriority if unset.">設定を解除する場合、デフォルトはPreemptLowerPriorityです。</span> </td>
<td class=""><span class="merged" id="all.41srYn"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#PreemptionPolicy"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#PreemptionPolicy" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#PreemptionPolicy</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.46"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3ySiat"  title="原文: priorityClassName"><code>priorityClassName</code></span></td>
<td class=""><span class="merged" id="all.3sPPLE.spl1" style='background-color:yellow' title="原文 : PriorityClassName, if specified, indicates the pod’s priority. &quot;system-node-critical&quot; and &quot;system-cluster-critical&quot; are two special keywords which indicate the highest priorities with the former being the highest priority.">PriorityClassNameは、指定された場合、ポッドの優先度を示します。"system-node-critical"および"system-cluster-critical"は、前者の優先度が最も高い優先度を示す2つの特殊なキーワードです。</span> <span class="merged" id="all.3sPPLE.spl2" style='background-color:yellow' title="原文 : Any other name must be defined by creating a PriorityClass object with that name.">他の名前を定義するには、その名前のPriorityClassオブジェクトを作成する必要があります。</span> <span class="merged" id="all.3sPPLE.spl3" style='background-color:yellow' title="原文 : If not specified, the pod priority will be default or zero if there is no default.">指定しない場合、ポッド優先度はデフォルトまたはゼロになります(デフォルトがない場合)。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.3"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.47"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.aB5EC"  title="原文: restartPolicy"><code>restartPolicy</code></span></td>
<td class=""><span class="merged" id="all.lPip9.spl1" style='background-color:yellow' title="原文 : Restart policy for all containers within the pod.">ポッド内のすべてのコンテナのポリシーを再起動します。</span> <span class="merged" id="all.lPip9.spl2" style='background-color:yellow' title="原文 : One of Always, OnFailure, Never.">常にOnFailure、Neverのいずれか。</span> <span class="merged" id="all.lPip9.spl3" style='background-color:yellow' title="原文 : Default to Always.">デフォルトは常時です。</span> <span class="merged" id="all.lPip9.spl4" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy">詳細情報: <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy" id="" target="_blank" >https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy</a></span> </td>
<td class=""><span class="merged" id="all.3VOhdb"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#RestartPolicy"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#RestartPolicy" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#RestartPolicy</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.48"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.6pugB"  title="原文: runtimeClassName"><code>runtimeClassName</code></span></td>
<td class=""><span class="merged" id="all.4gLwi6.spl1" style='background-color:yellow' title="原文 : RuntimeClassName refers to a RuntimeClass object in the node.k8s.io group, which should be used to run this pod.">RuntimeClassNameは、このポッドの実行に使用されるnode.k8s.ioグループ内のRuntimeClassオブジェクトを参照します。</span> <span class="merged" id="all.4gLwi6.spl2" style='background-color:yellow' title="原文 : If no RuntimeClass resource matches the named class, the pod will not be run.">指定されたクラスに一致するRuntimeClassリソースがない場合、ポッドは実行されません。</span> <span class="merged" id="all.4gLwi6.spl3" style='background-color:yellow' title="原文 : If unset or empty, the &quot;legacy&quot; RuntimeClass will be used, which is an implicit class with an empty definition that uses the default runtime handler.">設定解除または空の場合、「レガシー」RuntimeClassが使用されます。これは、デフォルトのランタイム・ハンドラを使用する空の定義を持つ暗黙的なクラスです。</span> <span class="merged" id="all.4gLwi6.spl4" style='background-color:yellow' title="原文 : More info: https://git.k8s.io/enhancements/keps/sig-node/585-runtime-class">詳細情報: <a href="https://git.k8s.io/enhancements/keps/sig-node/585-runtime-class" id="" target="_blank" >https://git.k8s.io/enhancements/keps/sig-node/585-runtime-class</a></span> </td>
<td class=""><span class="merged" id="all.2JXhOu.4"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.49"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3KxQJJ"  title="原文: schedulerName"><code>schedulerName</code></span></td>
<td class=""><span class="merged" id="all.23Phva.spl1" style='background-color:yellow' title="原文 : If specified, the pod will be dispatched by specified scheduler.">指定した場合、ポッドは指定したスケジューラによってディスパッチされます。</span> <span class="merged" id="all.23Phva.spl2" style='background-color:yellow' title="原文 : If not specified, the pod will be dispatched by default scheduler.">指定しない場合、ポッドはデフォルト・スケジューラによってディスパッチされます。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.5"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.50"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.LkA4y"  title="原文: topologySpreadConstraints"><code>topologySpreadConstraints</code></span></td>
<td class=""><span class="merged" id="all.2NiPPM.spl1" style='background-color:yellow' title="原文 : TopologySpreadConstraints describes how a group of pods ought to spread across topology domains.">TopologySpreadConstraintsは、ポッドのグループがトポロジ・ドメインにどのように分散すべきかを示します。</span> <span class="merged" id="all.2NiPPM.spl2" style='background-color:yellow' title="原文 : Scheduler will schedule pods in a way which abides by the constraints.">スケジューラは、制約に従う方法でポッドをスケジュールします。</span> <span class="merged" id="all.2NiPPM.spl3" style='background-color:yellow' title="原文 : All topologySpreadConstraints are ANDed.">すべてのtopologySpreadConstraintsはANDedです。</span> </td>
<td class=""><span class="merged" id="all.1Q6f1a"  title="原文: []corev1.TopologySpreadConstraint"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#topologyspreadconstraint-v1-core" id="" target="_blank" >corev1.TopologySpreadConstraint</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.51"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.10B6kj"  title="原文: rackLabel"><code>rackLabel</code></span></td>
<td class=""><span class="merged" id="all.2BJZXR.spl1" style='background-color:yellow' title="原文 : RackLabel is an optional Node label to use for the value of the Coherence member’s rack name.">RackLabelは、Coherenceメンバーのラック名の値に使用するオプションのノード・ラベルです。</span> <span class="merged" id="all.2BJZXR.spl2" style='background-color:yellow' title="原文 : The default labels to use are determined by the Operator.">使用するデフォルトのラベルは、オペレータによって決まります。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.6"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.52"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3COROV"  title="原文: siteLabel"><code>siteLabel</code></span></td>
<td class=""><span class="merged" id="all.3d5llS" style='background-color:yellow' title="原文 : SiteLabel is an optional Node label to use for the value of the Coherence member’s site name The default labels to use are determined by the Operator.">SiteLabelは、Coherenceメンバーのサイト名の値に使用するオプションのノード・ラベルです。使用するデフォルト・ラベルは、オペレータによって決まります。</span></td>
<td class=""><span class="merged" id="all.2JXhOu.7"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.53"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.2" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_applicationspec"><span class="merged" id="all.naep6"  title="原文: ApplicationSpec">ApplicationSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.4ejKFc" style='background-color:yellow' title="原文 : ApplicationSpec is the specification of the application deployed into the Coherence.">ApplicationSpecは、Coherenceにデプロイされたアプリケーションの指定です。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.3"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.3"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.3"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.3"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.2SYAnU"  title="原文: type"><code>type</code></span></td>
<td class=""><span class="merged" id="all.1MMbh7.spl1" style='background-color:yellow' title="原文 : The application type to execute.">実行するアプリケーション・タイプ。</span> <span class="merged" id="all.1MMbh7.spl2" style='background-color:yellow' title="原文 : This field would be set if using the Coherence Graal image and running a none-Java application.">このフィールドは、Coherence Graalイメージを使用してJava以外のアプリケーションを実行する場合に設定されます。</span> <span class="merged" id="all.1MMbh7.spl3" style='background-color:yellow' title="原文 : For example if the application was a Node application this field would be set to &quot;node&quot;.">たとえば、アプリケーションがノード・アプリケーションの場合、このフィールドはノードに設定されます。</span> <span class="merged" id="all.1MMbh7.spl4" style='background-color:yellow' title="原文 : The default is to run a plain Java application.">デフォルトでは、プレーンJavaアプリケーションが実行されます。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.8"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.54"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.14UbjG"  title="原文: main"><code>main</code></span></td>
<td class=""><span class="merged" id="all.20PCYe.spl1" style='background-color:yellow' title="原文 : Class is the Coherence container main class.">クラスはCoherenceコンテナのメイン・クラスです。</span> <span class="merged" id="all.20PCYe.spl2" style='background-color:yellow' title="原文 : The default value is com.tangosol.net.DefaultCacheServer.">デフォルト値はcom.tangosol.net.DefaultCacheServerです。</span> <span class="merged" id="all.20PCYe.spl3" style='background-color:yellow' title="原文 : If the application type is non-Java this would be the name of the corresponding language specific runnable, for example if the application type is &quot;node&quot; the main may be a Javascript file.">アプリケーション・タイプがJava以外の場合、対応する言語固有の実行可能の名前になります。たとえば、アプリケーション・タイプが「node」の場合、メインはJavascriptファイルになります。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.9"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.55"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3s3zbi"  title="原文: args"><code>args</code></span></td>
<td class=""><span class="merged" id="all.Pd4D2" style='background-color:yellow' title="原文 : Args is the optional arguments to pass to the main class.">Argsは、メイン・クラスに渡すオプションの引数です。</span></td>
<td class=""><span class="merged" id="all.rXwhA"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.56"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4NOXDu"  title="原文: workingDir"><code>workingDir</code></span></td>
<td class=""><span class="merged" id="all.HSD4N.spl1" style='background-color:yellow' title="原文 : The application folder in the custom artifacts Docker image containing application artifacts.">アプリケーション・アーティファクトを含むカスタム・アーティファクトDockerイメージ内のアプリケーション・フォルダ。</span> <span class="merged" id="all.HSD4N.spl2" style='background-color:yellow' title="原文 : This will effectively become the working directory of the Coherence container.">これにより、実質的にCoherenceコンテナの作業ディレクトリになります。</span> <span class="merged" id="all.HSD4N.spl3" style='background-color:yellow' title="原文 : If not set the application directory default value is &quot;/app&quot;.">アプリケーション・ディレクトリ値が設定されていない場合、デフォルト値は/app"です。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.10"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.57"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3NzqlH"  title="原文: cloudNativeBuildPack"><code>cloudNativeBuildPack</code></span></td>
<td class=""><span class="merged" id="all.3cLHIh.spl1" style='background-color:yellow' title="原文 : Optional settings that may be configured if using a Cloud Native Buildpack Image.">クラウド・ネイティブのBuildpackイメージを使用している場合に構成できるオプションの設定。</span> <span class="merged" id="all.3cLHIh.spl2" style='background-color:yellow' title="原文 : For example an image build with the Spring Boot Maven/Gradle plugin.">たとえば、Spring Boot Maven/Gradleプラグインを使用したイメージ・ビルドです。</span> <span class="merged" id="all.3cLHIh.spl3" style='background-color:yellow' title="原文 : See: https://github.com/paketo-buildpacks/spring-boot and https://buildpacks.io/">参照: <a href="https://github.com/paketo-buildpacks/spring-boot" id="" target="_blank" >https://github.com/paketo-buildpacks/spring-boot</a>および<a href="https://buildpacks.io/" id="" target="_blank" >https://buildpacks.io/</a></span> </td>
<td class=""><span class="merged" id="all.1I4APv"  title="原文: *CloudNativeBuildPackSpec"><code>*<router-link @click.native="this.scrollFix('#_cloudnativebuildpackspec')" to="#_cloudnativebuildpackspec">CloudNativeBuildPackSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.58"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4eerEa"  title="原文: springBootFatJar"><code>springBootFatJar</code></span></td>
<td class=""><span class="merged" id="all.3aHxZq.spl1" style='background-color:yellow' title="原文 : SpringBootFatJar is the full path name to the Spring Boot fat jar if the application image has been built by just adding a Spring Boot fat jar to the image.">SpringBootFatJarは、Spring Bootのfat jarをイメージに追加するだけでアプリケーション・イメージがビルドされている場合のSpring Bootのfat jarへのフルパス名です。</span> <span class="merged" id="all.3aHxZq.spl2" style='background-color:yellow' title="原文 : If this field is set then the application will be run by executing this jar.">このフィールドが設定されている場合は、このjarを実行してアプリケーションが実行されます。</span> <span class="merged" id="all.3aHxZq.spl3" style='background-color:yellow' title="原文 : For example, if this field is &quot;/app/libs/foo.jar&quot; the command line will be &quot;java -jar app/libs/foo.jar&quot;">たとえば、このフィールドが"/app/libs/foo.jar""の場合、コマンドラインは"java -jar app/libs/foo.jar"になります</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.11"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.59"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.3" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_cloudnativebuildpackspec"><span class="merged" id="all.1bls7w"  title="原文: CloudNativeBuildPackSpec">CloudNativeBuildPackSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.1UM8FI.spl1" style='background-color:yellow' title="原文 : CloudNativeBuildPackSpec is the configuration when using a Cloud Native Buildpack Image.">CloudNativeBuildPackSpecは、クラウド・ネイティブ・ビルド・パック・イメージを使用する場合の構成です。</span> <span class="merged" id="all.1UM8FI.spl2" style='background-color:yellow' title="原文 : For example an image build with the Spring Boot Maven/Gradle plugin.">たとえば、Spring Boot Maven/Gradleプラグインを使用したイメージ・ビルドです。</span> <span class="merged" id="all.1UM8FI.spl3" style='background-color:yellow' title="原文 : See: https://github.com/paketo-buildpacks/spring-boot and https://buildpacks.io/">参照: <a href="https://github.com/paketo-buildpacks/spring-boot" id="" target="_blank" >https://github.com/paketo-buildpacks/spring-boot</a>および<a href="https://buildpacks.io/" id="" target="_blank" >https://buildpacks.io/</a></span> </p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.4"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.4"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.4"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.4"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.48UcwL"  title="原文: enabled"><code>enabled</code></span></td>
<td class=""><span class="merged" id="all.Q9pX.spl1" style='background-color:yellow' title="原文 : Enable or disable buildpack detection.">buildpackの検出を有効または無効にします。</span> <span class="merged" id="all.Q9pX.spl2" style='background-color:yellow' title="原文 : The operator will automatically detect Cloud Native Buildpack images but if this auto-detection fails to work correctly for a specific image then this field can be set to true to signify that the image is a buildpack image or false to signify that it is not a buildpack image.">オペレータは、Cloud Native Buildpackイメージを自動的に検出しますが、この自動検出が特定のイメージに対して正しく機能しない場合、イメージがbuildpackイメージであるかfalseであることを示すためにこのフィールドをtrueに設定して、イメージがbuildpackイメージでないことを示します。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.4"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.60"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2WTzgP"  title="原文: launcher"><code>launcher</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.2JXhOu.12"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.61"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.4" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_coherencespec"><span class="merged" id="all.2Y2Y7i"  title="原文: CoherenceSpec">CoherenceSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.1sdvBC" style='background-color:yellow' title="原文 : CoherenceSpec is the section of the CRD configures settings specific to Coherence. see: Coherence Configuration">CoherenceSpecは、CRDがCoherence固有の設定を構成するセクションです。<br>参照: <router-link @click.native="this.scrollFix('#coherence_settings/010_overview.adoc')" to="#coherence_settings/010_overview.adoc">Coherence構成</router-link></span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.5"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.5"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.5"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.5"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.3rE981"  title="原文: cacheConfig"><code>cacheConfig</code></span></td>
<td class=""><span class="merged" id="all.43UHWt" style='background-color:yellow' title="原文 : CacheConfig is the name of the cache configuration file to use see: Configure Cache Config File">CacheConfigは、使用するキャッシュ構成ファイルの名前です<br>参照: <router-link @click.native="this.scrollFix('#coherence_settings/030_cache_config.adoc')" to="#coherence_settings/030_cache_config.adoc">キャッシュ構成ファイルの構成</router-link></span></td>
<td class=""><span class="merged" id="all.2JXhOu.13"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.62"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3P8H6e"  title="原文: overrideConfig"><code>overrideConfig</code></span></td>
<td class=""><span class="merged" id="all.uyNQU" style='background-color:yellow' title="原文 : OverrideConfig is name of the Coherence operational configuration override file, the default is tangosol-coherence-override.xml see: Configure Operational Config File">OverrideConfigは、Coherence操作構成オーバーライド・ファイルの名前です。デフォルトはtangosol-coherence-override.xmlです<br>参照: <router-link @click.native="this.scrollFix('#coherence_settings/040_override_file.adoc')" to="#coherence_settings/040_override_file.adoc">操作構成ファイルの構成</router-link></span></td>
<td class=""><span class="merged" id="all.2JXhOu.14"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.63"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.CRqYJ"  title="原文: storageEnabled"><code>storageEnabled</code></span></td>
<td class=""><span class="merged" id="all.3nDRhc.spl1" style='background-color:yellow' title="原文 : A boolean flag indicating whether members of this deployment are storage enabled.">このデプロイメントのメンバーがストレージに対応しているかどうかを示すブール・フラグ。</span> <span class="merged" id="all.3nDRhc.spl2" style='background-color:yellow' title="原文 : This value will set the corresponding coherence.distributed.localstorage System property.">この値は、対応するcoherence.distributed.localstorageシステム・プロパティを設定します。</span> <span class="merged" id="all.3nDRhc.spl3" style='background-color:yellow' title="原文 : If not specified the default value is true.">指定しない場合、デフォルト値はtrueです。</span> <span class="merged" id="all.3nDRhc.spl4" style='background-color:yellow' title="原文 : This flag is also used to configure the ScalingPolicy value if a value is not specified.">このフラグは、値が指定されていない場合にScalingPolicy値を構成するためにも使用されます。</span> <span class="merged" id="all.3nDRhc.spl5" style='background-color:yellow' title="原文 : If the StorageEnabled field is not specified or is true the scaling will be safe, if StorageEnabled is set to false scaling will be parallel. see: Configure Storage Enabled">StorageEnabledフィールドが指定されていないかtrueの場合、StorageEnabledがfalseのスケーリングに設定されている場合、スケーリングはパラレルになります。<br>参照: <router-link @click.native="this.scrollFix('#coherence_settings/050_storage_enabled.adoc')" to="#coherence_settings/050_storage_enabled.adoc">ストレージの構成有効</router-link></span> </td>
<td class=""><span class="merged" id="all.q9cn0.5"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.64"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.qBRd"  title="原文: persistence"><code>persistence</code></span></td>
<td class=""><span class="merged" id="all.4dEFWz.spl1" style='background-color:yellow' title="原文 : Persistence values configure the on-disc data persistence settings.">永続性値は、on-discデータ永続性設定を構成します。</span> <span class="merged" id="all.4dEFWz.spl2" style='background-color:yellow' title="原文 : The bool Enabled enables or disabled on disc persistence of data. see: Configure Persistence">bool Enabledは、データのディスク永続性に対して有効または無効にします。<br>参照: <router-link @click.native="this.scrollFix('#coherence_settings/080_persistence.adoc')" to="#coherence_settings/080_persistence.adoc">永続性の構成</router-link></span> </td>
<td class=""><span class="merged" id="all.2z4pO5"  title="原文: *PersistenceSpec"><code>*<router-link @click.native="this.scrollFix('#_persistencespec')" to="#_persistencespec">PersistenceSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.65"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.40dLS2"  title="原文: logLevel"><code>logLevel</code></span></td>
<td class=""><span class="merged" id="all.3IXIHj" style='background-color:yellow' title="原文 : The Coherence log level, default being 5 (info level). see: Configure Coherence log level">Coherenceログ・レベル。デフォルトは5 (情報レベル)です。<br>参照: <router-link @click.native="this.scrollFix('#coherence_settings/060_log_level.adoc')" to="#coherence_settings/060_log_level.adoc">Coherenceログ・レベルの構成</router-link></span></td>
<td class=""><span class="merged" id="all.C5sgP.3"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.66"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1VBdjz"  title="原文: management"><code>management</code></span></td>
<td class=""><span class="merged" id="all.2l56S0" style='background-color:yellow' title="原文 : Management configures Coherence management over REST Note: Coherence management over REST will is available in Coherence version &gt;= 12.2.1.4. see: Management &amp; Diagnostics">管理により、RESTノートを介したCoherence管理が構成されます: RESTでのCoherence管理は、Coherenceバージョン>= 12.2.1.4で使用できます。<br>参照: <router-link @click.native="this.scrollFix('#management_and_diagnostics/010_overview.adoc')" to="#management_and_diagnostics/010_overview.adoc">管理&amp;診断</router-link></span></td>
<td class=""><span class="merged" id="all.AQZbL"  title="原文: *PortSpecWithSSL"><code>*<router-link @click.native="this.scrollFix('#_portspecwithssl')" to="#_portspecwithssl">PortSpecWithSSL</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.67"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4KU3uR"  title="原文: metrics"><code>metrics</code></span></td>
<td class=""><span class="merged" id="all.4d3Q7g" style='background-color:yellow' title="原文 : Metrics configures Coherence metrics publishing Note: Coherence metrics publishing will is available in Coherence version &gt;= 12.2.1.4. see: Metrics">メトリクスによってCoherenceメトリクス公開ノートが構成されます: Coherenceメトリクスの公開は、Coherenceバージョン>= 12.2.1.4で使用できます。<br>参照: <router-link @click.native="this.scrollFix('#metrics/010_overview.adoc')" to="#metrics/010_overview.adoc">メトリクス</router-link></span></td>
<td class=""><span class="merged" id="all.AQZbL.1"  title="原文: *PortSpecWithSSL"><code>*<router-link @click.native="this.scrollFix('#_portspecwithssl')" to="#_portspecwithssl">PortSpecWithSSL</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.68"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.Zsfo8"  title="原文: tracing"><code>tracing</code></span></td>
<td class=""><span class="merged" id="all.2jLpSN" style='background-color:yellow' title="原文 : Tracing is used to configure Coherence distributed tracing functionality.">トレースは、Coherence分散トレース機能を構成するために使用されます。</span></td>
<td class=""><span class="merged" id="all.4A3j4V"  title="原文: *CoherenceTracingSpec"><code>*<router-link @click.native="this.scrollFix('#_coherencetracingspec')" to="#_coherencetracingspec">CoherenceTracingSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.69"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4IvmVv"  title="原文: allowEndangeredForStatusHA"><code>allowEndangeredForStatusHA</code></span></td>
<td class=""><span class="merged" id="all.3CPk4x.spl1" style='background-color:yellow' title="原文 : AllowEndangeredForStatusHA is a list of Coherence partitioned cache service names that are allowed to be in an endangered state when testing for StatusHA.">AllowEndangeredForStatusHAは、StatusHAのテスト時に危険にさらされる状態にできるCoherenceパーティション・キャッシュ・サービス名のリストです。</span> <span class="merged" id="all.3CPk4x.spl2" style='background-color:yellow' title="原文 : Instances where a StatusHA check is performed include the readiness probe and when scaling a deployment.">StatusHAチェックが実行されるインスタンスには、レディネス・プローブとデプロイメントのスケーリング時が含まれます。</span> <span class="merged" id="all.3CPk4x.spl3" style='background-color:yellow' title="原文 : This field would not typically be used except in cases where a cache service is configured with a backup count greater than zero but it does not matter if caches in those services loose data due to member departure.">キャッシュ・サービスがゼロより大きいバックアップ数で構成されている場合を除き、このフィールドは通常使用されませんが、メンバーの離脱が原因で、これらのサービスのキャッシュのデータが失われるかどうかは関係ありません。</span> <span class="merged" id="all.3CPk4x.spl4" style='background-color:yellow' title="原文 : Normally, such cache services would have a backup count of zero, which would automatically excluded them from the StatusHA check.">通常、このようなキャッシュ・サービスのバックアップ数はゼロになり、StatusHAチェックから自動的に除外されます。</span> </td>
<td class=""><span class="merged" id="all.rXwhA.1"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.70"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3T4f2k"  title="原文: excludeFromWKA"><code>excludeFromWKA</code></span></td>
<td class=""><span class="merged" id="all.cgqYC" style='background-color:yellow' title="原文 : Exclude members of this deployment from being part of the cluster’s WKA list. see: Well Known Addressing">このデプロイメントのメンバーをクラスタWKAリストの一部から除外します。<br>参照: <router-link @click.native="this.scrollFix('#coherence_settings/070_wka.adoc')" to="#coherence_settings/070_wka.adoc">よく知られたアドレス指定</router-link></span></td>
<td class=""><span class="merged" id="all.q9cn0.6"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.71"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1WKgbM"  title="原文: wka"><code>wka</code></span></td>
<td class=""><span class="merged" id="all.vgvLE.spl1" style='background-color:yellow' title="原文 : Specify an existing Coherence deployment to be used for WKA.">WKAに使用する既存のCoherenceデプロイメントを指定します。</span> <span class="merged" id="all.vgvLE.spl2" style='background-color:yellow' title="原文 : If an existing deployment is to be used for WKA the ExcludeFromWKA is implicitly set to true. see: Well Known Addressing">既存のデプロイメントをWKAに使用する場合、ExcludeFromWKAは暗黙的にtrueに設定されます。<br>参照: <router-link @click.native="this.scrollFix('#coherence_settings/070_wka.adoc')" to="#coherence_settings/070_wka.adoc">よく知られたアドレス指定</router-link></span> </td>
<td class=""><span class="merged" id="all.2O1tGw"  title="原文: *CoherenceWKASpec"><code>*<router-link @click.native="this.scrollFix('#_coherencewkaspec')" to="#_coherencewkaspec">CoherenceWKASpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.72"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4054yt"  title="原文: skipVersionCheck"><code>skipVersionCheck</code></span></td>
<td class=""><span class="merged" id="all.1HI3bm.spl1" style='background-color:yellow' title="原文 : Certain features rely on a version check prior to starting the server, e.g. metrics requires &gt;= 12.2.1.4.">特定の機能は、サーバーを起動する前にバージョン・チェックに依存しています。たとえば、メトリクスには、12.2.1.4以上が必要です。</span> <span class="merged" id="all.1HI3bm.spl2" style='background-color:yellow' title="原文 : The version check relies on the ability of the start script to find coherence.jar but if due to how the image has been built this check is failing then setting this flag to true will skip version checking and assume that the latest coherence.jar is being used.">バージョン・チェックは、起動スクリプトのcoherence.jarの検索機能に依存しますが、イメージがどのようにビルドされているかによってこのチェックが失敗した場合、このフラグをtrueに設定すると、バージョン・チェックがスキップされ、最新のcoherence.jarが使用されていると想定されます。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.7"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.73"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2hW34l"  title="原文: enableIpMonitor"><code>enableIpMonitor</code></span></td>
<td class=""><span class="merged" id="all.1uoXWI.spl1" style='background-color:yellow' title="原文 : Enables the Coherence IP Monitor feature.">Coherence IPモニター機能を有効にします。</span> <span class="merged" id="all.1uoXWI.spl2" style='background-color:yellow' title="原文 : The Operator disables the IP Monitor by default.">オペレータはデフォルトでIPモニターを無効にします。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.8"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.74"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1FuM33"  title="原文: localPort"><code>localPort</code></span></td>
<td class=""><span class="merged" id="all.1zGH9t.spl1" style='background-color:yellow' title="原文 : LocalPort sets the Coherence unicast port.">LocalPortは、Coherenceユニキャスト・ポートを設定します。</span> <span class="merged" id="all.1zGH9t.spl2"  title="原文: When manually configuring unicast ports, a single port is specified and the second port is automatically selected.">ユニキャスト・ポートを手動で構成する場合は、単一のポートが指定され、2番目のポートが自動的に選択されます。</span> <span class="merged" id="all.1zGH9t.spl3"  title="原文: If either of the ports are not available, then the default behavior is to select the next available port.">いずれかのポートが使用できない場合、デフォルトの動作では、使用可能な次のポートを選択します。</span> <span class="merged" id="all.1zGH9t.spl4" style='background-color:yellow' title="原文 : For example, if port 9000 is configured for the first port (port1) and it is not available, then the next available port is automatically selected.">たとえば、ポート9000が最初のポート(port1)に対して構成されていて、使用できない場合、次に使用可能なポートが自動的に選択されます。</span> <span class="merged" id="all.1zGH9t.spl5" style='background-color:yellow' title="原文 : The second port (port2) is automatically opened and defaults to the next available port after port1 (port1 + 1 if available).">2番目のポート(port2)は自動的に開き、port1の後に使用可能な次のポート(使用可能な場合、port1 + 1)にデフォルト設定されます。</span> </td>
<td class=""><span class="merged" id="all.C5sgP.4"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.75"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3KvlGY"  title="原文: localPortAdjust"><code>localPortAdjust</code></span></td>
<td class=""><span class="merged" id="all.hfEzI.spl1" style='background-color:yellow' title="原文 : LocalPortAdjust sets the Coherence unicast port adjust value.">LocalPortAdjustは、Coherenceユニキャスト・ポートの調整値を設定します。</span> <span class="merged" id="all.hfEzI.spl2" style='background-color:yellow' title="原文 : To specify a range of unicast ports from which ports are selected, include a port value that represents the upper limit of the port range.">ポートを選択するユニキャスト・ポートの範囲を指定するには、ポート範囲の上限を表すポート値を含めます。</span> </td>
<td class=""><span class="merged" id="all.2KtHC0"  title="原文: *https://pkg.go.dev/k8s.io/apimachinery/pkg/util/intstr#IntOrString"><code>*<a href="https://pkg.go.dev/k8s.io/apimachinery/pkg/util/intstr#IntOrString" id="" target="_blank" >https://pkg.go.dev/k8s.io/apimachinery/pkg/util/intstr#IntOrString</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.76"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.5" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_coherencetracingspec"><span class="merged" id="all.3meSOF"  title="原文: CoherenceTracingSpec">CoherenceTracingSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.1DLXIa" style='background-color:yellow' title="原文 : CoherenceTracingSpec configures Coherence tracing.">CoherenceTracingSpecは、Coherenceトレースを構成します。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.6"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.6"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.6"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.6"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.1RsXFS"  title="原文: ratio"><code>ratio</code></span></td>
<td class=""><span class="merged" id="all.2shXUo.spl1" style='background-color:yellow' title="原文 : Ratio is the tracing sampling-ratio, which controls the likelihood of a tracing span being collected.">比率は、トレース・スパンが収集される可能性を制御するトレース・サンプリング率です。</span> <span class="merged" id="all.2shXUo.spl2" style='background-color:yellow' title="原文 : For instance, a value of 1.0 will result in all tracing spans being collected, while a value of 0.1 will result in roughly 1 out of every 10 tracing spans being collected.">たとえば、1.0の値を指定するとすべてのトレース・スパンが収集され、0.1の値を指定すると10個のトレース・スパンが収集されるたびにほぼ1個になります。</span> <span class="merged" id="all.2shXUo.spl3" style='background-color:yellow' title="原文 :  A value of 0 indicates that tracing spans should only be collected if they are already in the context of another tracing span."><br><br>値0は、トレース・スパンがすでに別のトレース・スパンのコンテキスト内にある場合にのみ収集されることを示します。</span> <span class="merged" id="all.2shXUo.spl4" style='background-color:yellow' title="原文 : With such a configuration, Coherence will not initiate tracing on its own, and it is up to the application to start an outer tracing span, from which Coherence will then collect inner tracing spans.">このような構成では、Coherenceは単独でトレースを開始せず、アプリケーションによって外部トレース・スパンを開始し、そこからCoherenceが内部トレース・スパンを収集します。</span> <span class="merged" id="all.2shXUo.spl5" style='background-color:yellow' title="原文 :  A value of -1 disables tracing completely."><br><br>値 -1は、トレースを完全に無効にします。</span> <span class="merged" id="all.2shXUo.spl6" style='background-color:yellow' title="原文 :  The Coherence default is -1 if not overridden."><br> <br> オーバーライドされない場合、Coherenceのデフォルトは-1です。</span> <span class="merged" id="all.2shXUo.spl7" style='background-color:yellow' title="原文 : For values other than -1, numbers between 0 and 1 are acceptable.">-1以外の値の場合、0から1までの数字を使用できます。</span> <span class="merged" id="all.2shXUo.spl8" style='background-color:yellow' title="原文 :  NOTE: This field is a k8s resource.Quantity value as CRDs do not support decimal numbers."><br><br> ノート: このフィールドはk8sリソースです。CRDとしての数量値は10進数をサポートしていません。</span> <span class="merged" id="all.2shXUo.spl9" style='background-color:yellow' title="原文 : See https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity for the different formats of number that may be entered.">入力できる数値の書式については、<a href="https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity" id="" target="_blank" >https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity</a>を参照してください。</span> </td>
<td class=""><span class="merged" id="all.2y07uS"  title="原文: *resource.Quantity"><code>*resource.Quantity</code></span></td>
<td class=""><span class="merged" id="all.njUKu.77"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.6" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_coherencewkaspec"><span class="merged" id="all.q4NOY"  title="原文: CoherenceWKASpec">CoherenceWKASpec</span></h3>
<div class="section">
<p><span class="merged" id="all.4FnjzL" style='background-color:yellow' title="原文 : CoherenceWKASpec configures Coherence well-known-addressing to use an existing Coherence deployment for WKA.">CoherenceWKASpecは、WKAの既存のCoherenceデプロイメントを使用するようにCoherenceの既知のアドレス指定を構成します。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.7"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.7"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.7"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.7"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.37VxbY"  title="原文: deployment"><code>deployment</code></span></td>
<td class=""><span class="merged" id="all.42nFrj" style='background-color:yellow' title="原文 : The name of the existing Coherence deployment to use for WKA.">WKAに使用する既存のCoherenceデプロイメントの名前。</span></td>
<td class=""><span class="merged" id="all.W18FC.3"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.1"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3fCyV9"  title="原文: namespace"><code>namespace</code></span></td>
<td class=""><span class="merged" id="all.2nilNh" style='background-color:yellow' title="原文 : The optional namespace of the existing Coherence deployment to use for WKA if different from this deployment’s namespace.">このデプロイメントのネームスペースと異なる場合、WKAに使用する既存のCoherenceデプロイメントのオプションのネームスペース。</span></td>
<td class=""><span class="merged" id="all.W18FC.4"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.78"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2Nbiju"  title="原文: addresses"><code>addresses</code></span></td>
<td class=""><span class="merged" id="all.3ewynt.spl1" style='background-color:yellow' title="原文 : A list of addresses to be used for WKA.">WKAに使用するアドレスのリスト。</span> <span class="merged" id="all.3ewynt.spl2" style='background-color:yellow' title="原文 : If this field is set, the WKA property for the Coherence cluster will be set using this value and the other WKA fields will be ignored.">このフィールドを設定すると、CoherenceクラスタのWKAプロパティがこの値を使用して設定され、他のWKAフィールドは無視されます。</span> </td>
<td class=""><span class="merged" id="all.rXwhA.2"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.79"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.7" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_configmapvolumespec"><span class="merged" id="all.3Ta4Lu"  title="原文: ConfigMapVolumeSpec">ConfigMapVolumeSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.3RZ7S2" style='background-color:yellow' title="原文 : ConfigMapVolumeSpec represents a ConfigMap that will be added to the deployment’s Pods as an additional Volume and as a VolumeMount in the containers. see: Add ConfigMap Volumes">ConfigMapVolumeSpecは、追加のボリュームとしてデプロイメント・ポッドに追加され、コンテナ内のVolumeMountとして追加されるConfigMapを表します。<br>参照: <router-link @click.native="this.scrollFix('#misc_pod_settings/050_configmap_volumes.adoc')" to="#misc_pod_settings/050_configmap_volumes.adoc">ConfigMapボリュームの追加</router-link></span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.8"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.8"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.8"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.8"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.309fiz.1"  title="原文: name"><code>name</code></span></td>
<td class=""><span class="merged" id="all.pl6eE.spl1" style='background-color:yellow' title="原文 : The name of the ConfigMap to mount.">マウントするConfigMapの名前。</span> <span class="merged" id="all.pl6eE.spl2" style='background-color:yellow' title="原文 : This will also be used as the name of the Volume added to the Pod if the VolumeName field is not set.">これは、VolumeNameフィールドが設定されていない場合、ポッドに追加されたボリュームの名前としても使用されます。</span> </td>
<td class=""><span class="merged" id="all.W18FC.5"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.2"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.ZMeSS"  title="原文: mountPath"><code>mountPath</code></span></td>
<td class=""><span class="merged" id="all.2cupoy.spl1" style='background-color:yellow' title="原文 : Path within the container at which the volume should be mounted.">ボリュームをマウントするコンテナ内のパス。</span> <span class="merged" id="all.2cupoy.spl2" style='background-color:yellow' title="原文 : Must not contain &apos;:&apos;.">':'を含めることはできません。</span> </td>
<td class=""><span class="merged" id="all.W18FC.6"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.3"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2yWp2V"  title="原文: volumeName"><code>volumeName</code></span></td>
<td class=""><span class="merged" id="all.2XBZuL.spl1" style='background-color:yellow' title="原文 : The optional name to use for the Volume added to the Pod.">ポッドに追加されたボリュームに使用するオプションの名前。</span> <span class="merged" id="all.2XBZuL.spl2" style='background-color:yellow' title="原文 : If not set, the ConfigMap name will be used as the VolumeName.">設定しない場合、ConfigMap名がVolumeNameとして使用されます。</span> </td>
<td class=""><span class="merged" id="all.W18FC.7"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.80"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3wva11"  title="原文: readOnly"><code>readOnly</code></span></td>
<td class=""><span class="merged" id="all.2zWRdn.spl1" style='background-color:yellow' title="原文 : Mounted read-only if true, read-write otherwise (false or unspecified).">trueの場合は読取り専用でマウントされ、それ以外の場合は読取り/書込み(falseまたは未指定)されます。</span> <span class="merged" id="all.2zWRdn.spl2"  title="原文:: Defaults to false.">デフォルトはfalseです。</span> </td>
<td class=""><span class="merged" id="all.2Sqi2i"  title="原文: bool"><code>bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.81"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.uxrbO"  title="原文: subPath"><code>subPath</code></span></td>
<td class=""><span class="merged" id="all.18jA47.spl1" style='background-color:yellow' title="原文 : Path within the volume from which the container’s volume should be mounted.">コンテナのボリュームをマウントするボリューム内のパス。</span> <span class="merged" id="all.18jA47.spl2" style='background-color:yellow' title="原文 : Defaults to &quot;&quot; (volume’s root).">デフォルトは"" (ボリュームのルート)です。</span> </td>
<td class=""><span class="merged" id="all.W18FC.8"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.82"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4Ps765"  title="原文: mountPropagation"><code>mountPropagation</code></span></td>
<td class=""><span class="merged" id="all.3fjZ9a.spl1" style='background-color:yellow' title="原文 : mountPropagation determines how mounts are propagated from the host to container and the other way around.">mountPropagationは、ホストからコンテナへのマウントの伝播方法と、その逆方向を決定します。</span> <span class="merged" id="all.3fjZ9a.spl2" style='background-color:yellow' title="原文 : When not set, MountPropagationNone is used.">設定しない場合、MountPropagationNoneが使用されます。</span> </td>
<td class=""><span class="merged" id="all.1ePFZ9"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#MountPropagationMode"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#MountPropagationMode" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#MountPropagationMode</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.83"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2XcR2k"  title="原文: subPathExpr"><code>subPathExpr</code></span></td>
<td class=""><span class="merged" id="all.37dv3Z.spl1" style='background-color:yellow' title="原文 : Expanded path within the volume from which the container’s volume should be mounted.">コンテナのボリュームをマウントするボリューム内の拡張パス。</span> <span class="merged" id="all.37dv3Z.spl2" style='background-color:yellow' title="原文 : Behaves similarly to SubPath but environment variable references $(VAR_NAME) are expanded using the container’s environment.">SubPathと同様に動作しますが、環境変数参照$(VAR_NAME)はコンテナの環境を使用して展開されます。</span> <span class="merged" id="all.37dv3Z.spl3" style='background-color:yellow' title="原文 : Defaults to &quot;&quot; (volume’s root).">デフォルトは"" (ボリュームのルート)です。</span> <span class="merged" id="all.37dv3Z.spl4" style='background-color:yellow' title="原文 : SubPathExpr and SubPath are mutually exclusive.">SubPathExprとSubPathは相互に排他的です。</span> </td>
<td class=""><span class="merged" id="all.W18FC.9"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.84"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1WuGEZ"  title="原文: items"><code>items</code></span></td>
<td class=""><span class="merged" id="all.3dILuD.spl1" style='background-color:yellow' title="原文 : If unspecified, each key-value pair in the Data field of the referenced ConfigMap will be projected into the volume as a file whose name is the key and content is the value.">指定しない場合、参照されるConfigMapのデータ・フィールドの各キーと値のペアは、名前がキーでコンテンツが値であるファイルとしてボリュームに投影されます。</span> <span class="merged" id="all.3dILuD.spl2" style='background-color:yellow' title="原文 : If specified, the listed keys will be projected into the specified paths, and unlisted keys will not be present.">指定した場合、リストされたキーは指定されたパスに投影され、リストされていないキーは表示されません。</span> <span class="merged" id="all.3dILuD.spl3" style='background-color:yellow' title="原文 : If a key is specified which is not present in the ConfigMap, the volume setup will error unless it is marked optional.">ConfigMapに存在しないキーが指定されている場合、ボリュームの設定はオプションとマークされていないかぎりエラーになります。</span> <span class="merged" id="all.3dILuD.spl4" style='background-color:yellow' title="原文 : Paths must be relative and may not contain the &apos;..&apos; path or start with &apos;..&apos;.">パスは相対パスで、'..'パスを含めることも、'..'で始めることもできません。</span> </td>
<td class=""><span class="merged" id="all.1g8dx5"  title="原文: []corev1.KeyToPath"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#keytopath-v1-core" id="" target="_blank" >corev1.KeyToPath</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.85"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2hViGd"  title="原文: defaultMode"><code>defaultMode</code></span></td>
<td class=""><span class="merged" id="all.2c3pwb.spl1" style='background-color:yellow' title="原文 : Optional: mode bits to use on created files by default.">オプション: 作成されたファイルで使用するビットをデフォルトでモードにします。</span> <span class="merged" id="all.2c3pwb.spl2" style='background-color:yellow' title="原文 : Must be a value between 0 and 0777.">0から0777の値である必要があります。</span> <span class="merged" id="all.2c3pwb.spl3" style='background-color:yellow' title="原文 : Defaults to 0644.">デフォルトは0644です。</span> <span class="merged" id="all.2c3pwb.spl4" style='background-color:yellow' title="原文 : Directories within the path are not affected by this setting.">パス内のディレクトリはこの設定の影響を受けません。</span> <span class="merged" id="all.2c3pwb.spl5" style='background-color:yellow' title="原文 : This might be in conflict with other options that affect the file mode, like fsGroup, and the result can be other mode bits set.">これは、fsGroupなどのファイル・モードに影響するほかのオプションと競合する場合があり、結果はほかのモード・ビット・セットになる可能性があります。</span> </td>
<td class=""><span class="merged" id="all.C5sgP.5"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.86"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4Zagyj"  title="原文: optional"><code>optional</code></span></td>
<td class=""><span class="merged" id="all.26yA7g" style='background-color:yellow' title="原文 : Specify whether the ConfigMap or its keys must be defined">ConfigMapまたはそのキーを定義する必要があるかどうかを指定</span></td>
<td class=""><span class="merged" id="all.q9cn0.9"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.87"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.8" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_globalspec"><span class="merged" id="all.4MYxqN"  title="原文: GlobalSpec">GlobalSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.18cP5g" style='background-color:yellow' title="原文 : GlobalSpec is attributes that will be applied to all resources managed by the Operator.">♪GlobalSpecは、オペレータが管理するすべてのリソースに適用される属性です。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.9"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.9"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.9"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.9"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.2Dbs6Z.2"  title="原文: labels"><code>labels</code></span></td>
<td class=""><span class="merged" id="all.1NGASV.spl1" style='background-color:yellow' title="原文 : Map of string keys and values that can be used to organize and categorize (scope and select) objects.">オブジェクトの編成および分類(スコープおよび選択)に使用できる文字列キーおよび値のマップ。</span> <span class="merged" id="all.1NGASV.spl2" style='background-color:yellow' title="原文 : May match selectors of replication controllers and services.">レプリケーション・コントローラとサービスのセレクタを一致させることができます。</span> <span class="merged" id="all.1NGASV.spl3" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">詳細情報: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" id="" target="_blank" >https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/</a></span> </td>
<td class=""><span class="merged" id="all.6My6t.5"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.88"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2uY9DD.2"  title="原文: annotations"><code>annotations</code></span></td>
<td class=""><span class="merged" id="all.RADJ8.spl1" style='background-color:yellow' title="原文 : Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata.">注釈は、任意のメタデータを格納および取得するために外部ツールで設定できるリソースとともに格納される非構造化キー値マップです。</span> <span class="merged" id="all.RADJ8.spl2" style='background-color:yellow' title="原文 : They are not queryable and should be preserved when modifying objects.">これらはクエリー可能ではなく、オブジェクトを変更するときに保持する必要があります。</span> <span class="merged" id="all.RADJ8.spl3" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">詳細情報: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/" id="" target="_blank" >https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/</a></span> </td>
<td class=""><span class="merged" id="all.6My6t.6"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.89"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.9" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_imagespec"><span class="merged" id="all.4WmqPi"  title="原文: ImageSpec">ImageSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.1hwx43" style='background-color:yellow' title="原文 : ImageSpec defines the settings for a Docker image">ImageSpecは、Dockerイメージの設定を定義</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.10"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.10"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.10"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.10"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.2vvqy1.1"  title="原文: image"><code>image</code></span></td>
<td class=""><span class="merged" id="all.4Fzn0M.spl1" style='background-color:yellow' title="原文 : The image name.">イメージ名。</span> <span class="merged" id="all.4Fzn0M.spl2" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/containers/images">詳細情報: <a href="https://kubernetes.io/docs/concepts/containers/images" id="" target="_blank" >https://kubernetes.io/docs/concepts/containers/images</a></span> </td>
<td class=""><span class="merged" id="all.2JXhOu.15"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.90"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2yaYc3.1"  title="原文: imagePullPolicy"><code>imagePullPolicy</code></span></td>
<td class=""><span class="merged" id="all.267YMn.1.spl1" style='background-color:yellow' title="原文 : Image pull policy.">イメージ・プル・ポリシー。</span> <span class="merged" id="all.267YMn.1.spl2" style='background-color:yellow' title="原文 : One of Always, Never, IfNotPresent.">Always、Never、IfNotPresentのいずれか。</span> <span class="merged" id="all.267YMn.1.spl3" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/containers/images#updating-images">詳細情報: <a href="https://kubernetes.io/docs/concepts/containers/images#updating-images" id="" target="_blank" >https://kubernetes.io/docs/concepts/containers/images#updating-images</a></span> </td>
<td class=""><span class="merged" id="all.4MPcsS.1"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#PullPolicy"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#PullPolicy" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#PullPolicy</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.91"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.10" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_jvmspec"><span class="merged" id="all.1IS9Op" style='background-color:yellow' title="原文 : JVMSpec">JVMSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.wnv8X" style='background-color:yellow' title="原文 : JVMSpec is the JVM configuration.">JVMSpecはJVM構成です。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.11"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.11"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.11"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.11"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.1TsKfV"  title="原文: classpath"><code>classpath</code></span></td>
<td class=""><span class="merged" id="all.1bK9Se" style='background-color:yellow' title="原文 : Classpath specifies additional items to add to the classpath of the JVM.">クラスパスでは、JVMのクラスパスに追加する追加アイテムを指定します。</span></td>
<td class=""><span class="merged" id="all.rXwhA.3"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.92"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3s3zbi.1"  title="原文: args"><code>args</code></span></td>
<td class=""><span class="merged" id="all.4DE6EC" style='background-color:yellow' title="原文 : Args specifies the options (System properties, -XX: args etc) to pass to the JVM.">Argsはオプションを指定します(システム・プロパティ、 -XX: argsなど) JVMに渡す。</span></td>
<td class=""><span class="merged" id="all.rXwhA.4"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.93"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3DDEId"  title="原文: debug"><code>debug</code></span></td>
<td class=""><span class="merged" id="all.3LJPM9" style='background-color:yellow' title="原文 : The settings for enabling debug mode in the JVM.">JVMでデバッグ・モードを有効にするための設定。</span></td>
<td class=""><span class="merged" id="all.3f1Yhp"  title="原文: *JvmDebugSpec"><code>*<router-link @click.native="this.scrollFix('#_jvmdebugspec')" to="#_jvmdebugspec">JvmDebugSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.94"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4bQ389"  title="原文: useContainerLimits"><code>useContainerLimits</code></span></td>
<td class=""><span class="merged" id="all.42wm5G.spl1" style='background-color:yellow' title="原文 : If set to true Adds the -XX:+UseContainerSupport JVM option to ensure that the JVM respects any container resource limits.">trueに設定した場合、 -XX:+UseContainerSupport JVMオプションを追加して、JVMがコンテナ・リソース制限を尊重していることを確認します。</span> <span class="merged" id="all.42wm5G.spl2"  title="原文: The default value is true">デフォルト値はtrueです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.10"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.95"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.sQ6yG"  title="原文: gc"><code>gc</code></span></td>
<td class=""><span class="merged" id="all.3ns69n" style='background-color:yellow' title="原文 : Set JVM garbage collector options.">JVMガベージ・コレクタ・オプションを設定します。</span></td>
<td class=""><span class="merged" id="all.wyruN"  title="原文: *JvmGarbageCollectorSpec"><code>*<router-link @click.native="this.scrollFix('#_jvmgarbagecollectorspec')" to="#_jvmgarbagecollectorspec">JvmGarbageCollectorSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.96"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.YZ2mr"  title="原文: diagnosticsVolume"><code>diagnosticsVolume</code></span></td>
<td class=""><span class="merged" id="all.4DwcYe" style='background-color:yellow' title="原文 : DiagnosticsVolume is the volume to write JVM diagnostic information to, for example heap dumps, JFRs etc.">DiagnosticsVolumeは、ヒープ・ダンプ、JFRなどのJVM診断情報を書き込むボリュームです。</span></td>
<td class=""><span class="merged" id="all.17NnXQ"  title="原文: *https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core" id="" target="_blank" >https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.97"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3vo31V"  title="原文: memory"><code>memory</code></span></td>
<td class=""><span class="merged" id="all.2U53rs" style='background-color:yellow' title="原文 : Configure the JVM memory options.">JVMメモリー・オプションを構成します。</span></td>
<td class=""><span class="merged" id="all.3stUfh"  title="原文: *JvmMemorySpec"><code>*<router-link @click.native="this.scrollFix('#_jvmmemoryspec')" to="#_jvmmemoryspec">JvmMemorySpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.98"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.6Gtfh"  title="原文: useJibClasspath"><code>useJibClasspath</code></span></td>
<td class=""><span class="merged" id="all.2LpiUx.spl1" style='background-color:yellow' title="原文 : A flag indicating whether to automatically add the default classpath for images created by the JIB tool https://github.com/GoogleContainerTools/jib If true then the /app/lib/* /app/classes and /app/resources entries are added to the JVM classpath.">JIBツール<a href="https://github.com/GoogleContainerTools/jib" id="" target="_blank" >https://github.com/GoogleContainerTools/jib</a>によって作成されたイメージのデフォルト・クラスパスを自動的に追加するかどうかを示すフラグ。trueの場合、/app/lib/* /app/classesおよび/app/resourcesエントリがJVMクラスパスに追加されます。</span> <span class="merged" id="all.2LpiUx.spl2" style='background-color:yellow' title="原文 : The default value fif not specified is true.">指定されていないデフォルト値はtrueです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.11"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.99"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.11" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_jvmdebugspec"><span class="merged" id="all.32IEoX"  title="原文: JvmDebugSpec">JvmDebugSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.4MGoV4" style='background-color:yellow' title="原文 : JvmDebugSpec the JVM Debug specific configuration.">JVMデバッグ固有の構成をJvmDebugSpecします。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.12"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.12"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.12"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.12"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.48UcwL.1"  title="原文: enabled"><code>enabled</code></span></td>
<td class=""><span class="merged" id="all.3HNNjr.spl1" style='background-color:yellow' title="原文 : Enabled is a flag to enable or disable running the JVM in debug mode.">Enabledは、デバッグ・モードでのJVMの実行を有効または無効にするフラグです。</span> <span class="merged" id="all.3HNNjr.spl2"  title="原文:: Default is disabled.">デフォルトでは無効化されています。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.12"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.100"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1Fv48C"  title="原文: suspend"><code>suspend</code></span></td>
<td class=""><span class="merged" id="all.2AlXbN.spl1" style='background-color:yellow' title="原文 : A boolean true if the target VM is to be suspended immediately before the main class is loaded; false otherwise.">メイン・クラスがロードされる前にターゲットVMがすぐに中断される場合は、ブールtrue、そうでない場合はfalse。</span> <span class="merged" id="all.2AlXbN.spl2"  title="原文: The default value is false.">デフォルト値はfalseです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.13"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.101"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.V6X3T"  title="原文: attach"><code>attach</code></span></td>
<td class=""><span class="merged" id="all.2NRQKY" style='background-color:yellow' title="原文 : Attach specifies the address of the debugger that the JVM should attempt to connect back to instead of listening on a port.">アタッチでは、JVMがポートでリスニングするかわりに接続を試行するデバッガのアドレスを指定します。</span></td>
<td class=""><span class="merged" id="all.2JXhOu.16"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.102"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2OXzp4"  title="原文: port"><code>port</code></span></td>
<td class=""><span class="merged" id="all.4YjNjK" style='background-color:yellow' title="原文 : The port that the debugger will listen on; the default is 5005.">デバッガが待機するポート。デフォルトは5005です。</span></td>
<td class=""><span class="merged" id="all.C5sgP.6"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.103"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.12" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_jvmgarbagecollectorspec"><span class="merged" id="all.pVl3u"  title="原文: JvmGarbageCollectorSpec">JvmGarbageCollectorSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.35YfTC" style='background-color:yellow' title="原文 : JvmGarbageCollectorSpec is options for managing the JVM garbage collector.">JvmGarbageCollectorSpecは、JVMガベージ・コレクタを管理するためのオプションです。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.13"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.13"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.13"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.13"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.3HXLi1"  title="原文: collector"><code>collector</code></span></td>
<td class=""><span class="merged" id="all.2dvgNy.spl1" style='background-color:yellow' title="原文 : The name of the JVM garbage collector to use.">使用するJVMガベージ・コレクタの名前。</span> <span class="merged" id="all.2dvgNy.spl2" style='background-color:yellow' title="原文 : G1 - adds the -XX:+UseG1GC option CMS - adds the -XX:+UseConcMarkSweepGC option Parallel - adds the -XX:+UseParallelGC Default - use the JVMs default collector The field value is case insensitive If not set G1 is used.">G1 - -XX:+UseG1GCオプションCMSを追加 - -XX:+UseConcMarkSweepGCオプションParallelを追加 - -XX:+UseParallelGCデフォルトを追加 - JVMのデフォルト・コレクタを使用します。G1が設定されていない場合、フィールド値は大文字と小文字が区別されません。</span> <span class="merged" id="all.2dvgNy.spl3" style='background-color:yellow' title="原文 : If set to a value other than those above then the default collector for the JVM will be used.">上記以外の値に設定すると、JVMのデフォルト・コレクタが使用されます。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.17"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.104"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3s3zbi.2"  title="原文: args"><code>args</code></span></td>
<td class=""><span class="merged" id="all.QA8uj" style='background-color:yellow' title="原文 : Args specifies the GC options to pass to the JVM.">Argsは、JVMに渡すGCオプションを指定します。</span></td>
<td class=""><span class="merged" id="all.rXwhA.5"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.105"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4DzDoS"  title="原文: logging"><code>logging</code></span></td>
<td class=""><span class="merged" id="all.2YeKC5" style='background-color:yellow' title="原文 : Enable the following GC logging args -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -XX:+PrintGCApplicationConcurrentTime Default is true">次のGCロギング引数を有効にします -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -XX:+PrintGCApplicationConcurrentTimeデフォルトはtrueです</span></td>
<td class=""><span class="merged" id="all.q9cn0.14"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.106"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.13" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_jvmmemoryspec"><span class="merged" id="all.1lQqvp"  title="原文: JvmMemorySpec">JvmMemorySpec</span></h3>
<div class="section">
<p><span class="merged" id="all.2qP3RI" style='background-color:yellow' title="原文 : JvmMemorySpec is options for managing the JVM memory.">JvmMemorySpecは、JVMメモリーを管理するためのオプションです。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.14"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.14"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.14"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.14"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.1L90lj"  title="原文: heapSize"><code>heapSize</code></span></td>
<td class=""><span class="merged" id="all.NSmuX.spl1" style='background-color:yellow' title="原文 : HeapSize sets both the initial and max heap size values for the JVM.">HeapSizeは、JVMの初期および最大ヒープ・サイズの両方の値を設定します。</span> <span class="merged" id="all.NSmuX.spl2" style='background-color:yellow' title="原文 : This will set both the -XX:InitialHeapSize and -XX:MaxHeapSize JVM options to the same value (the equivalent of setting -Xms and -Xmx to the same value).">これにより、 -XX:InitialHeapSizeオプションと -XX:MaxHeapSize JVMオプションの両方が同じ値 (-Xmsと -Xmxを同じ値に設定することと同等)に設定されます。</span> <span class="merged" id="all.NSmuX.spl3" style='background-color:yellow' title="原文 :  The format should be the same as that used when specifying these JVM options."><br> <br> この形式は、これらのJVMオプションを指定するときに使用したものと同じである必要があります。</span> <span class="merged" id="all.NSmuX.spl4" style='background-color:yellow' title="原文 :  If not set the JVM defaults are used."><br> <br> 設定しない場合、JVMのデフォルトが使用されます。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.18"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.107"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4V8xor"  title="原文: initialHeapSize"><code>initialHeapSize</code></span></td>
<td class=""><span class="merged" id="all.fzr8B.spl1" style='background-color:yellow' title="原文 : InitialHeapSize sets the initial heap size value for the JVM.">InitialHeapSizeは、JVMの初期ヒープ・サイズの値を設定します。</span> <span class="merged" id="all.fzr8B.spl2" style='background-color:yellow' title="原文 : This will set the -XX:InitialHeapSize JVM option (the equivalent of setting -Xms).">-XX:InitialHeapSize JVMオプション (設定-Xmsと同等)を設定します。</span> <span class="merged" id="all.fzr8B.spl3" style='background-color:yellow' title="原文 :  The format should be the same as that used when specifying this JVM options."><br> <br> この形式は、このJVMオプションを指定するときに使用したものと同じである必要があります。</span> <span class="merged" id="all.fzr8B.spl4" style='background-color:yellow' title="原文 :  NOTE: If the HeapSize field is set it will override this field."><br> <br> ノート: HeapSizeフィールドが設定されている場合、このフィールドはオーバーライドされます。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.19"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.108"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2m6iVB"  title="原文: maxHeapSize"><code>maxHeapSize</code></span></td>
<td class=""><span class="merged" id="all.4BgC1M.spl1" style='background-color:yellow' title="原文 : MaxHeapSize sets the maximum heap size value for the JVM.">MaxHeapSizeは、JVMの最大ヒープ・サイズ値を設定します。</span> <span class="merged" id="all.4BgC1M.spl2" style='background-color:yellow' title="原文 : This will set the -XX:MaxHeapSize JVM option (the equivalent of setting -Xmx).">-XX:MaxHeapSize JVMオプションを設定します(設定-Xmxと同等)。</span> <span class="merged" id="all.4BgC1M.spl3" style='background-color:yellow' title="原文 :  The format should be the same as that used when specifying this JVM options."><br> <br> この形式は、このJVMオプションを指定するときに使用したものと同じである必要があります。</span> <span class="merged" id="all.4BgC1M.spl4" style='background-color:yellow' title="原文 :  NOTE: If the HeapSize field is set it will override this field."><br> <br> ノート: HeapSizeフィールドが設定されている場合、このフィールドはオーバーライドされます。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.20"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.109"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2MeqPf"  title="原文: maxRAM"><code>maxRAM</code></span></td>
<td class=""><span class="merged" id="all.3OqlOi" style='background-color:yellow' title="原文 : Sets the JVM option -XX:MaxRAM=N which sets the maximum amount of memory used by the JVM to n, where n is expressed in terms of megabytes (for example, 100m) or gigabytes (for example 2g).">JVMで使用されるメモリーの最大量を<code>n</code>に設定するJVMオプション<code>-XX:MaxRAM=N</code>を設定します。<code>n</code>はメガバイト (<code>100m</code>など)またはギガバイト(<code>2g</code>など)で表されます。</span></td>
<td class=""><span class="merged" id="all.2JXhOu.21"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.110"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3GDTJ0"  title="原文: percentage"><code>percentage</code></span></td>
<td class=""><span class="merged" id="all.3jIE2a.spl1" style='background-color:yellow' title="原文 : Percentage sets the initial and maximum and minimum heap percentage sizes to the same value, This will set the -XX:InitialRAMPercentage -XX:MinRAMPercentage and -XX:MaxRAMPercentage JVM options to the same value.">パーセンテージは、初期および最大ヒープ・パーセンテージのサイズを同じ値に設定します。これにより、 -XX:InitialRAMPercentage -XX:MinRAMPercentageおよび -XX:MaxRAMPercentage JVMオプションが同じ値に設定されます。</span> <span class="merged" id="all.3jIE2a.spl2" style='background-color:yellow' title="原文 :  The JVM will ignore this option if any of the HeapSize, InitialHeapSize or MaxHeapSize options have been set."><br> <br> HeapSize、InitialHeapSizeまたはMaxHeapSizeオプションのいずれかが設定されている場合、JVMはこのオプションを無視します。</span> <span class="merged" id="all.3jIE2a.spl3" style='background-color:yellow' title="原文 :  Valid values are decimal numbers between 0 and 100."><br><br> 有効な値は、0から100までの10進数です。</span> <span class="merged" id="all.3jIE2a.spl4" style='background-color:yellow' title="原文 :  NOTE: This field is a k8s resource.Quantity value as CRDs do not support decimal numbers."><br><br> ノート: このフィールドはk8sリソースです。CRDとしての数量値は10進数をサポートしていません。</span> <span class="merged" id="all.3jIE2a.spl5" style='background-color:yellow' title="原文 : See https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity for the different formats of number that may be entered.">入力できる数値の書式については、<a href="https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity" id="" target="_blank" >https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity</a>を参照してください。</span> <span class="merged" id="all.3jIE2a.spl6" style='background-color:yellow' title="原文 :  NOTE: This field maps to the -XX:InitialRAMPercentage -XX:MinRAMPercentage and -XX:MaxRAMPercentage JVM options and will be incompatible with some JVMs that do not have this option (e.g. Java 8)."><br> <br> ノート: このフィールドは-XX:InitialRAMPercentage -XX:MinRAMPercentageおよび-XX:MaxRAMPercentage JVMオプションにマップされ、このオプションがない一部のJVMと互換性がありません(例、Java 8)。</span> </td>
<td class=""><span class="merged" id="all.2y07uS.1"  title="原文: *resource.Quantity"><code>*resource.Quantity</code></span></td>
<td class=""><span class="merged" id="all.njUKu.111"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2IT1Dp"  title="原文: initialRAMPercentage"><code>initialRAMPercentage</code></span></td>
<td class=""><span class="merged" id="all.2opQc6.spl1" style='background-color:yellow' title="原文 : Set initial heap size as a percentage of total memory.">初期ヒープ・サイズを合計メモリーの割合として設定します。</span> <span class="merged" id="all.2opQc6.spl2" style='background-color:yellow' title="原文 :  The JVM will ignore this option if any of the HeapSize, InitialHeapSize or MaxHeapSize options have been set."><br> <br> HeapSize、InitialHeapSizeまたはMaxHeapSizeオプションのいずれかが設定されている場合、JVMはこのオプションを無視します。</span> <span class="merged" id="all.2opQc6.spl3" style='background-color:yellow' title="原文 :  Valid values are decimal numbers between 0 and 100."><br><br> 有効な値は、0から100までの10進数です。</span> <span class="merged" id="all.2opQc6.spl4" style='background-color:yellow' title="原文 :  NOTE: If the Percentage field is set it will override this field."><br> <br> ノート: 「パーセント」フィールドが設定されている場合、このフィールドは上書きされます。</span> <span class="merged" id="all.2opQc6.spl5" style='background-color:yellow' title="原文 :  NOTE: This field is a k8s resource.Quantity value as CRDs do not support decimal numbers."><br><br> ノート: このフィールドはk8sリソースです。CRDとしての数量値は10進数をサポートしていません。</span> <span class="merged" id="all.2opQc6.spl6" style='background-color:yellow' title="原文 : See https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity for the different formats of number that may be entered.">入力できる数値の書式については、<a href="https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity" id="" target="_blank" >https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity</a>を参照してください。</span> <span class="merged" id="all.2opQc6.spl7" style='background-color:yellow' title="原文 :  NOTE: This field maps to the -XX:InitialRAMPercentage JVM option and will be incompatible with some JVMs that do not have this option (e.g. Java 8)."><br> <br> ノート: このフィールドは- XX:InitialRAMPercentage JVMオプションにマップされ、このオプションがない一部のJVMと互換性がありません (例、Java 8)。</span> </td>
<td class=""><span class="merged" id="all.2y07uS.2"  title="原文: *resource.Quantity"><code>*resource.Quantity</code></span></td>
<td class=""><span class="merged" id="all.njUKu.112"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3lHoLp"  title="原文: maxRAMPercentage"><code>maxRAMPercentage</code></span></td>
<td class=""><span class="merged" id="all.4dTiGq.spl1" style='background-color:yellow' title="原文 : Set maximum heap size as a percentage of total memory.">最大ヒープ・サイズを合計メモリーの割合として設定します。</span> <span class="merged" id="all.4dTiGq.spl2" style='background-color:yellow' title="原文 :  The JVM will ignore this option if any of the HeapSize, InitialHeapSize or MaxHeapSize options have been set."><br> <br> HeapSize、InitialHeapSizeまたはMaxHeapSizeオプションのいずれかが設定されている場合、JVMはこのオプションを無視します。</span> <span class="merged" id="all.4dTiGq.spl3" style='background-color:yellow' title="原文 :  Valid values are decimal numbers between 0 and 100."><br><br> 有効な値は、0から100までの10進数です。</span> <span class="merged" id="all.4dTiGq.spl4" style='background-color:yellow' title="原文 :  NOTE: If the Percentage field is set it will override this field."><br> <br> ノート: 「パーセント」フィールドが設定されている場合、このフィールドは上書きされます。</span> <span class="merged" id="all.4dTiGq.spl5" style='background-color:yellow' title="原文 :  NOTE: This field is a k8s resource.Quantity value as CRDs do not support decimal numbers."><br><br> ノート: このフィールドはk8sリソースです。CRDとしての数量値は10進数をサポートしていません。</span> <span class="merged" id="all.4dTiGq.spl6" style='background-color:yellow' title="原文 : See https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity for the different formats of number that may be entered.">入力できる数値の書式については、<a href="https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity" id="" target="_blank" >https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity</a>を参照してください。</span> <span class="merged" id="all.4dTiGq.spl7" style='background-color:yellow' title="原文 :  NOTE: This field maps to the -XX:MaxRAMPercentage JVM option and will be incompatible with some JVMs that do not have this option (e.g. Java 8)."><br> <br> ノート: このフィールドは-XX:MaxRAMPercentage JVMオプションにマップされ、このオプションがない一部のJVMと互換性がありません(例、Java 8)。</span> </td>
<td class=""><span class="merged" id="all.2y07uS.3"  title="原文: *resource.Quantity"><code>*resource.Quantity</code></span></td>
<td class=""><span class="merged" id="all.njUKu.113"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3hGjB5"  title="原文: minRAMPercentage"><code>minRAMPercentage</code></span></td>
<td class=""><span class="merged" id="all.4PFaMy.spl1" style='background-color:yellow' title="原文 : Set the minimal JVM Heap size as a percentage of the total memory.">最小JVMヒープ・サイズを合計メモリーの割合として設定します。</span> <span class="merged" id="all.4PFaMy.spl2" style='background-color:yellow' title="原文 :  This option will be ignored if HeapSize is set."><br> <br> HeapSizeが設定されている場合、このオプションは無視されます。</span> <span class="merged" id="all.4PFaMy.spl3" style='background-color:yellow' title="原文 :  Valid values are decimal numbers between 0 and 100."><br><br> 有効な値は、0から100までの10進数です。</span> <span class="merged" id="all.4PFaMy.spl4" style='background-color:yellow' title="原文 :  NOTE: This field is a k8s resource.Quantity value as CRDs do not support decimal numbers."><br><br> ノート: このフィールドはk8sリソースです。CRDとしての数量値は10進数をサポートしていません。</span> <span class="merged" id="all.4PFaMy.spl5" style='background-color:yellow' title="原文 : See https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity for the different formats of number that may be entered.">入力できる数値の書式については、<a href="https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity" id="" target="_blank" >https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity</a>を参照してください。</span> <span class="merged" id="all.4PFaMy.spl6" style='background-color:yellow' title="原文 :  NOTE: This field maps the the -XX:MinRAMPercentage JVM option and will be incompatible with some JVMs that do not have this option (e.g. Java 8)."><br> <br> ノート: このフィールドは-XX:MinRAMPercentage JVMオプションをマップし、このオプションがない一部のJVMと互換性がありません(例、Java 8)。</span> </td>
<td class=""><span class="merged" id="all.2y07uS.4"  title="原文: *resource.Quantity"><code>*resource.Quantity</code></span></td>
<td class=""><span class="merged" id="all.njUKu.114"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.42BsZO"  title="原文: stackSize"><code>stackSize</code></span></td>
<td class=""><span class="merged" id="all.8rQwl.spl1" style='background-color:yellow' title="原文 : StackSize is the stack size value to pass to the JVM.">StackSizeは、JVMに渡すスタック・サイズ値です。</span> <span class="merged" id="all.8rQwl.spl2" style='background-color:yellow' title="原文 : The format should be the same as that used for Java’s -Xss JVM option.">形式は、Javaの -Xss JVMオプションに使用される形式と同じである必要があります。</span> <span class="merged" id="all.8rQwl.spl3" style='background-color:yellow' title="原文 : If not set the JVM defaults are used.">設定しない場合、JVMのデフォルトが使用されます。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.22"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.115"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1wVw4S"  title="原文: metaspaceSize"><code>metaspaceSize</code></span></td>
<td class=""><span class="merged" id="all.4563tl.spl1" style='background-color:yellow' title="原文 : MetaspaceSize is the min/max metaspace size to pass to the JVM.">MetaspaceSizeは、JVMに渡す最小/最大メタ領域サイズです。</span> <span class="merged" id="all.4563tl.spl2" style='background-color:yellow' title="原文 : This sets the -XX:MetaspaceSize and -XX:MaxMetaspaceSize=size JVM options.">-XX:MetaspaceSizeおよび -XX:MaxMetaspaceSize=size JVMオプションを設定します。</span> <span class="merged" id="all.4563tl.spl3" style='background-color:yellow' title="原文 : If not set the JVM defaults are used.">設定しない場合、JVMのデフォルトが使用されます。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.23"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.116"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2PQYhe"  title="原文: directMemorySize"><code>directMemorySize</code></span></td>
<td class=""><span class="merged" id="all.SoAiZ.spl1" style='background-color:yellow' title="原文 : DirectMemorySize sets the maximum total size (in bytes) of the New I/O (the java.nio package) direct-buffer allocations.">DirectMemorySizeは、新規I/O (java.nioパッケージ)ダイレクト・バッファ割当ての最大合計サイズ(バイト単位)を設定します。</span> <span class="merged" id="all.SoAiZ.spl2" style='background-color:yellow' title="原文 : This value sets the -XX:MaxDirectMemorySize JVM option.">この値は -XX:MaxDirectMemorySize JVMオプションを設定します。</span> <span class="merged" id="all.SoAiZ.spl3" style='background-color:yellow' title="原文 : If not set the JVM defaults are used.">設定しない場合、JVMのデフォルトが使用されます。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.24"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.117"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2ueV9n"  title="原文: nativeMemoryTracking"><code>nativeMemoryTracking</code></span></td>
<td class=""><span class="merged" id="all.4Mgeyg" style='background-color:yellow' title="原文 : Adds the -XX:NativeMemoryTracking=mode JVM options where mode is on of &quot;off&quot;, &quot;summary&quot; or &quot;detail&quot;, the default is &quot;summary&quot; If not set to &quot;off&quot; also add -XX:+PrintNMTStatistics">-XX:NativeMemoryTracking=mode JVMオプションを追加します。モードが"off"、"summary"または"detail"の場合、デフォルトは"summary"です。"off"に設定されていない場合は -XX:+PrintNMTStatisticsも追加</span></td>
<td class=""><span class="merged" id="all.2JXhOu.25"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.118"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1Qp9gL"  title="原文: onOutOfMemory"><code>onOutOfMemory</code></span></td>
<td class=""><span class="merged" id="all.4WrsBH" style='background-color:yellow' title="原文 : Configure the JVM behaviour when an OutOfMemoryError occurs.">OutOfMemoryErrorが発生したときにJVMの動作を構成します。</span></td>
<td class=""><span class="merged" id="all.1qaGc3"  title="原文: *JvmOutOfMemorySpec"><code>*<router-link @click.native="this.scrollFix('#_jvmoutofmemoryspec')" to="#_jvmoutofmemoryspec">JvmOutOfMemorySpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.119"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.14" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_jvmoutofmemoryspec"><span class="merged" id="all.4T5s3O"  title="原文: JvmOutOfMemorySpec">JvmOutOfMemorySpec</span></h3>
<div class="section">
<p><span class="merged" id="all.1K4rGN" style='background-color:yellow' title="原文 : JvmOutOfMemorySpec is options for managing the JVM behaviour when an OutOfMemoryError occurs.">JvmOutOfMemorySpecは、OutOfMemoryErrorが発生した場合にJVMの動作を管理するためのオプションです。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.15"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.15"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.15"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.15"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.3LIRMU"  title="原文: exit"><code>exit</code></span></td>
<td class=""><span class="merged" id="all.2qzisx.spl1" style='background-color:yellow' title="原文 : If set to true the JVM will exit when an OOM error occurs.">trueに設定すると、OOMエラーが発生したときにJVMが終了します。</span> <span class="merged" id="all.2qzisx.spl2"  title="原文:: Default is true">デフォルトはtrueです</span> </td>
<td class=""><span class="merged" id="all.q9cn0.15"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.120"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.HjftG"  title="原文: heapDump"><code>heapDump</code></span></td>
<td class=""><span class="merged" id="all.1VOKOH.spl1" style='background-color:yellow' title="原文 : If set to true adds the -XX:+HeapDumpOnOutOfMemoryError JVM option to cause a heap dump to be created when an OOM error occurs.">trueに設定すると、 -XX:+HeapDumpOnOutOfMemoryError JVMオプションが追加され、OOMエラーが発生したときにヒープ・ダンプが作成されます。</span> <span class="merged" id="all.1VOKOH.spl2"  title="原文:: Default is true">デフォルトはtrueです</span> </td>
<td class=""><span class="merged" id="all.q9cn0.16"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.121"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.15" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_localobjectreference"><span class="merged" id="all.pL3r9"  title="原文: LocalObjectReference">LocalObjectReference</span></h3>
<div class="section">
<p><span class="merged" id="all.159XiV" style='background-color:yellow' title="原文 : LocalObjectReference contains enough information to let you locate the referenced object inside the same namespace.">LocalObjectReferenceには、同じネームスペース内で参照オブジェクトを見つけるために十分な情報が含まれています。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.16"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.16"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.16"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.16"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.309fiz.2"  title="原文: name"><code>name</code></span></td>
<td class=""><span class="merged" id="all.2JSjEr.spl1" style='background-color:yellow' title="原文 : Name of the referent.">参照の名前。</span> <span class="merged" id="all.2JSjEr.spl2" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names">詳細情報: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names" id="" target="_blank" >https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></span> </td>
<td class=""><span class="merged" id="all.W18FC.10"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.4"  title="原文:: true">true</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.16" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_namedportspec"><span class="merged" id="all.29ug0M"  title="原文: NamedPortSpec">NamedPortSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.3jSBBf" style='background-color:yellow' title="原文 : NamedPortSpec defines a named port for a Coherence component">NamedPortSpecは、Coherenceコンポーネントの名前付きポートを定義</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.17"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.17"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.17"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.17"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.309fiz.3"  title="原文: name"><code>name</code></span></td>
<td class=""><span class="merged" id="all.xrI53" style='background-color:yellow' title="原文 : Name specifies the name of the port.">名前には、ポートの名前を指定します。</span></td>
<td class=""><span class="merged" id="all.W18FC.11"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.5"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2OXzp4.1"  title="原文: port"><code>port</code></span></td>
<td class=""><span class="merged" id="all.3BfDXR" style='background-color:yellow' title="原文 : Port specifies the port used.">Portは、使用されるポートを指定します。</span></td>
<td class=""><span class="merged" id="all.2UR1bd"  title="原文: int32"><code>int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.122"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4T3cXD"  title="原文: protocol"><code>protocol</code></span></td>
<td class=""><span class="merged" id="all.iJWpU.spl1" style='background-color:yellow' title="原文 : Protocol for container port.">コンテナ・ポートのプロトコル。</span> <span class="merged" id="all.iJWpU.spl2" style='background-color:yellow' title="原文 : Must be UDP or TCP.">UDPまたはTCPである必要があります。</span> <span class="merged" id="all.iJWpU.spl3" style='background-color:yellow' title="原文 : Defaults to &quot;TCP&quot;">デフォルトは「TCP」です</span> </td>
<td class=""><span class="merged" id="all.HErNU"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#Protocol"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#Protocol" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#Protocol</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.123"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3ueISg"  title="原文: appProtocol"><code>appProtocol</code></span></td>
<td class=""><span class="merged" id="all.36IyQe.spl1" style='background-color:yellow' title="原文 : The application protocol for this port.">このポートのアプリケーション・プロトコル。</span> <span class="merged" id="all.36IyQe.spl2" style='background-color:yellow' title="原文 : This field follows standard Kubernetes label syntax.">このフィールドは、標準のKubernetesラベル構文に従います。</span> <span class="merged" id="all.36IyQe.spl3" style='background-color:yellow' title="原文 : Un-prefixed names are reserved for IANA standard service names (as per RFC-6335 and http://www.iana.org/assignments/service-names).">プレフィクスなしの名前は、IANA標準サービス名(RFC-6335および<a href="http://www.iana.org/assignments/service-names" id="" target="_blank" >http://www.iana.org/assignments/service-names</a>に従って)用に予約されています。</span> <span class="merged" id="all.36IyQe.spl4" style='background-color:yellow' title="原文 : Non-standard protocols should use prefixed names such as mycompany.com/my-custom-protocol.">標準以外のプロトコルでは、mycompany.com/my-custom-protocolなどのプレフィクス付きの名前を使用する必要があります。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.26"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.124"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3D4sOI"  title="原文: nodePort"><code>nodePort</code></span></td>
<td class=""><span class="merged" id="all.1mnvor.spl1" style='background-color:yellow' title="原文 : The port on each node on which this service is exposed when type=NodePort or LoadBalancer.">type=NodePortまたはLoadBalancerの場合に、このサービスが公開される各ノードのポート。</span> <span class="merged" id="all.1mnvor.spl2" style='background-color:yellow' title="原文 : Usually assigned by the system.">通常はシステムによって割り当てられます。</span> <span class="merged" id="all.1mnvor.spl3" style='background-color:yellow' title="原文 : If specified, it will be allocated to the service if unused or else creation of the service will fail.">指定した場合、未使用の場合またはサービスの作成が失敗した場合、サービスに割り当てられます。</span> <span class="merged" id="all.1mnvor.spl4" style='background-color:yellow' title="原文 : If set, this field must be in the range 30000 - 32767 inclusive.">設定されている場合、このフィールドは30000の範囲内である必要があります - 32767 inclusive.</span> <span class="merged" id="all.1mnvor.spl5" style='background-color:yellow' title="原文 : Default is to auto-allocate a port if the ServiceType of this Service requires one.">デフォルトでは、このサービスのServiceTypeにポートが1つする必要があります。</span> <span class="merged" id="all.1mnvor.spl6" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport">詳細情報: <a href="https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport" id="" target="_blank" >https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport</a></span> </td>
<td class=""><span class="merged" id="all.C5sgP.7"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.125"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3s1Qpl"  title="原文: hostPort"><code>hostPort</code></span></td>
<td class=""><span class="merged" id="all.2uXXZu.spl1" style='background-color:yellow' title="原文 : Number of port to expose on the host.">ホストで公開するポートの数。</span> <span class="merged" id="all.2uXXZu.spl2" style='background-color:yellow' title="原文 : If specified, this must be a valid port number, 0 &lt; x &lt; 65536.">指定する場合、これは有効なポート番号(0 &lt; x &lt; 65536)である必要があります。</span> <span class="merged" id="all.2uXXZu.spl3" style='background-color:yellow' title="原文 : If HostNetwork is specified, this must match ContainerPort.">HostNetworkを指定する場合は、ContainerPortと一致する必要があります。</span> <span class="merged" id="all.2uXXZu.spl4" style='background-color:yellow' title="原文 : Most containers do not need this.">ほとんどのコンテナには必要ありません。</span> </td>
<td class=""><span class="merged" id="all.C5sgP.8"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.126"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1Jxxyl"  title="原文: hostIP"><code>hostIP</code></span></td>
<td class=""><span class="merged" id="all.mUPtR" style='background-color:yellow' title="原文 : What host IP to bind the external port to.">外部ポートをバインドするホストIP。</span></td>
<td class=""><span class="merged" id="all.2JXhOu.27"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.127"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.30hFTR"  title="原文: service"><code>service</code></span></td>
<td class=""><span class="merged" id="all.3CYRE4" style='background-color:yellow' title="原文 : Service configures the Kubernetes Service used to expose the port.">サービスは、ポートの公開に使用されるKubernetesサービスを構成します。</span></td>
<td class=""><span class="merged" id="all.2W8QHW"  title="原文: *ServiceSpec"><code>*<router-link @click.native="this.scrollFix('#_servicespec')" to="#_servicespec">ServiceSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.128"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.zeyxS"  title="原文: serviceMonitor"><code>serviceMonitor</code></span></td>
<td class=""><span class="merged" id="all.3ckekZ" style='background-color:yellow' title="原文 : The specification of a Prometheus ServiceMonitor resource that will be created for the Service being exposed for this port.">このポートで公開されるサービスに対して作成されるPrometheus ServiceMonitorリソースの仕様。</span></td>
<td class=""><span class="merged" id="all.3QTh8q"  title="原文: *ServiceMonitorSpec"><code>*<router-link @click.native="this.scrollFix('#_servicemonitorspec')" to="#_servicemonitorspec">ServiceMonitorSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.129"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1BUG1f"  title="原文: exposeOnSts"><code>exposeOnSts</code></span></td>
<td class=""><span class="merged" id="all.186Za5.spl1" style='background-color:yellow' title="原文 : ExposeOnSTS is a flag to indicate that this port should also be exposed on the StatefulSetHeadless service.">ExposeOnSTSは、このポートをStatefulSetHeadlessサービスでも公開する必要があることを示すフラグです。</span> <span class="merged" id="all.186Za5.spl2" style='background-color:yellow' title="原文 : This is useful in cases where a service mesh such as Istio is being used and ports such as the Extend or gRPC ports are accessed via the StatefulSet service.">これは、Istioなどのサービス・メッシュが使用され、ExtendやgRPCポートなどのポートがStatefulSetサービスを介してアクセスされる場合に役立ちます。</span> <span class="merged" id="all.186Za5.spl3" style='background-color:yellow' title="原文 : The default is true so all additional ports are exposed on the StatefulSet headless service.">デフォルトは<code>true</code>であるため、追加のすべてのポートがStatefulSetヘッドレス・サービスで公開されます。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.17"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.130"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.17" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_networkspec"><span class="merged" id="all.1IlyA3"  title="原文: NetworkSpec">NetworkSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.3boW9p" style='background-color:yellow' title="原文 : NetworkSpec configures various networking and DNS settings for Pods in a deployment.">NetworkSpecは、デプロイメント内のポッドの様々なネットワークおよびDNS設定を構成します。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.18"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.18"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.18"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.18"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.PuAL6"  title="原文: dnsConfig"><code>dnsConfig</code></span></td>
<td class=""><span class="merged" id="all.28ajSY.spl1" style='background-color:yellow' title="原文 : Specifies the DNS parameters of a pod.">ポッドのDNSパラメータを指定します。</span> <span class="merged" id="all.28ajSY.spl2" style='background-color:yellow' title="原文 : Parameters specified here will be merged to the generated DNS configuration based on DNSPolicy.">ここで指定したパラメータは、DNSPolicyに基づいて生成されたDNS構成にマージされます。</span> </td>
<td class=""><span class="merged" id="all.3xOLGe"  title="原文: *PodDNSConfig"><code>*<router-link @click.native="this.scrollFix('#_poddnsconfig')" to="#_poddnsconfig">PodDNSConfig</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.131"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1MTAcN"  title="原文: dnsPolicy"><code>dnsPolicy</code></span></td>
<td class=""><span class="merged" id="all.341DOX.spl1" style='background-color:yellow' title="原文 : Set DNS policy for the pod.">ポッドのDNSポリシーを設定します。</span> <span class="merged" id="all.341DOX.spl2" style='background-color:yellow' title="原文 : Defaults to &quot;ClusterFirst&quot;.">デフォルトは"ClusterFirst"です。</span> <span class="merged" id="all.341DOX.spl3" style='background-color:yellow' title="原文 : Valid values are &apos;ClusterFirstWithHostNet&apos;, &apos;ClusterFirst&apos;, &apos;Default&apos; or &apos;None&apos;.">有効な値は、'ClusterFirstWithHostNet'、'ClusterFirst'、'デフォルト'または'なし'です。</span> <span class="merged" id="all.341DOX.spl4" style='background-color:yellow' title="原文 : DNS parameters given in DNSConfig will be merged with the policy selected with DNSPolicy.">DNSConfigで指定されたDNSパラメータは、DNSPolicyで選択したポリシーとマージされます。</span> <span class="merged" id="all.341DOX.spl5" style='background-color:yellow' title="原文 : To have DNS options set along with hostNetwork, you have to specify DNS policy explicitly to &apos;ClusterFirstWithHostNet&apos;.">DNSオプションをhostNetworkとともに設定するには、DNSポリシーを'ClusterFirstWithHostNet'に明示的に指定する必要があります。</span> </td>
<td class=""><span class="merged" id="all.3VD7py"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#DNSPolicy"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#DNSPolicy" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#DNSPolicy</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.132"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1x8Vka"  title="原文: hostAliases"><code>hostAliases</code></span></td>
<td class=""><span class="merged" id="all.csLDP.spl1" style='background-color:yellow' title="原文 : HostAliases is an optional list of hosts and IPs that will be injected into the pod’s hosts file if specified.">HostAliasesは、指定された場合にポッドのhostsファイルにインジェクトされるホストおよびIPのオプションのリストです。</span> <span class="merged" id="all.csLDP.spl2" style='background-color:yellow' title="原文 : This is only valid for non-hostNetwork pods.">これは、hostNetwork以外のポッドにのみ有効です。</span> </td>
<td class=""><span class="merged" id="all.4LXp0s"  title="原文: []corev1.HostAlias"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#hostalias-v1-core" id="" target="_blank" >corev1.HostAlias</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.133"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.yM6uO"  title="原文: hostNetwork"><code>hostNetwork</code></span></td>
<td class=""><span class="merged" id="all.42LdBP.spl1" style='background-color:yellow' title="原文 : Host networking requested for this pod.">このポッドでホスト・ネットワーキングがリクエストされました。</span> <span class="merged" id="all.42LdBP.spl2" style='background-color:yellow' title="原文 : Use the host’s network namespace.">ホストのネットワーク・ネームスペースを使用します。</span> <span class="merged" id="all.42LdBP.spl3" style='background-color:yellow' title="原文 : If this option is set, the ports that will be used must be specified.">このオプションが設定されている場合は、使用されるポートを指定する必要があります。</span> <span class="merged" id="all.42LdBP.spl4" style='background-color:yellow' title="原文 : Default to false.">デフォルトはfalseです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.18"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.134"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.28fJbR"  title="原文: hostname"><code>hostname</code></span></td>
<td class=""><span class="merged" id="all.VMWGt" style='background-color:yellow' title="原文 : Specifies the hostname of the Pod If not specified, the pod’s hostname will be set to a system-defined value.">ポッドのホスト名を指定します。指定しない場合、ポッドのホスト名はシステム定義の値に設定されます。</span></td>
<td class=""><span class="merged" id="all.2JXhOu.28"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.135"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1WY9fs"  title="原文: setHostnameAsFQDN"><code>setHostnameAsFQDN</code></span></td>
<td class=""><span class="merged" id="all.2DDUPH.spl1" style='background-color:yellow' title="原文 : SetHostnameAsFQDN if true the pod’s hostname will be configured as the pod’s FQDN, rather than the leaf name (the default).">SetHostnameAsFQDN trueの場合、ポッドのホスト名はリーフ名(デフォルト)ではなく、ポッドのFQDNとして構成されます。</span> <span class="merged" id="all.2DDUPH.spl2" style='background-color:yellow' title="原文 : In Linux containers, this means setting the FQDN in the hostname field of the kernel (the nodename field of struct utsname).">Linuxコンテナでは、これはカーネルのホスト名フィールドのFQDN (構造体utsnameのノード名フィールド)を設定することを意味します。</span> <span class="merged" id="all.2DDUPH.spl3" style='background-color:yellow' title="原文 : In Windows containers, this means setting the registry value of hostname for the registry key HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters to FQDN.">Windowsコンテナでは、レジストリ・キーHKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parametersのホスト名のレジストリ値をFQDNに設定します。</span> <span class="merged" id="all.2DDUPH.spl4" style='background-color:yellow' title="原文 : If a pod does not have FQDN, this has no effect.">ポッドにFQDNがない場合、これは効果がありません。</span> <span class="merged" id="all.2DDUPH.spl5" style='background-color:yellow' title="原文 : Default to false.">デフォルトはfalseです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.19"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.136"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3dD2Ww"  title="原文: subdomain"><code>subdomain</code></span></td>
<td class=""><span class="merged" id="all.1MIpf7.spl1" style='background-color:yellow' title="原文 : Subdomain, if specified, the fully qualified Pod hostname will be &quot;&lt;hostname&gt;.&lt;subdomain&gt;.&lt;pod namespace&gt;.svc.&lt;cluster domain&gt;&quot;.">サブドメインが指定されている場合、完全修飾ポッド・ホスト名は" &lt;hostname>.&lt;subdomain>.&lt;pod namespace>.svc.&lt;cluster domain> "になります。</span> <span class="merged" id="all.1MIpf7.spl2" style='background-color:yellow' title="原文 : If not specified, the pod will not have a domain name at all.">指定しない場合、ポッドにはドメイン名がありません。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.29"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.137"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.18" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_persistencespec"><span class="merged" id="all.2u8vXr"  title="原文: PersistenceSpec">PersistenceSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.rtat5" style='background-color:yellow' title="原文 : PersistenceSpec is the spec for Coherence persistence.">PersistenceSpecは、Coherenceの永続性に関する仕様です。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.19"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.19"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.19"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.19"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.2Uy1sm"  title="原文: mode"><code>mode</code></span></td>
<td class=""><span class="merged" id="all.1zx5sO.spl1" style='background-color:yellow' title="原文 : The persistence mode to use.">使用する永続性モード。</span> <span class="merged" id="all.1zx5sO.spl2" style='background-color:yellow' title="原文 : Valid choices are &quot;on-demand&quot;, &quot;active&quot;, &quot;active-async&quot;.">有効な選択肢は、"on-demand"、"active"、"active-async"です。</span> <span class="merged" id="all.1zx5sO.spl3" style='background-color:yellow' title="原文 : This field will set the coherence.distributed.persistence-mode System property to &quot;default-&quot; + Mode.">このフィールドでは、coherence.distributed.persistence-mode Systemプロパティを「default-」+Modeに設定します。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.30"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.138"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2s8E51"  title="原文: persistentVolumeClaim"><code>persistentVolumeClaim</code></span></td>
<td class=""><span class="merged" id="all.14q9J9" style='background-color:yellow' title="原文 : PersistentVolumeClaim allows the configuration of a normal k8s persistent volume claim for persistence data.">PersistentVolumeClaimでは、永続データに対する通常のk8s永続ボリューム要求を構成できます。</span></td>
<td class=""><span class="merged" id="all.2oLKz"  title="原文: *corev1.PersistentVolumeClaimSpec"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#persistentvolumeclaimspec-v1-core" id="" target="_blank" >corev1.PersistentVolumeClaimSpec</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.139"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3d0WZg"  title="原文: volume"><code>volume</code></span></td>
<td class=""><span class="merged" id="all.2Qq2Md.spl1" style='background-color:yellow' title="原文 : Volume allows the configuration of a normal k8s volume mapping for persistence data instead of a persistent volume claim.">ボリュームでは、永続ボリューム要求ではなく、永続データに対する通常のk8sボリューム・マッピングを構成できます。</span> <span class="merged" id="all.2Qq2Md.spl2" style='background-color:yellow' title="原文 : If a value is defined for store.persistence.volume then no PVC will be created and persistence data will instead be written to this volume.">store.persistence.volumeに値が定義されている場合、PVCは作成されず、かわりに永続性データはこのボリュームに書き込まれます。</span> <span class="merged" id="all.2Qq2Md.spl3" style='background-color:yellow' title="原文 : It is up to the deployer to understand the consequences of this and how the guarantees given when using PVCs differ to the storage guarantees for the particular volume type configured here.">これは、この結果と、PVCの使用時に得られる保証が、ここで構成されている特定のボリューム・タイプに対するストレージ保証とどのように異なるかを、デプロイヤが理解する必要があります。</span> </td>
<td class=""><span class="merged" id="all.17NnXQ.1"  title="原文: *https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core" id="" target="_blank" >https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.140"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2VBWrk"  title="原文: snapshots"><code>snapshots</code></span></td>
<td class=""><span class="merged" id="all.4UpbE4.spl1" style='background-color:yellow' title="原文 : Snapshot values configure the on-disc persistence data snapshot (backup) settings.">スナップショット値は、disc永続データ・スナップショット(バックアップ)設定を構成します。</span> <span class="merged" id="all.4UpbE4.spl2" style='background-color:yellow' title="原文 : These settings enable a different location for persistence snapshot data.">これらの設定により、永続スナップショット・データの別のロケーションが有効になります。</span> <span class="merged" id="all.4UpbE4.spl3" style='background-color:yellow' title="原文 : If not set then snapshot files will be written to the same volume configured for persistence data in the Persistence section.">設定しない場合、スナップショット・ファイルは、永続性セクションの永続性データ用に構成された同じボリュームに書き込まれます。</span> </td>
<td class=""><span class="merged" id="all.44JnR9"  title="原文: *PersistentStorageSpec"><code>*<router-link @click.native="this.scrollFix('#_persistentstoragespec')" to="#_persistentstoragespec">PersistentStorageSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.141"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.19" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_persistentstoragespec"><span class="merged" id="all.17Rh58"  title="原文: PersistentStorageSpec">PersistentStorageSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.Cnqa3" style='background-color:yellow' title="原文 : PersistentStorageSpec defines the persistence settings for the Coherence">PersistentStorageSpecは、Coherenceの永続性設定を定義</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.20"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.20"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.20"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.20"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.2s8E51.1"  title="原文: persistentVolumeClaim"><code>persistentVolumeClaim</code></span></td>
<td class=""><span class="merged" id="all.14q9J9.1" style='background-color:yellow' title="原文 : PersistentVolumeClaim allows the configuration of a normal k8s persistent volume claim for persistence data.">PersistentVolumeClaimでは、永続データに対する通常のk8s永続ボリューム要求を構成できます。</span></td>
<td class=""><span class="merged" id="all.2oLKz.1"  title="原文: *corev1.PersistentVolumeClaimSpec"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#persistentvolumeclaimspec-v1-core" id="" target="_blank" >corev1.PersistentVolumeClaimSpec</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.142"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3d0WZg.1"  title="原文: volume"><code>volume</code></span></td>
<td class=""><span class="merged" id="all.2Qq2Md.1.spl1" style='background-color:yellow' title="原文 : Volume allows the configuration of a normal k8s volume mapping for persistence data instead of a persistent volume claim.">ボリュームでは、永続ボリューム要求ではなく、永続データに対する通常のk8sボリューム・マッピングを構成できます。</span> <span class="merged" id="all.2Qq2Md.1.spl2" style='background-color:yellow' title="原文 : If a value is defined for store.persistence.volume then no PVC will be created and persistence data will instead be written to this volume.">store.persistence.volumeに値が定義されている場合、PVCは作成されず、かわりに永続性データはこのボリュームに書き込まれます。</span> <span class="merged" id="all.2Qq2Md.1.spl3" style='background-color:yellow' title="原文 : It is up to the deployer to understand the consequences of this and how the guarantees given when using PVCs differ to the storage guarantees for the particular volume type configured here.">これは、この結果と、PVCの使用時に得られる保証が、ここで構成されている特定のボリューム・タイプに対するストレージ保証とどのように異なるかを、デプロイヤが理解する必要があります。</span> </td>
<td class=""><span class="merged" id="all.17NnXQ.2"  title="原文: *https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core" id="" target="_blank" >https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.143"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.20" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_persistentvolumeclaim"><span class="merged" id="all.2p56RP"  title="原文: PersistentVolumeClaim">PersistentVolumeClaim</span></h3>
<div class="section">
<p><span class="merged" id="all.4SpziK" style='background-color:yellow' title="原文 : PersistentVolumeClaim is a request for and claim to a persistent volume">PersistentVolumeClaimは、永続ボリュームに対するリクエストであり、要求</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.21"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.21"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.21"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.21"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.Tgr1J"  title="原文: metadata"><code>metadata</code></span></td>
<td class=""><span class="merged" id="all.4NNFob.spl1" style='background-color:yellow' title="原文 : Standard object’s metadata.">Standardオブジェクトのメタデータ。</span> <span class="merged" id="all.4NNFob.spl2" style='background-color:yellow' title="原文 : More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata">詳細情報: <a href="https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata" id="" target="_blank" >https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></span> </td>
<td class=""><span class="merged" id="all.4Jkso5"  title="原文: PersistentVolumeClaimObjectMeta"><code><router-link @click.native="this.scrollFix('#_persistentvolumeclaimobjectmeta')" to="#_persistentvolumeclaimobjectmeta">PersistentVolumeClaimObjectMeta</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.144"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.26upHQ.1"  title="原文: spec"><code>spec</code></span></td>
<td class=""><span class="merged" id="all.2M7c8i.spl1" style='background-color:yellow' title="原文 : Spec defines the desired characteristics of a volume requested by a pod author.">仕様は、ポッド作成者がリクエストしたボリュームの希望する特性を定義します。</span> <span class="merged" id="all.2M7c8i.spl2" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims">詳細情報: <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims" id="" target="_blank" >https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></span> </td>
<td class=""><span class="merged" id="all.43u5op"  title="原文: corev1.PersistentVolumeClaimSpec"><code><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#persistentvolumeclaimspec-v1-core" id="" target="_blank" >corev1.PersistentVolumeClaimSpec</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.145"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.21" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_persistentvolumeclaimobjectmeta"><span class="merged" id="all.yLoTw"  title="原文: PersistentVolumeClaimObjectMeta">PersistentVolumeClaimObjectMeta</span></h3>
<div class="section">
<p><span class="merged" id="all.39o7cP" style='background-color:yellow' title="原文 : PersistentVolumeClaimObjectMeta is metadata for the PersistentVolumeClaim.">PersistentVolumeClaimObjectMetaは、PersistentVolumeClaimのメタデータです。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.22"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.22"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.22"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.22"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.309fiz.4"  title="原文: name"><code>name</code></span></td>
<td class=""><span class="merged" id="all.UaDQy.spl1" style='background-color:yellow' title="原文 : Name must be unique within a namespace.">名前はネームスペース内で一意である必要があります。</span> <span class="merged" id="all.UaDQy.spl2" style='background-color:yellow' title="原文 : Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically.">リソースの作成時に必要になりますが、一部のリソースでは、クライアントが適切な名前の生成を自動的にリクエストできる場合があります。</span> <span class="merged" id="all.UaDQy.spl3" style='background-color:yellow' title="原文 : Name is primarily intended for creation idempotence and configuration definition.">名前は主に、べき等の作成および構成定義を目的としています。</span> <span class="merged" id="all.UaDQy.spl4"  title="原文:: Cannot be updated.">更新できません。</span> <span class="merged" id="all.UaDQy.spl5" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/">詳細情報: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/names/" id="" target="_blank" >https://kubernetes.io/docs/concepts/overview/working-with-objects/names/</a></span> </td>
<td class=""><span class="merged" id="all.W18FC.12"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.146"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2Dbs6Z.3"  title="原文: labels"><code>labels</code></span></td>
<td class=""><span class="merged" id="all.1NGASV.1.spl1" style='background-color:yellow' title="原文 : Map of string keys and values that can be used to organize and categorize (scope and select) objects.">オブジェクトの編成および分類(スコープおよび選択)に使用できる文字列キーおよび値のマップ。</span> <span class="merged" id="all.1NGASV.1.spl2" style='background-color:yellow' title="原文 : May match selectors of replication controllers and services.">レプリケーション・コントローラとサービスのセレクタを一致させることができます。</span> <span class="merged" id="all.1NGASV.1.spl3" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">詳細情報: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" id="" target="_blank" >https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/</a></span> </td>
<td class=""><span class="merged" id="all.6My6t.7"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.147"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2uY9DD.3"  title="原文: annotations"><code>annotations</code></span></td>
<td class=""><span class="merged" id="all.RADJ8.1.spl1" style='background-color:yellow' title="原文 : Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata.">注釈は、任意のメタデータを格納および取得するために外部ツールで設定できるリソースとともに格納される非構造化キー値マップです。</span> <span class="merged" id="all.RADJ8.1.spl2" style='background-color:yellow' title="原文 : They are not queryable and should be preserved when modifying objects.">これらはクエリー可能ではなく、オブジェクトを変更するときに保持する必要があります。</span> <span class="merged" id="all.RADJ8.1.spl3" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">詳細情報: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/" id="" target="_blank" >https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/</a></span> </td>
<td class=""><span class="merged" id="all.6My6t.8"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.148"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.22" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_poddnsconfig"><span class="merged" id="all.2hBMCe"  title="原文: PodDNSConfig">PodDNSConfig</span></h3>
<div class="section">
<p><span class="merged" id="all.2HSjaL" style='background-color:yellow' title="原文 : PodDNSConfig defines the DNS parameters of a pod in addition to those generated from DNSPolicy.">PodDNSConfigは、DNSPolicyから生成されたものに加えて、ポッドのDNSパラメータを定義します。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.23"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.23"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.23"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.23"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.3jGawz"  title="原文: nameservers"><code>nameservers</code></span></td>
<td class=""><span class="merged" id="all.2WPUt6.spl1" style='background-color:yellow' title="原文 : A list of DNS name server IP addresses.">DNSネーム・サーバーのIPアドレスのリスト。</span> <span class="merged" id="all.2WPUt6.spl2" style='background-color:yellow' title="原文 : This will be appended to the base nameservers generated from DNSPolicy.">これは、DNSPolicyから生成されたベース・ネーム・サーバーに追加されます。</span> <span class="merged" id="all.2WPUt6.spl3" style='background-color:yellow' title="原文 : Duplicated nameservers will be removed.">重複したネーム・サーバーが削除されます。</span> </td>
<td class=""><span class="merged" id="all.rXwhA.6"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.149"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.uHfFv"  title="原文: searches"><code>searches</code></span></td>
<td class=""><span class="merged" id="all.3OBhnb.spl1" style='background-color:yellow' title="原文 : A list of DNS search domains for host-name lookup.">ホスト名検索用のDNS検索ドメインのリスト。</span> <span class="merged" id="all.3OBhnb.spl2" style='background-color:yellow' title="原文 : This will be appended to the base search paths generated from DNSPolicy.">これは、DNSPolicyから生成されたベース検索パスに追加されます。</span> <span class="merged" id="all.3OBhnb.spl3" style='background-color:yellow' title="原文 : Duplicated search paths will be removed.">重複した検索パスが削除されます。</span> </td>
<td class=""><span class="merged" id="all.rXwhA.7"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.150"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3ueYs0"  title="原文: options"><code>options</code></span></td>
<td class=""><span class="merged" id="all.3HNitx.spl1" style='background-color:yellow' title="原文 : A list of DNS resolver options.">DNSリゾルバ・オプションのリスト。</span> <span class="merged" id="all.3HNitx.spl2" style='background-color:yellow' title="原文 : This will be merged with the base options generated from DNSPolicy.">これは、DNSPolicyから生成された基本オプションとマージされます。</span> <span class="merged" id="all.3HNitx.spl3" style='background-color:yellow' title="原文 : Duplicated entries will be removed.">重複するエントリが削除されます。</span> <span class="merged" id="all.3HNitx.spl4" style='background-color:yellow' title="原文 : Resolution options given in Options will override those that appear in the base DNSPolicy.">オプションで指定された解決オプションは、ベースDNSPolicyに表示される解決オプションをオーバーライドします。</span> </td>
<td class=""><span class="merged" id="all.2tSLPp"  title="原文: []corev1.PodDNSConfigOption"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#poddnsconfigoption-v1-core" id="" target="_blank" >corev1.PodDNSConfigOption</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.151"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.23" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_portspecwithssl"><span class="merged" id="all.2p3Ou5"  title="原文: PortSpecWithSSL">PortSpecWithSSL</span></h3>
<div class="section">
<p><span class="merged" id="all.46Rlsw" style='background-color:yellow' title="原文 : PortSpecWithSSL defines a port with SSL settings for a Coherence component">PortSpecWithSSLは、CoherenceコンポーネントのSSL設定を含むポートを定義</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.24"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.24"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.24"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.24"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.48UcwL.2"  title="原文: enabled"><code>enabled</code></span></td>
<td class=""><span class="merged" id="all.45nQBa" style='background-color:yellow' title="原文 : Enable or disable flag.">フラグを有効または無効にします。</span></td>
<td class=""><span class="merged" id="all.q9cn0.20"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.152"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2OXzp4.2"  title="原文: port"><code>port</code></span></td>
<td class=""><span class="merged" id="all.2UaWjr" style='background-color:yellow' title="原文 : The port to bind to.">バインド先のポート。</span></td>
<td class=""><span class="merged" id="all.C5sgP.9"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.153"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3vz3n4"  title="原文: ssl"><code>ssl</code></span></td>
<td class=""><span class="merged" id="all.IqoZH" style='background-color:yellow' title="原文 : SSL configures SSL settings for a Coherence component">SSLはCoherenceコンポーネントのSSL設定を構成</span></td>
<td class=""><span class="merged" id="all.3T4zQC"  title="原文: *SSLSpec"><code>*<router-link @click.native="this.scrollFix('#_sslspec')" to="#_sslspec">SSLSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.154"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.24" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_probe"><span class="merged" id="all.PgUUo"  title="原文:: Probe">Probe</span></h3>
<div class="section">
<p><span class="merged" id="all.cMrNZ.spl1" style='background-color:yellow' title="原文 : Probe is the handler that will be used to determine how to communicate with a Coherence deployment for operations like StatusHA checking and service suspension.">Probeは、StatusHAチェックやサービス停止などの操作のためにCoherenceデプロイメントと通信する方法を決定するために使用されるハンドラです。</span> <span class="merged" id="all.cMrNZ.spl2" style='background-color:yellow' title="原文 : StatusHA checking is primarily used during scaling of a deployment, a deployment must be in a safe Phase HA state before scaling takes place.">StatusHAチェックは、主にデプロイメントのスケーリング中に使用されます。スケーリングが実行される前に、デプロイメントはセーフ・フェーズのHA状態である必要があります。</span> <span class="merged" id="all.cMrNZ.spl3" style='background-color:yellow' title="原文 : If StatusHA handler is disabled for a deployment (by specifically setting Enabled to false then no check will take place and a deployment will be assumed to be safe).">デプロイメントに対してStatusHAハンドラが無効になっている場合(特に有効をfalseに設定すると、チェックは実行されず、デプロイメントは安全であるとみなされます)。</span> </p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.25"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.25"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.25"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.25"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.1uWagV"  title="原文: timeoutSeconds"><code>timeoutSeconds</code></span></td>
<td class=""><span class="merged" id="all.3XJmsn.spl1" style='background-color:yellow' title="原文 : Number of seconds after which the handler times out (only applies to http and tcp handlers).">ハンドラがタイムアウトするまでの秒数(httpおよびtcpハンドラにのみ適用されます)。</span> <span class="merged" id="all.3XJmsn.spl2" style='background-color:yellow' title="原文 : Defaults to 1 second.">デフォルトは1秒です。</span> <span class="merged" id="all.3XJmsn.spl3"  title="原文:: Minimum value is 1.">最小値は1です。</span> </td>
<td class=""><span class="merged" id="all.3IVb0a"  title="原文: *int"><code>*int</code></span></td>
<td class=""><span class="merged" id="all.njUKu.155"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.25" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_probehandler"><span class="merged" id="all.4Id4ne"  title="原文: ProbeHandler">ProbeHandler</span></h3>
<div class="section">
<p><span class="merged" id="all.1pnqn7" style='background-color:yellow' title="原文 : ProbeHandler is the definition of a probe handler.">ProbeHandlerは、プローブ・ハンドラの定義です。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.26"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.26"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.26"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.26"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.i6xEu"  title="原文: exec"><code>exec</code></span></td>
<td class=""><span class="merged" id="all.4bLZgz.spl1" style='background-color:yellow' title="原文 : One and only one of the following should be specified.">次のうち1つだけを指定する必要があります。</span> <span class="merged" id="all.4bLZgz.spl2" style='background-color:yellow' title="原文 : Exec specifies the action to take.">実行は実行するアクションを指定します。</span> </td>
<td class=""><span class="merged" id="all.4auBYg"  title="原文: *corev1.ExecAction"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#execaction-v1-core" id="" target="_blank" >corev1.ExecAction</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.156"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.24jtXI"  title="原文: httpGet"><code>httpGet</code></span></td>
<td class=""><span class="merged" id="all.3Jk3is" style='background-color:yellow' title="原文 : HTTPGet specifies the http request to perform.">HTTPGetでは、実行するHTTPリクエストを指定します。</span></td>
<td class=""><span class="merged" id="all.1e3ZLo"  title="原文: *corev1.HTTPGetAction"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#httpgetaction-v1-core" id="" target="_blank" >corev1.HTTPGetAction</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.157"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4NJYXE"  title="原文: tcpSocket"><code>tcpSocket</code></span></td>
<td class=""><span class="merged" id="all.3HTJ82.spl1" style='background-color:yellow' title="原文 : TCPSocket specifies an action involving a TCP port.">TCPSocketは、TCPポートに関連するアクションを指定します。</span> <span class="merged" id="all.3HTJ82.spl2" style='background-color:yellow' title="原文 : TCP hooks not yet supported">TCPフックはまだサポートされていません</span> </td>
<td class=""><span class="merged" id="all.28LQzq"  title="原文: *corev1.TCPSocketAction"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#tcpsocketaction-v1-core" id="" target="_blank" >corev1.TCPSocketAction</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.158"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.26" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_readinessprobespec"><span class="merged" id="all.2SZDwB"  title="原文: ReadinessProbeSpec">ReadinessProbeSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.4cdcFV" style='background-color:yellow' title="原文 : ReadinessProbeSpec defines the settings for the Coherence Pod readiness probe">ReadinessProbeSpecは、Coherenceポッド・レディネス・プローブの設定を定義</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.27"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.27"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.27"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.27"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.i6xEu.1"  title="原文: exec"><code>exec</code></span></td>
<td class=""><span class="merged" id="all.4bLZgz.1.spl1" style='background-color:yellow' title="原文 : One and only one of the following should be specified.">次のうち1つだけを指定する必要があります。</span> <span class="merged" id="all.4bLZgz.1.spl2" style='background-color:yellow' title="原文 : Exec specifies the action to take.">実行は実行するアクションを指定します。</span> </td>
<td class=""><span class="merged" id="all.4auBYg.1"  title="原文: *corev1.ExecAction"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#execaction-v1-core" id="" target="_blank" >corev1.ExecAction</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.159"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.24jtXI.1"  title="原文: httpGet"><code>httpGet</code></span></td>
<td class=""><span class="merged" id="all.3Jk3is.1" style='background-color:yellow' title="原文 : HTTPGet specifies the http request to perform.">HTTPGetでは、実行するHTTPリクエストを指定します。</span></td>
<td class=""><span class="merged" id="all.1e3ZLo.1"  title="原文: *corev1.HTTPGetAction"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#httpgetaction-v1-core" id="" target="_blank" >corev1.HTTPGetAction</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.160"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4NJYXE.1"  title="原文: tcpSocket"><code>tcpSocket</code></span></td>
<td class=""><span class="merged" id="all.3HTJ82.1.spl1" style='background-color:yellow' title="原文 : TCPSocket specifies an action involving a TCP port.">TCPSocketは、TCPポートに関連するアクションを指定します。</span> <span class="merged" id="all.3HTJ82.1.spl2" style='background-color:yellow' title="原文 : TCP hooks not yet supported">TCPフックはまだサポートされていません</span> </td>
<td class=""><span class="merged" id="all.28LQzq.1"  title="原文: *corev1.TCPSocketAction"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#tcpsocketaction-v1-core" id="" target="_blank" >corev1.TCPSocketAction</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.161"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.ESiyH"  title="原文: initialDelaySeconds"><code>initialDelaySeconds</code></span></td>
<td class=""><span class="merged" id="all.121UKb.spl1" style='background-color:yellow' title="原文 : Number of seconds after the container has started before liveness probes are initiated.">リブネス・プローブが開始されるまでのコンテナ起動後の秒数。</span> <span class="merged" id="all.121UKb.spl2" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes">詳細情報: <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes" id="" target="_blank" >https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></span> </td>
<td class=""><span class="merged" id="all.C5sgP.10"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.162"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1uWagV.1"  title="原文: timeoutSeconds"><code>timeoutSeconds</code></span></td>
<td class=""><span class="merged" id="all.1lcHAE.spl1" style='background-color:yellow' title="原文 : Number of seconds after which the probe times out.">プローブがタイムアウトするまでの秒数。</span> <span class="merged" id="all.1lcHAE.spl2" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes">詳細情報: <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes" id="" target="_blank" >https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></span> </td>
<td class=""><span class="merged" id="all.C5sgP.11"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.163"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1BeYeS"  title="原文: periodSeconds"><code>periodSeconds</code></span></td>
<td class=""><span class="merged" id="all.3QeOdD" style='background-color:yellow' title="原文 : How often (in seconds) to perform the probe.">プローブを実行する頻度(秒)。</span></td>
<td class=""><span class="merged" id="all.C5sgP.12"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.164"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1tg8tz"  title="原文: successThreshold"><code>successThreshold</code></span></td>
<td class=""><span class="merged" id="all.3FlaF" style='background-color:yellow' title="原文 : Minimum consecutive successes for the probe to be considered successful after having failed.">失敗したあとにプローブが成功したとみなされる最小連続成功。</span></td>
<td class=""><span class="merged" id="all.C5sgP.13"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.165"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4ZE4zx"  title="原文: failureThreshold"><code>failureThreshold</code></span></td>
<td class=""><span class="merged" id="all.3FUYTt" style='background-color:yellow' title="原文 : Minimum consecutive failures for the probe to be considered failed after having succeeded.">成功したあと、プローブが失敗したとみなされる最小連続障害。</span></td>
<td class=""><span class="merged" id="all.C5sgP.14"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.166"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.27" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_resource"><span class="merged" id="all.1HMyCe"  title="原文:: Resource">Resource</span></h3>
<div class="section">
<p><span class="merged" id="all.4NSQyu" style='background-color:yellow' title="原文 : Resource is a structure holding a resource to be managed">Resourceは、管理対象のリソースを保持する構造です</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.28"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.28"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.28"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.28"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.xPaN2"  title="原文: kind"><code>kind</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.3NqnZg"  title="原文: ResourceType"><code>ResourceType</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.6"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.309fiz.5"  title="原文: name"><code>name</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.W18FC.13"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.7"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.26upHQ.2"  title="原文: spec"><code>spec</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.3uVVnc"  title="原文: client.Object"><code>client.Object</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.8"  title="原文:: true">true</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.28" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_resources"><span class="merged" id="all.20Qk5l"  title="原文:: Resources">Resources</span></h3>
<div class="section">
<p><span class="merged" id="all.1QiY8w" style='background-color:yellow' title="原文 : Resources is a cloolection of resources to be managed.">Resourcesは、管理対象のリソースの選択です。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.29"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.29"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.29"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.29"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.4IYcyO"  title="原文: version"><code>version</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.2UR1bd.1"  title="原文: int32"><code>int32</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.9"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1WuGEZ.1"  title="原文: items"><code>items</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.PvmPk"  title="原文: []Resource"><code>[]<router-link @click.native="this.scrollFix('#_resource')" to="#_resource">Resource</router-link></code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.10"  title="原文:: true">true</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.29" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_sslspec"><span class="merged" id="all.3ybA41" style='background-color:yellow' title="原文 : SSLSpec">SSLSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.1EBKNI" style='background-color:yellow' title="原文 : SSLSpec defines the SSL settings for a Coherence component over REST endpoint.">SSLSpecは、RESTエンドポイントを介したCoherenceコンポーネントのSSL設定を定義します。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.30"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.30"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.30"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.30"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.48UcwL.3"  title="原文: enabled"><code>enabled</code></span></td>
<td class=""><span class="merged" id="all.9SH9w" style='background-color:yellow' title="原文 : Enabled is a boolean flag indicating whether enables or disables SSL on the Coherence management over REST endpoint, the default is false (disabled).">Enabledは、RESTエンドポイントでのCoherence管理でSSLを有効または無効にするかどうかを示すブール・フラグで、デフォルトはfalse (無効)です。</span></td>
<td class=""><span class="merged" id="all.q9cn0.21"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.167"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4J7Xby"  title="原文: secrets"><code>secrets</code></span></td>
<td class=""><span class="merged" id="all.bhvIc.spl1" style='background-color:yellow' title="原文 : Secrets is the name of the k8s secret containing the Java key stores and password files.">シークレットは、Javaキー・ストアおよびパスワード・ファイルを含むk8sシークレットの名前です。</span> <span class="merged" id="all.bhvIc.spl2" style='background-color:yellow' title="原文 :  The secret should be in the same namespace as the Coherence resource. + This value MUST be provided if SSL is enabled on the Coherence management over REST endpoint. "><br>シークレットは、Coherenceリソースと同じネームスペースに存在する必要があります。+<br>RESTエンドポイントを介したCoherence管理でSSLが有効になっている場合は、この値を指定する必要があります。<br></span> </td>
<td class=""><span class="merged" id="all.2JXhOu.31"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.168"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3Wcxcg"  title="原文: keyStore"><code>keyStore</code></span></td>
<td class=""><span class="merged" id="all.445sAO" style='background-color:yellow' title="原文 : Keystore is the name of the Java key store file in the k8s secret to use as the SSL keystore when configuring component over REST to use SSL. ">キーストアは、SSLキーストアとして使用するk8sシークレット内のJavaキー・ストア・ファイルの名前です<br>SSLを使用するようにREST上でコンポーネントを構成する場合。<br></span></td>
<td class=""><span class="merged" id="all.2JXhOu.32"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.169"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3tiPQ1"  title="原文: keyStorePasswordFile"><code>keyStorePasswordFile</code></span></td>
<td class=""><span class="merged" id="all.2Ec4Gp" style='background-color:yellow' title="原文 : KeyStorePasswordFile is the name of the file in the k8s secret containing the keystore password when configuring component over REST to use SSL. ">KeyStorePasswordFileは、キーストアを含むk8sシークレット内のファイルの名前です<br>SSLを使用するようにREST経由でコンポーネントを構成するときのパスワード。<br></span></td>
<td class=""><span class="merged" id="all.2JXhOu.33"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.170"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1eFPwp"  title="原文: keyPasswordFile"><code>keyPasswordFile</code></span></td>
<td class=""><span class="merged" id="all.1yiamx" style='background-color:yellow' title="原文 : KeyStorePasswordFile is the name of the file in the k8s secret containing the key password when configuring component over REST to use SSL. ">KeyStorePasswordFileは、キーを含むk8sシークレット内のファイルの名前です<br>SSLを使用するようにREST経由でコンポーネントを構成するときのパスワード。<br></span></td>
<td class=""><span class="merged" id="all.2JXhOu.34"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.171"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3Fbf8S"  title="原文: keyStoreAlgorithm"><code>keyStoreAlgorithm</code></span></td>
<td class=""><span class="merged" id="all.BhZeE.spl1" style='background-color:yellow' title="原文 : KeyStoreAlgorithm is the name of the keystore algorithm for the keystore in the k8s secret used when configuring component over REST to use SSL.">KeyStoreAlgorithmは、k8sシークレット内のキーストアのキーストア・アルゴリズムの名前です<br>SSLを使用するようにREST上でコンポーネントを構成するときに使用されます。</span> <span class="merged" id="all.BhZeE.spl2" style='background-color:yellow' title="原文 : If not set the default is SunX509 ">設定しない場合、デフォルトはSunX509です<br></span> </td>
<td class=""><span class="merged" id="all.2JXhOu.35"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.172"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.ZrX6S"  title="原文: keyStoreProvider"><code>keyStoreProvider</code></span></td>
<td class=""><span class="merged" id="all.1O9G9E" style='background-color:yellow' title="原文 : KeyStoreProvider is the name of the keystore provider for the keystore in the k8s secret used when configuring component over REST to use SSL. ">KeyStoreProviderは、k8sシークレット内のキーストアのキーストア・プロバイダの名前です<br>SSLを使用するようにREST上でコンポーネントを構成するときに使用されます。<br></span></td>
<td class=""><span class="merged" id="all.2JXhOu.36"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.173"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.zkQo5"  title="原文: keyStoreType"><code>keyStoreType</code></span></td>
<td class=""><span class="merged" id="all.1hHlJV.spl1" style='background-color:yellow' title="原文 : KeyStoreType is the name of the Java keystore type for the keystore in the k8s secret used when configuring component over REST to use SSL.">KeyStoreTypeは、使用するk8sシークレット内のキーストアのJavaキーストア・タイプの名前です<br>SSLを使用するようにREST上でコンポーネントを構成する場合。</span> <span class="merged" id="all.1hHlJV.spl2" style='background-color:yellow' title="原文 : If not set the default is JKS. ">設定しない場合、デフォルトはJKSです。<br></span> </td>
<td class=""><span class="merged" id="all.2JXhOu.37"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.174"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.17D7fw"  title="原文: trustStore"><code>trustStore</code></span></td>
<td class=""><span class="merged" id="all.bU4cZ" style='background-color:yellow' title="原文 : TrustStore is the name of the Java trust store file in the k8s secret to use as the SSL trust store when configuring component over REST to use SSL. ">TrustStoreは、SSLとして使用するk8sシークレット内のJavaトラスト・ストア・ファイルの名前です<br>SSLを使用するようにREST上でコンポーネントを構成する際のトラスト・ストア。<br></span></td>
<td class=""><span class="merged" id="all.2JXhOu.38"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.175"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1uvqWl"  title="原文: trustStorePasswordFile"><code>trustStorePasswordFile</code></span></td>
<td class=""><span class="merged" id="all.3Ys3u1" style='background-color:yellow' title="原文 : TrustStorePasswordFile is the name of the file in the k8s secret containing the trust store password when configuring component over REST to use SSL. ">TrustStorePasswordFileは、トラスト・ストアを含むk8sシークレット内のファイルの名前です<br>SSLを使用するようにREST経由でコンポーネントを構成するときのパスワード。<br></span></td>
<td class=""><span class="merged" id="all.2JXhOu.39"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.176"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.R0RdG"  title="原文: trustStoreAlgorithm"><code>trustStoreAlgorithm</code></span></td>
<td class=""><span class="merged" id="all.2x696O.spl1" style='background-color:yellow' title="原文 : TrustStoreAlgorithm is the name of the keystore algorithm for the trust store in the k8s secret used when configuring component over REST to use SSL.">TrustStoreAlgorithmは、k8s内のトラスト・ストアのキーストア・アルゴリズムの名前です<br>SSLを使用するようにREST上でコンポーネントを構成するときに使用されるシークレット。</span> <span class="merged" id="all.2x696O.spl2" style='background-color:yellow' title="原文 : If not set the default is SunX509. ">設定しない場合、デフォルトはSunX509です。<br></span> </td>
<td class=""><span class="merged" id="all.2JXhOu.40"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.177"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4aeuWP"  title="原文: trustStoreProvider"><code>trustStoreProvider</code></span></td>
<td class=""><span class="merged" id="all.3hT0mG" style='background-color:yellow' title="原文 : TrustStoreProvider is the name of the keystore provider for the trust store in the k8s secret used when configuring component over REST to use SSL. ">TrustStoreProviderは、k8s内のトラスト・ストア用のキーストア・プロバイダの名前です<br>SSLを使用するようにREST上でコンポーネントを構成するときに使用されるシークレット。<br></span></td>
<td class=""><span class="merged" id="all.2JXhOu.41"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.178"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1FRUfB"  title="原文: trustStoreType"><code>trustStoreType</code></span></td>
<td class=""><span class="merged" id="all.28kb4y.spl1" style='background-color:yellow' title="原文 : TrustStoreType is the name of the Java keystore type for the trust store in the k8s secret used when configuring component over REST to use SSL.">TrustStoreTypeは、k8sシークレット内のトラスト・ストアのJavaキーストア・タイプの名前です<br>SSLを使用するようにREST上でコンポーネントを構成するときに使用されます。</span> <span class="merged" id="all.28kb4y.spl2" style='background-color:yellow' title="原文 : If not set the default is JKS. ">設定しない場合、デフォルトはJKSです。<br></span> </td>
<td class=""><span class="merged" id="all.2JXhOu.42"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.179"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2ESibs"  title="原文: requireClientCert"><code>requireClientCert</code></span></td>
<td class=""><span class="merged" id="all.2Cqr89" style='background-color:yellow' title="原文 : RequireClientCert is a boolean flag indicating whether the client certificate will be authenticated by the server (two-way SSL) when configuring component over REST to use SSL. + If not set the default is false ">RequireClientCertは、クライアント証明書が取得されるかどうかを示すブール・フラグです<br>SSLを使用するようにREST上でコンポーネントを構成するときにサーバー(双方向SSL)によって認証されます。+<br>設定しない場合、デフォルトはfalseです<br></span></td>
<td class=""><span class="merged" id="all.q9cn0.22"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.180"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.30" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_scalingspec"><span class="merged" id="all.14uAxY"  title="原文: ScalingSpec">ScalingSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.2YcDAs" style='background-color:yellow' title="原文 : ScalingSpec is the configuration to control safe scaling.">ScalingSpecは、安全なスケーリングを制御する構成です。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.31"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.31"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.31"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.31"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.3NXaiv"  title="原文: policy"><code>policy</code></span></td>
<td class=""><span class="merged" id="all.49SfOl.spl1" style='background-color:yellow' title="原文 : ScalingPolicy describes how the replicas of the deployment will be scaled.">ScalingPolicyは、デプロイメントのレプリカのスケーリング方法を示します。</span> <span class="merged" id="all.49SfOl.spl2" style='background-color:yellow' title="原文 : The default if not specified is based upon the value of the StorageEnabled field.">指定しない場合のデフォルトは、StorageEnabledフィールドの値に基づきます。</span> <span class="merged" id="all.49SfOl.spl3" style='background-color:yellow' title="原文 : If StorageEnabled field is not specified or is true the default scaling will be safe, if StorageEnabled is set to false the default scaling will be parallel.">StorageEnabledフィールドが指定されていないか、trueの場合、デフォルトのスケーリングは安全です。StorageEnabledがfalseに設定されている場合、デフォルトのスケーリングはパラレルになります。</span> </td>
<td class=""><span class="merged" id="all.3aTqB5"  title="原文: *ScalingPolicy"><code>*ScalingPolicy</code></span></td>
<td class=""><span class="merged" id="all.njUKu.181"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1ctnoL.1"  title="原文: probe"><code>probe</code></span></td>
<td class=""><span class="merged" id="all.2aZXNh.spl1" style='background-color:yellow' title="原文 : The probe to use to determine whether a deployment is Phase HA.">デプロイメントがフェーズHAかどうかを判断するために使用するプローブ。</span> <span class="merged" id="all.2aZXNh.spl2" style='background-color:yellow' title="原文 : If not set the default handler will be used.">設定されていない場合、デフォルト・ハンドラが使用されます。</span> <span class="merged" id="all.2aZXNh.spl3" style='background-color:yellow' title="原文 : In most use-cases the default handler would suffice but in advanced use-cases where the application code has a different concept of Phase HA to just checking Coherence services then a different handler may be specified.">ほとんどのユースケースでは、デフォルト・ハンドラは十分ですが、高度なユースケースでは、アプリケーション・コードにフェーズHAの異なる概念があり、Coherenceサービスをチェックするだけで、別のハンドラを指定できます。</span> </td>
<td class=""><span class="merged" id="all.3aDXpb.1"  title="原文: *Probe"><code>*<router-link @click.native="this.scrollFix('#_probe')" to="#_probe">Probe</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.182"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.31" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_secretvolumespec"><span class="merged" id="all.2shwm"  title="原文: SecretVolumeSpec">SecretVolumeSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.tPNp1" style='background-color:yellow' title="原文 : SecretVolumeSpec represents a Secret that will be added to the deployment’s Pods as an additional Volume and as a VolumeMount in the containers. see: Add Secret Volumes">SecretVolumeSpecは、追加のボリュームとしてデプロイメント・ポッドに追加され、コンテナ内のVolumeMountとして追加されるシークレットを表します。<br>参照: <router-link @click.native="this.scrollFix('#misc_pod_settings/020_secret_volumes.adoc')" to="#misc_pod_settings/020_secret_volumes.adoc">シークレット・ボリュームの追加</router-link></span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.32"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.32"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.32"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.32"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.309fiz.6"  title="原文: name"><code>name</code></span></td>
<td class=""><span class="merged" id="all.1pxTLq.spl1" style='background-color:yellow' title="原文 : The name of the Secret to mount.">マウントするシークレットの名前。</span> <span class="merged" id="all.1pxTLq.spl2" style='background-color:yellow' title="原文 : This will also be used as the name of the Volume added to the Pod if the VolumeName field is not set.">これは、VolumeNameフィールドが設定されていない場合、ポッドに追加されたボリュームの名前としても使用されます。</span> </td>
<td class=""><span class="merged" id="all.W18FC.14"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.11"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.ZMeSS.1"  title="原文: mountPath"><code>mountPath</code></span></td>
<td class=""><span class="merged" id="all.2cupoy.1.spl1" style='background-color:yellow' title="原文 : Path within the container at which the volume should be mounted.">ボリュームをマウントするコンテナ内のパス。</span> <span class="merged" id="all.2cupoy.1.spl2" style='background-color:yellow' title="原文 : Must not contain &apos;:&apos;.">':'を含めることはできません。</span> </td>
<td class=""><span class="merged" id="all.W18FC.15"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.12"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2yWp2V.1"  title="原文: volumeName"><code>volumeName</code></span></td>
<td class=""><span class="merged" id="all.3Le7a9.spl1" style='background-color:yellow' title="原文 : The optional name to use for the Volume added to the Pod.">ポッドに追加されたボリュームに使用するオプションの名前。</span> <span class="merged" id="all.3Le7a9.spl2" style='background-color:yellow' title="原文 : If not set, the Secret name will be used as the VolumeName.">設定しない場合、シークレット名はVolumeNameとして使用されます。</span> </td>
<td class=""><span class="merged" id="all.W18FC.16"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.183"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3wva11.1"  title="原文: readOnly"><code>readOnly</code></span></td>
<td class=""><span class="merged" id="all.2zWRdn.1.spl1" style='background-color:yellow' title="原文 : Mounted read-only if true, read-write otherwise (false or unspecified).">trueの場合は読取り専用でマウントされ、それ以外の場合は読取り/書込み(falseまたは未指定)されます。</span> <span class="merged" id="all.2zWRdn.1.spl2"  title="原文:: Defaults to false.">デフォルトはfalseです。</span> </td>
<td class=""><span class="merged" id="all.2Sqi2i.1"  title="原文: bool"><code>bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.184"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.uxrbO.1"  title="原文: subPath"><code>subPath</code></span></td>
<td class=""><span class="merged" id="all.18jA47.1.spl1" style='background-color:yellow' title="原文 : Path within the volume from which the container’s volume should be mounted.">コンテナのボリュームをマウントするボリューム内のパス。</span> <span class="merged" id="all.18jA47.1.spl2" style='background-color:yellow' title="原文 : Defaults to &quot;&quot; (volume’s root).">デフォルトは"" (ボリュームのルート)です。</span> </td>
<td class=""><span class="merged" id="all.W18FC.17"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.185"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4Ps765.1"  title="原文: mountPropagation"><code>mountPropagation</code></span></td>
<td class=""><span class="merged" id="all.3fjZ9a.1.spl1" style='background-color:yellow' title="原文 : mountPropagation determines how mounts are propagated from the host to container and the other way around.">mountPropagationは、ホストからコンテナへのマウントの伝播方法と、その逆方向を決定します。</span> <span class="merged" id="all.3fjZ9a.1.spl2" style='background-color:yellow' title="原文 : When not set, MountPropagationNone is used.">設定しない場合、MountPropagationNoneが使用されます。</span> </td>
<td class=""><span class="merged" id="all.1ePFZ9.1"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#MountPropagationMode"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#MountPropagationMode" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#MountPropagationMode</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.186"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2XcR2k.1"  title="原文: subPathExpr"><code>subPathExpr</code></span></td>
<td class=""><span class="merged" id="all.37dv3Z.1.spl1" style='background-color:yellow' title="原文 : Expanded path within the volume from which the container’s volume should be mounted.">コンテナのボリュームをマウントするボリューム内の拡張パス。</span> <span class="merged" id="all.37dv3Z.1.spl2" style='background-color:yellow' title="原文 : Behaves similarly to SubPath but environment variable references $(VAR_NAME) are expanded using the container’s environment.">SubPathと同様に動作しますが、環境変数参照$(VAR_NAME)はコンテナの環境を使用して展開されます。</span> <span class="merged" id="all.37dv3Z.1.spl3" style='background-color:yellow' title="原文 : Defaults to &quot;&quot; (volume’s root).">デフォルトは"" (ボリュームのルート)です。</span> <span class="merged" id="all.37dv3Z.1.spl4" style='background-color:yellow' title="原文 : SubPathExpr and SubPath are mutually exclusive.">SubPathExprとSubPathは相互に排他的です。</span> </td>
<td class=""><span class="merged" id="all.W18FC.18"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.187"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1WuGEZ.2"  title="原文: items"><code>items</code></span></td>
<td class=""><span class="merged" id="all.3YHKkj.spl1" style='background-color:yellow' title="原文 : If unspecified, each key-value pair in the Data field of the referenced Secret will be projected into the volume as a file whose name is the key and content is the value.">指定しない場合、参照されるシークレットのデータ・フィールドの各キーと値のペアは、名前がキーでコンテンツが値であるファイルとしてボリュームに投影されます。</span> <span class="merged" id="all.3YHKkj.spl2" style='background-color:yellow' title="原文 : If specified, the listed keys will be projected into the specified paths, and unlisted keys will not be present.">指定した場合、リストされたキーは指定されたパスに投影され、リストされていないキーは表示されません。</span> <span class="merged" id="all.3YHKkj.spl3" style='background-color:yellow' title="原文 : If a key is specified which is not present in the Secret, the volume setup will error unless it is marked optional.">シークレットに存在しないキーが指定されている場合、ボリュームの設定はオプションとしてマークされていないかぎりエラーになります。</span> <span class="merged" id="all.3YHKkj.spl4" style='background-color:yellow' title="原文 : Paths must be relative and may not contain the &apos;..&apos; path or start with &apos;..&apos;.">パスは相対パスで、'..'パスを含めることも、'..'で始めることもできません。</span> </td>
<td class=""><span class="merged" id="all.1g8dx5.1"  title="原文: []corev1.KeyToPath"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#keytopath-v1-core" id="" target="_blank" >corev1.KeyToPath</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.188"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2hViGd.1"  title="原文: defaultMode"><code>defaultMode</code></span></td>
<td class=""><span class="merged" id="all.2c3pwb.1.spl1" style='background-color:yellow' title="原文 : Optional: mode bits to use on created files by default.">オプション: 作成されたファイルで使用するビットをデフォルトでモードにします。</span> <span class="merged" id="all.2c3pwb.1.spl2" style='background-color:yellow' title="原文 : Must be a value between 0 and 0777.">0から0777の値である必要があります。</span> <span class="merged" id="all.2c3pwb.1.spl3" style='background-color:yellow' title="原文 : Defaults to 0644.">デフォルトは0644です。</span> <span class="merged" id="all.2c3pwb.1.spl4" style='background-color:yellow' title="原文 : Directories within the path are not affected by this setting.">パス内のディレクトリはこの設定の影響を受けません。</span> <span class="merged" id="all.2c3pwb.1.spl5" style='background-color:yellow' title="原文 : This might be in conflict with other options that affect the file mode, like fsGroup, and the result can be other mode bits set.">これは、fsGroupなどのファイル・モードに影響するほかのオプションと競合する場合があり、結果はほかのモード・ビット・セットになる可能性があります。</span> </td>
<td class=""><span class="merged" id="all.C5sgP.15"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.189"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4Zagyj.1"  title="原文: optional"><code>optional</code></span></td>
<td class=""><span class="merged" id="all.6vRTB" style='background-color:yellow' title="原文 : Specify whether the Secret or its keys must be defined">シークレットまたはそのキーを定義する必要があるかどうかを指定</span></td>
<td class=""><span class="merged" id="all.q9cn0.23"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.190"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.32" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_servicemonitorspec"><span class="merged" id="all.2S9Szv"  title="原文: ServiceMonitorSpec">ServiceMonitorSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.4bnwN9" style='background-color:yellow' title="原文 : ServiceMonitorSpec the ServiceMonitor spec for a port service.">ポート・サービスのServiceMonitor仕様をServiceMonitorSpecします。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.33"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.33"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.33"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.33"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.48UcwL.4"  title="原文: enabled"><code>enabled</code></span></td>
<td class=""><span class="merged" id="all.RO6Bw.spl1" style='background-color:yellow' title="原文 : Enabled is a flag to enable or disable creation of a Prometheus ServiceMonitor for a port.">Enabledは、ポートに対するPrometheus ServiceMonitorの作成を有効または無効にするフラグです。</span> <span class="merged" id="all.RO6Bw.spl2" style='background-color:yellow' title="原文 : If Prometheus ServiceMonitor CR is not installed no ServiceMonitor then even if this flag is true no ServiceMonitor will be created.">Prometheus ServiceMonitor CRがインストールされていない場合、ServiceMonitorはインストールされません。このフラグがtrueの場合でも、ServiceMonitorは作成されません。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.24"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.191"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2Dbs6Z.4"  title="原文: labels"><code>labels</code></span></td>
<td class=""><span class="merged" id="all.4KLQrR.spl1" style='background-color:yellow' title="原文 : Additional labels to add to the ServiceMonitor.">ServiceMonitorに追加する追加のラベル。</span> <span class="merged" id="all.4KLQrR.spl2" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">詳細情報: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" id="" target="_blank" >https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/</a></span> </td>
<td class=""><span class="merged" id="all.6My6t.9"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.192"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2GRg4F"  title="原文: jobLabel"><code>jobLabel</code></span></td>
<td class=""><span class="merged" id="all.NVIlv.spl1" style='background-color:yellow' title="原文 : The label to use to retrieve the job name from.">ジョブ名の取得に使用するラベル。</span> <span class="merged" id="all.NVIlv.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.W18FC.19"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.193"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3ztHUZ"  title="原文: targetLabels"><code>targetLabels</code></span></td>
<td class=""><span class="merged" id="all.L0mcg.spl1" style='background-color:yellow' title="原文 : TargetLabels transfers labels on the Kubernetes Service onto the target.">TargetLabelsは、Kubernetesサービスのラベルをターゲットに転送します。</span> <span class="merged" id="all.L0mcg.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.rXwhA.8"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.194"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2bXrDK"  title="原文: podTargetLabels"><code>podTargetLabels</code></span></td>
<td class=""><span class="merged" id="all.1vjOyb.spl1" style='background-color:yellow' title="原文 : PodTargetLabels transfers labels on the Kubernetes Pod onto the target.">PodTargetLabelsは、Kubernetesポッドのラベルをターゲットに転送します。</span> <span class="merged" id="all.1vjOyb.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.rXwhA.9"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.195"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.33ZEoc"  title="原文: sampleLimit"><code>sampleLimit</code></span></td>
<td class=""><span class="merged" id="all.2c56yY.spl1" style='background-color:yellow' title="原文 : SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.">SampleLimitは、受け入れられるスクレイプされたサンプルの数に対するスクレイプごとの制限を定義します。</span> <span class="merged" id="all.2c56yY.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.k8L1Q"  title="原文: *uint64"><code>*uint64</code></span></td>
<td class=""><span class="merged" id="all.njUKu.196"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3acZhn"  title="原文: path"><code>path</code></span></td>
<td class=""><span class="merged" id="all.1nlAOx.spl1" style='background-color:yellow' title="原文 : HTTP path to scrape for metrics.">メトリクスのスクレイプへのHTTPパス。</span> <span class="merged" id="all.1nlAOx.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.W18FC.20"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.197"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1LRcmy"  title="原文: scheme"><code>scheme</code></span></td>
<td class=""><span class="merged" id="all.1R0aUU.spl1" style='background-color:yellow' title="原文 : HTTP scheme to use for scraping.">スクレイピングに使用するHTTPスキーム。</span> <span class="merged" id="all.1R0aUU.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.W18FC.21"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.198"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4FJaVQ"  title="原文: params"><code>params</code></span></td>
<td class=""><span class="merged" id="all.Uq0CS" style='background-color:yellow' title="原文 : Optional HTTP URL parameters See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint">オプションのHTTP URLパラメータ<a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span></td>
<td class=""><span class="merged" id="all.4gUs8B"  title="原文: map[string][]string"><code>map[string][]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.199"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.cdWjK"  title="原文: interval"><code>interval</code></span></td>
<td class=""><span class="merged" id="all.1zyUqL" style='background-color:yellow' title="原文 : Interval at which metrics should be scraped See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint">メトリクスを廃棄する間隔(<a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照)</span></td>
<td class=""><span class="merged" id="all.BjwP9"  title="原文: monitoringv1.Duration"><code>monitoringv1.Duration</code></span></td>
<td class=""><span class="merged" id="all.njUKu.200"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4OK5JD"  title="原文: scrapeTimeout"><code>scrapeTimeout</code></span></td>
<td class=""><span class="merged" id="all.43ntvt" style='background-color:yellow' title="原文 : Timeout after which the scrape is ended See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint">スクレイプが終了するまでのタイムアウト<a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span></td>
<td class=""><span class="merged" id="all.BjwP9.1"  title="原文: monitoringv1.Duration"><code>monitoringv1.Duration</code></span></td>
<td class=""><span class="merged" id="all.njUKu.201"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1cQ02l"  title="原文: tlsConfig"><code>tlsConfig</code></span></td>
<td class=""><span class="merged" id="all.2nG066" style='background-color:yellow' title="原文 : TLS configuration to use when scraping the endpoint See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint">エンドポイントをスクレイピングする際に使用するTLS構成。<a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span></td>
<td class=""><span class="merged" id="all.3fuOE5"  title="原文: *monitoringv1.TLSConfig"><code>*monitoringv1.TLSConfig</code></span></td>
<td class=""><span class="merged" id="all.njUKu.202"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.EE3Jk"  title="原文: bearerTokenFile"><code>bearerTokenFile</code></span></td>
<td class=""><span class="merged" id="all.1x9Ebl.spl1" style='background-color:yellow' title="原文 : File to read bearer token for scraping targets.">スクレイピング・ターゲットの負担者トークンを読み取るファイル。</span> <span class="merged" id="all.1x9Ebl.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.W18FC.22"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.203"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2nroIb"  title="原文: bearerTokenSecret"><code>bearerTokenSecret</code></span></td>
<td class=""><span class="merged" id="all.4Otqug.spl1" style='background-color:yellow' title="原文 : Secret to mount to read bearer token for scraping targets.">スクレイピング・ターゲットのベアラー・トークンを読み取るためにマウントするシークレット。</span> <span class="merged" id="all.4Otqug.spl2" style='background-color:yellow' title="原文 : The secret needs to be in the same namespace as the service monitor and accessible by the Prometheus Operator.">シークレットは、サービス・モニターと同じネームスペースにあり、Prometheusオペレータからアクセス可能である必要があります。</span> <span class="merged" id="all.4Otqug.spl3" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.2tgLwy"  title="原文: *corev1.SecretKeySelector"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#secretkeyselector-v1-core" id="" target="_blank" >corev1.SecretKeySelector</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.204"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1nppaN"  title="原文: honorLabels"><code>honorLabels</code></span></td>
<td class=""><span class="merged" id="all.4Nbn2B.spl1" style='background-color:yellow' title="原文 : HonorLabels chooses the metric labels on collisions with target labels.">HonorLabelsは、ターゲット・ラベルとの衝突のメトリック・ラベルを選択します。</span> <span class="merged" id="all.4Nbn2B.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.2Sqi2i.2"  title="原文: bool"><code>bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.205"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2GMlFL"  title="原文: honorTimestamps"><code>honorTimestamps</code></span></td>
<td class=""><span class="merged" id="all.11wmDe.spl1" style='background-color:yellow' title="原文 : HonorTimestamps controls whether Prometheus respects the timestamps present in scraped data.">HonorTimestampsは、Prometheusが、スクレイプされたデータに存在するタイムスタンプを尊重するかどうかを制御します。</span> <span class="merged" id="all.11wmDe.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.q9cn0.25"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.206"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3WmXmB"  title="原文: basicAuth"><code>basicAuth</code></span></td>
<td class=""><span class="merged" id="all.1PWORt" style='background-color:yellow' title="原文 : BasicAuth allow an endpoint to authenticate over basic authentication More info: https://prometheus.io/docs/operating/configuration/#endpoints See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint">BasicAuthでは、エンドポイントが基本認証で認証できるようにします 詳細情報: <a href="https://prometheus.io/docs/operating/configuration/#endpoints" id="" target="_blank" >https://prometheus.io/docs/operating/configuration/#endpoints</a> <a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span></td>
<td class=""><span class="merged" id="all.OoNvH"  title="原文: *monitoringv1.BasicAuth"><code>*monitoringv1.BasicAuth</code></span></td>
<td class=""><span class="merged" id="all.njUKu.207"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.sFTbd"  title="原文: metricRelabelings"><code>metricRelabelings</code></span></td>
<td class=""><span class="merged" id="all.7UHlR.spl1" style='background-color:yellow' title="原文 : MetricRelabelings to apply to samples before ingestion.">取込み前にサンプルに適用するMetricRelabelings。</span> <span class="merged" id="all.7UHlR.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.4ekrk0"  title="原文: []monitoringv1.RelabelConfig"><code>[]monitoringv1.RelabelConfig</code></span></td>
<td class=""><span class="merged" id="all.njUKu.208"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2hm97K"  title="原文: relabelings"><code>relabelings</code></span></td>
<td class=""><span class="merged" id="all.2wJTmi.spl1" style='background-color:yellow' title="原文 : Relabelings to apply to samples before scraping.">スクレイピング前にサンプルに適用するラベル変更。</span> <span class="merged" id="all.2wJTmi.spl2" style='background-color:yellow' title="原文 : More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint">詳細情報: <a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config" id="" target="_blank" >https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config</a> <a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.4ekrk0.1"  title="原文: []monitoringv1.RelabelConfig"><code>[]monitoringv1.RelabelConfig</code></span></td>
<td class=""><span class="merged" id="all.njUKu.209"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4Tmw7K"  title="原文: proxyURL"><code>proxyURL</code></span></td>
<td class=""><span class="merged" id="all.4HeJEj.spl1" style='background-color:yellow' title="原文 : ProxyURL eg http://proxyserver:2195 Directs scrapes to proxy through this endpoint.">ProxyURL例:<a href="http://proxyserver:2195" id="" target="_blank" >http://proxyserver:2195</a>このエンドポイントを介してプロキシに廃棄を指示します。</span> <span class="merged" id="all.4HeJEj.spl2" style='background-color:yellow' title="原文 : See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint"><a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint</a>を参照してください</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.43"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.210"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.33" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_servicespec"><span class="merged" id="all.2WEu4o"  title="原文: ServiceSpec">ServiceSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.3IatJx" style='background-color:yellow' title="原文 : ServiceSpec defines the settings for a Service">ServiceSpecは、サービスの設定を定義</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.34"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.34"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.34"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.34"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.48UcwL.5"  title="原文: enabled"><code>enabled</code></span></td>
<td class=""><span class="merged" id="all.4OOc8O" style='background-color:yellow' title="原文 : Enabled controls whether to create the service yaml or not">Enabledは、サービスyamlを作成するかどうかを制御</span></td>
<td class=""><span class="merged" id="all.q9cn0.26"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.211"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.309fiz.7"  title="原文: name"><code>name</code></span></td>
<td class=""><span class="merged" id="all.4RJCwK" style='background-color:yellow' title="原文 : An optional name to use to override the generated service name.">生成されたサービス名をオーバーライドするために使用するオプションの名前。</span></td>
<td class=""><span class="merged" id="all.2JXhOu.44"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.212"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.30SaAJ"  title="原文: portName"><code>portName</code></span></td>
<td class=""><span class="merged" id="all.3o8LMw" style='background-color:yellow' title="原文 : An optional name to use to override the port name.">ポート名をオーバーライドするために使用するオプションの名前。</span></td>
<td class=""><span class="merged" id="all.2JXhOu.45"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.213"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2OXzp4.3"  title="原文: port"><code>port</code></span></td>
<td class=""><span class="merged" id="all.3sQs2k" style='background-color:yellow' title="原文 : The service port value">サービス・ポート値</span></td>
<td class=""><span class="merged" id="all.C5sgP.16"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.214"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2SYAnU.1"  title="原文: type"><code>type</code></span></td>
<td class=""><span class="merged" id="all.1FPe7T" style='background-color:yellow' title="原文 : Kind is the K8s service type (typically ClusterIP or LoadBalancer) The default is &quot;ClusterIP&quot;.">K8sサービス・タイプ(通常はClusterIPまたはLoadBalancer)は、デフォルトは"ClusterIP"です。</span></td>
<td class=""><span class="merged" id="all.44Oq0i"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#ServiceType"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#ServiceType" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#ServiceType</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.215"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3nrevq"  title="原文: externalIPs"><code>externalIPs</code></span></td>
<td class=""><span class="merged" id="all.4FTeFk.spl1" style='background-color:yellow' title="原文 : externalIPs is a list of IP addresses for which nodes in the cluster will also accept traffic for this service.">externalIPsは、クラスタ内のノードがこのサービスのトラフィックも受け入れるIPアドレスのリストです。</span> <span class="merged" id="all.4FTeFk.spl2" style='background-color:yellow' title="原文 : These IPs are not managed by Kubernetes.">これらのIPはKubernetesによって管理されません。</span> <span class="merged" id="all.4FTeFk.spl3" style='background-color:yellow' title="原文 : The user is responsible for ensuring that traffic arrives at a node with this IP.">ユーザーは、トラフィックがこのIPを持つノードに確実にすることになります。</span> <span class="merged" id="all.4FTeFk.spl4" style='background-color:yellow' title="原文 : A common example is external load-balancers that are not part of the Kubernetes system.">一般的な例は、Kubernetesシステムの一部ではない外部ロード・バランサです。</span> </td>
<td class=""><span class="merged" id="all.rXwhA.10"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.216"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3X9Bve"  title="原文: clusterIP"><code>clusterIP</code></span></td>
<td class=""><span class="merged" id="all.3QFcN0.spl1" style='background-color:yellow' title="原文 : clusterIP is the IP address of the service and is usually assigned randomly by the master.">clusterIPはサービスのIPアドレスで、通常はマスターによってランダムに割り当てられます。</span> <span class="merged" id="all.3QFcN0.spl2" style='background-color:yellow' title="原文 : If an address is specified manually and is not in use by others, it will be allocated to the service; otherwise, creation of the service will fail.">アドレスが手動で指定され、ほかのアドレスで使用されていない場合、そのアドレスはサービスに割り当てられます。そうしないと、サービスの作成は失敗します。</span> <span class="merged" id="all.3QFcN0.spl3" style='background-color:yellow' title="原文 : This field can not be changed through updates.">このフィールドは更新によって変更できません。</span> <span class="merged" id="all.3QFcN0.spl4" style='background-color:yellow' title="原文 : Valid values are &quot;None&quot;, empty string (&quot;&quot;), or a valid IP address.">有効な値は、「なし」、空の文字列("")または有効なIPアドレスです。</span> <span class="merged" id="all.3QFcN0.spl5" style='background-color:yellow' title="原文 : &quot;None&quot; can be specified for headless services when proxying is not required.">プロキシが不要な場合、ヘッドレス・サービスに「なし」を指定できます。</span> <span class="merged" id="all.3QFcN0.spl6" style='background-color:yellow' title="原文 : Only applies to types ClusterIP, NodePort, and LoadBalancer.">タイプClusterIP、NodePortおよびLoadBalancerにのみ適用されます。</span> <span class="merged" id="all.3QFcN0.spl7" style='background-color:yellow' title="原文 : Ignored if type is ExternalName.">タイプがExternalNameの場合は無視されます。</span> <span class="merged" id="all.3QFcN0.spl8" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies">詳細情報: <a href="https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies" id="" target="_blank" >https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></span> </td>
<td class=""><span class="merged" id="all.2JXhOu.46"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.217"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2XPGUA"  title="原文: clusterIPs"><code>clusterIPs</code></span></td>
<td class=""><span class="merged" id="all.fdvKT.spl1" style='background-color:yellow' title="原文 : ClusterIPs is a list of IP addresses assigned to this service, and are usually assigned randomly.">ClusterIPsは、このサービスに割り当てられたIPアドレスのリストであり、通常はランダムに割り当てられます。</span> <span class="merged" id="all.fdvKT.spl2" style='background-color:yellow' title="原文 : If an address is specified manually, is in-range (as per system configuration), and is not in use, it will be allocated to the service; otherwise creation of the service will fail.">アドレスが手動で指定され、(システム構成に従って)範囲内に指定され、使用されていない場合、そのアドレスはサービスに割り当てられます。そうしないと、サービスの作成は失敗します。</span> <span class="merged" id="all.fdvKT.spl3" style='background-color:yellow' title="原文 : This field may not be changed through updates unless the type field is also being changed to ExternalName (which requires this field to be empty) or the type field is being changed from ExternalName (in which case this field may optionally be specified, as describe above).">このフィールドは、タイプ・フィールドがExternalNameにも変更される場合(このフィールドを空にする必要がある)、またはタイプ・フィールドがExternalNameから変更される場合(このフィールドを前述のようにオプションで指定する場合)以外は、更新によって変更できません。</span> <span class="merged" id="all.fdvKT.spl4" style='background-color:yellow' title="原文 : Valid values are &quot;None&quot;, empty string (&quot;&quot;), or a valid IP address.">有効な値は、「なし」、空の文字列("")または有効なIPアドレスです。</span> <span class="merged" id="all.fdvKT.spl5" style='background-color:yellow' title="原文 : Setting this to &quot;None&quot; makes a &quot;headless service&quot; (no virtual IP), which is useful when direct endpoint connections are preferred and proxying is not required.">これを「なし」に設定するとヘッドレス・サービス(仮想IPなし)になります。これは、ダイレクト・エンドポイント接続が優先され、プロキシが不要な場合に便利です。</span> <span class="merged" id="all.fdvKT.spl6" style='background-color:yellow' title="原文 : Only applies to types ClusterIP, NodePort, and LoadBalancer.">タイプClusterIP、NodePortおよびLoadBalancerにのみ適用されます。</span> <span class="merged" id="all.fdvKT.spl7" style='background-color:yellow' title="原文 : If this field is specified when creating a Service of type ExternalName, creation will fail.">タイプExternalNameのサービスの作成時にこのフィールドを指定した場合、作成は失敗します。</span> <span class="merged" id="all.fdvKT.spl8" style='background-color:yellow' title="原文 : This field will be wiped when updating a Service to type ExternalName.">このフィールドは、サービスをタイプExternalNameに更新するときに消去されます。</span> <span class="merged" id="all.fdvKT.spl9" style='background-color:yellow' title="原文 : If this field is not specified, it will be initialized from the clusterIP field.">このフィールドを指定しない場合、clusterIPフィールドから初期化されます。</span> <span class="merged" id="all.fdvKT.spl10" style='background-color:yellow' title="原文 : If this field is specified, clients must ensure that clusterIPs[0] and clusterIP have the same value.">このフィールドを指定する場合、クライアントはclusterIPs[0]およびclusterIPの値が同じであることを確認する必要があります。</span> <span class="merged" id="all.fdvKT.spl11" style='background-color:yellow' title="原文 :  Unless the &quot;IPv6DualStack&quot; feature gate is enabled, this field is limited to one value, which must be the same as the clusterIP field."><br> <br> "IPv6DualStack"機能ゲートが有効になっていない場合、このフィールドは1つの限定され、clusterIPフィールドと同じである必要があります。</span> <span class="merged" id="all.fdvKT.spl12" style='background-color:yellow' title="原文 : If the feature gate is enabled, this field may hold a maximum of two entries (dual-stack IPs, in either order).">機能ゲートが有効な場合、このフィールドには最大2つのエントリ(デュアル・スタックIPの順序)が保持されます。</span> <span class="merged" id="all.fdvKT.spl13" style='background-color:yellow' title="原文 : These IPs must correspond to the values of the ipFamilies field.">これらのIPは、ipFamiliesフィールドの値に対応している必要があります。</span> <span class="merged" id="all.fdvKT.spl14" style='background-color:yellow' title="原文 : Both clusterIPs and ipFamilies are governed by the ipFamilyPolicy field.">clusterIPsとipFamiliesの両方は、ipFamilyPolicyフィールドによって制御されます。</span> <span class="merged" id="all.fdvKT.spl15" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies">詳細情報: <a href="https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies" id="" target="_blank" >https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></span> </td>
<td class=""><span class="merged" id="all.rXwhA.11"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.218"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2JEMSo"  title="原文: loadBalancerIP"><code>loadBalancerIP</code></span></td>
<td class=""><span class="merged" id="all.3ndEHX" style='background-color:yellow' title="原文 : LoadBalancerIP is the IP address of the load balancer">LoadBalancerIPは、ロード・バランサのIPアドレスです</span></td>
<td class=""><span class="merged" id="all.2JXhOu.47"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.219"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2Dbs6Z.5"  title="原文: labels"><code>labels</code></span></td>
<td class=""><span class="merged" id="all.3s8jCm.spl1" style='background-color:yellow' title="原文 : The extra labels to add to the service.">サービスに追加する追加ラベル。</span> <span class="merged" id="all.3s8jCm.spl2" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">詳細情報: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" id="" target="_blank" >https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/</a></span> </td>
<td class=""><span class="merged" id="all.6My6t.10"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.220"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2uY9DD.4"  title="原文: annotations"><code>annotations</code></span></td>
<td class=""><span class="merged" id="all.MQHKW" style='background-color:yellow' title="原文 : Annotations is free form yaml that will be added to the service annotations">注釈はフリー・フォームyamlで、サービス注釈に追加されます</span></td>
<td class=""><span class="merged" id="all.6My6t.11"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.221"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1K2eTw"  title="原文: sessionAffinity"><code>sessionAffinity</code></span></td>
<td class=""><span class="merged" id="all.4HzEoK.spl1" style='background-color:yellow' title="原文 : Supports &quot;ClientIP&quot; and &quot;None&quot;.">"ClientIP"および"None"がサポートされています。</span> <span class="merged" id="all.4HzEoK.spl2" style='background-color:yellow' title="原文 : Used to maintain session affinity.">セッション・アフィニティを維持するために使用します。</span> <span class="merged" id="all.4HzEoK.spl3" style='background-color:yellow' title="原文 : Enable client IP based session affinity.">クライアントIPベースのセッションアフィニティを有効にします。</span> <span class="merged" id="all.4HzEoK.spl4" style='background-color:yellow' title="原文 : Must be ClientIP or None.">ClientIPまたはなしである必要があります。</span> <span class="merged" id="all.4HzEoK.spl5"  title="原文:: Defaults to None.">デフォルトはNoneです。</span> <span class="merged" id="all.4HzEoK.spl6" style='background-color:yellow' title="原文 : More info: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies">詳細情報: <a href="https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies" id="" target="_blank" >https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></span> </td>
<td class=""><span class="merged" id="all.22L7lO"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#ServiceAffinity"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#ServiceAffinity" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#ServiceAffinity</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.222"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3hQeLO"  title="原文: loadBalancerSourceRanges"><code>loadBalancerSourceRanges</code></span></td>
<td class=""><span class="merged" id="all.2b3wMI.spl1" style='background-color:yellow' title="原文 : If specified and supported by the platform, this will restrict traffic through the cloud-provider load-balancer will be restricted to the specified client IPs.">プラットフォームによって指定およびサポートされている場合、これにより、クラウド・プロバイダのロード・バランサを介したトラフィックが指定のクライアントIPに制限されます。</span> <span class="merged" id="all.2b3wMI.spl2" style='background-color:yellow' title="原文 : This field will be ignored if the cloud-provider does not support the feature.&quot;">クラウド・プロバイダがこの機能をサポートしていない場合、このフィールドは無視されます。</span> </td>
<td class=""><span class="merged" id="all.rXwhA.12"  title="原文: []string"><code>[]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.223"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3XGeGz"  title="原文: externalName"><code>externalName</code></span></td>
<td class=""><span class="merged" id="all.LMWBy.spl1" style='background-color:yellow' title="原文 : externalName is the external reference that kubedns or equivalent will return as a CNAME record for this service.">externalNameは、このサービスのCNAMEレコードとしてkubednsまたは同等のものが返す外部参照です。</span> <span class="merged" id="all.LMWBy.spl2" style='background-color:yellow' title="原文 : No proxying will be involved.">プロキシは関係ありません。</span> <span class="merged" id="all.LMWBy.spl3" style='background-color:yellow' title="原文 : Must be a valid RFC-1123 hostname (https://tools.ietf.org/html/rfc1123) and requires Kind to be ExternalName.">有効なRFC-1123ホスト名(<a href="https://tools.ietf.org/html/rfc1123" id="" target="_blank" >https://tools.ietf.org/html/rfc1123</a>)であり、KindはExternalNameである必要があります。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.48"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.224"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.39l4ro"  title="原文: externalTrafficPolicy"><code>externalTrafficPolicy</code></span></td>
<td class=""><span class="merged" id="all.HMXZL.spl1" style='background-color:yellow' title="原文 : externalTrafficPolicy denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints.">externalTrafficPolicyは、このサービスが外部トラフィックをノード・ローカル・エンドポイントまたはクラスタ全体のエンドポイントにルーティングするかどうかを示します。</span> <span class="merged" id="all.HMXZL.spl2" style='background-color:yellow' title="原文 : &quot;Local&quot; preserves the client source IP and avoids a second hop for LoadBalancer and Nodeport type services, but risks potentially imbalanced traffic spreading.">「ローカル」では、クライアント・ソースIPが保持され、LoadBalancerおよびNodeportタイプのサービスの2番目のホップが回避されますが、不均衡なトラフィックが分散する可能性があります。</span> <span class="merged" id="all.HMXZL.spl3" style='background-color:yellow' title="原文 : &quot;Cluster&quot; obscures the client source IP and may cause a second hop to another node, but should have good overall load-spreading.">「クラスタ」はクライアント・ソースIPを隠し、別のノードへの2回目のホップを引き起こす可能性がありますが、全体的な負荷分散は良好です。</span> </td>
<td class=""><span class="merged" id="all.3TILwI"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#ServiceExternalTrafficPolicyType"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#ServiceExternalTrafficPolicyType" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#ServiceExternalTrafficPolicyType</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.225"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.11URVe"  title="原文: healthCheckNodePort"><code>healthCheckNodePort</code></span></td>
<td class=""><span class="merged" id="all.1JNgdN.spl1" style='background-color:yellow' title="原文 : healthCheckNodePort specifies the healthcheck nodePort for the service.">healthCheckNodePortは、サービスのヘルス・チェックnodePortを指定します。</span> <span class="merged" id="all.1JNgdN.spl2" style='background-color:yellow' title="原文 : If not specified, HealthCheckNodePort is created by the service api backend with the allocated nodePort.">指定しない場合、HealthCheckNodePortは、割り当てられたnodePortを使用してサービスAPIバックエンドによって作成されます。</span> <span class="merged" id="all.1JNgdN.spl3" style='background-color:yellow' title="原文 : Will use user-specified nodePort value if specified by the client.">クライアントによってされている場合、ユーザー指定のnodePort値を使用します。</span> <span class="merged" id="all.1JNgdN.spl4" style='background-color:yellow' title="原文 : Only effects when Kind is set to LoadBalancer and ExternalTrafficPolicy is set to Local.">KindがLoadBalancerに設定され、ExternalTrafficPolicyがLocalに設定されている場合にのみ有効です。</span> </td>
<td class=""><span class="merged" id="all.C5sgP.17"  title="原文: *int32"><code>*int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.226"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2YOyFT"  title="原文: publishNotReadyAddresses"><code>publishNotReadyAddresses</code></span></td>
<td class=""><span class="merged" id="all.2LicmE.spl1" style='background-color:yellow' title="原文 : publishNotReadyAddresses, when set to true, indicates that DNS implementations must publish the notReadyAddresses of subsets for the Endpoints associated with the Service.">publishNotReadyAddressesがtrueに設定されている場合、DNS実装がサービスに関連付けられたエンドポイントのサブセットのnotReadyAddressesを公開する必要があることを示します。</span> <span class="merged" id="all.2LicmE.spl2"  title="原文: The default value is false.">デフォルト値はfalseです。</span> <span class="merged" id="all.2LicmE.spl3" style='background-color:yellow' title="原文 : The primary use case for setting this field is to use a StatefulSet’s Headless Service to propagate SRV records for its Pods without respect to their readiness for purpose of peer discovery.">このフィールドを設定する主なユース・ケースは、StatefulSetのヘッドレス・サービスを使用して、ピア検出のためのレディネスを考慮せずに、ポッドのSRVレコードを伝播することです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.27"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.227"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2y4g10"  title="原文: sessionAffinityConfig"><code>sessionAffinityConfig</code></span></td>
<td class=""><span class="merged" id="all.UOXDn" style='background-color:yellow' title="原文 : sessionAffinityConfig contains the configurations of session affinity.">sessionAffinityConfigには、セッション・アフィニティの構成が含まれます。</span></td>
<td class=""><span class="merged" id="all.1iCDkJ"  title="原文: *corev1.SessionAffinityConfig"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#sessionaffinityconfig-v1-core" id="" target="_blank" >corev1.SessionAffinityConfig</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.228"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1DQMR1"  title="原文: ipFamilies"><code>ipFamilies</code></span></td>
<td class=""><span class="merged" id="all.MU7Qf.spl1" style='background-color:yellow' title="原文 : IPFamilies is a list of IP families (e.g. IPv4, IPv6) assigned to this service, and is gated by the &quot;IPv6DualStack&quot; feature gate.">IPFamiliesは、IPファミリのリストです。(例、IPv4、IPv6)はこのサービスに割り当てられ、「IPv6DualStack」機能ゲートによってゲート付けられます。</span> <span class="merged" id="all.MU7Qf.spl2" style='background-color:yellow' title="原文 : This field is usually assigned automatically based on cluster configuration and the ipFamilyPolicy field.">通常、このフィールドはクラスタ構成およびipFamilyPolicyフィールドに基づいて自動的に割り当てられます。</span> <span class="merged" id="all.MU7Qf.spl3" style='background-color:yellow' title="原文 : If this field is specified manually, the requested family is available in the cluster, and ipFamilyPolicy allows it, it will be used; otherwise creation of the service will fail.">このフィールドを手動で指定すると、リクエストされたファミリがクラスタで使用可能になり、ipFamilyPolicyによって許可されるため、サービスの作成は失敗します。</span> <span class="merged" id="all.MU7Qf.spl4" style='background-color:yellow' title="原文 : This field is conditionally mutable: it allows for adding or removing a secondary IP family, but it does not allow changing the primary IP family of the Service.">このフィールドは条件に応じて変更可能です: セカンダリIPファミリを追加または削除できますが、サービスのプライマリIPファミリを変更することはできません。</span> <span class="merged" id="all.MU7Qf.spl5" style='background-color:yellow' title="原文 : Valid values are &quot;IPv4&quot; and &quot;IPv6&quot;.">有効な値は、"IPv4"および"IPv6"です。</span> <span class="merged" id="all.MU7Qf.spl6" style='background-color:yellow' title="原文 : This field only applies to Services of types ClusterIP, NodePort, and LoadBalancer, and does apply to &quot;headless&quot; services.">このフィールドは、ClusterIP、NodePortおよびLoadBalancerタイプのサービスにのみ適用され、ヘッドレス・サービスに適用されます。</span> <span class="merged" id="all.MU7Qf.spl7" style='background-color:yellow' title="原文 : This field will be wiped when updating a Service to type ExternalName.">このフィールドは、サービスをタイプExternalNameに更新するときに消去されます。</span> <span class="merged" id="all.MU7Qf.spl8" style='background-color:yellow' title="原文 :  This field may hold a maximum of two entries (dual-stack families, in either order)."><br> <br> このフィールドには、最大2つのエントリ(二重スタック・ファミリのいずれかの順序)を保持できます。</span> <span class="merged" id="all.MU7Qf.spl9" style='background-color:yellow' title="原文 : These families must correspond to the values of the clusterIPs field, if specified.">これらのファミリは、clusterIPsフィールドの値(指定されている場合)に対応している必要があります。</span> <span class="merged" id="all.MU7Qf.spl10" style='background-color:yellow' title="原文 : Both clusterIPs and ipFamilies are governed by the ipFamilyPolicy field.">clusterIPsとipFamiliesの両方は、ipFamilyPolicyフィールドによって制御されます。</span> </td>
<td class=""><span class="merged" id="all.1VFbPJ"  title="原文: []https://pkg.go.dev/k8s.io/api/core/v1#IPFamily"><code>[]<a href="https://pkg.go.dev/k8s.io/api/core/v1#IPFamily" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#IPFamily</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.229"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2QgAAH"  title="原文: ipFamilyPolicy"><code>ipFamilyPolicy</code></span></td>
<td class=""><span class="merged" id="all.2bNYDv.spl1" style='background-color:yellow' title="原文 : IPFamilyPolicy represents the dual-stack-ness requested or required by this Service, and is gated by the &quot;IPv6DualStack&quot; feature gate.">IPFamilyPolicyは、このサービスによってリクエストまたは要求されるデュアル・スタック・ネスを表し、「IPv6DualStack」機能ゲートによってゲート付けされます。</span> <span class="merged" id="all.2bNYDv.spl2" style='background-color:yellow' title="原文 : If there is no value provided, then this field will be set to SingleStack.">値が指定されていない場合、このフィールドはSingleStackに設定されます。</span> <span class="merged" id="all.2bNYDv.spl3" style='background-color:yellow' title="原文 : Services can be &quot;SingleStack&quot; (a single IP family), &quot;PreferDualStack&quot; (two IP families on dual-stack configured clusters or a single IP family on single-stack clusters), or &quot;RequireDualStack&quot; (two IP families on dual-stack configured clusters, otherwise fail).">サービスには、「SingleStack」(単一のIPファミリ)、「PreferDualStack」(デュアル・スタック構成クラスタ上の2つのIPファミリまたはシングル・スタック・クラスタ上の1つのIPファミリ)、または「RequireDualStack」(デュアル・スタック構成クラスタ上の2つのIPファミリ、それ以外の場合は失敗します)があります。</span> <span class="merged" id="all.2bNYDv.spl4" style='background-color:yellow' title="原文 : The ipFamilies and clusterIPs fields depend on the value of this field.">ipFamiliesおよびclusterIPsフィールドは、このフィールドの値によって異なります。</span> <span class="merged" id="all.2bNYDv.spl5" style='background-color:yellow' title="原文 : This field will be wiped when updating a service to type ExternalName.">このフィールドは、サービスをタイプExternalNameに更新するときに消去されます。</span> </td>
<td class=""><span class="merged" id="all.2w0P5H"  title="原文: *https://pkg.go.dev/k8s.io/api/core/v1#IPFamilyPolicyType"><code>*<a href="https://pkg.go.dev/k8s.io/api/core/v1#IPFamilyPolicyType" id="" target="_blank" >https://pkg.go.dev/k8s.io/api/core/v1#IPFamilyPolicyType</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.230"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3QLBd9"  title="原文: allocateLoadBalancerNodePorts"><code>allocateLoadBalancerNodePorts</code></span></td>
<td class=""><span class="merged" id="all.29OoBx.spl1" style='background-color:yellow' title="原文 : allocateLoadBalancerNodePorts defines if NodePorts will be automatically allocated for services with type LoadBalancer.">allocateLoadBalancerNodePortsは、LoadBalancerタイプのサービスに対してNodePortsを自動的に割り当てるかどうかを定義します。</span> <span class="merged" id="all.29OoBx.spl2"  title="原文:: Default is &quot;true&quot;.">デフォルトは、trueです。</span> <span class="merged" id="all.29OoBx.spl3" style='background-color:yellow' title="原文 : It may be set to &quot;false&quot; if the cluster load-balancer does not rely on NodePorts. allocateLoadBalancerNodePorts may only be set for services with type LoadBalancer and will be cleared if the type is changed to any other type.">クラスタ・ロード・バランサがNodePortsに依存しない場合、falseに設定される場合があります。allocateLoadBalancerNodePortsは、タイプLoadBalancerのサービスに対してのみ設定でき、タイプが他のタイプに変更されるとクリアされます。</span> <span class="merged" id="all.29OoBx.spl4" style='background-color:yellow' title="原文 : This field is alpha-level and is only honored by servers that enable the ServiceLBNodePortControl feature.">このフィールドはアルファ・レベルであり、ServiceLBNodePortControl機能を有効にするサーバーによってのみ適用されます。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.28"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.231"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.34" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_startquorum"><span class="merged" id="all.1yEh3p"  title="原文: StartQuorum">StartQuorum</span></h3>
<div class="section">
<p><span class="merged" id="all.2fbh5V" style='background-color:yellow' title="原文 : StartQuorum defines the order that deployments will be started in a Coherence cluster made up of multiple deployments.">StartQuorumは、複数のデプロイメントで構成されるCoherenceクラスタでデプロイメントが開始される順序を定義します。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.35"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.35"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.35"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.35"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.37VxbY.1"  title="原文: deployment"><code>deployment</code></span></td>
<td class=""><span class="merged" id="all.1LVaJF" style='background-color:yellow' title="原文 : The name of deployment that this deployment depends on.">このデプロイメントが依存するデプロイメントの名前。</span></td>
<td class=""><span class="merged" id="all.W18FC.23"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.13"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3fCyV9.1"  title="原文: namespace"><code>namespace</code></span></td>
<td class=""><span class="merged" id="all.2Xc3GC.spl1" style='background-color:yellow' title="原文 : The namespace that the deployment that this deployment depends on is installed into.">このデプロイメントが依存するデプロイメントが依存するネームスペースがインストールされます。</span> <span class="merged" id="all.2Xc3GC.spl2" style='background-color:yellow' title="原文 : Default to the same namespace as this deployment">このデプロイメントと同じネームスペースにデフォルト設定されます</span> </td>
<td class=""><span class="merged" id="all.W18FC.24"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.232"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.tDWLO"  title="原文: podCount"><code>podCount</code></span></td>
<td class=""><span class="merged" id="all.I302D" style='background-color:yellow' title="原文 : The number of the Pods that should have been started before this deployments will be started, defaults to all Pods for the deployment.">このデプロイメントの開始前に開始する必要があるポッドの数。デフォルトでは、デプロイメントのすべてのポッドに設定されます。</span></td>
<td class=""><span class="merged" id="all.2UR1bd.2"  title="原文: int32"><code>int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.233"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.35" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_startquorumstatus"><span class="merged" id="all.1FHhKl"  title="原文: StartQuorumStatus">StartQuorumStatus</span></h3>
<div class="section">
<p><span class="merged" id="all.227ypn" style='background-color:yellow' title="原文 : StartQuorumStatus tracks the state of a deployment’s start quorums.">StartQuorumStatusは、デプロイメントの開始コーラムの状態を追跡します。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.36"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.36"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.36"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.36"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.37VxbY.2"  title="原文: deployment"><code>deployment</code></span></td>
<td class=""><span class="merged" id="all.1LVaJF.1" style='background-color:yellow' title="原文 : The name of deployment that this deployment depends on.">このデプロイメントが依存するデプロイメントの名前。</span></td>
<td class=""><span class="merged" id="all.W18FC.25"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.14"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3fCyV9.2"  title="原文: namespace"><code>namespace</code></span></td>
<td class=""><span class="merged" id="all.2Xc3GC.1.spl1" style='background-color:yellow' title="原文 : The namespace that the deployment that this deployment depends on is installed into.">このデプロイメントが依存するデプロイメントが依存するネームスペースがインストールされます。</span> <span class="merged" id="all.2Xc3GC.1.spl2" style='background-color:yellow' title="原文 : Default to the same namespace as this deployment">このデプロイメントと同じネームスペースにデフォルト設定されます</span> </td>
<td class=""><span class="merged" id="all.W18FC.26"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.234"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.tDWLO.1"  title="原文: podCount"><code>podCount</code></span></td>
<td class=""><span class="merged" id="all.I302D.1" style='background-color:yellow' title="原文 : The number of the Pods that should have been started before this deployments will be started, defaults to all Pods for the deployment.">このデプロイメントの開始前に開始する必要があるポッドの数。デフォルトでは、デプロイメントのすべてのポッドに設定されます。</span></td>
<td class=""><span class="merged" id="all.2UR1bd.3"  title="原文: int32"><code>int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.235"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.29tQvf"  title="原文: ready"><code>ready</code></span></td>
<td class=""><span class="merged" id="all.2qSX8I" style='background-color:yellow' title="原文 : Whether this quorum’s condition has been met">この定足数の条件が満たされているかどうか</span></td>
<td class=""><span class="merged" id="all.2Sqi2i.3"  title="原文: bool"><code>bool</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.15"  title="原文:: true">true</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.36" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_coherence"><span class="merged" id="all.1ZkKTX"  title="原文:: Coherence">Coherence</span></h3>
<div class="section">
<p><span class="merged" id="all.3Vz8p" style='background-color:yellow' title="原文 : Coherence is the top level schema for the Coherence API and custom resource definition (CRD).">Coherenceは、Coherence APIおよびカスタム・リソース定義(CRD)の最上位スキーマです。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.37"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.37"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.37"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.37"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.Tgr1J.1"  title="原文: metadata"><code>metadata</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.2fs0Qt"  title="原文: metav1.ObjectMeta"><code><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#objectmeta-v1-meta" id="" target="_blank" >metav1.ObjectMeta</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.236"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.26upHQ.3"  title="原文: spec"><code>spec</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.21x13G"  title="原文: CoherenceStatefulSetResourceSpec"><code><router-link @click.native="this.scrollFix('#_coherencestatefulsetresourcespec')" to="#_coherencestatefulsetresourcespec">CoherenceStatefulSetResourceSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.237"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.rRvWD"  title="原文: status"><code>status</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.2wZwP8"  title="原文: CoherenceResourceStatus"><code><router-link @click.native="this.scrollFix('#_coherenceresourcestatus')" to="#_coherenceresourcestatus">CoherenceResourceStatus</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.238"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.37" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_coherencelist"><span class="merged" id="all.I80PY"  title="原文: CoherenceList">CoherenceList</span></h3>
<div class="section">
<p><span class="merged" id="all.DZPLp" style='background-color:yellow' title="原文 : CoherenceList is a list of Coherence resources.">CoherenceListは、Coherenceリソースのリストです。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.38"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.38"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.38"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.38"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.Tgr1J.2"  title="原文: metadata"><code>metadata</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.DOcSQ"  title="原文: metav1.ListMeta"><code><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#listmeta-v1-meta" id="" target="_blank" >metav1.ListMeta</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.239"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1WuGEZ.3"  title="原文: items"><code>items</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.38yAHJ"  title="原文: []Coherence"><code>[]<router-link @click.native="this.scrollFix('#_coherence')" to="#_coherence">Coherence</router-link></code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.16"  title="原文:: true">true</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.38" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_coherenceresourcestatus"><span class="merged" id="all.1Bdf14"  title="原文: CoherenceResourceStatus">CoherenceResourceStatus</span></h3>
<div class="section">
<p><span class="merged" id="all.aoUKF" style='background-color:yellow' title="原文 : CoherenceResourceStatus defines the observed state of Coherence resource.">CoherenceResourceStatusは、Coherenceリソースの観測された状態を定義します。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.39"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.39"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.39"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.39"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.3G3hIZ"  title="原文: phase"><code>phase</code></span></td>
<td class=""><span class="merged" id="all.1RGapB.spl1" style='background-color:yellow' title="原文 : The phase of a Coherence resource is a simple, high-level summary of where the Coherence resource is in its lifecycle.">Coherenceリソースのフェーズは、Coherenceリソースがライフサイクル内にある単純な概要です。</span> <span class="merged" id="all.1RGapB.spl2" style='background-color:yellow' title="原文 : The conditions array, the reason and message fields, and the individual container status arrays contain more detail about the pod’s status.">条件配列、理由およびメッセージ・フィールドおよび個々のコンテナ・ステータス配列には、ポッドのステータスに関する詳細が含まれます。</span> <span class="merged" id="all.1RGapB.spl3" style='background-color:yellow' title="原文 : There are eight possible phase values: Initialized: The deployment has been accepted by the Kubernetes system.">次の8つのフェーズ値があります:<br><br> 初期化済: デプロイメントはKubernetesシステムによって受け入れられました。</span> <span class="merged" id="all.1RGapB.spl4" style='background-color:yellow' title="原文 : Created: The deployments secondary resources, (e.g. the StatefulSet, Services etc.) have been created.">作成日: デプロイメントのセカンダリ・リソース(StatefulSet、サービスなど)が作成されました。</span> <span class="merged" id="all.1RGapB.spl5" style='background-color:yellow' title="原文 : Ready: The StatefulSet for the deployment has the correct number of replicas and ready replicas.">準備完了: デプロイメントのStatefulSetには、適切な数のレプリカおよび準備完了レプリカがあります。</span> <span class="merged" id="all.1RGapB.spl6" style='background-color:yellow' title="原文 : Waiting: The deployment’s start quorum conditions have not yet been met.">待機中: デプロイメント開始定足数の条件がまだ満たされていません。</span> <span class="merged" id="all.1RGapB.spl7" style='background-color:yellow' title="原文 : Scaling: The number of replicas in the deployment is being scaled up or down.">スケーリング: デプロイメント内のレプリカの数がスケール・アップまたはスケール・ダウン中です。</span> <span class="merged" id="all.1RGapB.spl8" style='background-color:yellow' title="原文 : RollingUpgrade: The StatefulSet is performing a rolling upgrade.">RollingUpgrade: StatefulSetはローリング・アップグレードを実行しています。</span> <span class="merged" id="all.1RGapB.spl9" style='background-color:yellow' title="原文 : Stopped: The replica count has been set to zero.">停止: レプリカ数がゼロに設定されています。</span> <span class="merged" id="all.1RGapB.spl10" style='background-color:yellow' title="原文 : Completed: The Coherence resource is running a Job and the Job has completed.">完了: Coherenceリソースがジョブを実行中で、ジョブが完了しました。</span> <span class="merged" id="all.1RGapB.spl11" style='background-color:yellow' title="原文 : Failed: An error occurred reconciling the deployment and its secondary resources.">失敗: デプロイメントとそのセカンダリ・リソースの調整中にエラーが発生しました。</span> </td>
<td class=""><span class="merged" id="all.8ejUe"  title="原文: ConditionType"><code>ConditionType</code></span></td>
<td class=""><span class="merged" id="all.njUKu.240"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.NYiec"  title="原文: coherenceCluster"><code>coherenceCluster</code></span></td>
<td class=""><span class="merged" id="all.43ERvl" style='background-color:yellow' title="原文 : The name of the Coherence cluster that this deployment is part of.">このデプロイメントに含まれるCoherenceクラスタの名前。</span></td>
<td class=""><span class="merged" id="all.W18FC.27"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.241"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2SYAnU.2"  title="原文: type"><code>type</code></span></td>
<td class=""><span class="merged" id="all.4XDt2m" style='background-color:yellow' title="原文 : The type of the Coherence resource.">Coherenceリソースのタイプ。</span></td>
<td class=""><span class="merged" id="all.1Cg07L"  title="原文: CoherenceType"><code>CoherenceType</code></span></td>
<td class=""><span class="merged" id="all.njUKu.242"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1Ea5yX.1"  title="原文: replicas"><code>replicas</code></span></td>
<td class=""><span class="merged" id="all.4VFdaA" style='background-color:yellow' title="原文 : Replicas is the desired number of members in the Coherence deployment represented by the Coherence resource.">レプリカは、Coherenceリソースで表されるCoherenceデプロイメントで必要なメンバー数です。</span></td>
<td class=""><span class="merged" id="all.2UR1bd.4"  title="原文: int32"><code>int32</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.17"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2IhR8Q"  title="原文: currentReplicas"><code>currentReplicas</code></span></td>
<td class=""><span class="merged" id="all.4ERmbc" style='background-color:yellow' title="原文 : CurrentReplicas is the current number of members in the Coherence deployment represented by the Coherence resource.">CurrentReplicasは、Coherenceリソースで表されるCoherenceデプロイメントの現在のメンバー数です。</span></td>
<td class=""><span class="merged" id="all.2UR1bd.5"  title="原文: int32"><code>int32</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.18"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3xL0Qh"  title="原文: readyReplicas"><code>readyReplicas</code></span></td>
<td class=""><span class="merged" id="all.EZCm6" style='background-color:yellow' title="原文 : ReadyReplicas is the number of members in the Coherence deployment represented by the Coherence resource that are in the ready state.">ReadyReplicasは、Coherenceリソースによって表現される、準備完了状態のメンバーの数です。</span></td>
<td class=""><span class="merged" id="all.2UR1bd.6"  title="原文: int32"><code>int32</code></span></td>
<td class=""><span class="merged" id="all.4eNR3V.19"  title="原文:: true">true</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.FBZDf"  title="原文: active"><code>active</code></span></td>
<td class=""><span class="merged" id="all.1OA0Zd" style='background-color:yellow' title="原文 : When the Coherence resource is running a Job, the number of pending and running pods.">Coherenceリソースがジョブを実行している場合、保留中および実行中のポッドの数。</span></td>
<td class=""><span class="merged" id="all.2UR1bd.7"  title="原文: int32"><code>int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.243"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4EKiW8"  title="原文: succeeded"><code>succeeded</code></span></td>
<td class=""><span class="merged" id="all.wldLI" style='background-color:yellow' title="原文 : When the Coherence resource is running a Job, the number of pods which reached phase Succeeded.">Coherenceリソースがジョブを実行している場合、フェーズ成功に達したポッドの数。</span></td>
<td class=""><span class="merged" id="all.2UR1bd.8"  title="原文: int32"><code>int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.244"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1I4BXC"  title="原文: failed"><code>failed</code></span></td>
<td class=""><span class="merged" id="all.2DkbYi" style='background-color:yellow' title="原文 : When the Coherence resource is running a Job, the number of pods which reached phase Failed.">Coherenceリソースがジョブを実行している場合、フェーズ失敗に達したポッドの数。</span></td>
<td class=""><span class="merged" id="all.2UR1bd.9"  title="原文: int32"><code>int32</code></span></td>
<td class=""><span class="merged" id="all.njUKu.245"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.GeJKv.1"  title="原文: role"><code>role</code></span></td>
<td class=""><span class="merged" id="all.1Oa0IZ.spl1" style='background-color:yellow' title="原文 : The effective role name for this deployment.">このデプロイメントの有効なロール名。</span> <span class="merged" id="all.1Oa0IZ.spl2" style='background-color:yellow' title="原文 : This will come from the Spec.Role field if set otherwise the deployment name will be used for the role name">これは、Spec.Roleフィールド(設定されている場合)から取得されます。設定しない場合、デプロイメント名がロール名に使用されます</span> </td>
<td class=""><span class="merged" id="all.W18FC.28"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.246"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1wWw2u"  title="原文: selector"><code>selector</code></span></td>
<td class=""><span class="merged" id="all.1zPlMd.spl1" style='background-color:yellow' title="原文 : label query over deployments that should match the replicas count.">レプリカ数と一致するデプロイメントに対するラベルクエリー。</span> <span class="merged" id="all.1zPlMd.spl2" style='background-color:yellow' title="原文 : This is same as the label selector but in the string format to avoid introspection by clients.">これはラベル・セレクタと同じですが、クライアントによるイントロスペクションを回避するための文字列形式です。</span> <span class="merged" id="all.1zPlMd.spl3" style='background-color:yellow' title="原文 : The string will be in the same format as the query-param syntax.">文字列はquery-param構文と同じ形式になります。</span> <span class="merged" id="all.1zPlMd.spl4" style='background-color:yellow' title="原文 : More info about label selectors: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">ラベル・セレクタの詳細: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" id="" target="_blank" >https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/</a></span> </td>
<td class=""><span class="merged" id="all.W18FC.29"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.247"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2Bcdc6"  title="原文: conditions"><code>conditions</code></span></td>
<td class=""><span class="merged" id="all.1ttNjt" style='background-color:yellow' title="原文 : The status conditions.">ステータス条件。</span></td>
<td class=""><span class="merged" id="all.1dyuuC"  title="原文: Conditions"><code>Conditions</code></span></td>
<td class=""><span class="merged" id="all.njUKu.248"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3IgUAy"  title="原文: hash"><code>hash</code></span></td>
<td class=""><span class="merged" id="all.32Oy2i" style='background-color:yellow' title="原文 : Hash is the hash of the latest applied Coherence spec">ハッシュは、適用された最新のCoherenceスペックのハッシュです</span></td>
<td class=""><span class="merged" id="all.W18FC.30"  title="原文: string"><code>string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.249"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2zSHoK"  title="原文: actionsExecuted"><code>actionsExecuted</code></span></td>
<td class=""><span class="merged" id="all.2zgHoU" style='background-color:yellow' title="原文 : ActionsExecuted tracks whether actions were executed">ActionsExecutedは、アクションが実行されたかどうかを追跡</span></td>
<td class=""><span class="merged" id="all.2Sqi2i.4"  title="原文: bool"><code>bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.250"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.13dMGa"  title="原文: jobProbes"><code>jobProbes</code></span></td>
<td class="">&#160;</td>
<td class=""><span class="merged" id="all.4Sivym"  title="原文: []CoherenceJobProbeStatus"><code>[]CoherenceJobProbeStatus</code></span></td>
<td class=""><span class="merged" id="all.njUKu.251"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.39" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>

<h3 id="_coherencestatefulsetresourcespec"><span class="merged" id="all.1WpAnQ"  title="原文: CoherenceStatefulSetResourceSpec">CoherenceStatefulSetResourceSpec</span></h3>
<div class="section">
<p><span class="merged" id="all.2SuFxp.spl1" style='background-color:yellow' title="原文 : CoherenceStatefulSetResourceSpec defines the specification of a Coherence resource.">CoherenceStatefulSetResourceSpecは、Coherenceリソースの仕様を定義します。</span> <span class="merged" id="all.2SuFxp.spl2" style='background-color:yellow' title="原文 : A Coherence resource is typically one or more Pods that perform the same functionality, for example storage members.">Coherenceリソースは、通常、同じ機能を実行する1つ以上のポッド(ストレージ・メンバーなど)です。</span> </p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 7.692%;">
<col style="width: 76.923%;">
<col style="width: 7.692%;">
<col style="width: 7.692%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.40"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.40"  title="原文:: Description">説明</span></th>
<th><span class="merged" id="all.p0YxL.40"  title="原文:: Type">タイプ</span></th>
<th><span class="merged" id="all.TRGsJ.40"  title="原文:: Required">必須</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.2mErj2"  title="原文: cluster"><code>cluster</code></span></td>
<td class=""><span class="merged" id="all.2S83jb.spl1" style='background-color:yellow' title="原文 : The optional name of the Coherence cluster that this Coherence resource belongs to.">このCoherenceリソースが属するCoherenceクラスタのオプション名。</span> <span class="merged" id="all.2S83jb.spl2" style='background-color:yellow' title="原文 : If this value is set the Pods controlled by this Coherence resource will form a cluster with other Pods controlled by Coherence resources with the same cluster name.">この値が設定されている場合、このCoherenceリソースによって制御されるポッドは、同じクラスタ名を持つCoherenceリソースによって制御される他のポッドを持つクラスタを形成します。</span> <span class="merged" id="all.2S83jb.spl3" style='background-color:yellow' title="原文 : If not set the Coherence resource’s name will be used as the cluster name.">設定しない場合、Coherenceリソースの名前はクラスタ名として使用されます。</span> </td>
<td class=""><span class="merged" id="all.2JXhOu.49"  title="原文: *string"><code>*string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.252"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.OBQ0S"  title="原文: statefulSetAnnotations"><code>statefulSetAnnotations</code></span></td>
<td class=""><span class="merged" id="all.2tvxlJ.spl1" style='background-color:yellow' title="原文 : StatefulSetAnnotations are free-form yaml that will be added to the Coherence cluster StatefulSet as annotations.">StatefulSetAnnotationsは、Coherenceクラスタ<code>StatefulSet</code>に注釈として追加される自由形式のyamlです。</span> <span class="merged" id="all.2tvxlJ.spl2" style='background-color:yellow' title="原文 : Any annotations should be placed BELOW this &quot;annotations:&quot; key, for example: The default behaviour is to copy all annotations from the Coherence resource to the StatefulSet, specifying any annotations in the StatefulSetAnnotations will override this behaviour and only include the StatefulSetAnnotations. annotations: foo.io/one: &quot;value1&quot; + foo.io/two: &quot;value2&quot; + see: Kubernetes Annotations">次のように、すべての注釈をこの"annotations:"キーの下に置く必要があります:<br><br>デフォルトの動作では、<code>Coherence</code>リソースから<code>StatefulSet</code>にすべての注釈をコピーします。<code>StatefulSetAnnotations</code>に注釈を指定すると、この動作はオーバーライドされ、<code>StatefulSetAnnotations</code>のみが含まれます。<br><br>annotations:<br>foo.io/one: "value1" +<br>foo.io/two: "value2" +<br><br>参照: <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/" id="" target="_blank" >Kubernetes注釈</a></span> </td>
<td class=""><span class="merged" id="all.6My6t.12"  title="原文: map[string]string"><code>map[string]string</code></span></td>
<td class=""><span class="merged" id="all.njUKu.253"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3Dt3tM"  title="原文: volumeClaimTemplates"><code>volumeClaimTemplates</code></span></td>
<td class=""><span class="merged" id="all.HOEVT.spl1" style='background-color:yellow' title="原文 : VolumeClaimTemplates defines extra PVC mappings that will be added to the Coherence Pod.">VolumeClaimTemplatesは、Coherenceポッドに追加される追加のPVCマッピングを定義します。</span> <span class="merged" id="all.HOEVT.spl2" style='background-color:yellow' title="原文 : The content of this yaml should match the normal k8s volumeClaimTemplates section of a StatefulSet spec as described in https://kubernetes.io/docs/concepts/storage/persistent-volumes/ Every claim in this list must have at least one matching (by name) volumeMount in one container in the template.">このyamlの内容は、<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" id="" target="_blank" >https://kubernetes.io/docs/concepts/storage/persistent-volumes/</a>で説明されているStatefulSet仕様の通常のk8s volumeClaimTemplatesセクションと一致する必要があります。このリストのすべての要求は、テンプレート内の1つのコンテナに少なくとも1つの一致(名前による) volumeMountが必要です。</span> <span class="merged" id="all.HOEVT.spl3" style='background-color:yellow' title="原文 : A claim in this list takes precedence over any volumes in the template, with the same name.">このリスト内の要求は、同じ内のボリュームよりも優先されます。</span> </td>
<td class=""><span class="merged" id="all.3PR8MP"  title="原文: []PersistentVolumeClaim"><code>[]<router-link @click.native="this.scrollFix('#_persistentvolumeclaim')" to="#_persistentvolumeclaim">PersistentVolumeClaim</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.254"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2LbhhJ"  title="原文: scaling"><code>scaling</code></span></td>
<td class=""><span class="merged" id="all.2OU4S6" style='background-color:yellow' title="原文 : The configuration to control safe scaling.">安全なスケーリングを制御する構成。</span></td>
<td class=""><span class="merged" id="all.1Oe3qO"  title="原文: *ScalingSpec"><code>*<router-link @click.native="this.scrollFix('#_scalingspec')" to="#_scalingspec">ScalingSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.255"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.tFHYk"  title="原文: suspendProbe"><code>suspendProbe</code></span></td>
<td class=""><span class="merged" id="all.e3NAH" style='background-color:yellow' title="原文 : The configuration of the probe used to signal that services must be suspended before a deployment is stopped.">デプロイメントを停止する前にサービスを中断する必要があることを示すために使用されるプローブの構成。</span></td>
<td class=""><span class="merged" id="all.3aDXpb.2"  title="原文: *Probe"><code>*<router-link @click.native="this.scrollFix('#_probe')" to="#_probe">Probe</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.256"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.FQBUZ"  title="原文: suspendServicesOnShutdown"><code>suspendServicesOnShutdown</code></span></td>
<td class=""><span class="merged" id="all.2NSRgj.spl1" style='background-color:yellow' title="原文 : A flag controlling whether storage enabled cache services in this deployment will be suspended before the deployment is shutdown or scaled to zero.">デプロイメントが停止またはゼロにスケーリングされる前に、このデプロイメントでストレージが有効なキャッシュ・サービスを一時停止するかどうかを制御するフラグ。</span> <span class="merged" id="all.2NSRgj.spl2" style='background-color:yellow' title="原文 : The action of suspending storage enabled services when the whole deployment is being stopped ensures that cache services with persistence enabled will shut down cleanly without the possibility of Coherence trying to recover and re-balance partitions as Pods are stopped.">デプロイメント全体を停止しているときにストレージが有効なサービスを一時停止するアクションによって、永続性が有効化されたキャッシュ・サービスが、ポッドが停止されるとCoherenceがパーティションをリカバリおよび再バランスしようとする可能性がなくてもクリーンに停止されます。</span> <span class="merged" id="all.2NSRgj.spl3"  title="原文: The default value if not specified is true.">指定しない場合のデフォルト値はtrueです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.29"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.257"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3Y0oy2"  title="原文: resumeServicesOnStartup"><code>resumeServicesOnStartup</code></span></td>
<td class=""><span class="merged" id="all.1a5L7s.spl1" style='background-color:yellow' title="原文 : ResumeServicesOnStartup allows the Operator to resume suspended Coherence services when the Coherence container is started.">ResumeServicesOnStartupを使用すると、オペレータは、Coherenceコンテナの起動時に一時停止されたCoherenceサービスを再開できます。</span> <span class="merged" id="all.1a5L7s.spl2" style='background-color:yellow' title="原文 : This only applies to storage enabled distributed cache services.">これは、ストレージが有効な分散キャッシュ・サービスにのみ適用されます。</span> <span class="merged" id="all.1a5L7s.spl3" style='background-color:yellow' title="原文 : This ensures that services that are suspended due to the shutdown of a storage tier, but those services are still running (albeit suspended) in other storage disabled deployments, will be resumed when storage comes back.">これにより、ストレージ層の停止が原因で一時停止されているサービスが、ストレージが無効になっている他のデプロイメントで引き続き実行されている(一時停止されている)サービスが、ストレージが戻ってきたときに再開されます。</span> <span class="merged" id="all.1a5L7s.spl4" style='background-color:yellow' title="原文 : Note that starting Pods with suspended partitioned cache services may stop the Pod reaching the ready state.">一時停止されたパーティション・キャッシュ・サービスでポッドを起動すると、ポッドが準備完了状態になる可能性があることに注意してください。</span> <span class="merged" id="all.1a5L7s.spl5"  title="原文: The default value if not specified is true.">指定しない場合のデフォルト値はtrueです。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.30"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.258"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.20PWS7"  title="原文: autoResumeServices"><code>autoResumeServices</code></span></td>
<td class=""><span class="merged" id="all.jjXl1.spl1" style='background-color:yellow' title="原文 : AutoResumeServices is a map of Coherence service names to allow more fine-grained control over which services may be auto-resumed by the operator when a Coherence Pod starts.">AutoResumeServicesは、Coherenceポッドの起動時にオペレータがどのサービスを自動再開できるかをより細かく制御できるように、Coherenceサービス名のマップです。</span> <span class="merged" id="all.jjXl1.spl2" style='background-color:yellow' title="原文 : The key to the map is the name of the Coherence service.">マップのキーは、Coherenceサービスの名前です。</span> <span class="merged" id="all.jjXl1.spl3" style='background-color:yellow' title="原文 : This should be the fully qualified name if scoped services are being used in Coherence.">スコープ指定サービスがCoherenceで使用されている場合、これは完全修飾名である必要があります。</span> <span class="merged" id="all.jjXl1.spl4" style='background-color:yellow' title="原文 : The value is a bool, set to true to allow the service to be auto-resumed or false to not allow the service to be auto-resumed.">値はboolで、サービスを自動再開できるように<code>true</code>に設定するか、サービスを自動再開できないように<code>false</code>に設定します。</span> <span class="merged" id="all.jjXl1.spl5" style='background-color:yellow' title="原文 : Adding service names to this list will override any value set in ResumeServicesOnStartup, so if the ResumeServicesOnStartup field is false but there are service names in the AutoResumeServices, mapped to true, those services will still be resumed.">このリストにサービス名を追加すると、<code>ResumeServicesOnStartup</code>に設定されている値がオーバーライドされるため、<code>ResumeServicesOnStartup</code>フィールドが<code>false</code>であるが、<code>true</code>にマップされた<code>AutoResumeServices</code>にサービス名がある場合、それらのサービスは引き続き再開されます。</span> <span class="merged" id="all.jjXl1.spl6" style='background-color:yellow' title="原文 : Note that starting Pods with suspended partitioned cache services may stop the Pod reaching the ready state.">一時停止されたパーティション・キャッシュ・サービスでポッドを起動すると、ポッドが準備完了状態になる可能性があることに注意してください。</span> </td>
<td class=""><span class="merged" id="all.3badHx"  title="原文: map[string]bool"><code>map[string]bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.259"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.FA11u"  title="原文: suspendServiceTimeout"><code>suspendServiceTimeout</code></span></td>
<td class=""><span class="merged" id="all.1RYHtc" style='background-color:yellow' title="原文 : SuspendServiceTimeout sets the number of seconds to wait for the service suspend call to return (the default is 60 seconds)">SuspendServiceTimeoutは、サービス中断コールが返されるのを待機する秒数を設定します(デフォルトは60秒です)</span></td>
<td class=""><span class="merged" id="all.3IVb0a.1"  title="原文: *int"><code>*int</code></span></td>
<td class=""><span class="merged" id="all.njUKu.260"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1Zvz2Y"  title="原文: haBeforeUpdate"><code>haBeforeUpdate</code></span></td>
<td class=""><span class="merged" id="all.1cmKRu.spl1" style='background-color:yellow' title="原文 : Whether to perform a StatusHA test on the cluster before performing an update or deletion.">更新または削除を実行する前に、クラスタでStatusHAテストを実行するかどうか。</span> <span class="merged" id="all.1cmKRu.spl2" style='background-color:yellow' title="原文 : This field can be set to &quot;false&quot; to force through an update even when a Coherence deployment is in an unstable state.">このフィールドをfalseに設定すると、Coherenceデプロイメントが不安定な状態であっても更新を強制的に実行できます。</span> <span class="merged" id="all.1cmKRu.spl3" style='background-color:yellow' title="原文 : The default is true, to always check for StatusHA before updating a Coherence deployment.">デフォルトはtrueで、Coherenceデプロイメントを更新する前に常にStatusHAを確認します。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.31"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.261"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3oOKf5"  title="原文: allowUnsafeDelete"><code>allowUnsafeDelete</code></span></td>
<td class=""><span class="merged" id="all.2L6Fxd.spl1" style='background-color:yellow' title="原文 : AllowUnsafeDelete controls whether the Operator will add a finalizer to the Coherence resource so that it can intercept deletion of the resource and initiate a controlled shutdown of the Coherence cluster.">AllowUnsafeDeleteは、リソースの削除をインターセプトし、Coherenceクラスタの制御された停止を開始できるように、オペレータがCoherenceリソースにファイナライザを追加するかどうかを制御します。</span> <span class="merged" id="all.2L6Fxd.spl2"  title="原文: The default value is false.">デフォルト値は<code>false</code>です。</span> <span class="merged" id="all.2L6Fxd.spl3" style='background-color:yellow' title="原文 : The primary use for setting this flag to true is in CI/CD environments so that cleanup jobs can delete a whole namespace without requiring the Operator to have removed finalizers from any Coherence resources deployed into that namespace.">このフラグを<code>true</code>に設定する主な用途はCI/CD環境にあるため、クリーン・アップ・ジョブは、オペレータがそのネームスペースにデプロイされたCoherenceリソースからファイナライザを削除することなく、ネームスペース全体を削除できます。</span> <span class="merged" id="all.2L6Fxd.spl4" style='background-color:yellow' title="原文 : It is not recommended to set this flag to true in a production environment, especially when using Coherence persistence features.">本番環境では、特にCoherenceの永続性機能を使用する場合、このフラグを<code>true</code>に設定することはお薦めしません。</span> </td>
<td class=""><span class="merged" id="all.q9cn0.32"  title="原文: *bool"><code>*bool</code></span></td>
<td class=""><span class="merged" id="all.njUKu.262"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.R78YK"  title="原文: actions"><code>actions</code></span></td>
<td class=""><span class="merged" id="all.4IJSnK" style='background-color:yellow' title="原文 : Actions to execute once all the Pods are ready after an initial deployment">初期デプロイメント後にすべてのポッドの準備が完了した後に実行するアクション</span></td>
<td class=""><span class="merged" id="all.gp6GE"  title="原文: []Action"><code>[]<router-link @click.native="this.scrollFix('#_action')" to="#_action">Action</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.263"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.Vx9aD"  title="原文: envFrom"><code>envFrom</code></span></td>
<td class=""><span class="merged" id="all.1Aj2AL.spl1" style='background-color:yellow' title="原文 : List of sources to populate environment variables in the container.">コンテナに環境変数を移入するソースのリスト。</span> <span class="merged" id="all.1Aj2AL.spl2" style='background-color:yellow' title="原文 : The keys defined within a source must be a C_IDENTIFIER.">ソース内で定義されているキーは、C_IDENTIFIERである必要があります。</span> <span class="merged" id="all.1Aj2AL.spl3" style='background-color:yellow' title="原文 : All invalid keys will be reported as an event when the container is starting.">コンテナの起動時に、すべての無効なキーがイベントとして報告されます。</span> <span class="merged" id="all.1Aj2AL.spl4" style='background-color:yellow' title="原文 : When a key exists in multiple sources, the value associated with the last source will take precedence.">キーが複数のソースに存在する場合は、最後のソースに関連付けられた値が優先されます。</span> <span class="merged" id="all.1Aj2AL.spl5" style='background-color:yellow' title="原文 : Values defined by an Env with a duplicate key will take precedence.">重複キーを持つEnvによって定義された値が優先されます。</span> <span class="merged" id="all.1Aj2AL.spl6"  title="原文:: Cannot be updated.">更新できません。</span> </td>
<td class=""><span class="merged" id="all.1vuOYE"  title="原文: []corev1.EnvFromSource"><code>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#envfromsource-v1-core" id="" target="_blank" >corev1.EnvFromSource</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.264"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2Iof5A"  title="原文: global"><code>global</code></span></td>
<td class=""><span class="merged" id="all.28Bmwa" style='background-color:yellow' title="原文 : Global contains attributes that will be applied to all resources managed by the Coherence Operator.">♪Globalには、Coherence Operatorによって管理されるすべてのリソースに適用される属性が含まれます。</span></td>
<td class=""><span class="merged" id="all.OOWid"  title="原文: *GlobalSpec"><code>*<router-link @click.native="this.scrollFix('#_globalspec')" to="#_globalspec">GlobalSpec</router-link></code></span></td>
<td class=""><span class="merged" id="all.njUKu.265"  title="原文:: false">false</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4VzLOZ"  title="原文: initResources"><code>initResources</code></span></td>
<td class=""><span class="merged" id="all.1YEinx" style='background-color:yellow' title="原文 : InitResources is the optional resource requests and limits for the init-container that the Operator adds to the Pod. ref: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/ + The Coherence operator does not apply any default resources.">♪InitResourcesは、オペレータがポッドに追加するinitコンテナのオプションのリソース・リクエストおよび制限です。<br>参照: <a href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/" id="" target="_blank" >https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a> +<br>Coherenceオペレータでは、デフォルト・リソースは適用されません。</span></td>
<td class=""><span class="merged" id="all.4IyPwY.1"  title="原文: *corev1.ResourceRequirements"><code>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#resourcerequirements-v1-core" id="" target="_blank" >corev1.ResourceRequirements</a></code></span></td>
<td class=""><span class="merged" id="all.njUKu.266"  title="原文:: false">false</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.3NVDRH.40" style='background-color:yellow' title="原文 : Back to TOC"><router-link @click.native="this.scrollFix('#_table_of_contents')" to="#_table_of_contents">目次に戻る</router-link></span></p>

</div>
</div>
</doc-view>
<!-- pages/docs/about/05_upgrade.js -->
<doc-view>

<h2 id="_upgrading_from_operator_v2"><span class="merged" id="all.2gwyAA" style='background-color:yellow' title="原文 : Upgrading from Operator v2">オペレータv2からのアップグレード</span></h2>
<div class="section">
<p><span class="merged" id="all.sJkLq.spl1" style='background-color:yellow' title="原文 : Version 3 of the Coherence Operator is very different to version 2.">Coherence Operatorのバージョン3は、バージョン2と大きく異なります。</span> <span class="merged" id="all.sJkLq.spl2" style='background-color:yellow' title="原文 : There is only a single CRD named Coherence instead of the three CRDs used by v2, and the operator no longer uses Helm internally to install the Kubernetes resources.">v2で使用される3つのCRDではなく、<code>Coherence</code>という名前のCRDが1つのみ存在し、オペレータはKubernetesリソースをインストールするために内部的にHelmを使用しません。</span> </p>

<p><span class="merged" id="all.2DeZIo.spl1" style='background-color:yellow' title="原文 : In terms of usage and concepts, the biggest change is that there are no longer clusters and roles.">使用方法および概念に関して、最大の変化は、クラスタおよびロールがないことです。</span> <span class="merged" id="all.2DeZIo.spl2" style='background-color:yellow' title="原文 : The Coherence CRD represents what would previously in v2 have been a role."><code>Coherence</code> CRDは、v2で以前はロールであったものを表します。</span> <span class="merged" id="all.2DeZIo.spl3" style='background-color:yellow' title="原文 : A Coherence cluster that is made up of multiple roles will just require multiple Coherence resources deploying to Kubernetes.">複数のロールで構成されるCoherenceクラスタでは、Kubernetesにデプロイする複数の<code>Coherence</code>リソースのみが必要です。</span> <span class="merged" id="all.2DeZIo.spl4" style='background-color:yellow' title="原文 : The simplification of the operator, and consequently the better reliability, far outweigh any advantage of being able to put multiple roles in a single yaml file.">オペレータの簡素化、そしてその結果、信頼性の向上が、複数のロールを1つのyamlファイルに配置できるという利点よりもはるかに優れています。</span> <span class="merged" id="all.2DeZIo.spl5" style='background-color:yellow' title="原文 : If this is desire just put multiple Coherence resource definitions in a single yaml file with the --- separator.">これが必要な場合は、<code>---</code>セパレータを含む単一のyamlファイルに複数の<code>Coherence</code>リソース定義を置きます。</span> </p>

<p><span class="merged" id="all.6vDv5"  title="原文:: For example:">例えば:</span></p>

<p><span class="merged" id="all.3c0vu" style='background-color:yellow' title="原文 : In Operator v2 a cluster may have been defined with two roles, storage and proxy like this:">オペレータv2では、<code>storage</code>および<code>proxy</code>という2つのロールを使用してクラスタが定義されている場合があります:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: CoherenceCluster
metadata:
  name: my-cluster
spec:
  roles:
    - role: storage
      replicas: 3
    - role: proxy
      replicas: 2</pre>

<p><span class="merged" id="all.1ShySF" style='background-color:yellow' title="原文 : In Operator v3 this needs to be two separate`Coherence` resources.">オペレータv3では、これは2つの別々のCoherenceリソースである必要があります。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: my-cluster-storage
spec:
  - role: storage
    replicas: 3
    cluster: my-cluster
---
apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: my-cluster-proxy
spec:
  - role: proxy
    replicas: 2
    cluster: my-cluster</pre>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.35TyzC" style='background-color:yellow' title="原文 : To make both Coherence resources part of the same cluster the cluster field must now be set in both resources to the same value, in this case my-cluster.">両方の<code>Coherence</code>リソースを同じクラスタの一部にするには、両方のリソースの<code>cluster</code>フィールドを同じ値(この場合は<code>my-cluster</code>)に設定する必要があります。</span></p>
</div>
</div>

<h2 id="_applications"><span class="merged" id="all.4OSv4C"  title="原文:: Applications">アプリケーション</span></h2>
<div class="section">
<p><span class="merged" id="all.4Iq9VD.spl1" style='background-color:yellow' title="原文 : Coherence applications in Operator v2 worked by application resources (jar files etc) being provided in an image that was loaded as an init-container in the Pod, and the application artifacts copied to the classpath of the Coherence container.">オペレータv2のCoherenceアプリケーションは、アプリケーション・リソース(jarファイルなど)が<code>Pod</code>にinitコンテナとしてロードされたイメージで提供され、アプリケーション・アーティファクトがCoherenceコンテナのクラスパスにコピーされました。</span> <span class="merged" id="all.4Iq9VD.spl2" style='background-color:yellow' title="原文 : In version 3 of the Operator there is only one image required that should contain all of the resources required for the application, including Coherence jar.">バージョン3のオペレータには、アプリケーションに必要なすべてのリソース(Coherence jarを含む)を含める必要があるイメージが1つのみあります。</span> <span class="merged" id="all.4Iq9VD.spl3" style='background-color:yellow' title="原文 : This gives the application developer much more control over how the image is built and what resources it contains, as well as making it more obvious what is going to be run when the container starts.">これにより、アプリケーション開発者は、イメージのビルド方法およびそれに含まれるリソースをより詳細に制御でき、コンテナの起動時に実行される内容をより明確にすることができます。</span> </p>


<h3 id="_images"><span class="merged" id="all.4F4mQ0"  title="原文:: Images">イメージ</span></h3>
<div class="section">
<p><span class="merged" id="all.1b0lSe.spl1" style='background-color:yellow' title="原文 : In Operator v2 there were multiple images defined, one for Coherence and one used to provide application artifacts.">オペレータv2には、Coherence用に1つ、アプリケーション・アーティファクトを提供するために使用されたイメージが複数定義されています。</span> <span class="merged" id="all.1b0lSe.spl2" style='background-color:yellow' title="原文 : Because of the application changes described only a single image now needs to be specified in the image field of the CRD spec.">アプリケーションが変更されたため、<code>CRD</code>スペックの<code>image</code>フィールドに単一のイメージのみを指定する必要があります。</span> </p>

<p><span class="merged" id="all.n90EJ" style='background-color:yellow' title="原文 : See the Applications section of the doecumentation for more details.">詳細は、説明の<router-link @click.native="this.scrollFix('#applications/010_overview.adoc')" to="#applications/010_overview.adoc">「アプリケーション」</router-link>セクションを参照してください。</span></p>

</div>
</div>

<h2 id="_crd_differences"><span class="merged" id="all.1XJjgJ" style='background-color:yellow' title="原文 : CRD Differences">CRD差異</span></h2>
<div class="section">
<p><span class="merged" id="all.Fwo2U.spl1" style='background-color:yellow' title="原文 : A lot of the fields in the Coherence CRD are the same as when defining a role in version 2."><code>Coherence</code> CRDのフィールドの多くは、バージョン2でロールを定義する場合と同じです。</span> <span class="merged" id="all.Fwo2U.spl2" style='background-color:yellow' title="原文 : Whilst a number of new fields and features have been added in version 3, a handful of fields have moved, and a small number, that no longer made sense, have been removed.">バージョン3で多数の新しいフィールドや機能が追加されている間に、いくつかのフィールドが移動し、意味のない数値が少なくなりました。</span> <span class="merged" id="all.Fwo2U.spl3" style='background-color:yellow' title="原文 : The Coherence Spec page documents the full Coherence CRD, so it is simple to locate where a field might have moved to."><router-link @click.native="this.scrollFix('#about/04_coherence_spec.adoc')" to="#about/04_coherence_spec.adoc">「Coherence仕様」</router-link>ページでは、完全な<code>Coherence</code> CRDがドキュメント化されるため、フィールドの移動先の場所を簡単に特定できます。</span> </p>

</div>

<h2 id="_logging_and_fluentd"><span class="merged" id="all.1vffzo" style='background-color:yellow' title="原文 : Logging and Fluentd">ロギングおよびFluentd</span></h2>
<div class="section">
<p><span class="merged" id="all.1aKWRe.spl1" style='background-color:yellow' title="原文 : Version 3 of the operator no longer has fields to configure a Fluentd side-car container.">オペレータのバージョン3には、Fluentdサイドカー・コンテナを構成するためのフィールドがありません。</span> <span class="merged" id="all.1aKWRe.spl2" style='background-color:yellow' title="原文 : There are a lot of different ways to configure Fluentd and making the Operator accomodate all of these was becoming too much of a head-ache to do in a backwards compatible way.">Fluentdを構成し、オペレータに納めるためのさまざまな方法があります。これらはすべて、後方互換性のある方法で行う頭痛が多すぎます。</span> <span class="merged" id="all.1aKWRe.spl3" style='background-color:yellow' title="原文 : If a Fluentd side-car is required it can just be added to the Coherence resource spec as an additional container, so there is no limitation on the Fluentd configuration.">Fluentdサイドカーが必要な場合、<code>Coherence</code>リソース仕様に追加コンテナとしてのみ追加できるため、Fluentd構成に制限はありません。</span> <span class="merged" id="all.1aKWRe.spl4" style='background-color:yellow' title="原文 : See the Logging documentation for more examples.">詳細は、<router-link @click.native="this.scrollFix('#logging/010_overview.adoc')" to="#logging/010_overview.adoc">「ロギング・ドキュメント」</router-link>を参照してください。</span> </p>

</div>

<h2 id="_prometheus_and_elasticsearch"><span class="merged" id="all.2xJpeC" style='background-color:yellow' title="原文 : Prometheus and Elasticsearch">PrometheusおよびElasticsearch</span></h2>
<div class="section">
<p><span class="merged" id="all.cPO4b.spl1" style='background-color:yellow' title="原文 : Version 3 of the Operator no longer comes with the option to install Prometheus and/or Elasticsearch.">オペレータのバージョン3には、PrometheusまたはElasticsearch(あるいはその両方)をインストールするオプションが含まれなくなりました。</span> <span class="merged" id="all.cPO4b.spl2" style='background-color:yellow' title="原文 : This feature was only ever intended to make it easier to demo features that required Prometheus and Elasticsearch and keeping this up to date was a headache nobody needed.">この機能は、PrometheusおよびElasticsearchを必要とする機能をデモしやすくすることを目的としており、これに最新の状態を維持することは誰も必要ありませんでした。</span> <span class="merged" id="all.cPO4b.spl3" style='background-color:yellow' title="原文 : Both Prometheus and Elasticsearch have operators of their own which make installing them simple and importing the dashboards provided by the Coherence Operator simple too.">PrometheusとElasticsearchの両方に独自のオペレータがあり、それらを簡単にインストールし、Coherence Operatorによって提供されるダッシュボードも簡単にインポートします。</span> </p>

</div>
</doc-view>
<!-- pages/docs/applications/010_overview.js -->
<doc-view>

<h2 id="_overview"><span class="merged" id="all.YrpRV"  title="原文:: Overview">概要</span></h2>
<div class="section">
<p><span class="merged" id="all.zsEjh.spl1" style='background-color:yellow' title="原文 : A typical Coherence deployment contains custom application code that runs with Coherence.">通常のCoherenceデプロイメントには、Coherenceで実行されるカスタム・アプリケーション・コードが含まれます。</span> <span class="merged" id="all.zsEjh.spl2" style='background-color:yellow' title="原文 : To run custom application code in a Coherence resource that code needs to be packaged into an image that the deployment will use."><code>Coherence</code>リソースでカスタム・アプリケーション・コードを実行するには、デプロイメントで使用するイメージにコードをパッケージ化する必要があります。</span> </p>


<h3 id="_building_and_deploying_applications"><span class="merged" id="all.2k71Z9"  title="原文:: Building and Deploying Applications">アプリケーションのビルドおよびデプロイ</span></h3>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/applications/020_build_application"><div class="card__link-hover"/>
<span class="merged" id="all.3AAeuu" style='background-color:yellow' title="原文 :  Build Custom Application Images "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">カスタム・アプリケーション・イメージの作成</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.4Q8xiH" style='background-color:yellow' title="原文 : Building custom Coherence application images for use with the Coherence Operator.">Coherence Operatorで使用するカスタムCoherenceアプリケーション・イメージをビルドします。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/applications/030_deploy_application"><div class="card__link-hover"/>
<span class="merged" id="all.VQ27f" style='background-color:yellow' title="原文 :  Deploy Custom Application Images "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">カスタム・アプリケーション・イメージのデプロイ</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1nRk1C" style='background-color:yellow' title="原文 : Deploying custom application images using the Coherence Operator.">Coherence Operatorを使用してカスタム・アプリケーション・イメージをデプロイします。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>

<h3 id="_configuring_applications"><span class="merged" id="all.1jIGUZ" style='background-color:yellow' title="原文 : Configuring Applications">アプリケーションの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.2qgfo4.spl1" style='background-color:yellow' title="原文 : There are many settings in a Coherence resource that control the behaviour of Coherence, the JVM and the application code."><code>Coherence</code>リソースには、Coherence、JVMおよびアプリケーション・コードの動作を制御する多くの設定があります。</span> <span class="merged" id="all.2qgfo4.spl2" style='background-color:yellow' title="原文 : Some of the application specific settings are shown below:">アプリケーション固有の設定の一部を次に示します:</span> </p>

<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/jvm/020_classpath"><div class="card__link-hover"/>
<span class="merged" id="all.12uXRF" style='background-color:yellow' title="原文 :  Setting the Classpath "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">クラス・パスの設定</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.3GLa0z" style='background-color:yellow' title="原文 : Setting a custom classpath for the application.">アプリケーションのカスタム・クラスパスの設定。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/applications/040_application_main"><div class="card__link-hover"/>
<span class="merged" id="all.mkeuy" style='background-color:yellow' title="原文 :  Setting a Main Class "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">メイン・クラスの設定</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2bJSsh" style='background-color:yellow' title="原文 : Setting a custom main class to run.">実行するカスタム・メイン・クラスの設定。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/applications/050_application_args"><div class="card__link-hover"/>
<span class="merged" id="all.4Eavwt" style='background-color:yellow' title="原文 :  Setting Application Arguments "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">アプリケーション引数の設定</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.3fOTLf" style='background-color:yellow' title="原文 : Setting arguments to pass to the main class.">メイン・クラスに渡す引数を設定します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/applications/060_application_working_dir"><div class="card__link-hover"/>
<span class="merged" id="all.4fJ4R9" style='background-color:yellow' title="原文 :  Working Directory "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">作業ディレクトリ</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1VT6Z6" style='background-color:yellow' title="原文 : Setting the application’s working directory.">アプリケーションの作業ディレクトリを設定します。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</div>
</doc-view>
<!-- pages/docs/applications/020_build_application.js -->
<doc-view>

<h2 id="_build_custom_application_images"><span class="merged" id="all.MBCh1" style='background-color:yellow' title="原文 : Build Custom Application Images">カスタム・アプリケーション・イメージの作成</span></h2>
<div class="section">
<p><span class="merged" id="all.1cyJef.spl1" style='background-color:yellow' title="原文 : To deploy a Coherence application using the operator the application code must be packaged into an image that the Coherence container in the Pods will run.">オペレータを使用してCoherenceアプリケーションをデプロイするには、アプリケーション・コードをPods内のCoherenceコンテナが実行するイメージにパッケージ化する必要があります。</span> <span class="merged" id="all.1cyJef.spl2" style='background-color:yellow' title="原文 : This image can be any image that contains a JVM as well as the application’s jar files, including obviously coherence.jar.">このイメージは、明らかに<code>coherence.jar</code>など、JVMおよびアプリケーションのjarファイルを含む任意のイメージです。</span> </p>

<p><span class="merged" id="all.3290gQ.spl1" style='background-color:yellow' title="原文 : There are many ways to build an image for a Java application so it would be of little value to document the exact steps for one of them here that might turn out to be used by very few people.">Javaアプリケーションのイメージをビルドする方法はいろいろあるので、そのうちの1つのステップについて正確に記述する価値はほとんどないので、あまり少ない人によって使用されていない可能性があります。</span> <span class="merged" id="all.3290gQ.spl2" style='background-color:yellow' title="原文 : One of the simplest ways to build a Java image is to use JIB.">Javaイメージをビルドする最も簡単な方法の1つは、<a href="https://github.com/GoogleContainerTools/jib/blob/master/README.md" id="" target="_blank" >JIB</a>を使用することです。</span> <span class="merged" id="all.3290gQ.spl3" style='background-color:yellow' title="原文 : The Operator supports JIB images automatically but any image that meets the requirements of having a JVM and coherence.jar will be supported.">オペレータはJIBイメージを自動的にサポートしますが、JVMおよび<code>coherence.jar</code>を持つ要件を満たすイメージはすべてサポートされます。</span> <span class="merged" id="all.3290gQ.spl4" style='background-color:yellow' title="原文 : Any version of Java which works with the version of coherence.jar in the image will be suitable.">イメージ内の<code>coherence.jar</code>のバージョンと連携するJavaのバージョンが適しています。</span> <span class="merged" id="all.3290gQ.spl5" style='background-color:yellow' title="原文 : This can be a JRE, it does not need to be a full JDK.">これはJREであり、完全なJDKである必要はありません。</span> </p>

<p><span class="merged" id="all.3heTsC" style='background-color:yellow' title="原文 : At a bare minimum the directories in an image might look like this example (obviously there would be more O/S related files and more JVM files, but they are not relevant for the example):">少なくとも、イメージ内のディレクトリがこの例のようになる可能性があります(明らかに、O/S関連のファイルおよびより多くのJVMファイルがありますが、これらは例には関係ありません):</span></p>

<pre


>/
|-- app
|    |-- libs                      <span class="conum" data-value="1" />
|         |-- application.jar
|         |-- coherence.jar
|-- usr
     |-- bin
     |    |-- java                 <span class="conum" data-value="2" />
     |
     |-- lib
          |-- jvm
               |-- java-11-openjdk <span class="conum" data-value="3" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.CEu5O.spl1" style='background-color:yellow' title="原文 : The /app/libs directory contains the application jar files."><code>/app/libs</code>ディレクトリには、アプリケーションjarファイルが含まれます。</span> <span class="merged" id="all.CEu5O.spl2" style='background-color:yellow' title="原文 : This will be the classpath used to run the application.">これは、アプリケーションの実行に使用されるクラスパスになります。</span> </li>
<li data-value="2"><span class="merged" id="all.1Mqeii" style='background-color:yellow' title="原文 : The /usr/bin/java file is the Java executable and on the PATH in the image (this would be a link to the actual Java executable location, in this example to /usr/lib/jvm/java-11-openjdk/bin/java."><code>/usr/bin/java</code>ファイルは、Java実行可能ファイルであり、イメージ内の<code>PATH</code>にあります(これは、実際のJava実行可能ロケーションへのリンクになります。この例では<code>/usr/lib/jvm/java-11-openjdk/bin/java</code>です)。</span></li>
<li data-value="3"><span class="merged" id="all.3Jk5GK" style='background-color:yellow' title="原文 : The /usr/lib/jvm/java-11-openjdk/ is the actual JVM install location."><code>/usr/lib/jvm/java-11-openjdk/</code>は、実際のJVMインストール・ロケーションです。</span></li>
</ul>

<h3 id="_image_entrypoint_what_does_the_operator_run"><span class="merged" id="all.48xxpU" style='background-color:yellow' title="原文 : Image EntryPoint - What Does the Operator Run?">イメージ<code>EntryPoint</code> - オペレータの実行内容</span></h3>
<div class="section">
<p><span class="merged" id="all.49vxHw.spl1" style='background-color:yellow' title="原文 : The image does not need to have an EntryPoint or command specified, it does not need to actually be executable.">イメージには、<code>EntryPoint</code>またはコマンドを指定する必要はありません。実際に実行可能である必要はありません。</span> <span class="merged" id="all.49vxHw.spl2" style='background-color:yellow' title="原文 : If the image does have an EntryPoint, it will just be ignored.">イメージに<code>EntryPoint</code>がある場合は、単に無視されます。</span> </p>

<p><span class="merged" id="all.4as2FL.spl1" style='background-color:yellow' title="原文 : The Coherence Operator actually injects its own runner executable into the container which the container runs and which in turn builds the Java command line to execute.">Coherence Operatorは、実際に独自の<code>runner</code>実行可能ファイルをコンテナが実行され、次に実行するJavaコマンドラインをビルドするコンテナにインジェクトします。</span> <span class="merged" id="all.4as2FL.spl2" style='background-color:yellow' title="原文 : The runner process looks at arguments and environment variables configured for the Coherence container and from these constructs a Java command line that it then executes."><code>runner</code>プロセスでは、Coherenceコンテナ用に構成された引数および環境変数が参照され、これらの構造から実行されるJavaコマンドラインが参照されます。</span> </p>

<p><span class="merged" id="all.2xnwEE" style='background-color:yellow' title="原文 : The default command might look something like this:">デフォルトのコマンドは次のようになります:</span></p>

<pre
lang="bash"

>java -cp `/app/resources:/app/classes:/app/libs/*` \
    &lt;JVM args&gt; \
    &lt;System Properties&gt; \
    com.tangosol.net.DefaultCacheServer</pre>

<p><span class="merged" id="all.44SZnA.spl1" style='background-color:yellow' title="原文 : The runner will work out the JVM’s classpath, args and system properties to add to the command line and execute the main class com.tangosol.net.DefaultCacheServer."><code>runner</code>は、コマンドラインに追加するJVMのクラスパス、引数およびシステム・プロパティを処理し、メイン・クラス<code>com.tangosol.net.DefaultCacheServer</code>を実行します。</span> <span class="merged" id="all.44SZnA.spl2" style='background-color:yellow' title="原文 : All these are configurable in the Coherence resource spec.">これらはすべて、<code>Coherence</code>リソース仕様で構成できます。</span> </p>

</div>

<h3 id="_optional_classpath_environment_variable"><span class="merged" id="all.1rgvvl" style='background-color:yellow' title="原文 : Optional CLASSPATH Environment Variable">オプションの<code>CLASSPATH</code>環境変数</span></h3>
<div class="section">
<p><span class="merged" id="all.4ZbjFF.spl1" style='background-color:yellow' title="原文 : If the CLASSPATH environment variable has been set in an image that classpath will be used when running the Coherence container."><code>CLASSPATH</code>環境変数が、Coherenceコンテナの実行時にクラスパスが使用されるイメージに設定されている場合。</span> <span class="merged" id="all.4ZbjFF.spl2" style='background-color:yellow' title="原文 : Other elements may also be added to the classpath depending on the configuration of the Coherence resource."><code>Coherence</code>リソースの構成に応じて、他の要素をクラスパスに追加することもできます。</span> </p>

</div>

<h3 id="_setting_the_classpath"><span class="merged" id="all.2zuzRh"  title="原文:: Setting the Classpath"> クラスパスの設定</span></h3>
<div class="section">
<p><span class="merged" id="all.3ysQnM.spl1" style='background-color:yellow' title="原文 : An application image contains .jar files (at least coherence.jar), possibly Java class files, also possibly other ad-hoc files, all of which need to be on the application’s classpath.">アプリケーション・イメージには、<code>.jar</code>ファイル(少なくとも<code>coherence.jar</code>)が含まれており、場合によってはJavaクラス・ファイル、その他のアドホック・ファイル(すべてアプリケーションのクラスパスに存在する必要があります)。</span> <span class="merged" id="all.3ysQnM.spl2" style='background-color:yellow' title="原文 : There are certain classpath values that the operator supports out of the box without needing any extra configuration, but for occasions where the location of files in the image does not match the defaults a classpath can be specified.">特別な構成を必要とせずにオペレータがすぐにサポートする特定のクラスパス値がありますが、イメージ内のファイルのロケーションがクラスパスを指定できるデフォルトと一致しない場合もあります。</span> </p>

<p><span class="merged" id="all.3nBuQp.spl1" style='background-color:yellow' title="原文 : Images built with JIB have a default classpath of /app/resources:/app/classes:/app/libs/*."><a href="https://github.com/GoogleContainerTools/jib/blob/master/README.md" id="" target="_blank" >JIB</a>を使用して作成されたイメージのデフォルト・クラスパスは、<code>/app/resources:/app/classes:/app/libs/*</code>です。</span> <span class="merged" id="all.3nBuQp.spl2" style='background-color:yellow' title="原文 : When the Coherence container starts if the directories /app/resources, /app/classes or /app/libs/ exist in the image they will automatically be added to the classpath of the JVM.">Coherenceコンテナが起動すると、ディレクトリ<code>/app/resources</code>、<code>/app/classes</code>または<code>/app/libs/</code>がイメージに存在し、JVMのクラスパスに自動的に追加されます。</span> <span class="merged" id="all.3nBuQp.spl3" style='background-color:yellow' title="原文 : In this way the Operator supports standard JIB images without requiring additional configuration.">このように、オペレータは追加の構成を必要とせずに標準のJIBイメージをサポートします。</span> </p>

<p><span class="merged" id="all.4HFhcU.spl1" style='background-color:yellow' title="原文 : If the image is not a JIB image, or is a JIB image without the standard classpath but one or more of the /app/resources, /app/classes or /app/libs/ directories exist they will still be added to the classpath.">イメージがJIBイメージでない場合、または標準のクラスパスのないJIBイメージですが、<code>/app/resources</code>、<code>/app/classes</code>または<code>/app/libs/</code>ディレクトリの1つ以上が存在する場合は、まだクラスパスに追加されます。</span> <span class="merged" id="all.4HFhcU.spl2" style='background-color:yellow' title="原文 : This may be desired or in some cases it may cause issues.">これは必要か、問題が発生する可能性がある場合があります。</span> <span class="merged" id="all.4HFhcU.spl3" style='background-color:yellow' title="原文 : It is possible to disable automatically adding these directories in the Coherence resource spec by setting the jvm.useJibClasspath field to false (the default value of the field is true)."><code>jvm.useJibClasspath</code>フィールドを<code>false</code>に設定すると、<code>Coherence</code>リソース仕様でこれらのディレクトリを自動的に追加することを無効にできます(フィールドのデフォルト値は<code>true</code>です)。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    useJibClasspath: false  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3zBAq4.spl1" style='background-color:yellow' title="原文 : The useJibClasspath is set to false."><code>useJibClasspath</code>は<code>false</code>に設定されます。</span> <span class="merged" id="all.3zBAq4.spl2" style='background-color:yellow' title="原文 : Even if any of the the /app/resources, /app/classes or /app/libs/ directories exist in the image they will not be added to the classpath."><code>/app/resources</code>、<code>/app/classes</code>または<code>/app/libs/</code>ディレクトリのいずれかがイメージに存在する場合でも、それらはクラスパスに追加されません。</span> </li>
</ul>
<p><span class="merged" id="all.umoHf" style='background-color:yellow' title="原文 : If the image is not a JIB image, or is a JIB image without the standard classpath, then additional classpath entries can be configured as described in the setting the classpath documentation.">イメージがJIBイメージでない場合、または標準のクラスパスのないJIBイメージである場合、<router-link to="/docs/jvm/020_classpath">「クラスパスの設定」</router-link>ドキュメントの説明に従って追加のクラスパス・エントリを構成できます。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    classpath:          <span class="conum" data-value="1" />
      - "/data/libs/*"  <span class="conum" data-value="2" />
      - "/data/config"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3dFoH3" style='background-color:yellow' title="原文 : The jvm.classpath field will be used to add additional items to the classpath, the field is a list of strings."><code>jvm.classpath</code>フィールドは、クラスパスにアイテムを追加するために使用され、フィールドは文字列のリストです。</span></li>
<li data-value="2"><span class="merged" id="all.2wGZ6R" style='background-color:yellow' title="原文 : Each entry in the jvm.classpath will be appended to the classpath exactly as it is declared, so in this case the classpath will be /data/libs/*:/data/config"><code>jvm.classpath</code>の各エントリは、宣言されたとおりにクラスパスに付加されるため、この場合、クラスパスは<code>/data/libs/*:/data/config</code>になります</span></li>
</ul>
</div>

<h3 id="_optional_java_home_environment_variable"><span class="merged" id="all.vGb29" style='background-color:yellow' title="原文 : Optional JAVA_HOME Environment Variable">オプションの<code>JAVA_HOME</code>環境変数</span></h3>
<div class="section">
<p><span class="merged" id="all.LJQPG.spl1" style='background-color:yellow' title="原文 : The JAVA_HOME environment variable does not have to be set in the image."><code>JAVA_HOME</code>環境変数をイメージに設定する必要はありません。</span> <span class="merged" id="all.LJQPG.spl2" style='background-color:yellow' title="原文 : If it is set the JVM at that location will be used to run the application.">設定されている場合、そのロケーションのJVMがアプリケーションの実行に使用されます。</span> <span class="merged" id="all.LJQPG.spl3" style='background-color:yellow' title="原文 : If it is not set then the java executable must be on the PATH in the image.">設定されていない場合、<code>java</code>実行可能ファイルはイメージ内の<code>PATH</code>にある必要があります。</span> </p>

</div>

<h3 id="_optional_coherence_home_environment_variable"><span class="merged" id="all.4NQubX" style='background-color:yellow' title="原文 : Optional COHERENCE_HOME Environment Variable">オプションの<code>COHERENCE_HOME</code>環境変数</span></h3>
<div class="section">
<p><span class="merged" id="all.1moyaG.spl1" style='background-color:yellow' title="原文 : The COHERENCE_HOME environment variable does not have to be set in an image."><code>COHERENCE_HOME</code>環境変数をイメージに設定する必要はありません。</span> <span class="merged" id="all.1moyaG.spl2" style='background-color:yellow' title="原文 : Typically, all the jar files, including coherence.jar would be packaged into a single directory which is then used as the classpath.">通常、<code>coherence.jar</code>を含むすべてのjarファイルは、単一のディレクトリにパッケージ化され、クラスパスとして使用されます。</span> <span class="merged" id="all.1moyaG.spl3" style='background-color:yellow' title="原文 : It is possible to run official Coherence images published by Oracle, which have COHERENCE_HOME set, which is then used by the Operator to set the classpath."><code>COHERENCE_HOME</code>が設定されたOracleによって公開された正式なCoherenceイメージを実行できます。このイメージは、オペレータがクラスパスを設定するために使用します。</span> </p>

<p><span class="merged" id="all.4P2J4a" style='background-color:yellow' title="原文 : If the COHERENCE_HOME environment variable is set in an image the following entries will be added to the end of the classpath:"><code>COHERENCE_HOME</code>環境変数がイメージに設定されている場合は、次のエントリがクラスパスの最後に追加されます:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1yIpOq"  title="原文: $COHERENCE_HOME/lib/coherence.jar"><code>$COHERENCE_HOME/lib/coherence.jar</code></span></p>

</li>
<li>
<p><span class="merged" id="all.3mPXR1"  title="原文: $COHERENCE_HOME/conf"><code>$COHERENCE_HOME/conf</code></span></p>

</li>
</ul>
</div>

<h3 id="_additional_data_volumes"><span class="merged" id="all.1kbLUu" style='background-color:yellow' title="原文 : Additional Data Volumes">追加のデータ容量</span></h3>
<div class="section">
<p><span class="merged" id="all.4679uK" style='background-color:yellow' title="原文 : If the application requires access to external storage volumes in Kubernetes it is possible to add additional Volumes and VolumeMappings to the Pod and containers.">アプリケーションがKubernetesの外部ストレージ・ボリュームへのアクセスを必要とする場合、Podおよびコンテナに<code>Volumes</code>および<code>VolumeMappings</code>を追加できます。</span></p>

<p><span class="merged" id="all.Zx33P" style='background-color:yellow' title="原文 : There are three ways to add additional volumes:">ボリュームを追加する方法は3つあります:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1wFo2f" style='background-color:yellow' title="原文 : ConfigMaps - easily add a ConfigMap volume and volume mapping see: Add ConfigMap Volumes">ConfigMaps - <code>ConfigMap</code>ボリュームとボリュームのマッピングを簡単に追加するには、: <router-link to="/docs/other/050_configmap_volumes">ConfigMapボリュームの追加</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.15gLR0" style='background-color:yellow' title="原文 : Secrets - easily add a Secret volume and volume mapping see: Add Secret Volumes">シークレット - <code>Secret</code>ボリュームとボリュームのマッピングを簡単に追加するには、: <router-link to="/docs/other/060_secret_volumes">シークレット・ボリュームの追加</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1HTRuc" style='background-color:yellow' title="原文 : Volumes - easily add any additional volume and volume mapping see: Add Volumes">ボリューム - 追加のボリュームとボリュームのマッピングを簡単に追加: <router-link to="/docs/other/070_add_volumes">ボリュームの追加</router-link></span></p>

</li>
</ul>
<p><span class="merged" id="all.2ekAjp" style='background-color:yellow' title="原文 : Both of ConfigMaps and Secrets have been treated as a special case because they are quite commonly used to provide configurations to Pods, so the Coherence spec provides a simpler way to declare them than for ad-hoc Volumes."><code>ConfigMaps</code>と<code>Secrets</code>の両方が特殊なケースとして扱われました。これは、ポッドに構成を提供するために非常に一般的に使用されるため、<code>Coherence</code>スペックは、アドホック<code>Volumes</code>よりも簡単に宣言できます。</span></p>

</div>
</div>
</doc-view>
<!-- pages/docs/applications/030_deploy_application.js -->
<doc-view>

<h2 id="_deploy_coherence_application_images"><span class="merged" id="all.3HPfeY" style='background-color:yellow' title="原文 : Deploy Coherence Application Images">Coherenceアプリケーション・イメージのデプロイ</span></h2>
<div class="section">
<p><span class="merged" id="all.2Th844" style='background-color:yellow' title="原文 : Once a custom application image has been built (as described in Build Custom Application Images) a Coherence resource can be configured to use that image.">カスタム・アプリケーション・イメージがビルドされたら (<router-link to="/docs/applications/020_build_application">「カスタム・アプリケーション・イメージの作成」</router-link>で記述)、そのイメージを使用するように<code>Coherence</code>リソースを構成できます。</span></p>


<h3 id="_specify_the_image_to_use"><span class="merged" id="all.36sCNu" style='background-color:yellow' title="原文 : Specify the Image to Use">使用するイメージの指定</span></h3>
<div class="section">
<p><span class="merged" id="all.2J8vsM" style='background-color:yellow' title="原文 : To specify the image to use set the image field in the Coherence spec to the name of the image.">使用するイメージを指定するには、<code>Coherence</code>スペックの<code>image</code>フィールドをイメージの名前に設定します。</span></p>

<p><span class="merged" id="all.3GwwZT" style='background-color:yellow' title="原文 : For example if there was an application image called catalogue:1.0.0 it can be specified like this:">たとえば、<code>catalogue:1.0.0</code>というアプリケーション・イメージがある場合、次のように指定できます:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: catalogue:1.0.0  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2cggkz" style='background-color:yellow' title="原文 : The catalogue:1.0.0 will be used in the coherence container in the deployment’s Pods."><code>catalogue:1.0.0</code>は、デプロイメントのポッドの<code>coherence</code>コンテナで使用されます。</span></li>
</ul>
<p><span class="merged" id="all.zUE64" style='background-color:yellow' title="原文 : The example above would assume that the catalogue:1.0.0 has a JVM on the PATH and all the required .jar files, or Java classes, in the default classpath locations used by the Operator.">前述の例では、<code>catalogue:1.0.0</code>に<code>PATH</code>上のJVMがあり、オペレータで使用されるデフォルトのクラスパスのロケーションで必要なすべての<code>.jar</code>ファイルまたはJavaクラスがあることを前提としています。</span></p>

</div>

<h3 id="_image_pull_secrets"><span class="merged" id="all.MUXab" style='background-color:yellow' title="原文 : Image Pull Secrets">イメージ・プル・シークレット</span></h3>
<div class="section">
<p><span class="merged" id="all.4Scnoq" style='background-color:yellow' title="原文 : If your image needs to be pulled from a private registry you may need to provide image pull secrets for this.">イメージをプライベート・レジストリからプルする必要がある場合は、<a href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/" id="" target="_blank" >「イメージ・プル・シークレット」</a>を指定する必要があります。</span></p>

<p><span class="merged" id="all.1hqrXA.spl1" style='background-color:yellow' title="原文 : For example, supposing the application image is repo.acme.com/catalogue:1.0.0 and that repo.acme.com is a private registry; we might a Secret to the k8s namespace named repo-acme-com-secrets.">たとえば、アプリケーション・イメージの非表示は<code>repo.acme.com/catalogue:1.0.0</code>で、<code>repo.acme.com</code>はプライベート・レジストリです。<code>repo-acme-com-secrets</code>という名前のk8sネームスペースへの<code>Secret</code>の場合があります。</span> <span class="merged" id="all.1hqrXA.spl2" style='background-color:yellow' title="原文 : We can then specify that these secrets are used in the Coherence resource by setting the imagePullSecrets fields.">その後、<code>imagePullSecrets</code>フィールドを設定して、これらのシークレットを<code>Coherence</code>リソースで使用するように指定できます。</span> <span class="merged" id="all.1hqrXA.spl3" style='background-color:yellow' title="原文 : The imagePullSecrets field is a list of secret names, the same format as that used when specifying secrets for a Pod spec."><code>imagePullSecrets</code>フィールドは、Pod仕様のシークレットを指定するときに使用される形式と同じシークレット名のリストです。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: repo.acme.com/catalogue:1.0.0  <span class="conum" data-value="1" />
  imagePullSecrets:
    - name: repo-acme-com-secrets       <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1Nkjot" style='background-color:yellow' title="原文 : The repo.acme.com/catalogue:1.0.0 image will be used for the application image"><code>repo.acme.com/catalogue:1.0.0</code>イメージがアプリケーション・イメージに使用されます</span></li>
<li data-value="2"><span class="merged" id="all.3s1HG4" style='background-color:yellow' title="原文 : The Secret named repo-acme-com-secrets will be used to pull images."><code>repo-acme-com-secrets</code>という名前の<code>Secret</code>は、イメージのプルに使用されます。</span></li>
</ul>
<p><span class="merged" id="all.4CDM26" style='background-color:yellow' title="原文 : Multiple secrets can be specified in the case where different images used by different containers are pulled from different registries.">異なるコンテナで使用される異なるイメージが異なるレジストリからプルされる場合、複数のシークレットを指定できます。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: repo.acme.com/catalogue:1.0.0
  imagePullSecrets:
    - name: repo-acme-com-secrets               <span class="conum" data-value="1" />
    - name: oracle-container-registry-secrets</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.260RMt" style='background-color:yellow' title="原文 : The example above has two image pull secrets, repo-acme-com-secrets and oracle-container-registry-secrets">前述の例では、2つのイメージ・プル・シークレット(<code>repo-acme-com-secrets</code>および<code>oracle-container-registry-secrets</code>)があります</span></li>
</ul>
</div>

<h3 id="_more_application_configuration"><span class="merged" id="all.pjNOR" style='background-color:yellow' title="原文 : More Application Configuration">その他のアプリケーション構成</span></h3>
<div class="section">
<p><span class="merged" id="all.3YVujC" style='background-color:yellow' title="原文 : Additional configuration can be added to specify other application settings, these include:">その他のアプリケーション設定を指定するために、次の追加構成を追加できます:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3UbO9B" style='background-color:yellow' title="原文 : setting the classpath"><router-link to="/docs/jvm/020_classpath">「クラスパス」</router-link>の設定</span></p>

</li>
<li>
<p><span class="merged" id="all.44vg9M" style='background-color:yellow' title="原文 : specifying the application main"><router-link to="/docs/applications/040_application_main">「アプリケーション」</router-link>の指定</span></p>

</li>
<li>
<p><span class="merged" id="all.2azu4P" style='background-color:yellow' title="原文 : specifying application arguments"><router-link to="/docs/applications/050_application_args">「アプリケーション引数」</router-link>の指定</span></p>

</li>
<li>
<p><span class="merged" id="all.m1HoL" style='background-color:yellow' title="原文 : specifying the working directory"><router-link to="/docs/applications/060_application_working_dir">「作業ディレクトリ」</router-link>の指定</span></p>

</li>
</ul>
</div>
</div>
</doc-view>
<!-- pages/docs/applications/040_application_main.js -->
<doc-view>

<h2 id="_set_the_application_main"><span class="merged" id="all.3NEJZT" style='background-color:yellow' title="原文 : Set the Application Main">アプリケーション・メインの設定</span></h2>
<div class="section">
<p><span class="merged" id="all.4aqTWu.spl1" style='background-color:yellow' title="原文 : The Coherence container in the deployment’s Pods will, by default, run com.tangosol.net.DefaultCacheServer as the Java main class.">デプロイメントのポッド内のCoherenceコンテナは、デフォルトで、Javaメイン・クラスとして<code>com.tangosol.net.DefaultCacheServer</code>を実行します。</span> <span class="merged" id="all.4aqTWu.spl2" style='background-color:yellow' title="原文 : It is possible to change this when running a custom application that requires a different main.">別のメインを必要とするカスタム・アプリケーションを実行する場合は、これを変更できます。</span> </p>

<p><span class="merged" id="all.2EgDKg" style='background-color:yellow' title="原文 : The name of the main is set in the application.main field in the Coherence spec.">メインの名前は、<code>Coherence</code>仕様の<code>application.main</code>フィールドに設定されます。</span></p>

<p><span class="merged" id="all.3wCiMI" style='background-color:yellow' title="原文 : For example, if the deployment is using a custom image catalogue:1.0.0 that requires a custom main class called com.acme.Catalogue the Coherence resource would look like this:">たとえば、デプロイメントで<code>com.acme.Catalogue</code>というカスタム・メイン・クラスを必要とするカスタム・イメージ<code>catalogue:1.0.0</code>を使用している場合、<code>Coherence</code>リソースは次のようになります:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: catalogue:1.0.0
  application:
    main: com.acme.Catalogue <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3AcTG6" style='background-color:yellow' title="原文 : The com.acme.Catalogue will be run as the main class."><code>com.acme.Catalogue</code>はメイン・クラスとして実行されます。</span></li>
</ul>
<p><span class="merged" id="all.40pUOM" style='background-color:yellow' title="原文 : The example would be equivalent to the Coherence container running:">この例は、実行中のCoherenceコンテナと同等です:</span></p>

<pre
lang="bash"

>$ java com.acme.Catalogue</pre>

</div>
</doc-view>
<!-- pages/docs/applications/050_application_args.js -->
<doc-view>

<h2 id="_set_application_arguments"><span class="merged" id="all.3ASWhu" style='background-color:yellow' title="原文 : Set Application Arguments">アプリケーション引数の設定</span></h2>
<div class="section">
<p><span class="merged" id="all.2pdTNG.spl1" style='background-color:yellow' title="原文 : When running a custom application there may be a requirement to pass arguments to the application’s main class.">カスタム・アプリケーションを実行するときに、アプリケーションのメイン・クラスに引数を渡す必要がある場合があります。</span> <span class="merged" id="all.2pdTNG.spl2" style='background-color:yellow' title="原文 : By default, there are no application arguments but any arguments required can be specified in the application.args list in the Coherence resource spec.">デフォルトでは、アプリケーション引数はありませんが、必要な引数は<code>Coherence</code>リソース仕様の<code>application.args</code>リストで指定できます。</span> </p>

<p><span class="merged" id="all.2gSmKH" style='background-color:yellow' title="原文 : The application.args is a list of string values, each value in the list is passed as an argument, in the order that they are specified in the list."><code>application.args</code>は文字列値のリストで、リスト内の各値は、リストで指定された順序で引数として渡されます。</span></p>

<p><span class="merged" id="all.1EjsUt.spl1" style='background-color:yellow' title="原文 : For example, a deployment uses a custom image catalogue:1.0.0 that requires a custom main class called com.acme.Catalogue, and that class takes additional arguments.">たとえば、デプロイメントでは、<code>com.acme.Catalogue</code>というカスタム・メイン・クラスを必要とするカスタム・イメージ<code>catalogue:1.0.0</code>を使用し、そのクラスは追加の引数を取ります。</span> <span class="merged" id="all.1EjsUt.spl2" style='background-color:yellow' title="原文 : In this example we’ll use two fictitious arguments such as a name and a language for the catalogue. the Coherence resource would look like this:">この例では、名前やカタログの言語など、2つの架空の引数を使用します。<code>Coherence</code>リソースは次のようになります:</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: catalogue:1.0.0
  application:
    main: com.acme.Catalogue <span class="conum" data-value="1" />
    args:                    <span class="conum" data-value="2" />
      - "--name=Books"
      - "--language=en_GB"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3AcTG6.1" style='background-color:yellow' title="原文 : The com.acme.Catalogue will be run as the main class."><code>com.acme.Catalogue</code>はメイン・クラスとして実行されます。</span></li>
<li data-value="2"><span class="merged" id="all.gHONr" style='background-color:yellow' title="原文 : The arguments passed to the com.acme.Catalogue class will be --name=Books and --language=en_GB"><code>com.acme.Catalogue</code>クラスに渡される引数は、<code>--name=Books</code>および<code>--language=en_GB</code>になります</span></li>
</ul>
<p><span class="merged" id="all.40pUOM.1" style='background-color:yellow' title="原文 : The example would be equivalent to the Coherence container running:">この例は、実行中のCoherenceコンテナと同等です:</span></p>

<pre
lang="bash"

>$ java com.acme.Catalogue --name=Books --language=en_GB</pre>

</div>

<h2 id="_environment_variable_expansion"><span class="merged" id="all.vMSX8" style='background-color:yellow' title="原文 : Environment Variable Expansion">環境変数の拡張</span></h2>
<div class="section">
<p><span class="merged" id="all.2OTWNI.spl1" style='background-color:yellow' title="原文 : The Operator supports environment variable expansion in program arguments.">オペレータは、プログラム引数の環境変数拡張をサポートします。</span> <span class="merged" id="all.2OTWNI.spl2" style='background-color:yellow' title="原文 : The runner in the Coherence container will replace ${var} or $var in the program arguments with the corresponding environment variable name.">Coherenceコンテナ内のランナーは、プログラム引数の<code>${var}</code>または<code>$var</code>を、対応する環境変数名に置き換えます。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: catalogue:1.0.0
  application:
    main: com.acme.Catalogue
    args:
      - "${HOSTNAME}"  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4AXnVq" style='background-color:yellow' title="原文 : The argument passed to the com.acme.Catalogue main method will resolve to the value of the HOSTNAME environment variable."><code>com.acme.Catalogue</code> mainメソッドに渡された引数は、<code>HOSTNAME</code>環境変数の値に解決されます。</span></li>
</ul>
<p><span class="merged" id="all.yCF5D" style='background-color:yellow' title="原文 : Any environment variable that is present when the Coherence container starts can be used, this would include variables created as part of the image and variables specified in the Coherence yaml.">Coherenceコンテナの起動時に存在するすべての環境変数を使用できます。これには、イメージの一部として作成された変数およびCoherence yamlで指定された変数が含まれます。</span></p>

</div>
</doc-view>
<!-- pages/docs/applications/060_application_working_dir.js -->
<doc-view>

<h2 id="_set_the_working_directory"><span class="merged" id="all.4LF7Pp" style='background-color:yellow' title="原文 : Set the Working Directory">作業ディレクトリの設定</span></h2>
<div class="section">
<p><span class="merged" id="all.2kRc88.spl1" style='background-color:yellow' title="原文 : When running a custom application there may be a requirement to run in a specific working directory.">カスタム・アプリケーションを実行するときに、特定の作業ディレクトリで実行する必要がある場合があります。</span> <span class="merged" id="all.2kRc88.spl2" style='background-color:yellow' title="原文 : The working directory can be specified in the application.workingDir field in the Coherence spec.">作業ディレクトリは、<code>Coherence</code>仕様の<code>application.workingDir</code>フィールドで指定できます。</span> </p>

<p><span class="merged" id="all.1EjsUt.1.spl1" style='background-color:yellow' title="原文 : For example, a deployment uses a custom image catalogue:1.0.0 that requires a custom main class called com.acme.Catalogue, and that class takes additional arguments.">たとえば、デプロイメントでは、<code>com.acme.Catalogue</code>というカスタム・メイン・クラスを必要とするカスタム・イメージ<code>catalogue:1.0.0</code>を使用し、そのクラスは追加の引数を取ります。</span> <span class="merged" id="all.1EjsUt.1.spl2" style='background-color:yellow' title="原文 : In this example we’ll use two fictitious arguments such as a name and a language for the catalogue. the Coherence resource would look like this:">この例では、名前やカタログの言語など、2つの架空の引数を使用します。<code>Coherence</code>リソースは次のようになります:</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: catalogue:1.0.0          <span class="conum" data-value="1" />
  application:
    workingDir: "/apps/catalogue" <span class="conum" data-value="2" />
    main: "com.acme.Catalogue"    <span class="conum" data-value="3" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1YJ1vr" style='background-color:yellow' title="原文 : The catalogue:1.0.0 image will be used."><code>catalogue:1.0.0</code>イメージが使用されます。</span></li>
<li data-value="2"><span class="merged" id="all.1k9Ng5" style='background-color:yellow' title="原文 : The Java command will be executed in the /apps/catalogue working directory.">Javaコマンドは、<code>/apps/catalogue</code>作業ディレクトリで実行されます。</span></li>
<li data-value="3"><span class="merged" id="all.2MsAOu" style='background-color:yellow' title="原文 : The Java main class executed will be com.acme.Catalogue">実行されるJavaメイン・クラスは<code>com.acme.Catalogue</code>です</span></li>
</ul>
<p><span class="merged" id="all.40pUOM.2" style='background-color:yellow' title="原文 : The example would be equivalent to the Coherence container running:">この例は、実行中のCoherenceコンテナと同等です:</span></p>

<pre
lang="bash"

>$ cd /apps/catalogue
$ java com.acme.Catalogue</pre>

</div>
</doc-view>
<!-- pages/docs/applications/070_spring.js -->
<doc-view>

<h2 id="_spring_boot_applications"><span class="merged" id="all.GjXof" style='background-color:yellow' title="原文 : Spring Boot Applications">Spring Bootアプリケーション</span></h2>
<div class="section">
<p><span class="merged" id="all.200UFi.spl1" style='background-color:yellow' title="原文 : The Coherence Operator supports running images that contain Spring Boot applications.">Coherence Operatorでは、Spring Bootアプリケーションを含むイメージの実行がサポートされています。</span> <span class="merged" id="all.200UFi.spl2" style='background-color:yellow' title="原文 : Exactly how easy this is depends on how the image has been built.">これがどれほど簡単かは、イメージがどのようにビルドされたかによって決まります。</span> </p>

<p><span class="merged" id="all.xQxmG.spl1" style='background-color:yellow' title="原文 : When the operator runs an image it overrides the default image entrypoint and uses its own launcher.">オペレータがイメージを実行すると、デフォルトのイメージ・エンティティがオーバーライドされ、独自のランチャが使用されます。</span> <span class="merged" id="all.xQxmG.spl2" style='background-color:yellow' title="原文 : This allows the operator to properly configure various Coherence properties that the launcher then uses to build the command line to actually run your application.">これにより、オペレータは、実際にアプリケーションを実行するために起動ツールがコマンドラインをビルドするために使用する様々なCoherenceプロパティを適切に構成できます。</span> <span class="merged" id="all.xQxmG.spl3" style='background-color:yellow' title="原文 : With some types of image this is not a straight forward Java command line so the Operator requires a bit more information adding to the Coherence deployment yaml.">一部のタイプのイメージでは、これはまっすぐのJavaコマンドラインではないため、オペレータは、<code>Coherence</code>デプロイメントyamlに追加する少し詳しい情報が必要です。</span> </p>


<h3 id="_using_jib_images"><span class="merged" id="all.1OvWWB" style='background-color:yellow' title="原文 : Using JIB Images">JIBイメージの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.1lGFRS.spl1" style='background-color:yellow' title="原文 : The simplest way to build an application image to run with the Coherence Operator (including Spring Boot applications) is to use the JIB tool.">Coherence Operator (Spring Bootアプリケーションを含む)で実行するアプリケーション・イメージを作成する最も簡単な方法は、<a href="https://github.com/GoogleContainerTools/jib/blob/master/README.md" id="" target="_blank" >JIB</a>ツールを使用することです。</span> <span class="merged" id="all.1lGFRS.spl2" style='background-color:yellow' title="原文 : JIB images will work out of the box with the operator, even for a Spring Boot application, as described in Building Applications and Deploying Applications.">JIBイメージは、<router-link to="/docs/applications/020_build_application">「アプリケーションのビルド」</router-link>および<router-link to="/docs/applications/030_deploy_application">「アプリケーションのデプロイ」</router-link>で説明されているように、Spring Bootアプリケーションの場合でも、オペレータとともにすぐに使用できます。</span> </p>

<p><span class="merged" id="all.1YScCi" style='background-color:yellow' title="原文 : If you have used the Spring Maven or Gradle plugins to build the application into a fat jar, but you then build the image using the JIB plugin then JIB will detect the fat jar and package the image in an exploded form that will run out of the box with the operator.">Spring MavenまたはGradleプラグインを使用してアプリケーションをfat jarにビルドしたが、その後、<a href="https://github.com/GoogleContainerTools/jib/blob/master/README.md" id="" target="_blank" >JIB</a>プラグインを使用してイメージをビルドすると、JIBは、脂肪jarを検出し、オペレータとともにボックス外で実行する分解された形式でイメージをパッケージ化します。</span></p>

</div>

<h3 id="_using_an_exploded_spring_boot_image"><span class="merged" id="all.3orXcE" style='background-color:yellow' title="原文 : Using an Exploded Spring Boot Image">展開されたSpringブート・イメージの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.3Nfy9X" style='background-color:yellow' title="原文 : Another way to build a Spring Boot image is to explode the Spring Boot jar into a directory structure in the image.">Spring Bootイメージを作成するもう1つの方法は、Spring Boot jarをイメージ内のディレクトリ構造に展開することです。</span></p>

<p><span class="merged" id="all.nkZ43" style='background-color:yellow' title="原文 : For example, if a Spring Boot jar has been exploded into a directory called /spring, the image contents might look like the diagram below; where you can see the /spring directory contains the Spring Boot application.">たとえば、Spring Boot jarが<code>/spring</code>というディレクトリに展開されている場合、イメージの内容は次の図のようになります。ここでは、<code>/spring</code>ディレクトリにSpring Bootアプリケーションが含まれています。</span></p>

<pre


>&#9500;&#9472;&#9472; bin
&#9500;&#9472;&#9472; boot
&#9500;&#9472;&#9472; dev
&#9500;&#9472;&#8853; etc
&#9500;&#9472;&#8853; home
&#9500;&#9472;&#8853; lib
&#9500;&#9472;&#8853; lib64
&#9500;&#9472;&#9472; proc
&#9500;&#9472;&#9472; root
&#9500;&#9472;&#9472; run
&#9500;&#9472;&#9472; sbin
&#9500;&#9472;&#9472; spring
&#9474;   &#9500;&#9472;&#9472; BOOT-INF
&#9474;   &#9474;   &#9500;&#9472;&#8853; classes
&#9474;   &#9474;   &#9500;&#9472;&#9472; classpath.idx
&#9474;   &#9474;   &#9492;&#9472;&#8853; lib
&#9474;   &#9500;&#9472;&#9472; META-INF
&#9474;   &#9474;   &#9500;&#9472;&#9472; MANIFEST.MF
&#9474;   &#9474;   &#9492;&#9472;&#8853; maven
&#9474;   &#9492;&#9472;&#9472; org
&#9474;       &#9492;&#9472;&#9472; springframework
&#9474;           &#9492;&#9472;&#8853; boot
&#9500;&#9472;&#9472; sys
&#9500;&#9472;&#9472; tmp
&#9500;&#9472;&#8853; usr
&#9492;&#9472;&#8853; var</pre>

<p><span class="merged" id="all.4QgErp" style='background-color:yellow' title="原文 : This type of image can be run by the Coherence Operator by specifying an application type of spring in the spec.application.type field and by setting the working directory to the exploded directory, for example:">このタイプのイメージは、<code>spec.application.type</code>フィールドに<code>spring</code>のアプリケーション・タイプを指定し、展開されたディレクトリに作業ディレクトリを設定することで、Coherence Operatorで実行できます。次に例を示します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: my-spring-app:1.0.0
  application:
    type: spring         <span class="conum" data-value="1" />
    workingDir: /spring  <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.252osN" style='background-color:yellow' title="原文 : The type field set to spring tells the Operator that this is a Spring Boot application."><code>type</code>フィールドを<code>spring</code>に設定すると、これがSpring Bootアプリケーションであることをオペレータに通知します。</span></li>
<li data-value="2"><span class="merged" id="all.27dXB2" style='background-color:yellow' title="原文 : The working directory has been set to the directory containing the exploded Spring Boot application.">作業ディレクトリは、展開されたSpring Bootアプリケーションを含むディレクトリに設定されました。</span></li>
</ul>
<p><span class="merged" id="all.4KW2iU" style='background-color:yellow' title="原文 : When the Operator starts the application it will then run a command equivalent to:">オペレータがアプリケーションを起動すると、次と同等のコマンドが実行されます:</span></p>

<pre
lang="bash"

>cd /spring &amp;&amp; java org.springframework.boot.loader.PropertiesLauncher</pre>

</div>

<h3 id="_using_a_spring_boot_fat_jar"><span class="merged" id="all.3t8xx5" style='background-color:yellow' title="原文 : Using a Spring Boot Fat Jar">Spring Boot Fat Jarの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.10ypkc.spl1" style='background-color:yellow' title="原文 : It is not recommended to build images containing fat jars for various reasons which can easily be found on the internet.">インターネット上で簡単に見つかる様々な理由で、fat jarを含むイメージをビルドすることはお勧めしません。</span> <span class="merged" id="all.10ypkc.spl2" style='background-color:yellow' title="原文 : If you feel that you must build your application as a Spring Boot fat jar then this can still work with the Coherence Operator.">アプリケーションをSpring Bootのfat jarとしてビルドする必要があると感じた場合は、Coherence Operatorと連携できます。</span> </p>

<p><span class="merged" id="all.ZFjnf.spl1" style='background-color:yellow' title="原文 : The Java command line to run a Spring Boot fat jar needs to be something like java -jar my-app.jar where my-app.jar is the fat jar.">Spring Bootのfat jarを実行するJavaコマンドラインは、<code>java -jar my-app.jar</code>のようにする必要があります(<code>my-app.jar</code>はfat jarです)。</span> <span class="merged" id="all.ZFjnf.spl2" style='background-color:yellow' title="原文 : This means that the Operator’s launcher needs to know the location of the fat jar in the image, so this must be provided in the Coherence deployment yaml.">これは、オペレータのランチャがイメージ内のfat jarのロケーションを認識する必要があるため、これは<code>Coherence</code>デプロイメントyamlで指定する必要があります。</span> </p>

<p><span class="merged" id="all.4JTo1y.spl1" style='background-color:yellow' title="原文 : For example, suppose that an application has been built into a fat jar names catalogue-1.0.0.jar which is in the /app/libs directory in the image, so the full path to the jar is /app/libs/catalogue-1.0.0.jar.">たとえば、イメージ内の<code>/app/libs</code>ディレクトリにあるfat jar名<code>catalogue-1.0.0.jar</code>にアプリケーションがビルドされているため、jarへのフルパスは<code>/app/libs/catalogue-1.0.0.jar</code>であるとします。</span> <span class="merged" id="all.4JTo1y.spl2" style='background-color:yellow' title="原文 : This needs to be set in the spec.applicaton.springBootFatJar field of the Coherence yaml.">これは、<code>Coherence</code> yamlの<code>spec.applicaton.springBootFatJar</code>フィールドに設定する必要があります。</span> </p>

<p><span class="merged" id="all.2XHXjD" style='background-color:yellow' title="原文 : The spec.application.type field also needs to be set to spring so that the Operator knows that this is a Spring Boot application"><code>spec.application.type</code>フィールドは、これがSpring Bootアプリケーションであることをオペレータが認識できるように、<code>spring</code>に設定する必要もあります</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: catalogue:1.0.0
  application:
    type: spring                                      <span class="conum" data-value="1" />
    springBootFatJar: /app/libs/catalogue-1.0.0.jar   <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.252osN.1" style='background-color:yellow' title="原文 : The type field set to spring tells the Operator that this is a Spring Boot application."><code>type</code>フィールドを<code>spring</code>に設定すると、これがSpring Bootアプリケーションであることをオペレータに通知します。</span></li>
<li data-value="2"><span class="merged" id="all.2dOndU" style='background-color:yellow' title="原文 : The location of the Spring Boot jar has been set.">Spring Boot jarのロケーションが設定されました。</span></li>
</ul>
<p><span class="merged" id="all.4KW2iU.1" style='background-color:yellow' title="原文 : When the Operator starts the application it will then run a command equivalent to:">オペレータがアプリケーションを起動すると、次と同等のコマンドが実行されます:</span></p>

<pre
lang="bash"

>java -cp /app/libs/catalogue-1.0.0.jar org.springframework.boot.loader.PropertiesLauncher</pre>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.4QEbIk" style='background-color:yellow' title="原文 : The Operator does not run the fat jar using the java -jar command because it needs to add various other JVM arguments and append to the classpath, so it has to run the org.springframework.boot.loader.PropertiesLauncher class as opposed to the org.springframework.boot.loader.JarLauncher that java -jar would run.">オペレータは、<code>java -jar</code>コマンドを使用して、fat jarを実行しません。これは、他の様々なJVM引数を追加してクラスパスに追加する必要があるため、<code>java -jar</code>が実行される<code>org.springframework.boot.loader.JarLauncher</code>ではなく、<code>org.springframework.boot.loader.PropertiesLauncher</code>クラスを実行する必要があります。</span></p>
</div>
</div>

<h3 id="_using_could_native_buildpacks"><span class="merged" id="all.9yvGR" style='background-color:yellow' title="原文 : Using Could Native Buildpacks">ネイティブ・ビルド・パックの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.2f3svo" style='background-color:yellow' title="原文 : If the Spring Boot Maven or Gradle plugin has been used to produce an image using Cloud Native Buildpacks these images can work with the Coherence Operator.">Spring Boot MavenまたはGradleプラグインを使用して<a href="https://spring.io/blog/2020/01/27/creating-docker-images-with-spring-boot-2-3-0-m1" id="" target="_blank" >「クラウド・ネイティブのビルド・パック」</a>を使用してイメージを生成した場合、これらのイメージはCoherence Operatorと連携できます。</span></p>

<div class="admonition warning">
<p class="admonition-textlabel"><span class="merged" id="all.2dRYIU"  title="原文:: Warning">警告</span></p>
<p ><p><span class="merged" id="all.1cG9fO.spl1" style='background-color:yellow' title="原文 : Due to limitation on the way that arguments can be passed to the JVM when using Buildpacks images the Coherence operator will only work with images containing a JVM greater than Java 11.">Buildpacksイメージの使用時に引数をJVMに渡す方法の制限により、CoherenceオペレータはJava 11より大きいJVMを含むイメージでのみ動作します。</span> <span class="merged" id="all.1cG9fO.spl2" style='background-color:yellow' title="原文 : Although the Buildpacks launcher will honour the JAVA_OPTS or JAVA_TOOL_OPTIONS environment variables there appear to be size limitations for the values of these variables that make it impractical for the Operator to use them.">Buildpacksランチャは、<code>JAVA_OPTS</code>または<code>JAVA_TOOL_OPTIONS</code>環境変数を受け入れますが、これらの変数の値にはサイズ制限があるように見え、オペレータで使用することは現実的ではありません。</span> <span class="merged" id="all.1cG9fO.spl3" style='background-color:yellow' title="原文 : The Operator therefore creates a JVM arguments file to pass the arguments to the JVM.">したがって、オペレータはJVMに引数を渡すJVM引数ファイルを作成します。</span> <span class="merged" id="all.1cG9fO.spl4" style='background-color:yellow' title="原文 : At the time of writing these docs, Java 8 (which is the default version of Java used by the Spring Boot plugin) does not support the use of argument files for the JVM.">これらのドキュメントの記述時に、Java 8 (Spring Bootプラグインで使用されるデフォルトのバージョンのJava)はJVMの引数ファイルの使用をサポートしていません。</span> </p>

<p><span class="merged" id="all.fPPVn" style='background-color:yellow' title="原文 : It is simple to configure the version of the JVM used by the Spring Boot plugin, for example in Maven:">MavenなどでSpring Bootプラグインによって使用されるJVMのバージョンを構成するのは簡単です:</span></p>

<pre
lang="xml"

>&lt;plugin&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
  &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;
  &lt;configuration&gt;
    &lt;image&gt;
      &lt;env&gt;
        &lt;BP_JVM_VERSION&gt;11.*&lt;/BP_JVM_VERSION&gt;
      &lt;/env&gt;
    &lt;/image&gt;
  &lt;/configuration&gt;
&lt;/plugin&gt;</pre>
</p>
</div>
<p><span class="merged" id="all.4Ug5I6.spl1" style='background-color:yellow' title="原文 : When creating a Coherence deployment for a Spring Boot Buildpacks image The application type must be set to spring.">Spring Boot Buildpacksイメージの<code>Coherence</code>デプロイメントを作成する場合、アプリケーション・タイプは<code>spring</code>に設定する必要があります。</span> <span class="merged" id="all.4Ug5I6.spl2" style='background-color:yellow' title="原文 : The Operator’s launcher will automatically detect that the image is a Buildpacks image and launch the application using the Buildpacks launcher.">オペレータのランチャは、イメージがBuildpacksイメージであることを自動的に検出し、Buildpacksランチャを使用してアプリケーションを起動します。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: catalogue:1.0.0
  application:
    type: spring <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4AbZXZ" style='background-color:yellow' title="原文 : The application type has been set to spring so that the operator knows that this is a Spring Boot application, and the fact that the image is a Buildpacks image will be auto-discovered.">アプリケーション・タイプが<code>spring</code>に設定されているため、これがSpring Bootアプリケーションであることがオペレータに認識され、イメージがBuildpacksイメージであることが自動検出されます。</span></li>
</ul>
<p><span class="merged" id="all.2xfpyb" style='background-color:yellow' title="原文 : When the Operator starts the application it will then run the buildpacks launcher with a command equivalent to this:">オペレータがアプリケーションを起動すると、次のようなコマンドを持つbuildpacksランチャが実行されます:</span></p>

<pre
lang="bash"

>/cnb/lifecycle/launcher java @jvm-args-file org.springframework.boot.loader.PropertiesLauncher</pre>


<h4 id="_buildpacks_detection"><span class="merged" id="all.TGHtF" style='background-color:yellow' title="原文 : Buildpacks Detection">Buildpackの検出</span></h4>
<div class="section">
<p><span class="merged" id="all.4UJaaF" style='background-color:yellow' title="原文 : If for some reason buildpacks auto-detection does not work properly the Coherence CRD contains a filed to force buildpacks to be enabled or disabled.">なんらかの理由でbuildpackの自動検出が正常に機能しない場合、<code>Coherence</code> CRDには、buildpackを強制的に有効または無効にするためのファイルが含まれています。</span></p>

<p><span class="merged" id="all.3uhYwI" style='background-color:yellow' title="原文 : The boolean field spec.application.cloudNativeBuildPack.enabled can be set to true to enable buildpacks or false to disable buildpack."><code>boolean</code>フィールド<code>spec.application.cloudNativeBuildPack.enabled</code>を<code>true</code>に設定してbuildpackを有効にするか、falseを設定してbuildpackを無効にできます。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: catalogue:1.0.0
  application:
    type: spring            <span class="conum" data-value="1" />
    cloudNativeBuildPack:
      enabled: true         <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2cE1Pp" style='background-color:yellow' title="原文 : The application type has been set to spring so that the operator knows that this is a Spring Boot application">アプリケーション・タイプが<code>spring</code>に設定されているため、これがSpring Bootアプリケーションであることがオペレータに認識されます</span></li>
<li data-value="2"><span class="merged" id="all.2YG1B7" style='background-color:yellow' title="原文 : The cloudNativeBuildPack.enabled field has been set to true to force the Operator to use the Buildpacks launcher."><code>cloudNativeBuildPack.enabled</code>フィールドが<code>true</code>に設定されており、オペレータがBuildpacksランチャを使用することを強制しています。</span></li>
</ul>
</div>

<h4 id="_specify_the_buildpacks_launcher"><span class="merged" id="all.AHVdp" style='background-color:yellow' title="原文 : Specify the Buildpacks Launcher">Buildpacksランチャの指定</span></h4>
<div class="section">
<p><span class="merged" id="all.2A7gwR.spl1" style='background-color:yellow' title="原文 : A Cloud Native Buildpacks image uses a launcher mechanism to run the executable(s) in the image.">Cloud Native Buildpacksイメージでは、ランチャ・メカニズムを使用してイメージ内の実行可能ファイルを実行します。</span> <span class="merged" id="all.2A7gwR.spl2" style='background-color:yellow' title="原文 : The Coherence Operator launcher will configure the application and then invoke the same buildpacks launcher.">Coherence Operatorランチャはアプリケーションを構成し、同じbuildpacksランチャを起動します。</span> <span class="merged" id="all.2A7gwR.spl3" style='background-color:yellow' title="原文 : The Coherence Operator assumes that the buildpacks launcher is in the image in the location /cnb/lifecycle/launcher.">Coherence Operatorは、buildpacksランチャが<code>/cnb/lifecycle/launcher</code>のロケーションのイメージにあることを前提としています。</span> <span class="merged" id="all.2A7gwR.spl4" style='background-color:yellow' title="原文 : If a buildpacks image has been built with the launcher in a different location then the Coherence CRD contains a field to set the new location.">ランチャを別のロケーションにビルド・パック・イメージがビルドされている場合、<code>Coherence</code> CRDには新しいロケーションを設定するフィールドが含まれます。</span> </p>

<p><span class="merged" id="all.44J8Z8" style='background-color:yellow' title="原文 : The spec.application.cloudNativeBuildPack.enabled field."><code>spec.application.cloudNativeBuildPack.enabled</code>フィールド。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  image: catalogue:1.0.0
  application:
    type: spring                    <span class="conum" data-value="1" />
    cloudNativeBuildPack:
      launcher: /buildpack/launcher <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2cE1Pp.1" style='background-color:yellow' title="原文 : The application type has been set to spring so that the operator knows that this is a Spring Boot application">アプリケーション・タイプが<code>spring</code>に設定されているため、これがSpring Bootアプリケーションであることがオペレータに認識されます</span></li>
<li data-value="2"><span class="merged" id="all.IJtdd" style='background-color:yellow' title="原文 : The buildpacks launcher that the Operator will invoke is located at /buildpack/launcher.">オペレータが起動するbuildpacksランチャは、<code>/buildpack/launcher</code>にあります。</span></li>
</ul>
</div>

<h4 id="_buildpack_jvm_arguments"><span class="merged" id="all.2D2h8Y" style='background-color:yellow' title="原文 : Buildpack JVM Arguments">Buildpack JVM引数</span></h4>
<div class="section">
<p><span class="merged" id="all.1YpkBz" style='background-color:yellow' title="原文 : A typical Spring Boot buildpack launcher will attempt to configure options such as heap size based on the container resource limits configured, so this must be taken into account if using any of the memory options available in the Coherence CRD as there may be conflicting configurations.">典型的なSpring Boot buildpackランチャは、構成されたコンテナ・リソース制限に基づいてヒープ・サイズなどのオプションを構成しようとするため、<code>Coherence</code> CRDで使用可能なメモリー・オプションのいずれかを使用すると、競合する構成がある可能性があるため、これを考慮する必要があります。</span></p>

</div>
</div>
</div>
</doc-view>
<!-- pages/docs/coherence/010_overview.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.YrpRV.1"  title="原文:: Overview">概要</span></dt>
<dd slot="desc"><p><span class="merged" id="all.47kOHL" style='background-color:yellow' title="原文 : The Coherence resource has a number of fields to configure the behaviour of Coherence, these fields are in the spec.coherence section of the CRD."><code>Coherence</code>リソースには、<code>Coherence</code>の動作を構成する多数のフィールドがあります。これらのフィールドは、CRDの<code>spec.coherence</code>セクションにあります。</span></p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_configuring_coherence"><span class="merged" id="all.3BH9YU"  title="原文:: Configuring Coherence"> Coherenceの構成</span></h2>
<div class="section">
<p><span class="merged" id="all.4ToC2a.spl1" style='background-color:yellow' title="原文 : The Coherence CRD has specific fields to configure the most common Coherence settings."><code>Coherence</code> CRDには、最も一般的なCoherence設定を構成する特定のフィールドがあります。</span> <span class="merged" id="all.4ToC2a.spl2" style='background-color:yellow' title="原文 : Any other settings can be configured by adding system properties to the JVM Settings.">その他の設定は、システム・プロパティを<router-link to="/docs/jvm/010_overview">「JVM設定」</router-link>に追加することで構成できます。</span> </p>

<p><span class="merged" id="all.3PsKvJ" style='background-color:yellow' title="原文 : The following Coherence features can be directly specified in the Coherence spec.">次のCoherence機能は、<code>Coherence</code>仕様で直接指定できます。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.WciPx" style='background-color:yellow' title="原文 : Cluster Name"><router-link to="/docs/coherence/020_cluster_name">クラスタ名</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3wL9WN" style='background-color:yellow' title="原文 : Cache Configuration File"><router-link to="/docs/coherence/030_cache_config">キャッシュ構成ファイル</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2ZEItA" style='background-color:yellow' title="原文 : Operational Configuration File (aka, the override file)"><router-link to="/docs/coherence/040_override_file">「操作構成ファイル」</router-link> (別名、オーバーライド・ファイル)</span></p>

</li>
<li>
<p><span class="merged" id="all.4Spa4v" style='background-color:yellow' title="原文 : Storage Enabled or disabled deployments"><router-link to="/docs/coherence/050_storage_enabled">「ストレージ有効」</router-link>または無効なデプロイメント</span></p>

</li>
<li>
<p><span class="merged" id="all.3WHDHk" style='background-color:yellow' title="原文 : Log Level"><router-link to="/docs/coherence/060_log_level">ログ・レベル</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1iK4ya" style='background-color:yellow' title="原文 : Well Known Addressing and cluster discovery"><router-link to="/docs/coherence/070_wka">「よく知られたアドレス指定」</router-link>およびクラスタ検出</span></p>

</li>
<li>
<p><span class="merged" id="all.1eWdYB" style='background-color:yellow' title="原文 : Persistence"><router-link to="/docs/coherence/080_persistence">永続性</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.DA8o7" style='background-color:yellow' title="原文 : Management over REST"><router-link to="/docs/management/010_overview">RESTを介した管理</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.22UHPw" style='background-color:yellow' title="原文 : Metrics"><router-link to="/docs/metrics/010_overview">メトリクス</router-link></span></p>

</li>
</ul>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.2Q3ckK.spl1" style='background-color:yellow' title="原文 : The Coherence settings in the Coherence CRD spec typically set system property values that will be passed through to the Coherence JVM command line, which in turn configure Coherence."><code>Coherence</code> CRD仕様のCoherence設定では、通常、Coherence JVMコマンドラインに渡されるシステム・プロパティ値が設定され、これによってCoherenceが構成されます。</span> <span class="merged" id="all.2Q3ckK.spl2" style='background-color:yellow' title="原文 : This is the same behaviour that would occur when running Coherence outside of containers.">これは、コンテナの外部でCoherenceを実行する場合に発生する動作と同じです。</span> <span class="merged" id="all.2Q3ckK.spl3" style='background-color:yellow' title="原文 : Whether these system properties actually apply or not depends on the application code.">これらのシステム・プロパティが実際に適用されるかどうかは、アプリケーション・コードによって異なります。</span> <span class="merged" id="all.2Q3ckK.spl4" style='background-color:yellow' title="原文 : For example, it is simple to override the Coherence operational configuration file in a jar file deployed as part of an application’s image in such a way that will cause all the normal Coherence system properties to be ignored.">たとえば、アプリケーションのイメージの一部としてデプロイされたjarファイル内のCoherence操作構成ファイルをオーバーライドすると、通常のCoherenceシステム・プロパティがすべて無視されるようになります。</span> <span class="merged" id="all.2Q3ckK.spl5" style='background-color:yellow' title="原文 : If that is done then the Coherence settings discussed in this documentation will not apply.">これを実行した場合、このドキュメントで説明するCoherence設定は適用されません。</span> <span class="merged" id="all.2Q3ckK.spl6" style='background-color:yellow' title="原文 :  For example, adding a tangosol-coherence-override.xml file to a jar on the application’s classpath that contains an overridden &lt;configurable-cache-factory-config&gt; section with a hard coded cache configuration file name would mean that the Coherence CRD spec.coherence.cacheConfig field, that sets the coherence.cacheconfig system property, would be ignored."><br>たとえば、ハード・コード・キャッシュ構成ファイル名を持つオーバーライドされた<code>&lt;configurable-cache-factory-config></code>セクションを含むアプリケーション・クラスパスのjarに<code>tangosol-coherence-override.xml</code>ファイルを追加すると、<code>coherence.cacheconfig</code>システム・プロパティを設定する<code>Coherence</code> CRD <code>spec.coherence.cacheConfig</code>フィールドは無視されます。</span> <span class="merged" id="all.2Q3ckK.spl7" style='background-color:yellow' title="原文 :  It is, therefore, entirely at the application developer’s discretion whether they use the fields of the Coherence CRD to configure Coherence, or they put those settings into configuration files, either hard coded into jar files or picked up at runtime from files mapped from Kubernetes volumes, config maps, secrets, etc."><br>したがって、アプリケーション開発者は、<code>Coherence</code> CRDのフィールドを使用してCoherenceを構成するか、これらの設定をJARファイルにハードコードするか、Kubernetesボリューム、構成マップ、シークレットなどからマップされたファイルから実行時にピック・アップするかに関係なく、完全にアプリケーション開発者の判断で判断します。</span> </p>
</div>
</div>
</doc-view>
<!-- pages/docs/coherence/020_cluster_name.js -->
<doc-view>

<h2 id="_set_coherence_cluster_name"><span class="merged" id="all.1IIDqc" style='background-color:yellow' title="原文 : Set Coherence Cluster Name">Coherenceクラスタ名の設定</span></h2>
<div class="section">
<p><span class="merged" id="all.3OOMOT.spl1" style='background-color:yellow' title="原文 : The name of the Coherence cluster that a Coherence resource is part of can be set with the cluster field in the Coherence.Spec."><code>Coherence</code>リソースが属するCoherenceクラスタの名前は、<code>Coherence.Spec</code>の<code>cluster</code>フィールドを使用して設定できます。</span> <span class="merged" id="all.3OOMOT.spl2" style='background-color:yellow' title="原文 : The cluster name is used to set the coherence.cluster system property in the JVM in the Coherence container.">クラスタ名は、Coherenceコンテナ内のJVMで<code>coherence.cluster</code>システム・プロパティを設定するために使用されます。</span> </p>


<h3 id="_default_cluster_name"><span class="merged" id="all.3IHoty" style='background-color:yellow' title="原文 : Default Cluster Name">デフォルト・クラスタ名</span></h3>
<div class="section">
<p><span class="merged" id="all.1qJQWS" style='background-color:yellow' title="原文 : The default Coherence cluster name, used when the cluster field is empty, will be the same as the name of the Coherence resource, for example:"><code>cluster</code>フィールドが空の場合に使用されるデフォルトのCoherenceクラスタ名は、<code>Coherence</code>リソースの名前と同じです。次に例を示します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2cOdvA" style='background-color:yellow' title="原文 : The name of this Coherence resource is test, which will also be used as the Coherence cluster name, effectively passing -Dcoherence.cluster=test to the JVM in the Coherence container.">この<code>Coherence</code>リソースの名前は<code>test</code>であり、Coherenceクラスタ名としても使用され、事実上<code>-Dcoherence.cluster=test</code>をCoherenceコンテナ内のJVMに渡します。</span></li>
</ul>
</div>

<h3 id="_specify_a_cluster_name"><span class="merged" id="all.2nCLCX" style='background-color:yellow' title="原文 : Specify a Cluster Name">クラスタ名を指定</span></h3>
<div class="section">
<p><span class="merged" id="all.36zvMg" style='background-color:yellow' title="原文 : In a use case where multiple Coherence resources will be created to form a single Coherence cluster, the cluster field in all the Coherence resources needs to be set to the same value.">単一のCoherenceクラスタを形成するために複数の<code>Coherence</code>リソースが作成される場合、すべての<code>Coherence</code>リソースの<code>cluster</code>フィールドを同じ値に設定する必要があります。</span></p>

<pre
lang="yaml"
title="cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  cluster: test-cluster
---
apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: front-end
spec:
  cluster: test-cluster</pre>

<p><span class="merged" id="all.3jjWDF.spl1" style='background-color:yellow' title="原文 : The yaml above contains two Coherence resources, one named storage and one named front-end.">前述のyamlには、<code>storage</code>という名前の2つの<code>Coherence</code>リソースと、<code>front-end</code>という名前のリソースが含まれています。</span> <span class="merged" id="all.3jjWDF.spl2" style='background-color:yellow' title="原文 : Both of these Coherence resources have the same value for the cluster field, test-cluster, so the Pods in both deployments will form a single Coherence cluster named test.">これらの<code>Coherence</code>リソースの両方に<code>cluster</code>フィールド<code>test-cluster</code>の値が同じであるため、両方のデプロイメントのポッドは<code>test</code>という名前の単一のCoherenceクラスタを形成します。</span> </p>

</div>
</div>
</doc-view>
<!-- pages/docs/coherence/021_member_identity.js -->
<doc-view>

<h2 id="_member_identity"><span class="merged" id="all.3aP1Fa" style='background-color:yellow' title="原文 : Member Identity">メンバー・アイデンティティ</span></h2>
<div class="section">
<p><span class="merged" id="all.1r1IYE.spl1" style='background-color:yellow' title="原文 : Each JVM in a Coherence cluster has an identity.">Coherenceクラスタ内の各JVMには、アイデンティティがあります。</span> <span class="merged" id="all.1r1IYE.spl2" style='background-color:yellow' title="原文 : This is made up of a number of values for site, rack, member, machine and node-id.">これは、<code>site</code>, <code>rack</code>, <code>member</code>, <code>machine</code>および<code>node-id</code>の値の数で構成されます。</span> <span class="merged" id="all.1r1IYE.spl3" style='background-color:yellow' title="原文 : The node-id is assigned by Coherence when a node joins a cluster."><code>node-id</code>は、ノードがクラスタに参加したときにCoherenceによって割り当てられます。</span> <span class="merged" id="all.1r1IYE.spl4" style='background-color:yellow' title="原文 : The other values can be assigned using system properties, or will have defaults assigned by Coherence if not set.">その他の値は、システム・プロパティを使用して割り当てることができます。設定されていない場合、Coherenceによってデフォルトが割り当てられます。</span> <span class="merged" id="all.1r1IYE.spl5" style='background-color:yellow' title="原文 : The Coherence Operator will configure properties for these values.">Coherence Operatorは、これらの値のプロパティを構成します。</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.Vgkda" style='background-color:yellow' title="原文 : The member name is set to the Pod name.">メンバー名はポッド名に設定されます。</span></p>

</li>
<li>
<p><span class="merged" id="all.1LN6Hs" style='background-color:yellow' title="原文 : The machine name is set to the name of the Node that the Pod has been scheduled onto.">マシン名は、ポッドがスケジュールされているノードの名前に設定されます。</span></p>

</li>
<li>
<p><span class="merged" id="all.1kjUf8.spl1" style='background-color:yellow' title="原文 : The site name is taken from the topology.kubernetes.io/zone label on the Node that the Pod has been scheduled onto.">サイト名は、ポッドがスケジュールされたノードの<code>topology.kubernetes.io/zone</code>ラベルから取得されます。</span> <span class="merged" id="all.1kjUf8.spl2" style='background-color:yellow' title="原文 : If the topology.kubernetes.io/zone label is not set then the deprecated failure-domain.beta.kubernetes.io/zone label will be tried."><code>topology.kubernetes.io/zone</code>ラベルが設定されていない場合は、非推奨の<code>failure-domain.beta.kubernetes.io/zone</code>ラベルが試行されます。</span> <span class="merged" id="all.1kjUf8.spl3" style='background-color:yellow' title="原文 : If neither of these labels are set then the site will be unset, and the cache services may not reach site safe.">これらのラベルのどちらも設定されていない場合、サイトは設定解除され、キャッシュ・サービスはサイト安全に到達しない可能性があります。</span> </p>

</li>
<li>
<p><span class="merged" id="all.vcYHN.spl1" style='background-color:yellow' title="原文 : The rack name is taken from the oci.oraclecloud.com/fault-domain label on the Node that the Pod has been scheduled onto.">ラック名は、ポッドがスケジュールされているノードの<code>oci.oraclecloud.com/fault-domain</code>ラベルから取得されます。</span> <span class="merged" id="all.vcYHN.spl2" style='background-color:yellow' title="原文 : If the oci.oraclecloud.com/fault-domain label is not set then the site labels will be set to the same value as the site name."><code>oci.oraclecloud.com/fault-domain</code>ラベルが設定されていない場合、サイト・ラベルはサイト名と同じ値に設定されます。</span> </p>

</li>
</ul>
</div>

<h2 id="_status_ha_values"><span class="merged" id="all.3TcgPE" style='background-color:yellow' title="原文 : Status HA Values">ステータスHA値</span></h2>
<div class="section">
<p><span class="merged" id="all.20X6TR.spl1" style='background-color:yellow' title="原文 : As well as identifying cluster members, these values are also used by the partitioned cache service to distribute data as widely (safely) as possible in the cluster.">クラスタ・メンバーを識別するだけでなく、これらの値はパーティション・キャッシュ・サービスでも使用され、クラスタ内で可能なかぎり広く(安全)データを分散します。</span> <span class="merged" id="all.20X6TR.spl2" style='background-color:yellow' title="原文 : The backup owner will be as far away as possible from the primary owner.">バックアップ所有者は、プライマリ所有者からできるかぎり遠く離れます。</span> <span class="merged" id="all.20X6TR.spl3" style='background-color:yellow' title="原文 : Ideally this would be on a member with a different site; failing that, a different rack, machine and finally member.">理想的には、異なるサイト(別のラック、マシン、最後にメンバー)を持つメンバーの場合です。</span> </p>

</div>

<h2 id="_changing_site_and_rack_values"><span class="merged" id="all.2WIoFQ" style='background-color:yellow' title="原文 : Changing Site and Rack Values">サイトおよびラックの値の変更</span></h2>
<div class="section">
<p><span class="merged" id="all.3CZzU6.spl1" style='background-color:yellow' title="原文 : You should not usually need to change the default values applied for the member and machine names, but you may need to change the values used for the site, or rack.">通常、<code>member</code>および<code>machine</code>名に適用されるデフォルト値を変更する必要はありませんが、サイトまたはラックに使用される値を変更する必要がある場合があります。</span> <span class="merged" id="all.3CZzU6.spl2" style='background-color:yellow' title="原文 : The labels used for the site and rack are standard k8s labels but the k8s cluster being used may not have these labels set"><code>site</code>および<code>rack</code>に使用されるラベルは標準のk8sラベルですが、使用されるk8sクラスタにはこれらのラベル・セットがない可能性があります</span> </p>


<h3 id="_apply_node_labels"><span class="merged" id="all.3N1eZo" style='background-color:yellow' title="原文 : Apply Node Labels">ノード・ラベルの適用</span></h3>
<div class="section">
<p><span class="merged" id="all.1adgef" style='background-color:yellow' title="原文 : One solution to missing site and rack values is to apply the required labels to the Nodes in the k8s cluster.">サイトおよびラックの値が欠落する1つの解決策は、k8sクラスタのノードに必要なラベルを適用することです。</span></p>

<p><span class="merged" id="all.1BU55B" style='background-color:yellow' title="原文 : For example the command below labels the node in Docker dDesktop on MacOS to &quot;twighlight-zone&quot;.">たとえば、次のコマンドは、MacOSのDocker dDesktopのノードをtwighlight-zoneにラベル付けします。</span></p>

<pre
lang="bash"

>kubectl label node docker-desktop topology.kubernetes.io/zone=twighlight-zone</pre>

</div>

<h3 id="_specify_site_and_rack_using_system_properties"><span class="merged" id="all.1fZak1" style='background-color:yellow' title="原文 : Specify Site and Rack Using System Properties">システム・プロパティを使用したサイトおよびラックの指定</span></h3>
<div class="section">
<p><span class="merged" id="all.1atKBX" style='background-color:yellow' title="原文 : The site and rack values can be specified as system properties as part of the Coherence deployment yaml.">サイトおよびラックの値は、Coherenceデプロイメントyamlの一部としてシステム・プロパティとして指定できます。</span></p>

<p><span class="merged" id="all.6vDv5.1"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: my-cluster
spec:
  jvm:
    args:
      - "-Dcoherence.site=foo"
      - "-Dcoherence.rack=fbar"</pre>

<p><span class="merged" id="all.4KJIJ9.spl1" style='background-color:yellow' title="原文 : In the deployment above the site name is set to &quot;foo&quot; using the coherence.site system property.">上のデプロイメントでは、<code>coherence.site</code>システム・プロパティを使用して、サイト名が"foo"に設定されます。</span> <span class="merged" id="all.4KJIJ9.spl2" style='background-color:yellow' title="原文 : The rack name is set to &quot;bar&quot; using the coherence.rack system property.">ラック名は、<code>coherence.rack</code>システム・プロパティを使用して"bar"に設定されます。</span> </p>

</div>

<h3 id="_configure_the_operator_to_use_different_labels"><span class="merged" id="all.mEWoI" style='background-color:yellow' title="原文 : Configure the Operator to Use Different Labels">異なるラベルを使用するようにオペレータを構成</span></h3>
<div class="section">
<p><span class="merged" id="all.rA4Ep.spl1" style='background-color:yellow' title="原文 : The Operator can be configured to use different labels to obtain values for the site and rack names.">オペレータは、異なるラベルを使用してサイト名とラック名の値を取得するように構成できます。</span> <span class="merged" id="all.rA4Ep.spl2" style='background-color:yellow' title="原文 : This will obviously apply to all Coherence deployments managed by the Operator, but is useful if the Nodes in the k8s cluster do not have the normal k8s labels.">これは明らかに、オペレータによって管理されるすべてのCoherenceデプロイメントに適用されますが、k8sクラスタ内のノードに通常のk8sラベルがない場合に役立ちます。</span> <span class="merged" id="all.rA4Ep.spl3" style='background-color:yellow' title="原文 : The SITE_LABEL and RACK_LABEL environment variables are used to specify different labels to use."><code>SITE_LABEL</code>および<code>RACK_LABEL</code>環境変数を使用して、使用する別のラベルを指定します。</span> <span class="merged" id="all.rA4Ep.spl4" style='background-color:yellow' title="原文 : How these environment variables are set depends on how you are installing the Operator.">これらの環境変数の設定方法は、オペレータのインストール方法によって異なります。</span> </p>


<h4 id="_using_helm"><span class="merged" id="all.1kNCVv" style='background-color:yellow' title="原文 : Using Helm">Helmの使用</span></h4>
<div class="section">
<p><span class="merged" id="all.254z5f" style='background-color:yellow' title="原文 : If the Operator is installed using the Helm chart then the site and rack labels can be set using the siteLabel and rackLabel values; for example:">オペレータがHelmチャートを使用してインストールされている場合、サイトおよびラックのラベルは、<code>siteLabel</code>および<code>rackLabel</code>の値を使用して設定できます。次に例を示します:</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set siteLabel=identity/site \
    --set siteLabel=identity/rack \
    coherence-operator \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.Qkn4E" style='background-color:yellow' title="原文 : In the example above the Node label used by the Operator to get the value for the site will be identity/site, and the Node label used to get the value for the rack will be identity/rack.">上記の例では、オペレータがサイトの値を取得するために使用するノード・ラベルは<code>identity/site</code>になり、ラックの値を取得するために使用されるノード・ラベルは<code>identity/rack</code>になります。</span></p>

</div>

<h4 id="_using_kubectl_or_kustomize"><span class="merged" id="all.peXrY" style='background-color:yellow' title="原文 : Using Kubectl or Kustomize">KubectlまたはKustomizeの使用</span></h4>
<div class="section">
<p><span class="merged" id="all.3XiipX" style='background-color:yellow' title="原文 : If using kubectl or kustomize as described in the Installation Guide the additional environment variables can be applied using kustomize commands."><router-link to="/docs/installation/01_installation">「インストール・ガイド」</router-link>の説明に従って<code>kubectl</code>または<code>kustomize</code>を使用する場合、<code>kustomize</code>コマンドを使用して追加の環境変数を適用できます。</span></p>

<pre
lang="bash"

>cd ./manager &amp;&amp; $(GOBIN)/kustomize edit add configmap env-vars --from-literal SITE_LABEL='identity/site'</pre>

<pre
lang="bash"

>cd ./manager &amp;&amp; $(GOBIN)/kustomize edit add configmap env-vars --from-literal RACK_LABEL='identity/rack'</pre>

</div>
</div>
</div>
</doc-view>
<!-- pages/docs/coherence/030_cache_config.js -->
<doc-view>

<h2 id="_set_the_cache_configuration_file_name"><span class="merged" id="all.Pt6Zj" style='background-color:yellow' title="原文 : Set the Cache Configuration File Name">キャッシュ構成ファイル名の設定</span></h2>
<div class="section">
<p><span class="merged" id="all.7CcTJ.spl1" style='background-color:yellow' title="原文 : The name of the Coherence cache configuration file that the Coherence processes in a Coherence resource will use can be set with the spec.coherence.cacheConfig field."><code>Coherence</code>リソース内のCoherenceプロセスが使用するCoherenceキャッシュ構成ファイルの名前は、<code>spec.coherence.cacheConfig</code>フィールドで設定できます。</span> <span class="merged" id="all.7CcTJ.spl2" style='background-color:yellow' title="原文 : By setting this field the coherence.cacheconfig system property will be set in the Coherence JVM.">このフィールドを設定すると、<code>coherence.cacheconfig</code>システム・プロパティがCoherence JVMに設定されます。</span> </p>

<p><span class="merged" id="all.2NaVKZ.spl1" style='background-color:yellow' title="原文 : When the spec.coherence.cacheConfig is blank or not specified, Coherence use its default behaviour to find the cache configuration file to use."><code>spec.coherence.cacheConfig</code>が空白であるか指定されていない場合、Coherenceはデフォルトの動作を使用して、使用するキャッシュ構成ファイルを検索します。</span> <span class="merged" id="all.2NaVKZ.spl2" style='background-color:yellow' title="原文 : Typically, this is to use the first occurrence of coherence-cache-config.xml that is found on the classpath (consult the Coherence documentation for an explanation of the default behaviour).">通常、これは、クラスパスで最初に見つかった<code>coherence-cache-config.xml</code>を使用することです(デフォルトの動作の説明については、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/develop-applications/understanding-configuration.html#GUID-360B798E-2120-44A9-8B09-1FDD9AB40EB5" id="" target="_blank" >「Coherenceのドキュメント」</a>を使用します)。</span> </p>

<p><span class="merged" id="all.3HvF1H" style='background-color:yellow' title="原文 : To set a specific cache configuration file to use set the spec.coherence.cacheConfig field, for example:">使用する特定のキャッシュ構成ファイルを設定するには、<code>spec.coherence.cacheConfig</code>フィールドを設定します。次に例を示します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    cacheConfig: storage-cache-config.xml <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3h7hMP" style='background-color:yellow' title="原文 : The spec.coherence.cacheConfig field has been set to storage-cache-config.xml which will effectively pass -Dcoherence.cacheconfig=storage-cache-config.xml to the JVM command line."><code>spec.coherence.cacheConfig</code>フィールドが<code>storage-cache-config.xml</code>に設定されており、<code>-Dcoherence.cacheconfig=storage-cache-config.xml</code>をJVMコマンドラインに効果的に渡します。</span></li>
</ul>
</div>
</doc-view>
<!-- pages/docs/coherence/040_override_file.js -->
<doc-view>

<h2 id="_set_the_operational_configuration_file_name"><span class="merged" id="all.2m33SS" style='background-color:yellow' title="原文 : Set the Operational Configuration File Name">操作構成ファイル名の設定</span></h2>
<div class="section">
<p><span class="merged" id="all.4ZPacO.spl1" style='background-color:yellow' title="原文 : The name of the Coherence operations configuration file (commonly called the overrides file) that the Coherence processes in a Coherence resource will use can be set with the spec.coherence.overrideConfig field."><code>Coherence</code>リソース内のCoherenceプロセスで使用するCoherence操作構成ファイル(通常はオーバーライド・ファイル)の名前は、<code>spec.coherence.overrideConfig</code>フィールドで設定できます。</span> <span class="merged" id="all.4ZPacO.spl2" style='background-color:yellow' title="原文 : By setting this field the coherence.override system property will be set in the Coherence JVM.">このフィールドを設定すると、<code>coherence.override</code>システム・プロパティがCoherence JVMに設定されます。</span> </p>

<p><span class="merged" id="all.1u4wTh.spl1" style='background-color:yellow' title="原文 : When the spec.coherence.overrideConfig is blank or not specified, Coherence use its default behaviour to find the operational configuration file to use."><code>spec.coherence.overrideConfig</code>が空白であるか指定されていない場合、Coherenceはデフォルトの動作を使用して、使用する操作構成ファイルを検索します。</span> <span class="merged" id="all.1u4wTh.spl2" style='background-color:yellow' title="原文 : Typically, this is to use the first occurrence of tangosol-coherence-override.xml that is found on the classpath (consult the Coherence documentation for an explanation of the default behaviour).">通常、これは、クラスパスで最初に見つかった<code>tangosol-coherence-override.xml</code>を使用することです(デフォルトの動作の説明については、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/develop-applications/understanding-configuration.html#GUID-360B798E-2120-44A9-8B09-1FDD9AB40EB5" id="" target="_blank" >「Coherenceのドキュメント」</a>を使用します)。</span> </p>

<p><span class="merged" id="all.H4TZe" style='background-color:yellow' title="原文 : To set a specific operational configuration file to use set the spec.coherence.overrideConfig field, for example:">使用する特定の操作構成ファイルを設定するには、<code>spec.coherence.overrideConfig</code>フィールドを設定します。次に例を示します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    overrideConfig: test-override.xml <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.AVOfl" style='background-color:yellow' title="原文 : The spec.coherence.overrideConfig field has been set to test-override.xml which will effectively pass -Dcoherence.override=test-override.xml to the JVM command line."><code>spec.coherence.overrideConfig</code>フィールドが<code>test-override.xml</code>に設定されており、<code>-Dcoherence.override=test-override.xml</code>をJVMコマンドラインに効果的に渡します。</span></li>
</ul>
</div>
</doc-view>
<!-- pages/docs/coherence/050_storage_enabled.js -->
<doc-view>

<h2 id="_storage_enabled_or_disabled_deployments"><span class="merged" id="all.3BDAwZ" style='background-color:yellow' title="原文 : Storage Enabled or Disabled Deployments">ストレージの有効化または無効化デプロイメント</span></h2>
<div class="section">
<p><span class="merged" id="all.1feFKd.spl1" style='background-color:yellow' title="原文 : Partitioned cache services that manage Coherence caches are configured as storage enabled or storage disabled.">Coherenceキャッシュを管理するパーティション・キャッシュ・サービスは、ストレージの有効化またはストレージ無効化として構成されます。</span> <span class="merged" id="all.1feFKd.spl2" style='background-color:yellow' title="原文 : Whilst it is possible to configure individual services to be storage enabled or disabled in the cache configuration file and have a mixture of modes in a single JVM, typically all the services in a JVM share the same mode by setting the coherence.distributed.localstorage system property to true for storage enabled members and to false for storage disabled members.">個々のサービスをキャッシュ構成ファイルでストレージを有効化または無効化するように構成し、単一のJVMでモードを混在させることができますが、通常は、<code>coherence.distributed.localstorage</code>システム・プロパティをストレージが有効なメンバーに対して<code>true</code>に設定し、ストレージが無効なメンバーに対して<code>false</code>に設定することによって、JVM内のすべてのサービスが同じモードを共有します。</span> <span class="merged" id="all.1feFKd.spl3" style='background-color:yellow' title="原文 : The Coherence CRD allows this property to be set by specifying the spec.coherence.storageEnabled field to either true or false."><code>Coherence</code> CRDでは、<code>spec.coherence.storageEnabled</code>フィールドをtrueまたはfalseに指定することで、このプロパティを設定できます。</span> <span class="merged" id="all.1feFKd.spl4" style='background-color:yellow' title="原文 : The default value when nothing is specified is true.">何も指定されていない場合のデフォルト値は<code>true</code>です。</span> </p>

<pre
lang="yaml"
title="storage enabled"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    storageEnabled: true  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3z6zdx" style='background-color:yellow' title="原文 : The Coherence resource specifically sets coherence.distributed.localstorage to true"><code>Coherence</code>リソースは、特に<code>coherence.distributed.localstorage</code>を<code>true</code>に設定</span></li>
</ul>
<pre
lang="yaml"
title="storage disabled"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    storageEnabled: false  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.136zD5" style='background-color:yellow' title="原文 : The Coherence resource specifically sets coherence.distributed.localstorage to false"><code>Coherence</code>リソースは、特に<code>coherence.distributed.localstorage</code>を<code>false</code>に設定</span></li>
</ul>
</div>
</doc-view>
<!-- pages/docs/coherence/060_log_level.js -->
<doc-view>

<h2 id="_set_the_coherence_log_level"><span class="merged" id="all.ehMGR" style='background-color:yellow' title="原文 : Set the Coherence Log Level">Coherenceログ・レベルの設定</span></h2>
<div class="section">
<p><span class="merged" id="all.sY462.spl1" style='background-color:yellow' title="原文 : Logging granularity in Coherence is controlled by a log level, that is a number between one and nine, where the higher the number the more debug logging is produced.">Coherenceでのロギング粒度は、ログ・レベルで制御されます。ログ・レベルは1から9までの数値で、デバッグ・ロギングが生成される数が多くなります。</span> <span class="merged" id="all.sY462.spl2" style='background-color:yellow' title="原文 : The Coherence CRD has a field spec.coherence.logLevel that allows the log level to be configured by setting the coherence.log.level system property."><code>Coherence</code> CRDには、<code>coherence.log.level</code>システム・プロパティを設定してログ・レベルを構成できるフィールド<code>spec.coherence.logLevel</code>があります。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    logLevel: 9  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3OtG7g" style='background-color:yellow' title="原文 : The Coherence spec sets the log level to 9, effectively passing -Dcoherence.log.level=9 to the Coherence JVM’s command line."><code>Coherence</code>スペックは、ログ・レベルを9に設定し、事実上、<code>-Dcoherence.log.level=9</code>をCoherence JVMのコマンドラインに渡します。</span></li>
</ul>
</div>
</doc-view>
<!-- pages/docs/coherence/070_wka.js -->
<doc-view>

<h2 id="_well_known_addressing_and_cluster_discovery"><span class="merged" id="all.PL4IZ" style='background-color:yellow' title="原文 : Well Known Addressing and Cluster Discovery">よく知られたアドレス指定とクラスタ検出</span></h2>
<div class="section">
<p><span class="merged" id="all.1ae0cv.spl1" style='background-color:yellow' title="原文 : A Coherence cluster is made up of one or more JVMs.">Coherenceクラスタは、1つ以上のJVMで構成されます。</span> <span class="merged" id="all.1ae0cv.spl2" style='background-color:yellow' title="原文 : In order for these JVMs to form a cluster they need to be able to discover other cluster members.">これらのJVMがクラスタを形成するには、他のクラスタ・メンバーを検出できる必要があります。</span> <span class="merged" id="all.1ae0cv.spl3" style='background-color:yellow' title="原文 : The default mechanism for discovery is multicast broadcast but this does not work in most container environments.">検出のデフォルトのメカニズムはマルチキャスト・ブロードキャストですが、これはほとんどのコンテナ環境では機能しません。</span> <span class="merged" id="all.1ae0cv.spl4" style='background-color:yellow' title="原文 : Coherence provides an alternative mechanism where the addresses of the hosts where the members of the cluster will run is provided in the form of a &quot;well known address&quot; (or WKA) list.">Coherenceは、クラスタのメンバーが実行されるホストのアドレスが<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/develop-applications/setting-cluster.html#GUID-E8CC7C9A-5739-4D12-B88E-A3575F20D63B" id="" target="_blank" >「既知のアドレス」(またはWKA)リスト」</a>の形式で提供される代替メカニズムを提供します。</span> <span class="merged" id="all.1ae0cv.spl5" style='background-color:yellow' title="原文 : This address list is then used by Coherence when it starts in a JVM to discover other cluster members running on the hosts in the WKA list.">このアドレス・リストは、WKAリスト内のホストで実行されている他のクラスタ・メンバーを検出するためにJVMで起動するときに、Coherenceによって使用されます。</span> </p>

<p><span class="merged" id="all.3dmpPC.spl1" style='background-color:yellow' title="原文 : When running in containers each container is effectively a host and has its own host name and IP address (or addresses) and in Kubernetes it is the Pod that is effectively a host.">コンテナで実行する場合、各コンテナは実質的にホストであり、独自のホスト名およびIPアドレス(またはアドレス)を持ち、Kubernetesでは、事実上ホストである<code>Pod</code>です。</span> <span class="merged" id="all.3dmpPC.spl2" style='background-color:yellow' title="原文 : When starting a container it is usually not possible to know in advance what the host names of the containers or Pods will be so there needs to be another solution to providing the WKA list.">コンテナを起動するときは、通常、コンテナまたは<code>Pods</code>のホスト名を事前に把握できないため、WKAリストを提供するための別のソリューションが必要です。</span> </p>

<p><span class="merged" id="all.phg8.spl1" style='background-color:yellow' title="原文 : Coherence processes a WKA list it by performing a DNS lookup for each host name in the list.">Coherenceでは、リスト内の各ホスト名に対してDNSルックアップを実行してWKAリストを処理します。</span> <span class="merged" id="all.phg8.spl2" style='background-color:yellow' title="原文 : If a host name resolves to more than one IP address then all of those IP addresses will be used in cluster discovery.">ホスト名が複数のIPアドレスに解決される場合、これらのIPアドレスの<em>「すべて」</em>がクラスタ検出で使用されます。</span> <span class="merged" id="all.phg8.spl3" style='background-color:yellow' title="原文 : This feature of Coherence when combined with Kubernetes Services allows discovery of cluster members without resorting to a custom discovery mechanism.">Kubernetes <code>Services</code>と組み合せた場合、Coherenceのこの機能は、カスタム検出メカニズムに頼ることなくクラスタ・メンバーを検出できます。</span> </p>

<p><span class="merged" id="all.1Ab4X4.spl1" style='background-color:yellow' title="原文 : A Kubernetes Service has a DNS name and that name will resolve to all the IP addresses of the Pods that match that Service selector.">Kubernetes <code>Service</code>にはDNS名があり、その名前は、その<code>Service</code>セレクタに一致する<code>Pods</code>のすべてのIPアドレスに解決されます。</span> <span class="merged" id="all.1Ab4X4.spl2" style='background-color:yellow' title="原文 : This means that a Coherence JVM only needs to be given the DNS name of a Service as the single host name in its WKA list so that it will form a cluster with any other JVM using in a Pod matching the selector.">つまり、Coherence JVMには、WKAリストの単一ホスト名として<code>Service</code>のDNS名のみを指定する必要があるため、セレクタに一致するポッドで他のJVMを使用するクラスタが作成されます。</span> </p>

<p><span class="merged" id="all.qmBg5" style='background-color:yellow' title="原文 : When the Coherence Operator creates reconciles a Coherence CRD configuration to create a running set of Pods it creates a headless service specifically for the purposes of WKA for that Coherence resource with a selector that matches any Pod with the same cluster name.">Coherence Operatorによって<code>Coherence</code> CRD構成が調整され、実行中の<code>Pods</code>のセットが作成されると、同じクラスタ名を持つ任意のポッドに一致するセレクタを持つ、その<code>Coherence</code>リソース専用のヘッドレス・サービスが、WKAの目的で作成されます。</span></p>

<p><span class="merged" id="all.2pLTFq" style='background-color:yellow' title="原文 : For example, if a Coherence resource is created with the following yaml:">たとえば、<code>Coherence</code>リソースが次のyamlで作成されている場合:</span></p>

<pre
lang="yaml"
title="test-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  cluster: test-cluster <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3jJVMH" style='background-color:yellow' title="原文 : In this yaml the Coherence resource has a cluster name of test-cluster">このyamlでは、<code>Coherence</code>リソースのクラスタ名は<code>test-cluster</code>です</span></li>
</ul>
<p><span class="merged" id="all.3IoYlW.spl1" style='background-color:yellow' title="原文 : The Operator will create a Service for the Coherence resource using the same name as the deployment with a -wka suffix.">オペレータは、<code>-wka</code>サフィクスを持つデプロイメントと同じ名前を使用して、<code>Coherence</code>リソースの<code>Service</code>を作成します。</span> <span class="merged" id="all.3IoYlW.spl2" style='background-color:yellow' title="原文 : So in the example above the Operator would create a Service with the name storage-wka.">したがって、上の例では、オペレータは<code>storage-wka</code>という名前の<code>Service</code>を作成します。</span> </p>

<p><span class="merged" id="all.41k8sQ" style='background-color:yellow' title="原文 : The yaml for the WKA Service would look like the following:">WKA <code>Service</code>のyamlは、次のようになります:</span></p>

<pre
lang="yaml"
title="wka-service.yaml"
>apiVersion: v1
kind: Service
metadata:
  name: storage-wka                                                  <span class="conum" data-value="1" />
  labels:
    coherenceCluster: test-cluster
    component: coherenceWkaService
spec:
  clusterIP: None                                                    <span class="conum" data-value="2" />
  publishNotReadyAddresses: true                                     <span class="conum" data-value="3" />
  ports:
    - name: coherence                                                <span class="conum" data-value="4" />
      protocol: TCP
      port: 7
      targetPort: 7
  selector:
    coherenceCluster: test-cluster                                   <span class="conum" data-value="5" />
    component: coherencePod</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3bBDzG" style='background-color:yellow' title="原文 : The Service name is made up of the cluster name with the suffix -wka so in this case storage-wka"><code>Service</code>名は、サフィクス<code>-wka</code>を持つクラスタ名で構成され、この場合は<code>storage-wka</code>になります</span></li>
<li data-value="2"><span class="merged" id="all.2Wdc3v" style='background-color:yellow' title="原文 : The service has a clusterIP of None so it is headless">サービスには<code>None</code>の<code>clusterIP</code>があるため、ヘッドレスです</span></li>
<li data-value="3"><span class="merged" id="all.3dzPXK.spl1" style='background-color:yellow' title="原文 : The Service is configured to allow unready Pods so that all Pods matching the selector will be resolved as members of this service regardless of their ready state."><code>Service</code>は、準備完了状態に関係なく、セレクタと一致するすべての<code>Pods</code>がこのサービスのメンバーとして解決されるように、準備されていない<code>Pods</code>を許可するように構成されています。</span> <span class="merged" id="all.3dzPXK.spl2" style='background-color:yellow' title="原文 : This is important so that Coherence JVMs can discover other members before they are fully ready.">これは、Coherence JVMが完全に準備される前に他のメンバーを検出できるようにするために重要です。</span> </li>
<li data-value="4"><span class="merged" id="all.2uMJIW.spl1" style='background-color:yellow' title="原文 : A single port is exposed, in this case the echo port (7), even though nothing in the Coherence Pods binds to this port.">1つのポートが公開されます。この場合、Coherence <code>Pods</code>には何もバインドされていなくても、エコー・ポート(7)は公開されます。</span> <span class="merged" id="all.2uMJIW.spl2" style='background-color:yellow' title="原文 : Ideally no port would be included, but a Kubernetes service has to have at least one port defined.">理想的にはポートは含まれませんが、Kubernetesサービスには少なくとも1つのポートが定義されている必要があります。</span> </li>
<li data-value="5"><span class="merged" id="all.20ALDa" style='background-color:yellow' title="原文 : The selector will match all Pods with the labels coherenceCluster=test-cluster and component=coherencePod which are labels that the Coherence Operator will assign to all Pods in this cluster">セレクタは、すべての<code>Pods</code>とラベル<code>coherenceCluster=test-cluster</code>および<code>component=coherencePod</code> (Coherence Operatorがこのクラスタ内のすべての<code>Pods</code>に割り当てるラベル)に一致</span></li>
</ul>
<p><span class="merged" id="all.mOrij" style='background-color:yellow' title="原文 : Because this Service is created in the same Namespace as the deployment’s Pods the JVMs can use the raw Service name as the WKA list, in the example above the WKA list would just be test-cluster-wka.">この<code>Service</code>はデプロイメントの<code>Pods</code>と同じ<code>Namespace</code>に作成されるため、JVMはWKAリストとしてRAW <code>Service</code>名を使用できます。WKAリストの上の例では、<code>test-cluster-wka</code>になります。</span></p>

</div>

<h2 id="_exclude_a_deployment_from_wka"><span class="merged" id="all.2aHNEJ" style='background-color:yellow' title="原文 : Exclude a Deployment From WKA">WKAからデプロイメントを除外</span></h2>
<div class="section">
<p><span class="merged" id="all.1f2EAp.spl1" style='background-color:yellow' title="原文 : In some situations it may be desirable to exclude the Pods belonging to certain deployments in the cluster from being members of the well known address list.">場合によっては、クラスタ内の特定のデプロイメントに属するポッドを、既知のアドレス・リストのメンバーから除外することが望ましい場合があります。</span> <span class="merged" id="all.1f2EAp.spl2" style='background-color:yellow' title="原文 : For example certain K8s network configurations such as host networking can cause issues with WKA if other deployments in the cluster are using host networking.">たとえば、ホスト・ネットワーキングなどの特定のK8sネットワーク構成では、クラスタ内の他のデプロイメントがホスト・ネットワーキングを使用している場合にWKAで問題が発生する可能性があります。</span> </p>

<p><span class="merged" id="all.4biOea" style='background-color:yellow' title="原文 : A role can be excluded from the WKA list by setting the excludeFromWKA field of the coherence section of the deployment’s spec to true.">デプロイメントの仕様の<code>coherence</code>セクションの<code>excludeFromWKA</code>フィールドを<code>true</code>に設定すると、WKAリストからロールを除外できます。</span></p>

<pre
lang="yaml"
title="test-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-client
spec:
  cluster: `my-cluster`    <span class="conum" data-value="1" />
  coherence:
    excludeFromWKA: true   <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1YcmEm" style='background-color:yellow' title="原文 : The cluster field is set to the name of the Coherence cluster that this deployment wil be part of (there is no point in excluding a deployment from WKA unless it is part of a wider cluster)."><code>cluster</code>フィールドは、このデプロイメントが属するCoherenceクラスタの名前に設定されます(広範なクラスタに属さないかぎり、WKAからのデプロイメントを除外するポイントはありません)。</span></li>
<li data-value="2"><span class="merged" id="all.3BA4j0" style='background-color:yellow' title="原文 : The excludeFromWKA field is true so that Pods in the test-client deployment will not form part of the WKA list for the Coherence cluster."><code>excludeFromWKA</code>フィールドは<code>true</code>であるため、<code>test-client</code>デプロイメントの<code>Pods</code>は、CoherenceクラスタのWKAリストの一部を形成しません。</span></li>
</ul>
<div class="admonition warning">
<p class="admonition-inline"><span class="merged" id="all.2zq8NB" style='background-color:yellow' title="原文 : The operator does not validate the excludeFromWKA field for a deployment so it is possible to try to create a cluster where all of the deployment have excludeFromWKA set to true which will cause the cluster fail to start.">オペレータは、デプロイメントの<code>excludeFromWKA</code>フィールドをバリデートしないため、すべてのデプロイメントで<code>excludeFromWKA</code>が<code>true</code>に設定されているクラスタを作成しようとすると、クラスタの起動に失敗します。</span></p>
</div>
<div class="admonition warning">
<p class="admonition-inline"><span class="merged" id="all.27a5af.spl1" style='background-color:yellow' title="原文 : When excluding a deployment from WKA it is important that at least one deployment that is part of the WKA list has been started first otherwise the non-WKA role members cannot start.Eventually the K8s readiness probe for these Pods would time-out causing K8s to restart them but this would not be a desirable way to start a cluster.">WKAからデプロイメントを除外する場合は、WKAリストの一部である少なくとも1つのデプロイメントが最初に起動されていることが重要です。そうしないと、WKA以外のロール・メンバーがstart.Eventuallyを実行できず、K8sレディネス・プローブでこれらのポッドを再起動するとタイムアウトになりますが、これはクラスタを起動する望ましい方法ではありません。</span> <span class="merged" id="all.27a5af.spl2" style='background-color:yellow' title="原文 : The start-up order can be controlled by configuring the deployment’s startQuorum list, as described in the documentation section on deployment start-up ordering.">起動順序は、<router-link to="/docs/ordering/010_overview">「デプロイメント開始順序」</router-link>のドキュメント・セクションの説明に従って、デプロイメントの<code>startQuorum</code>リストを構成することで制御できます。</span> </p>
</div>
</div>

<h2 id="_multi_namespace_clusters"><span class="merged" id="all.4d5awb" style='background-color:yellow' title="原文 : Multi-Namespace Clusters">マルチ・ネームスペース・クラスタ</span></h2>
<div class="section">
<p><span class="merged" id="all.1e7FAy" style='background-color:yellow' title="原文 : It is possible to configure a Coherence cluster made up of multiple Coherence deployments that are deployed into different namespaces in the same Kubernetes cluster (with some caveats).">同じKubernetesクラスタ内の異なるネームスペースにデプロイされた複数の<code>Coherence</code>デプロイメントで構成されるCoherenceクラスタを構成できます(いくつかの注意事項があります)。</span></p>

<p><span class="merged" id="all.3OJmmj" style='background-color:yellow' title="原文 : The coherence.wka section of the Coherence CRD spec can be used to override the default WKA behaviour.">Coherence CRD仕様の<code>coherence.wka</code>セクションを使用して、デフォルトのWKA動作をオーバーライドできます。</span></p>

<p><span class="merged" id="all.1hhB0R.spl1" style='background-color:yellow' title="原文 : For example, suppose that there is a Coherence deployment named data that is the storage enabled cluster members holding data for an online store.">たとえば、オンライン・ストアのデータを保持するストレージが有効なクラスタ・メンバーである<code>data</code>という名前の<code>Coherence</code>デプロイメントがあるとします。</span> <span class="merged" id="all.1hhB0R.spl2" style='background-color:yellow' title="原文 : This data deployment will be deployed into the back-end namespace in a Kubernetes cluster.">この<code>data</code>デプロイメントは、Kubernetesクラスタの<code>back-end</code>ネームスペースにデプロイされます。</span> <span class="merged" id="all.1hhB0R.spl3" style='background-color:yellow' title="原文 :  Another Coherence deployment of storage disabled members will provide the front end REST API for the online store."><br>ストレージを無効にしたメンバーの別の<code>Coherence</code>デプロイメントでは、オンライン・ストア用のフロント・エンドREST APIが提供されます。</span> <span class="merged" id="all.1hhB0R.spl4" style='background-color:yellow' title="原文 : This will be named web-store and deployed in the front-end namespace.">これは<code>web-store</code>という名前になり、<code>front-end</code>ネームスペースにデプロイされます。</span> <span class="merged" id="all.1hhB0R.spl5" style='background-color:yellow' title="原文 :  Although both the data and web-store deployments are in different namespaces they need to form a single Coherence cluster."><br><code>data</code>デプロイメントと<code>web-store</code>デプロイメントは両方とも異なるネームスペースにありますが、単一のCoherenceクラスタを形成する必要があります。</span> </p>

<pre
lang="yaml"
title="data-deployment.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: data
  namespace: back-end      <span class="conum" data-value="1" />
spec:
  cluster: `shop`          <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2IHErC" style='background-color:yellow' title="原文 : The data deployment is deployed into the back-end namespace"><code>data</code>デプロイメントは、<code>back-end</code>ネームスペースにデプロイされます</span></li>
<li data-value="2"><span class="merged" id="all.3AFe2d" style='background-color:yellow' title="原文 : The Coherence cluster name is set to shop">Coherenceクラスタ名は<code>shop</code>に設定されます</span></li>
</ul>
<pre
lang="yaml"
title="web-store-deployment.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: web-store
  namespace: front-end     <span class="conum" data-value="1" />
spec:
  cluster: `shop`          <span class="conum" data-value="2" />
  coherence:
    wka:                   <span class="conum" data-value="3" />
      deployment: data
      namespace: back-end</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.26mbw3" style='background-color:yellow' title="原文 : The web-store deployment is deployed into the front-end namespace."><code>web-store</code>デプロイメントは、<code>front-end</code>ネームスペースにデプロイされます。</span></li>
<li data-value="2"><span class="merged" id="all.4Jr8cw" style='background-color:yellow' title="原文 : The Coherence cluster name is set to shop to match the data deployment">Coherenceクラスタ名は、<code>data</code>デプロイメントと一致するように<code>shop</code>に設定されます</span></li>
<li data-value="3"><span class="merged" id="all.1jT469" style='background-color:yellow' title="原文 : The coherence.wka section specifies the name of the Coherence deployment to use for WKA so in this case the data deployment in the back-end namespace."><code>coherence.wka</code>セクションでは、WKAに使用する<code>Coherence</code>デプロイメントの名前を指定します。この場合は、<code>back-end</code>ネームスペースの<code>data</code>デプロイメントを指定します。</span></li>
</ul>
<p><span class="merged" id="all.1oU0yt.spl1" style='background-color:yellow' title="原文 : As described already above the data deployment will have a headless Service created for WKA named data-wka, which will be in the back-end namespace.">すでに<code>data</code>デプロイメントの上で説明したように、<code>data-wka</code>という名前の<code>WKA</code>に対してヘッドレス<code>Service</code>が作成され、<code>back-end</code>ネームスペースに格納されます。</span> <span class="merged" id="all.1oU0yt.spl2" style='background-color:yellow' title="原文 : The full name of this Service in Kubernetes will be data-wka.back-end.svc and this will be the name that the members of the web-store deployment will be configured to use for WKA.">Kubernetesのこの<code>Service</code>のフルネームは<code>data-wka.back-end.svc</code>となり、これは<code>web-store</code>デプロイメントのメンバーがWKA用に構成される名前になります。</span> </p>

<div class="admonition warning">
<p class="admonition-inline"><span class="merged" id="all.mwQ8V" style='background-color:yellow' title="原文 : When using WKA in this way the Coherence deployment that is providing the WKA Service should be running before any deployment that depends on it is deployed.">この方法でWKAを使用する場合、WKA <code>Service</code>を提供する<code>Coherence</code>デプロイメントは、それに依存するデプロイメントがデプロイされる前に実行する必要があります。</span></p>
</div>
</div>

<h2 id="_override_the_wka_addresses"><span class="merged" id="all.1lFXjG" style='background-color:yellow' title="原文 : Override the WKA Address(es)">WKA Address(es)をオーバーライド</span></h2>
<div class="section">
<p><span class="merged" id="all.3JvC4G.spl1" style='background-color:yellow' title="原文 : It is possible to fully override the WKA address that will be configured by the Operator.">オペレータによって構成されるWKAアドレスを完全にオーバーライドできます。</span> <span class="merged" id="all.3JvC4G.spl2" style='background-color:yellow' title="原文 : This is useful where a different service exists that will perform the DNS resolution (for example when using Submariner[https://submariner.io] to communicate over k8s clusters).">これは、DNS解決を実行する別のサービスが存在する場合に便利です(たとえば、Submariner[ <a href="https://submariner.io" id="" target="_blank" >https://submariner.io</a> ]を使用してk8sクラスタ経由で通信する場合)。</span> <span class="merged" id="all.3JvC4G.spl3" style='background-color:yellow' title="原文 : In this case set the spec.coherence.wka.addresses field to be the WKA address (which is a list of string values).">この場合、<code>spec.coherence.wka.addresses</code>フィールドをWKAアドレス(文字列値のリスト)に設定します。</span> </p>

<pre
lang="yaml"
title="web-store-deployment.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: web-store
  namespace: front-end
spec:
  cluster: `shop`
  coherence:
    wka:
      addresses:
        - data.back-end.svc</pre>

<p><span class="merged" id="all.27xDS0.spl1" style='background-color:yellow' title="原文 : In the example above, the the Coherence WKA list would be configured as COHERENCE_WKA=data.back-end.svc.">前述の例では、Coherence WKAリストは<code>COHERENCE_WKA=data.back-end.svc</code>として構成されます。</span> <span class="merged" id="all.27xDS0.spl2" style='background-color:yellow' title="原文 : It is possible to use multiple addresses for WKA in the addresses field.">WKAの複数のアドレスをアドレス・フィールドで使用できます。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: web-store
  namespace: front-end
spec:
  cluster: `shop`
  coherence:
    wka:
      addresses:
        - data-01.back-end.svc
        - data-02.back-end.svc</pre>

<p><span class="merged" id="all.RSEIP" style='background-color:yellow' title="原文 : In the example above, the Coherence WKA list would be configured as COHERENCE_WKA=data-01.back-end.svc,data-02.back-end.svc">前述の例では、Coherence WKAリストは<code>COHERENCE_WKA=data-01.back-end.svc,data-02.back-end.svc</code>として構成されます</span></p>

</div>
</doc-view>
<!-- pages/docs/coherence/080_persistence.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.1MYoEr"  title="原文:: Coherence Persistence">Coherence永続性</span></dt>
<dd slot="desc"><p><span class="merged" id="all.1vAnSU.spl1"  title="原文: Coherence persistence is a set of tools and technologies that manage the persistence and recovery of Coherence distributed caches.">Coherence永続性は、Coherence分散キャッシュの永続性およびリカバリを管理する、一連のツールおよびテクノロジです。</span> <span class="merged" id="all.1vAnSU.spl2" style='background-color:yellow' title="原文 : Cached data can be persisted so that it can be quickly recovered after a catastrophic failure or after a cluster restart due to planned maintenance.">キャッシュされたデータは保持できるため、致命的な障害が発生した後、または計画メンテナンスのためにクラスタの再起動後に迅速にリカバリできます。</span> <span class="merged" id="all.1vAnSU.spl3"  title="原文: Persistence and federated caching can be used together as required.">永続性とフェデレーテッド・キャッシュは必要に応じて共に使用できます。</span> </p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_configure_coherence_persistence"><span class="merged" id="all.2bBcAD" style='background-color:yellow' title="原文 : Configure Coherence Persistence">Coherence永続性の構成</span></h2>
<div class="section">
<p><span class="merged" id="all.EVaZE.spl1" style='background-color:yellow' title="原文 : The Coherence CRD allows the default persistence mode, and the storage location of persistence data to be configured."><code>Coherence</code> CRDを使用すると、デフォルトの永続性モードおよび永続性データのストレージのロケーションを構成できます。</span> <span class="merged" id="all.EVaZE.spl2" style='background-color:yellow' title="原文 : Persistence can be configured in the spec.coherence.persistence section of the CRD.">永続性は、CRDの<code>spec.coherence.persistence</code>セクションで構成できます。</span> <span class="merged" id="all.EVaZE.spl3" style='background-color:yellow' title="原文 : See the Coherence Persistence documentation for more details of how persistence works and its configuration.">永続性およびその構成の詳細は、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/administer/persisting-caches.html#GUID-3DC46E44-21E4-4DC4-9D12-231DE57FE7A1" id="" target="_blank" >「Coherenceの永続性」</a>ドキュメントを参照してください。</span> </p>

</div>

<h2 id="_persistence_mode"><span class="merged" id="all.2gHMSK"  title="原文:: Persistence Mode">永続性モード</span></h2>
<div class="section">
<p><span class="merged" id="all.3Tvvmz.spl1" style='background-color:yellow' title="原文 : There are four default persistence modes available, active, active-async, active-backup, and on-demand; the default mode is on-demand.">使用可能なデフォルトの永続性モードは、<code>active</code>, <code>active-async</code>, <code>active-backup</code>および<code>on-demand</code>の4つあり、デフォルト・モードは<code>on-demand</code>です。</span> <span class="merged" id="all.3Tvvmz.spl2" style='background-color:yellow' title="原文 : The persistence mode will be set using the spec.coherence.persistence,mode field in the CRD.">永続性モードは、CRDの<code>spec.coherence.persistence,mode</code>フィールドを使用して設定されます。</span> <span class="merged" id="all.3Tvvmz.spl3" style='background-color:yellow' title="原文 : The value of this field will be used to set the coherence.distributed.persistence.mode system property in the Coherence JVM.">このフィールドの値は、Coherence JVMで<code>coherence.distributed.persistence.mode</code>システム・プロパティを設定するために使用されます。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.3weZL2.spl1" style='background-color:yellow' title="原文 : active-backup persistence mode is only available in the most recent versions of Coherence."><code>active-backup</code>永続性モードは、Coherenceの最新バージョンでのみ使用できます。</span> <span class="merged" id="all.3weZL2.spl2" style='background-color:yellow' title="原文 : Please check the release notes for your version.">ご使用のバージョンのリリース・ノートを確認してください。</span> </p>
</div>
<p><span class="merged" id="all.6vDv5.2"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    persistence:
      mode: active  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2pVD1d" style='background-color:yellow' title="原文 : The example above sets the persistence mode to active which will effectively pass -Dcoherence.distributed.persistence-mode=active to the Coherence JVM’s command line.">前述の例では、永続性モードを<code>active</code>に設定し、Coherence JVMのコマンドラインに<code>-Dcoherence.distributed.persistence-mode=active</code>を効果的に渡します。</span></li>
</ul>
</div>

<h2 id="_persistence_storage"><span class="merged" id="all.2DJabT" style='background-color:yellow' title="原文 : Persistence Storage">永続性ストレージ</span></h2>
<div class="section">
<p><span class="merged" id="all.4DMlVs.spl1" style='background-color:yellow' title="原文 : The purpose of persistence in Coherence is to store data on disc so that it is available outside of the lifetime of the JVMs that make up the cluster.">Coherenceでの永続性の目的は、クラスタを構成するJVMの存続期間外で使用できるように、データをディスクに格納することです。</span> <span class="merged" id="all.4DMlVs.spl2" style='background-color:yellow' title="原文 : In a containerised environment like Kubernetes this means storing that data in storage that also lives outside of the containers.">Kubernetesなどのコンテナ化された環境では、コンテナ外にも存在するデータをストレージに格納します。</span> </p>

<p><span class="merged" id="all.3y6wwv" style='background-color:yellow' title="原文 : When persistence storage has been configured a VolumeMount will be added to the Coherence container mounted at /persistence, and the coherence.distributed.persistence.base.dir system property will be configured to point to the storage location.">永続ストレージが構成されている場合、<code>/persistence</code>にマウントされたCoherenceコンテナに<code>VolumeMount</code>が追加され、ストレージのロケーションを指すように<code>coherence.distributed.persistence.base.dir</code>システム・プロパティが構成されます。</span></p>


<h3 id="_using_a_persistentvolumeclaim"><span class="merged" id="all.4IZb6j" style='background-color:yellow' title="原文 : Using a PersistentVolumeClaim">PersistentVolumeClaimの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.LiZNa" style='background-color:yellow' title="原文 : The Coherence Operator creates a StatefulSet for each Coherence resource, so the logical place to store persistence data is in a PersistentVolumeClaim.">Coherence Operatorでは、<code>Coherence</code>リソースごとに<code>StatefulSet</code>が作成されるため、永続性データを格納する論理的な場所は<code>PersistentVolumeClaim</code>にあります。</span></p>

<p><span class="merged" id="all.14zUe3" style='background-color:yellow' title="原文 : The PVC used for persistence can be configured in the spec.coherence.persistence.persistentVolumeClaim section of the CRD.">永続性に使用されるPVCは、CRDの<code>spec.coherence.persistence.persistentVolumeClaim</code>セクションで構成できます。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    persistence:
      persistentVolumeClaim:     <span class="conum" data-value="1" />
        storageClassName: "SSD"
        accessModes:
          - ReadWriteOnce
        resources:
          requests:
            storage: 50Gi</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2kYvt1" style='background-color:yellow' title="原文 : The example above configures a 50GB PVC with a storage class name of &quot;SSD&quot; (assuming the Kubernetes cluster has a storage class of that name configured).">上の例では、"SSD"というストレージ・クラス名を持つ50GBのPVCを構成します(Kubernetesクラスタにその名前のストレージ・クラスが構成されていると仮定します)。</span></li>
</ul>
<p><span class="merged" id="all.1jGxa7.spl1" style='background-color:yellow' title="原文 : The configuration under the spec.coherence.persistence.persistentVolumeClaim section is exactly the same as configuring a PVC for a normal Kubernetes Pod and all the possible options are beyond the scope of this document."><code>spec.coherence.persistence.persistentVolumeClaim</code>セクションの構成は、通常のKubernetesポッドのPVCの構成とまったく同じであり、考えられるすべてのオプションは、このドキュメントのスコープを超えています。</span> <span class="merged" id="all.1jGxa7.spl2" style='background-color:yellow' title="原文 : For more details on configuring PVC, see the Kubernetes Persistent Volumes documentation.">PVCの構成の詳細は、Kubernetes <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" id="" target="_blank" >「永続ボリューム」</a>のドキュメントを参照してください。</span> </p>

</div>

<h3 id="_using_a_normal_volume"><span class="merged" id="all.3OVF1a" style='background-color:yellow' title="原文 : Using a Normal Volume">通常のボリュームの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.1KqkpY.spl1" style='background-color:yellow' title="原文 : An alternative to a PVC is to use a normal Kubernetes Volume to store the persistence data.">PVCの代替手段は、通常のKubernetesボリュームを使用して永続性データを格納することです。</span> <span class="merged" id="all.1KqkpY.spl2" style='background-color:yellow' title="原文 : An example of this use-case could be when the Kubernetes Nodes that the Coherence Pods are scheduled onto have locally attached fast SSD drives, which is ideal storage for persistence.">このユースケースの例は、CoherenceポッドがスケジュールされているKubernetesノードにローカルにアタッチされた高速SSDドライブがある場合にあり、永続化に最適なストレージです。</span> <span class="merged" id="all.1KqkpY.spl3" style='background-color:yellow' title="原文 : In this case a normal Volume can be configured in the spec.coherence.persistence.volume section of the CRD.">この場合、通常のボリュームは、CRDの<code>spec.coherence.persistence.volume</code>セクションで構成できます。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    persistence:                                 <span class="conum" data-value="1" />
      volume:
        hostPath:
          path: /mnt/ssd/coherence/persistence</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1aAvV6" style='background-color:yellow' title="原文 : In the example above a Volume has been configured for persistence, in this case a HostPath volume pointing to the /mnt/ssd/coherence/persistence directory on the Node.">前述の例では、ボリュームが永続性用に構成されています。この場合、ノードの<code>/mnt/ssd/coherence/persistence</code>ディレクトリを指す<code>HostPath</code>ボリュームになります。</span></li>
</ul>
<p><span class="merged" id="all.2CcQX2.spl1" style='background-color:yellow' title="原文 : The configuration under the spec.coherence.persistence.volume section is a normal Kubernetes VolumeSource so any valid VolumeSource configuration can be used."><code>spec.coherence.persistence.volume</code>セクションの下の構成は通常のKubernetes <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#volume-v1-core" id="" target="_blank" >VolumeSource</a>であるため、有効な<code>VolumeSource</code>構成を使用できます。</span> <span class="merged" id="all.2CcQX2.spl2" style='background-color:yellow' title="原文 : See the Kubernetes Volumes documentation for more details.">詳細は、Kubernetes <a href="https://kubernetes.io/docs/concepts/storage/volumes/" id="" target="_blank" >「ボリューム」</a>のドキュメントを参照してください。</span> </p>

</div>
</div>

<h2 id="_snapshot_storage"><span class="merged" id="all.3ZO2DL"  title="原文:: Snapshot Storage">スナップショットの格納</span></h2>
<div class="section">
<p><span class="merged" id="all.VlHYx.spl1" style='background-color:yellow' title="原文 : Coherence allows on-demand snapshots to be taken of cache data.">Coherenceでは、オンデマンド・スナップショットをキャッシュ・データから取得できます。</span> <span class="merged" id="all.VlHYx.spl2" style='background-color:yellow' title="原文 : With the default configuration the snapshot files will be stored under the same persistence root location as active persistence data.">デフォルトの構成では、スナップショット・ファイルは、アクティブな永続性データと同じ永続性ルートのロケーションに格納されます。</span> <span class="merged" id="all.VlHYx.spl3" style='background-color:yellow' title="原文 : The Coherence spec allows a different location to be specified for storage of snapshot files so that active data and snapshot data can be stored in different locations and/or on different storage types in Kubernetes."><code>Coherence</code>仕様では、スナップショット・ファイルの格納に異なるロケーションを指定できるため、アクティブなデータおよびスナップショット・データを異なるロケーションに格納したり、Kubernetes異なるストレージ・タイプに格納できます。</span> </p>

<p><span class="merged" id="all.3Uohoq.spl1" style='background-color:yellow' title="原文 : The same two options are available for snapshot storage that are available for persistence storage, namely PVCs and normal Volumes.">永続性ストレージ(PVCおよび通常のボリューム)で使用可能なスナップショット・ストレージには、同じ2つのオプションを使用できます。</span> <span class="merged" id="all.3Uohoq.spl2" style='background-color:yellow' title="原文 : The spec.coherence.persistence.snapshots section is used to configure snapshot storage."><code>spec.coherence.persistence.snapshots</code>セクションは、スナップショット・ストレージの構成に使用されます。</span> <span class="merged" id="all.3Uohoq.spl3" style='background-color:yellow' title="原文 : When this is used a VolumeMount will be added to the Coherence container with a mount path of /snapshots, and the coherence.distributed.persistence.snapshot.dir system property will be set to point to this location.">これを使用すると、<code>VolumeMount</code>が<code>/snapshots</code>のマウント・パスでCoherenceコンテナに追加され、<code>coherence.distributed.persistence.snapshot.dir</code>システム・プロパティがこのロケーションを指すように設定されます。</span> </p>


<h3 id="_snapshots_using_a_persistentvolumeclaim"><span class="merged" id="all.1NsvTd" style='background-color:yellow' title="原文 : Snapshots Using a PersistentVolumeClaim">PersistentVolumeClaimを使用したスナップショット</span></h3>
<div class="section">
<p><span class="merged" id="all.1qX9Tt" style='background-color:yellow' title="原文 : A PVC can be configured for persistence snapshot data as shown below.">次に示すように、PVCは永続性スナップショット・データ用に構成できます。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    persistence:                                 <span class="conum" data-value="1" />
      volume:
        hostPath:
          path: /mnt/ssd/coherence/persistence
      snapshots:
        persistentVolumeClaim:                   <span class="conum" data-value="2" />
          resources:
            requests:
              storage: 50Gi</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.wilHm" style='background-color:yellow' title="原文 : Active persistence data will be stored on a normal Volume using a HostPath volume source.">アクティブな永続性データは、HostPathボリューム・ソースを使用して通常のボリュームに格納されます。</span></li>
<li data-value="2"><span class="merged" id="all.3l1zJy" style='background-color:yellow' title="原文 : Snapshot data will be stored in a 50GB PVC.">スナップショット・データは50GB PVCに格納されます。</span></li>
</ul>
</div>

<h3 id="_snapshots_using_a_normal_volumes"><span class="merged" id="all.3mynkw" style='background-color:yellow' title="原文 : Snapshots Using a Normal Volumes">通常のボリュームを使用したスナップショット</span></h3>
<div class="section">
<p><span class="merged" id="all.4HtdeU" style='background-color:yellow' title="原文 : A normal volume can be configured for snapshot data as shown below.">次に示すように、通常のボリュームをスナップショット・データ用に構成できます。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    persistence:                                 <span class="conum" data-value="1" />
      volume:
        hostPath:
          path: /mnt/ssd/coherence/persistence
      snapshots:
        volume:
          hostPath:
            path: /mnt/ssd/coherence/snapshots   <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.wilHm.1" style='background-color:yellow' title="原文 : Active persistence data will be stored on a normal Volume using a HostPath volume source.">アクティブな永続性データは、HostPathボリューム・ソースを使用して通常のボリュームに格納されます。</span></li>
<li data-value="2"><span class="merged" id="all.3sXd0j" style='background-color:yellow' title="原文 : Snapshot data will be stored on a normal Volume using a different HostPath volume source.">スナップショット・データは、別のHostPathボリューム・ソースを使用して通常のボリュームに格納されます。</span></li>
</ul>
</div>
</div>
</doc-view>
<!-- pages/docs/coherence/090_ipmonitor.js -->
<doc-view>

<h2 id="_coherence_ipmonitor"><span class="merged" id="all.56c51" style='background-color:yellow' title="原文 : Coherence IPMonitor">Coherence IPMonitor</span></h2>
<div class="section">
<p><span class="merged" id="all.3RNG8G.spl1" style='background-color:yellow' title="原文 : The Coherence IPMonitor is a failure detection mechanism used by Coherence to detect machine failures.">Coherence IPMonitorは、マシン障害を検出するためにCoherenceで使用される障害検出メカニズムです。</span> <span class="merged" id="all.3RNG8G.spl2" style='background-color:yellow' title="原文 : It does this by pinging the echo port, (port 7) on remote hosts that other cluster members are running on.">これは、他のクラスタ・メンバーが実行されているリモート・ホストでエコー・ポート(ポート7)をpingすることによって行われます。</span> <span class="merged" id="all.3RNG8G.spl3" style='background-color:yellow' title="原文 : When running in Kubernetes, every Pod has its own IP address, so it looks to Coherence like every member is on a different host.">Kubernetesで実行する場合、すべてのポッドに独自のIPアドレスがあるため、すべてのメンバーが別のホスト上にあるようにCoherenceが参照されます。</span> <span class="merged" id="all.3RNG8G.spl4" style='background-color:yellow' title="原文 : Failure detection using IPMonitor is less useful in Kubernetes than it is on physical machines or VMs, so the Operator disables the IPMonitor by default.">IPMonitorを使用した障害検出は、物理マシンまたはVM上の障害よりKubernetesではあまり便利ではないため、オペレータはデフォルトでIPMonitorを無効にします。</span> <span class="merged" id="all.3RNG8G.spl5" style='background-color:yellow' title="原文 : This is configurable though and if it is felt that using IPMonitor is useful to an application, it can be re-enabled.">これは構成可能ですが、IPMonitorの使用がアプリケーションにとって有用であると思われる場合は、再有効化できます。</span> </p>

<p><span class="merged" id="all.2LfyA1" style='background-color:yellow' title="原文 : To re-enable IPMonitor set the boolean flag enableIpMonitor in the coherence section of the Coherence resource yaml:">IPMonitorを再度有効にするには、Coherenceリソースyamlの<code>coherence</code>セクションでブール・フラグ<code>enableIpMonitor</code>を設定します:</span></p>

<pre
lang="yaml"
title="coherence-storage.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    enableIpMonitor: true</pre>

<p><span class="merged" id="all.123zPJ" style='background-color:yellow' title="原文 : Setting enableIpMonitor will disable the IPMonitor, which is the default behaviour when enableIpMonitor is not specified in the yaml."><code>enableIpMonitor</code>を設定すると、IPMonitorが無効になります。これは、<code>enableIpMonitor</code>がyamlで指定されていない場合のデフォルトの動作です。</span></p>

</div>
</doc-view>
<!-- pages/docs/installation/01_installation.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.1Tb5TG" style='background-color:yellow' title="原文 : Coherence Operator Installation">Coherence Operatorインストール</span></dt>
<dd slot="desc"><p><span class="merged" id="all.1NtU1g" style='background-color:yellow' title="原文 : The Coherence Operator is available as an image from the GitHub container registry ghcr.io/oracle/coherence-operator:3.3.4 that can easily be installed into a Kubernetes cluster.">♪Coherence Operatorは、Kubernetesクラスタに簡単にインストールできるGitHubコンテナ・レジストリ<code>ghcr.io/oracle/coherence-operator:3.3.4</code>のイメージとして使用できます。</span></p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_coherence_operator_installation"><span class="merged" id="all.1Tb5TG.1" style='background-color:yellow' title="原文 : Coherence Operator Installation">Coherence Operatorインストール</span></h2>
<div class="section">
<p><span class="merged" id="all.t9CKG"  title="原文:: Contents"><strong>目次</strong></span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2qXR83" style='background-color:yellow' title="原文 : Prerequisites before installation"><router-link @click.native="this.scrollFix('#prereq')" to="#prereq">インストール前の前提条件</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.opOQH" style='background-color:yellow' title="原文 : Operator High Availability"><router-link @click.native="this.scrollFix('#ha')" to="#ha">オペレータの高可用性</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2eT6sK" style='background-color:yellow' title="原文 : Coherence Operator Images"><router-link @click.native="this.scrollFix('#images')" to="#images">Coherence Operatorイメージ</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4fFd5p" style='background-color:yellow' title="原文 : Operator Scope - monitoring all or a fixed set of namespaces"><router-link @click.native="this.scrollFix('#scope')" to="#scope">オペレータ・スコープ - すべてまたは固定のネームスペース・セットのモニタリング</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.s2FFb"  title="原文:: Installation Options">インストール・オプション</span></p>
<ul class="ulist">
<li>
<p><span class="merged" id="all.Ck2Yr" style='background-color:yellow' title="原文 : Simple installation using Kubectl"><router-link @click.native="this.scrollFix('#manifest')" to="#manifest">Kubectlを使用したシンプルなインストール</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.28yMoG" style='background-color:yellow' title="原文 : Install the Helm chart"><router-link @click.native="this.scrollFix('#helm')" to="#helm">Helmチャートのインストール</router-link></span></p>
<ul class="ulist">
<li>
<p><span class="merged" id="all.3yEUhK" style='background-color:yellow' title="原文 : Set the Operator Image"><router-link @click.native="this.scrollFix('#helm-operator-image')" to="#helm-operator-image">オペレータ・イメージの設定</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2n3oPj" style='background-color:yellow' title="原文 : Image Pull Secrets"><router-link @click.native="this.scrollFix('#helm-pull-secrets')" to="#helm-pull-secrets">イメージ・プル・シークレット</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3wewco" style='background-color:yellow' title="原文 : Set the Watch Namespaces"><router-link @click.native="this.scrollFix('#helm-watch-ns')" to="#helm-watch-ns">ウォッチ・ネームスペースの設定</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2GD70l" style='background-color:yellow' title="原文 : Install the Operator with a Security Context"><router-link @click.native="this.scrollFix('#helm-sec-context')" to="#helm-sec-context">セキュリティ・コンテキストを使用したオペレータのインストール</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1mD035" style='background-color:yellow' title="原文 : Set Additional Labels"><router-link @click.native="this.scrollFix('#helm-labels')" to="#helm-labels">追加ラベルの設定</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1iGGea" style='background-color:yellow' title="原文 : Set Additional Annotations"><router-link @click.native="this.scrollFix('#helm-annotations')" to="#helm-annotations">追加注釈の設定</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.nieDr" style='background-color:yellow' title="原文 : CoherenceJob CRD Support">♪<router-link @click.native="this.scrollFix('#helm-job')" to="#helm-job">CoherenceJob CRDのサポート</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3RKEYf" style='background-color:yellow' title="原文 : Uninstall the Coherence Operator Helm chart"><router-link @click.native="this.scrollFix('#helm-uninstall')" to="#helm-uninstall">Coherence Operator Helmチャートをアンインストール</router-link></span></p>

</li>
</ul>
</li>
<li>
<p><span class="merged" id="all.4Gho1H" style='background-color:yellow' title="原文 : Kubectl with Kustomize"><router-link @click.native="this.scrollFix('#kubectl')" to="#kubectl">KubectlとKustomize</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.48YUjU" style='background-color:yellow' title="原文 : VMWare Tanzu Package (kapp-controller)"><router-link @click.native="this.scrollFix('#tanzu')" to="#tanzu">VMWare Tanzuパッケージ(kapp-controller)</router-link></span></p>

</li>
</ul>
</li>
</ul>

<h3 id="prereq"><span class="merged" id="all.2LZvWc.1"  title="原文:: Prerequisites">前提条件</span></h3>
<div class="section">
<p><span class="merged" id="all.G9aDD" style='background-color:yellow' title="原文 : The prerequisites apply to all installation methods.">前提条件は、すべてのインストール・メソッドに適用されます。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3cxx4I" style='background-color:yellow' title="原文 : Access to Oracle Coherence Operator images.">Oracle Coherence Operatorイメージにアクセスします。</span></p>

</li>
<li>
<p><span class="merged" id="all.3XYGfD.spl1" style='background-color:yellow' title="原文 : Access to a Kubernetes v1.19.0+ cluster.">Kubernetes v1.19.0+クラスタへのアクセス。</span> <span class="merged" id="all.3XYGfD.spl2" style='background-color:yellow' title="原文 : The Operator test pipeline is run using Kubernetes versions v1.19 upto v1.26">オペレータ・テスト・パイプラインは、v1.26までのKubernetesバージョンv1.19を使用して実行されます</span> </p>

</li>
<li>
<p><span class="merged" id="all.1olm7F.spl1" style='background-color:yellow' title="原文 : A Coherence application image using Coherence version 12.2.1.3 or later.">Coherenceバージョン12.2.1.3以降を使用するCoherenceアプリケーション・イメージ。</span> <span class="merged" id="all.1olm7F.spl2" style='background-color:yellow' title="原文 : Note that some functionality (e.g. metrics) is only available in Coherence 12.2.1.4 and later.">一部の機能(例、メトリクス)は、Coherence 12.2.1.4以降でのみ使用できます。</span> </p>

</li>
</ul>
<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.3RVmWs.spl1" style='background-color:yellow' title="原文 : ARM Support: As of version 3.2.0, the Coherence Operator is build as a multi-architecture image that supports running in Kubernetes on both Linux/amd64 and Linux/arm64.">ARMサポート: バージョン3.2.0では、Coherence Operatorは、Linux/amd64とLinux/arm64の両方でKubernetesでの実行をサポートする複数アーキテクチャ・イメージとしてビルドされます。</span> <span class="merged" id="all.3RVmWs.spl2" style='background-color:yellow' title="原文 : The prerequisite is that the Coherence application image used has been built to support ARM.">前提条件として、使用されるCoherenceアプリケーション・イメージがARMをサポートするようにビルドされています。</span> </p>
</p>
</div>
<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.1"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.38XHW4" style='background-color:yellow' title="原文 : Istio (or similar service meshes)">Istio (または同様のサービス・メッシュ)</span></p>

<p><span class="merged" id="all.17baAE.spl1" style='background-color:yellow' title="原文 : When installing the Operator and Coherence into Kubernetes cluster that use Istio or similar meshes there are a number of pre-requisites that must be understood.">Istioまたは類似のメッシュを使用するKubernetesクラスタにオペレータおよびCoherenceをインストールする場合、理解する必要がある前提条件がいくつかあります。</span> <span class="merged" id="all.17baAE.spl2" style='background-color:yellow' title="原文 : See the Istio example for more details.">詳細は、<router-link to="/examples/400_Istio/README">「Istioの例」</router-link>を参照してください。</span> </p>
</p>
</div>
<p><span class="merged" id="all.3E8ipL" style='background-color:yellow' title="原文 : There are a number of ways to install the Coherence Operator documented below:">次に示すCoherence Operatorをインストールする方法はいくつかあります:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.Ck2Yr.1" style='background-color:yellow' title="原文 : Simple installation using Kubectl"><router-link @click.native="this.scrollFix('#manifest')" to="#manifest">Kubectlを使用したシンプルなインストール</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.28yMoG.1" style='background-color:yellow' title="原文 : Install the Helm chart"><router-link @click.native="this.scrollFix('#helm')" to="#helm">Helmチャートのインストール</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4Gho1H.1" style='background-color:yellow' title="原文 : Kubectl with Kustomize"><router-link @click.native="this.scrollFix('#kubectl')" to="#kubectl">KubectlとKustomize</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.48YUjU.1" style='background-color:yellow' title="原文 : VMWare Tanzu Package (kapp-controller)"><router-link @click.native="this.scrollFix('#tanzu')" to="#tanzu">VMWare Tanzuパッケージ(kapp-controller)</router-link></span></p>

</li>
</ul>
</div>

<h3 id="ha"><span class="merged" id="all.ZIA7x"  title="原文:: High Availability">高可用性</span></h3>
<div class="section">
<p><span class="merged" id="all.BEmRf.spl1" style='background-color:yellow' title="原文 : The Coherence Operator runs in HA mode by default.">Coherence Operatorは、デフォルトでHAモードで実行されます。</span> <span class="merged" id="all.BEmRf.spl2" style='background-color:yellow' title="原文 : The Deployment created by the installation will have a replica count of 3.">インストールによって作成された<code>Deployment</code>のレプリカ数は3です。</span> <span class="merged" id="all.BEmRf.spl3" style='background-color:yellow' title="原文 : In reduced capacity Kubernetes clusters, for example, local laptop development and test, the replica count can be reduced.">ローカル・ラップトップの開発やテストなど、容量の削減Kubernetesクラスタでは、レプリカ数を減らすことができます。</span> <span class="merged" id="all.BEmRf.spl4" style='background-color:yellow' title="原文 : It is recommended to leave the default of 3 for production environments.">本番環境では、デフォルトの3のままにすることをお薦めします。</span> <span class="merged" id="all.BEmRf.spl5" style='background-color:yellow' title="原文 : Instructions on how to change the replica count for the different install methods are included below.">異なるインストール・メソッドのレプリカ数を変更するメソッドの手順を次に示します。</span> </p>

<p><span class="merged" id="all.17ZQAu.spl1" style='background-color:yellow' title="原文 : The Coherence Operator runs a REST server that the Coherence cluster members will query to discover the site and rack names that should be used by Coherence.">Coherence Operatorは、Coherenceクラスタ・メンバーがクエリーして、Coherenceで使用されるサイト名とラック名を検出するRESTサーバーを実行します。</span> <span class="merged" id="all.17ZQAu.spl2" style='background-color:yellow' title="原文 : If the Coherence Operator is not running when a Coherence Pod starts, then the Coherence member in that Pod will be unable to properly configure its site and rack names, possibly leading to data distribution that is not safely distributed over sites.">Coherenceポッドの起動時にCoherence Operatorが実行されていない場合、そのポッドのCoherenceメンバーはサイト名とラック名を正しく構成できず、サイト間で安全に分散されないデータ分散につながる可能性があります。</span> <span class="merged" id="all.17ZQAu.spl3" style='background-color:yellow' title="原文 : In production, and in Kubernetes clusters that are spread over multiple availability zones and failure domains, it is important to run the Operator in HA mode.">本番では、複数の可用性ゾーンおよび障害ドメインに分散しているKubernetesクラスタでは、オペレータをHAモードで実行することが重要です。</span> </p>

<p><span class="merged" id="all.3mugzJ.spl1" style='background-color:yellow' title="原文 : The Operator yaml files and Helm chart include a default Pod scheduling configuration that uses anti-affinity to distribute the three replicas onto nodes that have different topology.kubernetes.io/zone labels.">オペレータyamlファイルおよびHelmチャートには、アンチ・アフィニティを使用して、異なる<code>topology.kubernetes.io/zone</code>ラベルを持つノードに3つのレプリカを分散するデフォルトのポッド・スケジューリング構成が含まれています。</span> <span class="merged" id="all.3mugzJ.spl2" style='background-color:yellow' title="原文 : This label is a standard Kubernetes label used to describe the zone the node is running in, and is typically applied by Kubernetes cloud vendors.">このラベルは、ノードが実行されているゾーンを記述するために使用される標準のKubernetesラベルで、通常はKubernetesクラウド・ベンダーによって適用されます。</span> </p>

</div>

<h3 id="_notes"><span class="merged" id="all.3Wy1iS"  title="原文:: Notes">ノート</span></h3>
<div class="section">
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.3ph3bL.spl1" style='background-color:yellow' title="原文 : Installing the Coherence Operator using the methods below will create a number of ClusterRole RBAC resources.">次のメソッドを使用してCoherence Operatorをインストールすると、多数の<code>ClusterRole</code> RBACリソースが作成されます。</span> <span class="merged" id="all.3ph3bL.spl2" style='background-color:yellow' title="原文 : Some corporate security policies do not like to give cluster wide roles to third-party products.">一部の企業セキュリティ・ポリシーでは、サード・パーティ製品にクラスタ全体のロールを与えることは好ましくありません。</span> <span class="merged" id="all.3ph3bL.spl3" style='background-color:yellow' title="原文 : To help in this situation the operator can be installed without cluster roles, but with caveats (see the RBAC documentation) for more details.">この状況では、クラスタ・ロールなしでオペレータをインストールできますが、詳細は注意事項(<router-link to="/docs/installation/09_RBAC">RBAC</router-link>のドキュメントを参照)を参照してください。</span> </p>
</div>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.szuas.spl1" style='background-color:yellow' title="原文 : OpenShift - the Coherence Operator works without modification on OpenShift, but some versions of the Coherence images will not work out of the box.">OpenShift - Coherence OperatorはOpenShiftで変更せずに機能しますが、一部のバージョンのCoherenceイメージはボックスからは機能しません。</span> <span class="merged" id="all.szuas.spl2" style='background-color:yellow' title="原文 : See the OpensShift section of the documentation that explains how to run Coherence clusters with the Operator on OpenShift.">OpenShiftのオペレータを使用してCoherenceクラスタを実行する方法を説明するドキュメントの<router-link to="/docs/installation/06_openshift">OpensShift</router-link>セクションを参照してください。</span> </p>
</div>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.1KCibn.spl1" style='background-color:yellow' title="原文 : Whilst Coherence works out of the box on many Kubernetes installations, some Kubernetes installations may configure iptables in a way that causes Coherence to fail to create clusters.">Coherenceが多くのKubernetesインストールですぐに機能しなくなる一方、一部のKubernetesインストールでは、Coherenceがクラスタの作成に失敗するような方法でiptablesを構成できます。</span> <span class="merged" id="all.1KCibn.spl2" style='background-color:yellow' title="原文 : See the O/S Network Configuration section of the documentation for more details if you have well-known-address issues when Pods attempt to form a cluster.">Podsがクラスタを形成しようとしたときに既知のアドレスの問題がある場合の詳細は、ドキュメントの<router-link to="/docs/installation/08_networking">「O/Sネットワーク構成」</router-link>セクションを参照してください。</span> </p>
</div>
</div>
</div>

<h2 id="images"><span class="merged" id="all.3laiyk" style='background-color:yellow' title="原文 : Coherence Operator Images">Coherence Operatorイメージ</span></h2>
<div class="section">
<p><span class="merged" id="all.4xCXs" style='background-color:yellow' title="原文 : The Coherence Operator uses a single image, the Operator also runs as an init-container in the Coherence cluster Pods.">Coherence Operatorは単一のイメージを使用し、オペレータはCoherenceクラスタ・ポッドでinitコンテナとしても実行されます。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3AgJtv" style='background-color:yellow' title="原文 : ${operator.image} - The Operator image."><code>${operator.image}</code> - オペレータ・イメージ。</span></p>

</li>
</ul>
<p><span class="merged" id="all.BRwc8" style='background-color:yellow' title="原文 : If no image is specified in the Coherence yaml, then the default Coherence image will also be used,"><code>Coherence</code> yamlにイメージが指定されていない場合、デフォルトのCoherenceイメージも使用されます。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.8b6HL" style='background-color:yellow' title="原文 : ${coherence.image} - The default Coherence image."><code>${coherence.image}</code> - デフォルトのCoherenceイメージ。</span></p>

</li>
</ul>
<p><span class="merged" id="all.1VDzOA.spl1" style='background-color:yellow' title="原文 : If using a private image registry then these images will all need to be pushed to that registry for the Operator to work.">プライベート・イメージ・レジストリを使用している場合、オペレータが機能するには、これらのイメージをすべてそのレジストリにプッシュする必要があります。</span> <span class="merged" id="all.1VDzOA.spl2" style='background-color:yellow' title="原文 : The default Coherence image may be omitted if all Coherence applications will use custom Coherence images.">すべてのCoherenceアプリケーションがカスタムCoherenceイメージを使用する場合、デフォルトのCoherenceイメージは省略できます。</span> </p>

</div>

<h2 id="scope"><span class="merged" id="all.2YIaHI" style='background-color:yellow' title="原文 : Operator Scope">オペレータ・スコープ</span></h2>
<div class="section">
<p><span class="merged" id="all.1SB65k.spl1" style='background-color:yellow' title="原文 : The recommended way to install the Coherence Operator is to install a single instance of the operator into a namespace and where it will then control Coherence resources in all namespaces across the Kubernetes cluster.">Coherence Operatorをインストールするには、オペレータの単一インスタンスをネームスペースにインストールし、Kubernetesクラスタのすべてのネームスペースの<code>Coherence</code>リソースを制御することをお薦めします。</span> <span class="merged" id="all.1SB65k.spl2" style='background-color:yellow' title="原文 : Alternatively it may be configured to watch a sub-set of namespaces by setting the WATCH_NAMESPACE environment variable.">または、<code>WATCH_NAMESPACE</code>環境変数を設定して、ネームスペースのサブセットを監視するように構成できます。</span> <span class="merged" id="all.1SB65k.spl3" style='background-color:yellow' title="原文 : The watch namespace(s) does not have to include the installation namespace.">ウォッチ・ネームスペースには、インストール・ネームスペースを含める必要はありません。</span> </p>

<div class="admonition caution">
<p class="admonition-textlabel"><span class="merged" id="all.4Pmf1N"  title="原文:: Caution">注意</span></p>
<p ><p><span class="merged" id="all.3M7kAk.spl1" style='background-color:yellow' title="原文 : In theory, it is possible to install multiple instances of the Coherence Operator into different namespaces, where each instance monitors a different set of namespaces.">理論上、Coherence Operatorの複数のインスタンスを異なるネームスペースにインストールでき、各インスタンスで異なるネームスペース・セットが監視されます。</span> <span class="merged" id="all.3M7kAk.spl2" style='background-color:yellow' title="原文 : There are a number of potential issues with this approach, so it is not recommended.">このアプローチには多くの潜在的な問題があるため、推奨されません。</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.4MB0eW.spl1" style='background-color:yellow' title="原文 : Only one version of a CRD can be installed - There is currently only a single version of the CRD, but different releases of the Operator may use slightly different specs of this CRD version, for example a new Operator release may introduce extra fields not in the previous releases.">インストールできるCRDのバージョンは1つのみです - 現在、CRDのバージョンは1つだけですが、オペレータのリリースによって、このCRDバージョンの仕様が若干異なる場合があります。たとえば、新しいOperatorリリースでは、以前のリリースにない追加のフィールドが導入される可能性があります。</span> <span class="merged" id="all.4MB0eW.spl2" style='background-color:yellow' title="原文 : As the CRD version is fixed at v1 there is no guarantee which CRD version has actually installed, which could lead to subtle issues.">CRDバージョンが<code>v1</code>で修正されるため、どのCRDバージョンが実際にインストールされているかは保証されず、微妙な問題につながる可能性があります。</span> </p>

</li>
<li>
<p><span class="merged" id="all.RkRmn.spl1" style='background-color:yellow' title="原文 : The operator creates and installs defaulting and validating web-hooks.">オペレータは、webフックのデフォルト設定および検証を作成およびインストールします。</span> <span class="merged" id="all.RkRmn.spl2" style='background-color:yellow' title="原文 : A web-hook is associated to a CRD resource so installing multiple web-hooks for the same resource may lead to issues.">webフックはCRDリソースに関連付けられているため、同じリソースに複数のWebフックをインストールすると問題が発生する可能性があります。</span> <span class="merged" id="all.RkRmn.spl3" style='background-color:yellow' title="原文 : If an operator is uninstalled, but the web-hook configuration remains, then Kubernetes will not accept modifications to resources of that type as it will be unable to contact the web-hook.">オペレータがアンインストールされ、webフック構成が残っている場合、KubernetesはWebフックに接続できないため、そのタイプのリソースに対する変更を受け入れません。</span> </p>

</li>
</ul>
<p><span class="merged" id="all.2cwJP6" style='background-color:yellow' title="原文 : It is possible to run the Operator without web-hooks, but this has its own caveats see the Web Hooks documentation for how to do this.">webフックなしでOperatorを実行できますが、これには独自の注意事項があります。この方法については、<router-link to="/docs/installation/07_webhooks">「Webフック」</router-link>のドキュメントを参照してください。</span></p>
</p>
</div>
<div class="admonition important">
<p class="admonition-textlabel"><span class="merged" id="all.1K6f2p"  title="原文:: Important">重要</span></p>
<p ><p><span class="merged" id="all.3Q04gp.spl1" style='background-color:yellow' title="原文 : If multiple instance of the Operator are installed, where they are monitoring the same namespaces, this can cause issues.">オペレータの複数のインスタンスがインストールされていて、それらが同じネームスペースをモニターしている場合、これによって問題が発生する可能性があります。</span> <span class="merged" id="all.3Q04gp.spl2" style='background-color:yellow' title="原文 : For example, when a Coherence resource is then changed, all the Operator deployments will receive the same events from Etcd and try to apply the same changes.">たとえば、<code>Coherence</code>リソースが変更されると、すべてのオペレータ・デプロイメントはEtcdから同じイベントを受信し、同じ変更を適用しようとします。</span> <span class="merged" id="all.3Q04gp.spl3" style='background-color:yellow' title="原文 : Sometimes this may work, sometimes there may be errors, for example multiple Operators trying to remove finalizers and delete a Coherence cluster.">場合によっては、ファイナライザを削除してCoherenceクラスタを削除しようとする複数のオペレータなど、エラーが発生することがあります。</span> </p>
</p>
</div>
</div>

<h2 id="manifest"><span class="merged" id="all.4Dp4iH" style='background-color:yellow' title="原文 : Default Install with Kubectl">Kubectlでのデフォルト・インストール</span></h2>
<div class="section">
<p><span class="merged" id="all.1v0YpD.1" style='background-color:yellow' title="原文 : If you want the default Coherence Operator installation then the simplest solution is use kubectl to apply the manifests from the Operator release.">デフォルトのCoherence Operatorインストールが必要な場合は、最も単純なソリューションは<code>kubectl</code>を使用して、Operatorリリースからのマニフェストを適用します。</span></p>

<pre
lang="bash"

>kubectl apply -f https://github.com/oracle/coherence-operator/releases/download/v3.4.0/coherence-operator.yaml</pre>

<p><span class="merged" id="all.2vyxRX.1.spl1" style='background-color:yellow' title="原文 : This will create a namespace called coherence and install the Operator into it along with all the required ClusterRole and RoleBinding resources.">これにより、<code>coherence</code>というネームスペースが作成され、必要なすべての<code>ClusterRole</code>および<code>RoleBinding</code>リソースとともにオペレータがインストールされます。</span> <span class="merged" id="all.2vyxRX.1.spl2" style='background-color:yellow' title="原文 : The coherence namespace can be changed by downloading and editing the yaml file."><code>coherence</code>ネームスペースは、yamlファイルをダウンロードおよび編集することによって変更できます。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.Ipng.1.spl1" style='background-color:yellow' title="原文 : Because the coherence-operator.yaml manifest also creates the namespace, the corresponding kubectl delete command will remove the namespace and everything deployed to it!"><code>coherence-operator.yaml</code>マニフェストではネームスペースも作成されるため、対応する<code>kubectl delete</code>コマンドは<em>「ネームスペースおよびそれにデプロイされたすべてのネームスペースを削除」</em>になります。</span> <span class="merged" id="all.Ipng.1.spl2" style='background-color:yellow' title="原文 : If you do not want this behaviour you should edit the coherence-operator.yaml to remove the namespace section from the start of the file.">この動作を行わない場合は、<code>coherence-operator.yaml</code>を編集して、ファイルの先頭からネームスペース・セクションを削除する必要があります。</span> </p>
</div>
<p><span class="merged" id="all.4ZBpBq" style='background-color:yellow' title="原文 : Instead of using a hard coded version in the command above you can find the latest Operator version using curl:">前述のコマンドでハードコードされたバージョンを使用するかわりに、<code>curl</code>を使用して最新のオペレータ・バージョンを検索できます:</span></p>

<pre
lang="bash"

>export VERSION=$(curl -s \
  https://api.github.com/repos/oracle/coherence-operator/releases/latest \
  | grep '"name": "v' \
  | cut -d '"' -f 4 \
  | cut -b 2-10)</pre>

<p><span class="merged" id="all.2HFASk" style='background-color:yellow' title="原文 : Then download with:">次でダウンロード:</span></p>

<pre
lang="bash"

>kubectl apply -f https://github.com/oracle/coherence-operator/releases/download/${VERSION}/coherence-operator.yaml</pre>


<h3 id="_change_the_operator_replica_count"><span class="merged" id="all.1w2ScV" style='background-color:yellow' title="原文 : Change the Operator Replica Count">オペレータ・レプリカ数の変更</span></h3>
<div class="section">
<p><span class="merged" id="all.2SLjj8" style='background-color:yellow' title="原文 : When installing with single manifest yaml file, the replica count can be changed by editing the yaml file itself to change the occurrence of replicas: 3 in the manifest yaml to replicas: 1">単一のマニフェストyamlファイルでインストールする場合、マニフェストyaml内の<code>replicas: 3</code>の出現を<code>replicas: 1</code>に変更するようにyamlファイル自体を編集することによって、レプリカ・カウントを変更できます</span></p>

<p><span class="merged" id="all.K7Kp1" style='background-color:yellow' title="原文 : For example, this could be done using sed">たとえば、<code>sed</code>を使用してこれを実行できます</span></p>

<pre
lang="bash"

>sed -i -e 's/replicas: 3/replicas: 1/g' coherence-operator.yaml</pre>

<p><span class="merged" id="all.cP0pn" style='background-color:yellow' title="原文 : Or on MacOS, where sed is slightly different:">または、MacOSで、<code>sed</code>は少し異なります:</span></p>

<pre
lang="bash"

>sed -i '' -e 's/replicas: 3/replicas: 1/g' coherence-operator.yaml</pre>

</div>
</div>

<h2 id="helm"><span class="merged" id="all.1SBcfm" style='background-color:yellow' title="原文 : Installing With Helm">Helmを使用したインストール</span></h2>
<div class="section">
<p><span class="merged" id="all.3fBKC6.spl1" style='background-color:yellow' title="原文 : For more flexibility but the simplest way to install the Coherence Operator is to use the Helm chart.">柔軟性を高めるために、Coherence Operatorをインストールする最も簡単な方法は、Helmチャートを使用することです。</span> <span class="merged" id="all.3fBKC6.spl2" style='background-color:yellow' title="原文 : This ensures that all the correct resources will be created in Kubernetes.">これにより、すべての正しいリソースがKubernetesに作成されます。</span> </p>


<h3 id="_add_the_coherence_helm_repository"><span class="merged" id="all.2LiYhP" style='background-color:yellow' title="原文 : Add the Coherence Helm Repository">Coherence Helmリポジトリの追加</span></h3>
<div class="section">
<p><span class="merged" id="all.34cW7K" style='background-color:yellow' title="原文 : Add the coherence helm repository using the following commands:">次のコマンドを使用して、<code>coherence</code> helmリポジトリを追加します:</span></p>

<pre
lang="bash"

>helm repo add coherence https://oracle.github.io/coherence-operator/charts

helm repo update</pre>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.bLbzF.spl1" style='background-color:yellow' title="原文 : To avoid confusion, the URL https://oracle.github.io/coherence-operator/charts is a Helm repo, it is not a website you open in a browser.">混乱を避けるために、URL <code><a href="https://oracle.github.io/coherence-operator/charts" id="" target="_blank" >https://oracle.github.io/coherence-operator/charts</a></code>はHelmリポジトリであり、ブラウザで開くwebサイトではありません。</span> <span class="merged" id="all.bLbzF.spl2" style='background-color:yellow' title="原文 : You may think we shouldn’t have to say this, but you’d be surprised.">知らない方のために。</span> </p>
</div>
</div>

<h3 id="_install_the_coherence_operator_helm_chart"><span class="merged" id="all.4IuD5z.1" style='background-color:yellow' title="原文 : Install the Coherence Operator Helm chart">Coherence Operator Helmチャートのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.tJHr4" style='background-color:yellow' title="原文 : Once the Coherence Helm repo has been configured the Coherence Operator can be installed using a normal Helm 3 install command:">Coherence Helmリポジトリが構成されると、通常のHelm 3インストール・コマンドを使用してCoherence Operatorをインストールできます:</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \      <span class="conum" data-value="1" />
    coherence \                    <span class="conum" data-value="2" />
    coherence/coherence-operator</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3sabbS" style='background-color:yellow' title="原文 : where &lt;namespace&gt; is the namespace that the Coherence Operator will be installed into."><code>&lt;namespace></code>は、Coherence Operatorがインストールされるネームスペースです。</span></li>
<li data-value="2"><span class="merged" id="all.253KRR" style='background-color:yellow' title="原文 : coherence is the name of this Helm installation."><code>coherence</code>は、このHelmインストールの名前です。</span></li>
</ul>
</div>

<h3 id="helm-operator-image"><span class="merged" id="all.3NvRwL" style='background-color:yellow' title="原文 : Set the Operator Image">オペレータ・イメージの設定</span></h3>
<div class="section">
<p><span class="merged" id="all.17Midz.spl1" style='background-color:yellow' title="原文 : The Helm chart uses a default Operator image from ghcr.io/oracle/coherence-operator:3.3.4.">♪Helmチャートでは、<code>ghcr.io/oracle/coherence-operator:3.3.4</code>のデフォルトのオペレータ・イメージが使用されます。</span> <span class="merged" id="all.17Midz.spl2" style='background-color:yellow' title="原文 : If the image needs to be pulled from a different location (for example an internal registry) then there are two ways to override the default.">イメージを別のロケーション(内部レジストリなど)からプルする必要がある場合は、デフォルトを上書きする方法が2つあります。</span> <span class="merged" id="all.17Midz.spl3" style='background-color:yellow' title="原文 : Either set the individual image.registry, image.name and image.tag values, or set the whole image name by setting the image value.">個別の<code>image.registry</code>、<code>image.name</code>および<code>image.tag</code>値を設定するか、<code>image</code>値を設定してイメージ名全体を設定します。</span> </p>

<p><span class="merged" id="all.3BXbmv" style='background-color:yellow' title="原文 : For example, if the Operator image has been deployed into a private registry named foo.com but with the same image name coherence-operator and tag 3.3.4 as the default image, then just the image.registry needs to be specified.">♪たとえば、オペレータ・イメージが<code>foo.com</code>という名前のプライベート・レジストリにデプロイされているが、デフォルト・イメージと同じイメージ名<code>coherence-operator</code>およびタグ<code>3.3.4</code>の場合は、<code>image.registry</code>のみを指定する必要があります。</span></p>

<p><span class="merged" id="all.3O8ELU" style='background-color:yellow' title="原文 : In the example below, the image used to run the Operator will be foo.com/coherence-operator:3.3.4.">♪次の例では、オペレータの実行に使用されるイメージは<code>foo.com/coherence-operator:3.3.4</code>です。</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set image.registry=foo.com \
    coherence-operator \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.2omWLr.spl1" style='background-color:yellow' title="原文 : All three of the image parts can be specified individually using --set options.">3つのイメージ・パーツはすべて、<code>--set</code>オプションを使用して個別に指定できます。</span> <span class="merged" id="all.2omWLr.spl2" style='background-color:yellow' title="原文 : In the example below, the image used to run the Operator will be foo.com/operator:1.2.3.">次の例では、オペレータの実行に使用されるイメージは<code>foo.com/operator:1.2.3</code>です。</span> </p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set image.registry=foo.com \
    --set image.name=operator \
    --set image.tag=1.2.3
    coherence-operator \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.4NBaDS.spl1" style='background-color:yellow' title="原文 : Alternatively, the image can be set using a single image value.">または、単一の<code>image</code>値を使用してイメージを設定できます。</span> <span class="merged" id="all.4NBaDS.spl2" style='background-color:yellow' title="原文 : For example, the command below will set the Operator image to images.com/coherence-operator:0.1.2.">たとえば、次のコマンドは、オペレータ・イメージを<code>images.com/coherence-operator:0.1.2</code>に設定します。</span> </p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set image=images.com/coherence-operator:0.1.2 \
    coherence-operator \
    coherence/coherence-operator</pre>

</div>

<h3 id="helm-pull-secrets"><span class="merged" id="all.MUXab.1" style='background-color:yellow' title="原文 : Image Pull Secrets">イメージ・プル・シークレット</span></h3>
<div class="section">
<p><span class="merged" id="all.1eXQf4.spl1" style='background-color:yellow' title="原文 : If the image is to be pulled from a secure repository that requires credentials then the image pull secrets can be specified.">資格証明を必要とするセキュアなリポジトリからイメージをプルする場合は、イメージ・プル・シークレットを指定できます。</span> <span class="merged" id="all.1eXQf4.spl2" style='background-color:yellow' title="原文 : See the Kubernetes documentation on Pulling from a Private Registry."><a href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/" id="" target="_blank" >「プライベート・レジストリからのプル」</a>のKubernetesドキュメントを参照してください。</span> </p>


<h4 id="_add_pull_secrets_using_a_values_file"><span class="merged" id="all.4FZ6dN" style='background-color:yellow' title="原文 : Add Pull Secrets Using a Values File">値ファイルを使用したプル・シークレットの追加</span></h4>
<div class="section">
<p><span class="merged" id="all.1RwZcr" style='background-color:yellow' title="原文 : Create a values file that specifies the secrets, for example the private-repo-values.yaml file below:">次の<code>private-repo-values.yaml</code>ファイルなど、シークレットを指定する値ファイルを作成します:</span></p>

<pre
lang="yaml"
title="private-repo-values.yaml"
>imagePullSecrets:
- name: registry-secrets</pre>

<p><span class="merged" id="all.4XkK8C" style='background-color:yellow' title="原文 : Now use that file in the Helm install command:">次に、Helm installコマンドでそのファイルを使用します:</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    -f private-repo-values.yaml <span class="conum" data-value="1" />
    coherence-operator \
    coherence/coherence-operator</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.17BX2K" style='background-color:yellow' title="原文 : the private-repo-values.yaml values fle will be used by Helm to inject the settings into the Operator deployment"><code>private-repo-values.yaml</code>値fleは、Helmがオペレータ・デプロイメントに設定をインジェクトするために使用されます</span></li>
</ul>
</div>

<h4 id="_add_pull_secrets_using_set"><span class="merged" id="all.210nlY" style='background-color:yellow' title="原文 : Add Pull Secrets Using --set">--setを使用したプル・シークレットの追加</span></h4>
<div class="section">
<p><span class="merged" id="all.2Rjtfu" style='background-color:yellow' title="原文 : Although the imagePullSecrets field in the values file is an array of name to value pairs it is possible to set these values with the normal Helm --set parameter.">値ファイルの<code>imagePullSecrets</code>フィールドは、値ペアに対する<code>name</code>の配列ですが、これらの値を通常のHelm <code>--set</code>パラメータで設定できます。</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set imagePullSecrets[0].name=registry-secrets <span class="conum" data-value="1" />
    coherence-operator \
    coherence/coherence-operator</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2GksBu" style='background-color:yellow' title="原文 : this creates the same imagePullSecrets as the values file above.">これにより、前述の値ファイルと同じimagePullSecretsが作成されます。</span></li>
</ul>
</div>
</div>

<h3 id="_change_the_operator_replica_count_2"><span class="merged" id="all.1w2ScV.1" style='background-color:yellow' title="原文 : Change the Operator Replica Count">オペレータ・レプリカ数の変更</span></h3>
<div class="section">
<p><span class="merged" id="all.1hJJIo" style='background-color:yellow' title="原文 : To change the replica count when installing the Operator using Helm, the replicas value can be set.">Helmを使用してオペレータをインストールするときにレプリカ数を変更するには、<code>replicas</code>値を設定できます。</span></p>

<p><span class="merged" id="all.3BtSTW" style='background-color:yellow' title="原文 : For example, to change the replica count from 3 to 1, the --set replicas=1 option can be used.">たとえば、レプリカ数を3から1に変更するには、<code>--set replicas=1</code>オプションを使用できます。</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set replicas=1
    coherence \
    coherence/coherence-operator</pre>

</div>

<h3 id="helm-watch-ns"><span class="merged" id="all.3ZRPoT" style='background-color:yellow' title="原文 : Set the Watch Namespaces">ウォッチ・ネームスペースの設定</span></h3>
<div class="section">
<p><span class="merged" id="all.3e8B11" style='background-color:yellow' title="原文 : To set the watch namespaces when installing with helm set the watchNamespaces value, for example:">helmでインストールするときにウォッチ・ネームスペースを設定するには、<code>watchNamespaces</code>値を設定します。次に例を示します:</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set watchNamespaces=payments,catalog,customers \
    coherence-operator \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.2XUFDk" style='background-color:yellow' title="原文 : The payments, catalog and customers namespaces will be watched by the Operator."><code>payments</code>、<code>catalog</code>および<code>customers</code>ネームスペースは、オペレータによって監視されます。</span></p>


<h4 id="_set_the_watch_namespace_to_the_operators_install_namespace"><span class="merged" id="all.45ohWm" style='background-color:yellow' title="原文 : Set the Watch Namespace to the Operator’s Install Namespace">監視ネームスペースをオペレータのインストール・ネームスペースに設定</span></h4>
<div class="section">
<p><span class="merged" id="all.2p0ISm.spl1" style='background-color:yellow' title="原文 : When installing the Operator using the Helm chart, there is a convenience value that can be set if the Operator should only monitor the same namespace that it is installed into.">Helmチャートを使用してオペレータをインストールする場合、オペレータがインストールされているネームスペースと同じネームスペースのみをモニターする必要がある場合に設定できる便利な値があります。</span> <span class="merged" id="all.2p0ISm.spl2" style='background-color:yellow' title="原文 : By setting the onlySameNamespace value to true the watch namespace will be set to the installation namespace."><code>onlySameNamespace</code>値を<code>true</code>に設定すると、ウォッチ・ネームスペースはインストール・ネームスペースに設定されます。</span> <span class="merged" id="all.2p0ISm.spl3" style='background-color:yellow' title="原文 : If the onlySameNamespace value is set to true then any value set for the watchNamespaces value will be ignored."><code>onlySameNamespace</code>値が<code>true</code>に設定されている場合、<code>watchNamespaces</code>値に設定された値は無視されます。</span> </p>

<p><span class="merged" id="all.Mqgar" style='background-color:yellow' title="原文 : For example, the command below will set onlySameNamespace to true, and the Operator will be installed into, and only monitor the coh-testing namespace.">たとえば、次のコマンドは、<code>onlySameNamespace</code>をtrueに設定し、Operatorをインストールして、<code>coh-testing</code>ネームスペースのみをモニターします。</span></p>

<pre
lang="bash"

>helm install  \
    --namespace coh-testing \
    --set onlySameNamespace=true \
    coherence-operator \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.4IyFRm.spl1" style='background-color:yellow' title="原文 : In the example below, the onlySameNamespace is set to true, so the Operator will be installed into, and only monitor the coh-testing namespace.">次の例では、<code>onlySameNamespace</code>がtrueに設定されているため、Operatorはインストールされ、<code>coh-testing</code>ネームスペースのみを監視します。</span> <span class="merged" id="all.4IyFRm.spl2" style='background-color:yellow' title="原文 : Even though the watchNamespaces value is set, it will be ignored."><code>watchNamespaces</code>値が設定されていても、無視されます。</span> </p>

<pre
lang="bash"

>helm install  \
    --namespace coh-testing \
    --set watchNamespaces=payments,catalog,customers \
    --set onlySameNamespace=true \
    coherence-operator \
    coherence/coherence-operator</pre>

</div>
</div>

<h3 id="helm-sec-context"><span class="merged" id="all.2FZhLM" style='background-color:yellow' title="原文 : Install the Operator with a Security Context">セキュリティ・コンテキストを使用したオペレータのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.37fvA8" style='background-color:yellow' title="原文 : The Operator container can be configured with a Pod securityContext or a container securityContext, so that it runs as a non-root user.">オペレータ・コンテナは、ポッド<code>securityContext</code>またはコンテナ<code>securityContext</code>で構成して、非rootユーザーとして実行できます。</span></p>

<p><span class="merged" id="all.2uqFQU" style='background-color:yellow' title="原文 : This can be done using a values file:">これは、値ファイルを使用して実行できます:</span></p>

<p><span class="merged" id="all.2dhgZ2" style='background-color:yellow' title="原文 : Set the Pod securityContext"><strong>ポッドの設定securityContext</strong></span></p>

<pre
lang="yaml"
title="security-values.yaml"
>podSecurityContext:
  runAsNonRoot: true
  runAsUser: 1000</pre>

<p><span class="merged" id="all.kbaNs" style='background-color:yellow' title="原文 : Set the Container securityContext"><strong>コンテナsecurityContextの設定</strong></span></p>

<pre
lang="yaml"
title="security-values.yaml"
>securityContext:
  runAsNonRoot: true
  runAsUser: 1000</pre>

<p><span class="merged" id="all.3Mljgx" style='background-color:yellow' title="原文 : Then the security-values.yaml values file above can be used in the Helm install command.">次に、前述の<code>security-values.yaml</code>値ファイルをHelmインストール・コマンドで使用できます。</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --values security-values.yaml \
    coherence \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.2nn9ac" style='background-color:yellow' title="原文 : Alternatively, the Pod or container securityContext values can be set on the command line as --set parameters:">または、ポッドまたはコンテナの<code>securityContext</code>値をコマンドラインで<code>--set</code>パラメータとして設定できます:</span></p>

<p><span class="merged" id="all.2dhgZ2.1" style='background-color:yellow' title="原文 : Set the Pod securityContext"><strong>ポッドの設定securityContext</strong></span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set podSecurityContext.runAsNonRoot=true \
    --set podSecurityContext.runAsUser=1000 \
    coherence \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.kbaNs.1" style='background-color:yellow' title="原文 : Set the Container securityContext"><strong>コンテナsecurityContextの設定</strong></span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set securityContext.runAsNonRoot=true \
    --set securityContext.runAsUser=1000 \
    coherence \
    coherence/coherence-operator</pre>

</div>

<h3 id="helm-labels"><span class="merged" id="all.1X6N5U" style='background-color:yellow' title="原文 : Set Additional Labels">追加ラベルの設定</span></h3>
<div class="section">
<p><span class="merged" id="all.450GmD" style='background-color:yellow' title="原文 : When installing the Operator with Helm, it is possible to set additional labels to be applied to the Operator Pods and to the Operator Deployment.">Helmを使用してOperatorをインストールする場合、オペレータ・ポッドおよびオペレータ・デプロイメントに適用する追加のラベルを設定できます。</span></p>


<h4 id="_adding_pod_labels"><span class="merged" id="all.2nGABN" style='background-color:yellow' title="原文 : Adding Pod Labels">ポッド・ラベルの追加</span></h4>
<div class="section">
<p><span class="merged" id="all.2HdWxr" style='background-color:yellow' title="原文 : To add labels to the Operator Pods set the labels value, either on the command line using --set or in the values file.">オペレータ・ポッドにラベルを追加するには、コマンドラインで<code>--set</code>を使用するか、値ファイルで<code>labels</code>値を設定します。</span></p>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.2"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.3w23N8" style='background-color:yellow' title="原文 : Setting labels will only apply the additional labels to the Operator Pods, they will not be applied to any other resource created by the Helm chart."><code>labels</code>を設定すると、追加のラベルがオペレータ・ポッドにのみ適用され、Helmチャートによって作成された他のリソースには適用されません。</span></p>
</p>
</div>
<p><span class="merged" id="all.2zuz5R" style='background-color:yellow' title="原文 : For example, using the command line:">たとえば、次のコマンドラインを使用します:</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set labels.one=value-one \
    --set labels.two=value-two \
    coherence \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.jrqdO" style='background-color:yellow' title="原文 : The command above would add the following additional labels one and two to the Operator Pod as shown below:">前述のコマンドでは、次に示すように、オペレータ・ポッドに次のラベル<code>one</code>および<code>two</code>が追加されます:</span></p>

<pre
lang="yaml"

>apiVersion: v1
kind: Pod
metadata:
  name: coherence-operator
  labels:
    one: value-one
    two: value-two</pre>

<p><span class="merged" id="all.1Ay9lA" style='background-color:yellow' title="原文 : The same labels could also be specified in a values file:">同じラベルを値ファイルで指定することもできます:</span></p>

<pre

title="add-labels-values.yaml"
>labels:
  one: value-one
  two: value-two</pre>

</div>

<h4 id="_adding_deployment_labels"><span class="merged" id="all.HLULy" style='background-color:yellow' title="原文 : Adding Deployment Labels">デプロイメント・ラベルの追加</span></h4>
<div class="section">
<p><span class="merged" id="all.3HA9p9" style='background-color:yellow' title="原文 : To add labels to the Operator Deployment set the deploymentLabels value, either on the command line using --set or in the values file.">オペレータ・デプロイメントにラベルを追加するには、コマンドラインで<code>--set</code>を使用するか、値ファイルで<code>deploymentLabels</code>値を設定します。</span></p>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.3"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.eHe7w" style='background-color:yellow' title="原文 : Setting deploymentLabels will only apply the additional labels to the Deployment, they will not be applied to any other resource created by the Helm chart."><code>deploymentLabels</code>を設定すると、追加のラベルがデプロイメントにのみ適用され、Helmチャートによって作成された他のリソースには適用されません。</span></p>
</p>
</div>
<p><span class="merged" id="all.2zuz5R.1" style='background-color:yellow' title="原文 : For example, using the command line:">たとえば、次のコマンドラインを使用します:</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set deploymentLabels.one=value-one \
    --set deploymentLabels.two=value-two \
    coherence \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.jrqdO.1" style='background-color:yellow' title="原文 : The command above would add the following additional labels one and two to the Operator Pod as shown below:">前述のコマンドでは、次に示すように、オペレータ・ポッドに次のラベル<code>one</code>および<code>two</code>が追加されます:</span></p>

<pre
lang="yaml"

>apiVersion: apps/v1
kind: Deployment
metadata:
  name: coherence-operator
  labels:
    one: value-one
    two: value-two</pre>

<p><span class="merged" id="all.1Ay9lA.1" style='background-color:yellow' title="原文 : The same labels could also be specified in a values file:">同じラベルを値ファイルで指定することもできます:</span></p>

<pre

title="add-labels-values.yaml"
>deploymentLabels:
  one: value-one
  two: value-two</pre>

</div>
</div>

<h3 id="helm-annotations"><span class="merged" id="all.ctz0o" style='background-color:yellow' title="原文 : Set Additional Annotations">追加注釈の設定</span></h3>
<div class="section">
<p><span class="merged" id="all.2HE8Re" style='background-color:yellow' title="原文 : When installing the Operator with Helm, it is possible to set additional annotations to be applied to the Operator Pods and to the Operator Deployment.">Helmを使用してOperatorをインストールする場合、オペレータ・ポッドおよびオペレータ・デプロイメントに適用される追加の注釈を設定できます。</span></p>


<h4 id="_adding_pod_annotations"><span class="merged" id="all.1PevBK" style='background-color:yellow' title="原文 : Adding Pod Annotations">ポッド注釈の追加</span></h4>
<div class="section">
<p><span class="merged" id="all.1NeKgb" style='background-color:yellow' title="原文 : To add annotations to the Operator Pods set the annotations value, either on the command line using --set or in the values file.">オペレータ・ポッドに注釈を追加するには、コマンドラインで<code>--set</code>を使用するか、値ファイルで<code>annotations</code>値を設定します。</span></p>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.4"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.2kJ2CK" style='background-color:yellow' title="原文 : Setting annotations will only apply the additional annotations to the Operator Pods, they will not be applied to any other resource created by the Helm chart."><code>annotations</code>を設定すると、オペレータ・ポッドに追加の注釈のみが適用され、Helmチャートによって作成された他のリソースには適用されません。</span></p>
</p>
</div>
<p><span class="merged" id="all.2zuz5R.2" style='background-color:yellow' title="原文 : For example, using the command line:">たとえば、次のコマンドラインを使用します:</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set annotations.one=value-one \
    --set annotations.two=value-two \
    coherence \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.YvWEt" style='background-color:yellow' title="原文 : The command above would add the following additional annotations one and two to the Operator Pod as shown below:">前述のコマンドでは、次に示すように、オペレータ・ポッドに次の注釈<code>one</code>および<code>two</code>が追加されます:</span></p>

<pre
lang="yaml"

>apiVersion: v1
kind: Pod
metadata:
  name: coherence-operator
  annotations:
    one: value-one
    two: value-two</pre>

<p><span class="merged" id="all.1aHXze" style='background-color:yellow' title="原文 : The same annotations could also be specified in a values file:">同じ注釈を値ファイルで指定することもできます:</span></p>

<pre

title="add-annotations-values.yaml"
>annotations:
  one: value-one
  two: value-two</pre>

</div>

<h4 id="_adding_deployment_annotations"><span class="merged" id="all.2Y3cEV" style='background-color:yellow' title="原文 : Adding Deployment Annotations">デプロイメント注釈の追加</span></h4>
<div class="section">
<p><span class="merged" id="all.3RGv6C" style='background-color:yellow' title="原文 : To add annotations to the Operator Deployment set the deploymentAnnotations value, either on the command line using --set or in the values file.">オペレータ・デプロイメントに注釈を追加するには、コマンドラインで<code>--set</code>を使用して、または値ファイルで<code>deploymentAnnotations</code>値を設定します。</span></p>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.5"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.P1hvE" style='background-color:yellow' title="原文 : Setting deploymentAnnotations will only apply the additional annotations to the Deployment, they will not be applied to any other resource created by the Helm chart."><code>deploymentAnnotations</code>を設定すると、追加の注釈のみがデプロイメントに適用され、Helmチャートによって作成された他のリソースには適用されません。</span></p>
</p>
</div>
<p><span class="merged" id="all.2zuz5R.3" style='background-color:yellow' title="原文 : For example, using the command line:">たとえば、次のコマンドラインを使用します:</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set deploymentAnnotations.one=value-one \
    --set deploymentAnnotations.two=value-two \
    coherence \
    coherence/coherence-operator</pre>

<p><span class="merged" id="all.YvWEt.1" style='background-color:yellow' title="原文 : The command above would add the following additional annotations one and two to the Operator Pod as shown below:">前述のコマンドでは、次に示すように、オペレータ・ポッドに次の注釈<code>one</code>および<code>two</code>が追加されます:</span></p>

<pre
lang="yaml"

>apiVersion: apps/v1
kind: Deployment
metadata:
  name: coherence-operator
  annotations:
    one: value-one
    two: value-two</pre>

<p><span class="merged" id="all.1aHXze.1" style='background-color:yellow' title="原文 : The same annotations could also be specified in a values file:">同じ注釈を値ファイルで指定することもできます:</span></p>

<pre

title="add-annotations-values.yaml"
>deploymentAnnotations:
  one: value-one
  two: value-two</pre>

</div>
</div>

<h3 id="helm-job"><span class="merged" id="all.ryYBR" style='background-color:yellow' title="原文 : CoherenceJob CRD Support">♪CoherenceJob CRDのサポート</span></h3>
<div class="section">
<p><span class="merged" id="all.1tOvVd.spl1" style='background-color:yellow' title="原文 : By default, the Operator will install both CRDs, Coherence and CoherenceJob.">♪デフォルトでは、オペレータはCRD (<code>Coherence</code>および<code>CoherenceJob</code>)の両方をインストールします。</span> <span class="merged" id="all.1tOvVd.spl2" style='background-color:yellow' title="原文 : If support for CoherenceJob is not required then it can be excluded from being installed setting the Operator command line parameter --install-job-crd to false.">♪<code>CoherenceJob</code>のサポートが不要な場合は、オペレータ・コマンドライン・パラメータ<code>--install-job-crd</code>を<code>false</code>に設定してインストールから除外できます。</span> </p>

<p><span class="merged" id="all.1G3c44" style='background-color:yellow' title="原文 : When installing with Helm, the allowCoherenceJobs value can be set to false to disable support for CoherenceJob resources (the default value is true).">♪Helmを使用してインストールする場合、<code>allowCoherenceJobs</code>値を<code>false</code>に設定して、<code>CoherenceJob</code>リソースのサポートを無効にできます(デフォルト値は<code>true</code>です)。</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set allowCoherenceJobs=false \
    coherence \
    coherence/coherence-operator</pre>

</div>

<h3 id="helm-uninstall"><span class="merged" id="all.xWyRu" style='background-color:yellow' title="原文 : Uninstall the Coherence Operator Helm chart">Coherence Operator Helmチャートをアンインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.4Kyu3l" style='background-color:yellow' title="原文 : To uninstall the operator:">オペレータをアンインストールするには:</span></p>

<pre
lang="bash"

>helm delete coherence-operator --namespace &lt;namespace&gt;</pre>

</div>
</div>

<h2 id="kubectl"><span class="merged" id="all.g4cZe" style='background-color:yellow' title="原文 : Install with Kubectl and Kustomize">KubectlおよびKustomizeでインストール</span></h2>
<div class="section">
<p><span class="merged" id="all.4fNzUo" style='background-color:yellow' title="原文 : If you want to use yaml directly to install the operator, with something like kubectl, you can use the manifest files published with the GitHub release at this link: 3.3.5 Manifests">♪yamlを直接使用してオペレータをインストールする場合は、<code>kubectl</code>のように、このリンクでGitHubリリースで公開されたマニフェスト・ファイルを使用できます: <a href="https://github.com/oracle/coherence-operator/releases/download/v3.3.5/coherence-operator-manifests.tar.gz" id="" target="_blank" >3.3.5 マニフェスト</a></span></p>

<p><span class="merged" id="all.3iFoWt" style='background-color:yellow' title="原文 : These manifest files are for use with a tool called Kustomize, which is built into kubectl see the documentation here: https://kubernetes.io/docs/tasks/manage-kubernetes-objects/kustomization/">これらのマニフェスト・ファイルは、<code>kubectl</code>に組み込まれたKustomizeと呼ばれるツールで使用します。ここにあるドキュメントを参照してください: <a href="https://kubernetes.io/docs/tasks/manage-kubernetes-objects/kustomization/" id="" target="_blank" >https://kubernetes.io/docs/tasks/manage-kubernetes-objects/kustomization/</a></span></p>

<p><span class="merged" id="all.3etd2o" style='background-color:yellow' title="原文 : Download the 3.3.5 Manifests from the release page and unpack the file, which should produce a directory called manifests with a structure like this:">♪リリース・ページから<a href="https://github.com/oracle/coherence-operator/releases/download/v3.3.5/coherence-operator-manifests.tar.gz" id="" target="_blank" >「3.3.5 マニフェスト」</a>をダウンロードし、ファイルを解凍します。これにより、次のような構造を持つ<code>manifests</code>というディレクトリが生成されます:</span></p>

<pre


>manifests
    default
        config.yaml
        kustomization.yaml
    manager
        kustomization.yaml
        manager.yaml
        service.yaml
    rbac
        coherence_editor_role.yaml
        coherence_viewer_role.yaml
        kustomization.yaml
        leader_election_role.yaml
        leader_election_role_binding.yaml
        role.yaml
        role_binding.yaml</pre>

<p><span class="merged" id="all.4cbMdu" style='background-color:yellow' title="原文 : There are two ways to use these manifest files, either install using kustomize or generate the yaml and manually install with kubectl.">これらのマニフェスト・ファイルを使用するには、<code>kustomize</code>を使用してインストールするか、yamlを生成し、<code>kubectl</code>を使用して手動でインストールする方法が2つあります。</span></p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.nBQpe" style='background-color:yellow' title="原文 : All the commands below are run from a console in the manifests/ directory from the extracted file above.">次のコマンドはすべて、前述の抽出ファイルの<code>manifests/</code>ディレクトリのコンソールから実行されます。</span></p>
</div>

<h3 id="_install_with_kustomize"><span class="merged" id="all.2DgR7T" style='background-color:yellow' title="原文 : Install with Kustomize">Kustomizeでのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.4Awmqj" style='background-color:yellow' title="原文 : If you have Kustomize installed (or can install it from https://github.com/kubernetes-sigs/kustomize) you can use Kustomize to configure the yaml and install.">Kustomizeをインストールしている場合(または<a href="https://github.com/kubernetes-sigs/kustomize" id="" target="_blank" >https://github.com/kubernetes-sigs/kustomize</a>からインストールできる場合)は、Kustomizeを使用してyamlを構成し、インストールできます。</span></p>


<h4 id="_change_the_operator_replica_count_3"><span class="merged" id="all.1w2ScV.2" style='background-color:yellow' title="原文 : Change the Operator Replica Count">オペレータ・レプリカ数の変更</span></h4>
<div class="section">
<p><span class="merged" id="all.ou9NB.spl1" style='background-color:yellow' title="原文 : To change the replica count using Kustomize a patch file needs to be applied.">Kustomizeを使用してレプリカ数を変更するには、パッチ・ファイルを適用する必要があります。</span> <span class="merged" id="all.ou9NB.spl2" style='background-color:yellow' title="原文 : The Operator manifests include a patch file, named manager/single-replica-patch.yaml, that changes the replica count from 3 to 1.">Operatorマニフェストには、レプリカ数を3から1に変更する<code>manager/single-replica-patch.yaml</code>という名前のパッチ・ファイルが含まれています。</span> <span class="merged" id="all.ou9NB.spl3" style='background-color:yellow' title="原文 : This patch can be applied with the following Kustomize command.">このパッチは、次のKustomizeコマンドで適用できます。</span> </p>

<pre
lang="bash"

>cd ./manager &amp;&amp; kustomize edit add patch \
  --kind Deployment --name controller-manager \
  --path single-replica-patch.yaml</pre>

</div>

<h4 id="_set_image_names"><span class="merged" id="all.KM6PA" style='background-color:yellow' title="原文 : Set Image Names">イメージ名の設定</span></h4>
<div class="section">
<p><span class="merged" id="all.49bQcp" style='background-color:yellow' title="原文 : If you need to use different iamge names from the defaults kustomize can be used to specify different names:">デフォルトとは異なるiamge名を使用する必要がある場合は、<code>kustomize</code>を使用して別の名前を指定できます:</span></p>

<p><span class="merged" id="all.s2gq7" style='background-color:yellow' title="原文 : Change the name of the Operator image by running the command below, changing the image name to the registry and image name that you are using for the Operator, for example if you have the images in a custom registry">次のコマンドを実行してOperatorイメージの名前を変更し、イメージ名をOperatorに使用するレジストリおよびイメージ名に変更します(カスタム・レジストリにイメージがある場合など)</span></p>

<pre
lang="bash"

>cd ./manager &amp;&amp; kustomize edit set image controller=myregistry/coherence-operator:3.3.5</pre>

<p><span class="merged" id="all.325mTV" style='background-color:yellow' title="原文 : Change the name of the Operator image by running the command below, changing the image name to the registry and image name that you are using for the Operator utilities image">次のコマンドを実行してOperatorイメージの名前を変更し、そのイメージ名を、Operatorユーティリティのイメージに使用するレジストリおよびイメージ名に変更</span></p>

<pre
lang="bash"

>cd ./manager &amp;&amp; kustomize edit add configmap env-vars --from-literal OPERATOR_IMAGE=myregistry/coherence-operator:3.3.5</pre>

<p><span class="merged" id="all.3AmH2f.spl1" style='background-color:yellow' title="原文 : Change the name of the default Coherence image.">デフォルトのCoherenceイメージの名前を変更します。</span> <span class="merged" id="all.3AmH2f.spl2" style='background-color:yellow' title="原文 : If you are always going to be deploying your own application images then this does not need to change.">独自のアプリケーション・イメージを常にデプロイする場合、これを変更する必要はありません。</span> </p>

<pre
lang="bash"

>cd ./manager &amp;&amp; $(GOBIN)/kustomize edit add configmap env-vars --from-literal COHERENCE_IMAGE=$(COHERENCE_IMAGE)</pre>

<p><span class="merged" id="all.1o8CEh" style='background-color:yellow' title="原文 : Set the namespace to install into, the example below sets the namespace to coherence-test:">インストールするネームスペースを設定します。次の例では、ネームスペースを<code>coherence-test</code>に設定します:</span></p>

<pre
lang="bash"

>cd ./default &amp;&amp; /kustomize edit set namespace coherence-test</pre>

</div>

<h4 id="_install"><span class="merged" id="all.46rSDN"  title="原文:: Install">インストール</span></h4>
<div class="section">
<p><span class="merged" id="all.1u9XQn.spl1" style='background-color:yellow' title="原文 : The Operator requires a Secret for its web-hook certificates.">オペレータは、webフック証明書に<code>Secret</code>が必要です。</span> <span class="merged" id="all.1u9XQn.spl2" style='background-color:yellow' title="原文 : This Secret needs to exist but can be empty.">この<code>Secret</code>は存在する必要がありますが、空にできます。</span> <span class="merged" id="all.1u9XQn.spl3" style='background-color:yellow' title="原文 : The Secret must be in the same namespace that the Operator will be deployed to."><code>Secret</code>は、オペレータのデプロイ先と同じネームスペースに存在する必要があります。</span> <span class="merged" id="all.1u9XQn.spl4" style='background-color:yellow' title="原文 : For example, if the Operator namespace is coherence-test, then the Secret can be created with this command:">たとえば、オペレータ・ネームスペースが<code>coherence-test</code>の場合、次のコマンドを使用して<code>Secret</code>を作成できます:</span> </p>

<pre
lang="bash"

>kubectl -n coherence-test create secret generic coherence-webhook-server-cert</pre>

<p><span class="merged" id="all.zekjR" style='background-color:yellow' title="原文 : The Operator can now be installed by running the following command from the manifests directory:"><code>manifests</code>ディレクトリから次のコマンドを実行して、オペレータをインストールできるようになりました:</span></p>

<pre
lang="bash"

>kustomize build ./default | kubectl apply -f -</pre>

</div>
</div>

<h3 id="_generate_yaml_install_with_kubectl"><span class="merged" id="all.2RQkSV" style='background-color:yellow' title="原文 : Generate Yaml - Install with Kubectl">Yamlを生成 - Kubectlでインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.2PdPjI.spl1" style='background-color:yellow' title="原文 : Instead of using Kustomize to modify and install the Operator we can use kubectl to generate the yaml from the manifests."><code>kubectl</code>を使用してマニフェストからyamlを生成するには、Kustomizeを使用してオペレータを変更およびインストールするかわりに使用できます。</span> <span class="merged" id="all.2PdPjI.spl2" style='background-color:yellow' title="原文 : You can then edit this yaml and manually deploy it with kubectl.">その後、このyamlを編集し、<code>kubectl</code>を使用して手動でデプロイできます。</span> </p>

<p><span class="merged" id="all.1CFxDo" style='background-color:yellow' title="原文 : Run the following command from the manifests directory:"><code>manifests</code>ディレクトリから次のコマンドを実行します:</span></p>

<pre
lang="bash"

>kubectl create --dry-run -k default/ -o yaml &gt; operator.yaml</pre>

<p><span class="merged" id="all.Fq8xT.spl1" style='background-color:yellow' title="原文 : This will create a file in the manifests directory called operator.yaml that contains all the yaml required to install the Operator.">これにより、オペレータのインストールに必要なすべてのyamlを含む<code>operator.yaml</code>という<code>manifests</code>ディレクトリにファイルが作成されます。</span> <span class="merged" id="all.Fq8xT.spl2" style='background-color:yellow' title="原文 : You can then edit this yaml to change image names or add other settings.">その後、このyamlを編集してイメージ名を変更したり、他の設定を追加したりできます。</span> </p>

<p><span class="merged" id="all.1dWh3I" style='background-color:yellow' title="原文 : The Operator can be installed using the generated yaml.">オペレータは、生成されたyamlを使用してインストールできます。</span></p>

<p><span class="merged" id="all.4ftdmp" style='background-color:yellow' title="原文 : For example if the Operator is to be deployed to the coherence-test namespace:">たとえば、オペレータを<code>coherence-test</code>ネームスペースにデプロイする場合:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test create secret generic coherence-webhook-server-cert
kubectl -n coherence-test create -f operator.yaml</pre>

</div>
</div>

<h2 id="tanzu"><span class="merged" id="all.rVQEp" style='background-color:yellow' title="原文 : Install as a VMWare Tanzu Package (Carvel kapp-controller)">VMWare Tanzuパッケージとしてインストール (Carvel kapp-controller)</span></h2>
<div class="section">
<p><span class="merged" id="all.pXaDI.spl1" style='background-color:yellow' title="原文 : If using VMWare Tanzu the Coherence Operator can be installed as a package."><a href="https://tanzucommunityedition.io" id="" target="_blank" >VMWare Tanzu</a>を使用する場合、Coherence Operatorをパッケージとしてインストールできます。</span> <span class="merged" id="all.pXaDI.spl2" style='background-color:yellow' title="原文 : Under the covers, Tanzu uses the Carvel tool set to deploy packages.">カバーの下では、Tanzuは<a href="https://carvel.dev" id="" target="_blank" >Carvel</a>ツール・セットを使用してパッケージをデプロイします。</span> <span class="merged" id="all.pXaDI.spl3" style='background-color:yellow' title="原文 : The Carvel tools can be used outside Tanzu, so the Coherence Operator repo and package images could also be deployed using a standalone Carvel kapp-controller.">CarvelはTanzu外部で使用できるため、Coherence Operatorリポジトリおよびパッケージ・イメージは、スタンドアロンのCarvel <a href="https://carvel.dev/kapp-controller/" id="" target="_blank" >kapp-controller</a>を使用してデプロイすることもできます。</span> </p>

<p><span class="merged" id="all.1QjwLD" style='background-color:yellow' title="原文 : The Coherence Operator release published two images required to deploy the Operator as a Tanzu package.">Coherence Operatorリリースでは、OperatorをTanzuパッケージとしてデプロイするために必要な2つのイメージが公開されました。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1Rl23n" style='background-color:yellow' title="原文 : ghcr.io/oracle/coherence-operator-package:3.3.4 - the Coherence Operator package">♪<code>ghcr.io/oracle/coherence-operator-package:3.3.4</code> - Coherence Operatorパッケージ</span></p>

</li>
<li>
<p><span class="merged" id="all.4O62I5" style='background-color:yellow' title="原文 : ghcr.io/oracle/coherence-operator-repo:3.3.4 - the Coherence Operator repository">♪<code>ghcr.io/oracle/coherence-operator-repo:3.3.4</code> - Coherence Operatorリポジトリ</span></p>

</li>
</ul>

<h3 id="_install_the_coherence_repository"><span class="merged" id="all.24VnWu" style='background-color:yellow' title="原文 : Install the Coherence Repository">Coherenceリポジトリをインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.4FL8kd.spl1" style='background-color:yellow' title="原文 : The first step to deploy the Coherence Operator package in Tanzu is to add the repository.">TanzuでCoherence Operatorパッケージをデプロイする最初のステップは、リポジトリを追加することです。</span> <span class="merged" id="all.4FL8kd.spl2" style='background-color:yellow' title="原文 : This can be done using the Tanzu CLI.">これは、Tanzu CLIを使用して実行できます。</span> </p>

<pre
lang="bash"

>tanzu package repository add coherence-repo \
    --url ghcr.io/oracle/coherence-operator-repo:3.3.5 \
    --namespace coherence \
    --create-namespace</pre>

<p><span class="merged" id="all.r5IJz" style='background-color:yellow' title="原文 : The installed repositories can be listed using the CLI:">インストールされたリポジトリは、CLIを使用して一覧表示できます:</span></p>

<pre
lang="bash"

>tanzu package repository list --namespace coherence</pre>

<p><span class="merged" id="all.3XKtX2" style='background-color:yellow' title="原文 : which should display something like the following">次のようなものを表示します</span></p>

<pre
lang="bash"

>NAME            REPOSITORY                              TAG  STATUS               DETAILS
coherence-repo  ghcr.io/oracle/coherence-operator-repo  1h   Reconcile succeeded</pre>

<p><span class="merged" id="all.Gxtib" style='background-color:yellow' title="原文 : The available packages in the Coherence repository can also be displayed using the CLI">Coherenceリポジトリで使用可能なパッケージは、CLIを使用して表示することもできます</span></p>

<pre
lang="bash"

>tanzu package available list --namespace coherence</pre>

<p><span class="merged" id="all.338Pby" style='background-color:yellow' title="原文 : which should include the Operator package, coherence-operator.oracle.github.com something like the following"><code>coherence-operator.oracle.github.com</code>というオペレータ・パッケージを含める必要があります</span></p>

<pre
lang="bash"

>NAME                                  DISPLAY-NAME               SHORT-DESCRIPTION                                             LATEST-VERSION
coherence-operator.oracle.github.com  Oracle Coherence Operator  A Kubernetes operator for managing Oracle Coherence clusters  3.3.5</pre>

</div>

<h3 id="_install_the_coherence_operator_package"><span class="merged" id="all.4ddwvV" style='background-color:yellow' title="原文 : Install the Coherence Operator Package">Coherence Operatorパッケージのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.38JRZy" style='background-color:yellow' title="原文 : Once the Coherence Operator repository has been installed, the coherence-operator.oracle.github.com package can be installed, which will install the Coherence Operator itself.">Coherence Operatorリポジトリがインストールされると、<code>coherence-operator.oracle.github.com</code>パッケージをインストールでき、Coherence Operator自体がインストールされます。</span></p>

<pre
lang="bash"

>tanzu package install coherence \
    --package-name coherence-operator.oracle.github.com \
    --version 3.3.5 \
    --namespace coherence</pre>

<p><span class="merged" id="all.HoaXg" style='background-color:yellow' title="原文 : The Tanzu CLI will display the various steps it is going through to install the package and if all goes well, finally display Added installed package &apos;coherence&apos; The packages installed in the coherence namespace can be displayed using the CLI.">Tanzu CLIでは、パッケージのインストールに使用する様々なステップが表示され、すべてうまくいけば<code>Added installed package 'coherence'</code>が表示されます。<code>coherence</code>ネームスペースにインストールされたパッケージは、CLIを使用して表示できます。</span></p>

<pre
lang="bash"

>tanzu package installed list --namespace coherence</pre>

<p><span class="merged" id="all.1NCzuP" style='background-color:yellow' title="原文 : which should display the Coherence Operator package.">Coherence Operatorパッケージを表示します。</span></p>

<pre
lang="bash"

>NAME       PACKAGE-NAME                          PACKAGE-VERSION  STATUS
coherence  coherence-operator.oracle.github.com  3.3.5            Reconcile succeeded</pre>

<p><span class="merged" id="all.3WbWXb" style='background-color:yellow' title="原文 : The Operator is now installed and ready to mage Coherence clusters.">オペレータがインストールされ、Coherenceクラスタを形成する準備ができました。</span></p>

</div>
</div>
</doc-view>
<!-- pages/docs/installation/02_pre_release_versions.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.1FiyS6" style='background-color:yellow' title="原文 : Accessing Pre-Release Versions">プレリリース・バージョンへのアクセス</span></dt>
<dd slot="desc"><p><span class="merged" id="all.1sI0dc" style='background-color:yellow' title="原文 : Pre-release version of the Coherence Operator are made available from time to time.">Coherence Operatorのプレリリース・バージョンが随時使用可能になります。</span></p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_accessing_pre_release_versions"><span class="merged" id="all.1FiyS6.1" style='background-color:yellow' title="原文 : Accessing Pre-Release Versions">プレリリース・バージョンへのアクセス</span></h2>
<div class="section">
<div class="admonition warning">
<p class="admonition-inline"><span class="merged" id="all.1Lnu40.spl1" style='background-color:yellow' title="原文 : We cannot guarantee that pre-release versions of the Coherence Operator are bug free and hence they should not be used in production.">Coherence Operatorのプレリリース・バージョンがバグがないことを保証できないため、本番で使用しないでください。</span> <span class="merged" id="all.1Lnu40.spl2" style='background-color:yellow' title="原文 : We reserve the right to remove pre-release versions of the Helm chart and Docker images ant any time and without notice.">リリース前バージョンのHelmチャートおよびDockerイメージをいつでも予告なく削除する権利を留保しています。</span> <span class="merged" id="all.1Lnu40.spl3" style='background-color:yellow' title="原文 : We cannot guarantee that APIs and CRD specifications will remain stable or backwards compatible between pre-release versions.">APIおよびCRD仕様は、プレリリース・バージョン間で安定または下位互換性を維持することを保証できません。</span> </p>
</div>
<p><span class="merged" id="all.3Xc1tG" style='background-color:yellow' title="原文 : To access pre-release versions of the Helm chart add the unstable chart repository.">Helmチャートのプレリリース・バージョンにアクセスするには、不安定なチャート・リポジトリを追加します。</span></p>

<pre
lang="bash"

>helm repo add coherence-unstable https://oracle.github.io/coherence-operator/charts-unstable

helm repo update</pre>

<p><span class="merged" id="all.2tyzai" style='background-color:yellow' title="原文 : To list all the available Coherence Operator chart versions:">使用可能なすべてのCoherence Operatorチャート・バージョンをリストするには:</span></p>

<pre
lang="bash"

>helm search coherence-operator -l</pre>

<p><span class="merged" id="all.3QCKxi" style='background-color:yellow' title="原文 : The -l parameter shows all versions as opposed to just the latest versions if it was omitted."><code>-l</code>パラメータでは、すべてのバージョンが、省略された場合の最新バージョンのみではなく表示されます。</span></p>

<p><span class="merged" id="all.39YXro" style='background-color:yellow' title="原文 : A specific pre-release version of the Helm chart can be installed using the --version argument, for example to use version 3.0.0-2005140315:">Helmチャートの特定のプレリリース・バージョンは、<code>--version</code>引数を使用してインストールできます。たとえば、バージョン<code>3.0.0-2005140315</code>を使用できます:</span></p>

<pre
lang="bash"

>helm install coherence-unstable/coherence-operator \
    --version 3.0.0-2005140315 \   <span class="conum" data-value="1" />
    --namespace &lt;namespace&gt; \      <span class="conum" data-value="2" />
    --name coherence-operator</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3jC4Kj" style='background-color:yellow' title="原文 : The --version argument is used to specify the exact version of the chart"><code>--version</code>引数は、チャートの正確なバージョンを指定するために使用</span></li>
<li data-value="2"><span class="merged" id="all.2N36og" style='background-color:yellow' title="原文 : The optional --namespace parameter to specify which namespace to install the operator into, if omitted then Helm will install into whichever is currently the default namespace for your Kubernetes configuration.">オペレータをインストールするネームスペースを指定するオプションの<code>--namespace</code>パラメータ。省略すると、Helmは、現在Kubernetes構成のデフォルト・ネームスペースのいずれかにインストールされます。</span></li>
</ul>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.21MylT" style='background-color:yellow' title="原文 : When using pre-release versions of the Helm chart it is always advisable to install a specific version otherwise Helm will try to work out the latest version in the pre-release repo and as pre-release version numbers are not strictly sem-ver compliant this may be unreliable.">Helmのプレリリース・バージョンを使用する場合、特定のバージョンをインストールすることをお薦めします。そうしないと、Helmはプレリリース・リポジトリで最新バージョンを処理し、プレリリース・バージョン番号は厳密に準バージョン準拠ではないため、信頼できない可能性があります。</span></p>
</div>
</div>
</doc-view>
<!-- pages/docs/installation/04_obtain_coherence_images.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.2TyFJk" style='background-color:yellow' title="原文 : Obtain Coherence Images">Coherenceイメージの取得</span></dt>
<dd slot="desc"><p><span class="merged" id="all.4WqECI.spl1" style='background-color:yellow' title="原文 : For most use-cases we expect the developer to provide a suitable Coherence application image to be run by the operator.">ほとんどのユースケースでは、開発者がオペレータが実行する適切なCoherenceアプリケーション・イメージを提供することを期待しています。</span> <span class="merged" id="all.4WqECI.spl2" style='background-color:yellow' title="原文 : For POCs, demos and experimentation the Coherence Operator uses the OSS Coherence CE image when no image has been specified for a Coherence resource.">POC、デモおよび実験の場合、<code>Coherence</code>リソースにイメージが指定されていない場合、Coherence OperatorはOSS Coherence CEイメージを使用します。</span> <span class="merged" id="all.4WqECI.spl3" style='background-color:yellow' title="原文 : Commercial Coherence images are not available from public image registries and must be pulled from the middleware section of Oracle Container Registry.">商用Coherenceイメージはパブリック・イメージ・レジストリから使用できず、<a href="https://container-registry.oracle.com" id="" target="_blank" >Oracle Container Registry</a>のミドルウェア・セクションからプルする必要があります。</span> </p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_coherence_images_from_oracle_container_registry"><span class="merged" id="all.11Bjao" style='background-color:yellow' title="原文 : Coherence Images from Oracle Container Registry">Oracle Container RegistryのCoherenceイメージ</span></h2>
<div class="section">
<p><span class="merged" id="all.1xZSOp" style='background-color:yellow' title="原文 : Get the Coherence Docker image from the Oracle Container Registry:">Oracle Container RegistryからCoherenceのDockerイメージを取得します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2mUt7V" style='background-color:yellow' title="原文 : In a web browser, navigate to Oracle Container Registry and click Sign In.">webブラウザで、<a href="https://container-registry.oracle.com/" id="" target="_blank" >Oracle Container Registry</a>に移動してSign Inをクリックします。</span></p>

</li>
<li>
<p><span class="merged" id="all.ooWlj" style='background-color:yellow' title="原文 : Enter your Oracle credentials or create an account if you don’t have one.">Oracle資格証明を入力するか、アカウントがない場合は作成します。</span></p>

</li>
<li>
<p><span class="merged" id="all.tBS3F" style='background-color:yellow' title="原文 : Search for coherence in the Search Oracle Container Registry field.">検索Oracle Container Registryフィールドでcoherenceを検索します。</span></p>

</li>
<li>
<p><span class="merged" id="all.2C3VyN" style='background-color:yellow' title="原文 : Click coherence in the search result list.">検索結果リストでcoherenceをクリックします。</span></p>

</li>
<li>
<p><span class="merged" id="all.1ztqmJ" style='background-color:yellow' title="原文 : On the Oracle Coherence page, select the language from the drop-down list and click Continue.">Oracle Coherenceページで、ドロップダウン・リストから言語を選択し、続行をクリックします。</span></p>

</li>
<li>
<p><span class="merged" id="all.1ZfuX5" style='background-color:yellow' title="原文 : Click Accept on the Oracle Standard Terms and Conditions page.">Oracle Standardの条件ページで受諾をクリックします。</span></p>

</li>
</ul>
<p><span class="merged" id="all.25m9oG" style='background-color:yellow' title="原文 : Once this is done the Oracle Container Registry credentials can be used to create Kubernetes secret to pull the Coherence image.">これが完了したら、Oracle Container Registry資格証明を使用してKubernetesシークレットを作成してCoherenceイメージをプルできます。</span></p>

</div>

<h2 id="_use_imagepullsecrets"><span class="merged" id="all.1YJKb5" style='background-color:yellow' title="原文 : Use ImagePullSecrets">ImagePullSecretsの使用</span></h2>
<div class="section">
<p><span class="merged" id="all.1MPyyw.spl1" style='background-color:yellow' title="原文 : Kubernetes supports configuring pods to use imagePullSecrets for pulling images.">Kubernetesでは、イメージのプルに<code>imagePullSecrets</code>を使用するポッドの構成がサポートされています。</span> <span class="merged" id="all.1MPyyw.spl2" style='background-color:yellow' title="原文 : If possible, this is the preferable and most portable route.">可能な場合、これは最も好ましい携帯用ルートです。</span> <span class="merged" id="all.1MPyyw.spl3" style='background-color:yellow' title="原文 : See the kubernetes docs for this.">これについては、<a href="https://kubernetes.io/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod" id="" target="_blank" >「kubernetesドキュメント」</a>を参照してください。</span> </p>

<p><span class="merged" id="all.4PiKHO.spl1" style='background-color:yellow' title="原文 : Once secrets have been created in the namespace that the Coherence resource is to be installed in then the secret name can be specified in the Coherence CRD spec."><code>Coherence</code>リソースがインストールされるネームスペースにシークレットが作成されると、<code>Coherence</code> CRD <code>spec</code>でシークレット名を指定できます。</span> <span class="merged" id="all.4PiKHO.spl2" style='background-color:yellow' title="原文 : It is possible to specify multiple secrets in the case where the different images being used are pulled from different registries.">異なるレジストリから異なるイメージがプルされる場合、複数のシークレットを指定できます。</span> </p>

<p><span class="merged" id="all.39DxWR" style='background-color:yellow' title="原文 : For example to use the commercial Coherence 14.1.1.0.0 image from OCR specify the image and image pull secrets in the Coherence resource yaml">たとえば、OCRの商用Coherence 14.1.1.0.0イメージを使用するには、<code>Coherence</code>リソースyamlのイメージおよびイメージ・プル・シークレットを指定</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  image: container-registry.oracle.com/middleware/coherence:14.1.1.0.0
  imagePullSecrets:
    - name: coherence-secret  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1lhVvJ" style='background-color:yellow' title="原文 : The coherence-secret will be used for pulling images from the registry associated to the secret"><code>coherence-secret</code>は、シークレットに関連付けられたレジストリからイメージをプルするために使用されます</span></li>
</ul>
<p><span class="merged" id="all.1pk54t" style='background-color:yellow' title="原文 : Also see Using Private Image Registries"><router-link to="/docs/installation/05_private_repos">「プライベート・イメージ・レジストリの使用」</router-link>も参照してください</span></p>

</div>
</doc-view>
<!-- pages/docs/installation/05_private_repos.js -->
<doc-view>

<h2 id="_using_private_image_registries"><span class="merged" id="all.4BrISl" style='background-color:yellow' title="原文 : Using Private Image Registries">プライベート・イメージ・レジストリの使用</span></h2>
<div class="section">
<p><span class="merged" id="all.37juRM.spl1" style='background-color:yellow' title="原文 : Sometimes the images used by a Coherence cluster need to be pulled from a private image registry that requires credentials.">Coherenceクラスタで使用されるイメージは、資格証明を必要とするプライベート・イメージ・レジストリからプルする必要がある場合があります。</span> <span class="merged" id="all.37juRM.spl2" style='background-color:yellow' title="原文 : The Coherence Operator supports supplying credentials in the Coherence CRD configuration.">Coherence Operatorでは、<code>Coherence</code> CRD構成での資格証明の指定をサポートしています。</span> <span class="merged" id="all.37juRM.spl3" style='background-color:yellow' title="原文 : The Kubernetes documentation on using a private registries gives a number of options for supplying credentials."><a href="https://kubernetes.io/docs/concepts/containers/images/#using-a-private-registry" id="" target="_blank" >「プライベート・レジストリの使用」</a>のKubernetesドキュメントには、資格証明を指定する様々なオプションがあります。</span> </p>

</div>

<h2 id="_use_imagepullsecrets"><span class="merged" id="all.1YJKb5.1" style='background-color:yellow' title="原文 : Use ImagePullSecrets">ImagePullSecretsの使用</span></h2>
<div class="section">
<p><span class="merged" id="all.aTxBB.spl1" style='background-color:yellow' title="原文 : Kubernetes supports configuring pods to use imagePullSecrets for pulling images.">Kubernetesでは、イメージのプルに<code>imagePullSecrets</code>を使用するポッドの構成がサポートされています。</span> <span class="merged" id="all.aTxBB.spl2" style='background-color:yellow' title="原文 : If possible, this is the preferable, and most portable route.">可能な場合は、これが優先され、ほとんどのポータブル・ルートです。</span> <span class="merged" id="all.aTxBB.spl3" style='background-color:yellow' title="原文 : See the kubernetes docs for this.">これについては、<a href="https://kubernetes.io/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod" id="" target="_blank" >「kubernetesドキュメント」</a>を参照してください。</span> <span class="merged" id="all.aTxBB.spl4" style='background-color:yellow' title="原文 : Once secrets have been created in the namespace that the Coherence resource is to be installed in then the secret name can be specified in the Coherence spec."><code>Coherence</code>リソースがインストールされるネームスペースにシークレットが作成されると、<code>Coherence</code> <code>spec</code>でシークレット名を指定できます。</span> <span class="merged" id="all.aTxBB.spl5" style='background-color:yellow' title="原文 : It is possible to specify multiple secrets in the case where the different images being used will be pulled from different registries.">異なるレジストリから異なるイメージをプルする場合、複数のシークレットを指定できます。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  imagePullSecrets:
    - name: coherence-secret  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1lhVvJ.1" style='background-color:yellow' title="原文 : The coherence-secret will be used for pulling images from the registry associated to the secret"><code>coherence-secret</code>は、シークレットに関連付けられたレジストリからイメージをプルするために使用されます</span></li>
</ul>
<p><span class="merged" id="all.JvXPV" style='background-color:yellow' title="原文 : The imagePullSecrets field is a list of values in the same format that they would be specified in Kubernetes Pod specs, so multiple secrets can be specified for different authenticated registries in the case where the Coherence cluster will use images from different authenticated registries.."><code>imagePullSecrets</code>フィールドは、Kubernetes <code>Pod</code>仕様で指定されるのと同じ形式の値リストであるため、Coherenceクラスタが様々な認証済レジストリのイメージを使用する場合、複数のシークレットを様々な認証済レジストリに指定できます。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  imagePullSecrets:           <span class="conum" data-value="1" />
    - name: coherence-secret
    - name: ocr-secret</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2gYfDj" style='background-color:yellow' title="原文 : The imagePullSecrets list specifies two secrets to use coherence-secret and ocr-secret"><code>imagePullSecrets</code>リストでは、<code>coherence-secret</code>および<code>ocr-secret</code>を使用する2つのシークレットを指定</span></li>
</ul>
</div>
</doc-view>
<!-- pages/docs/installation/06_openshift.js -->
<doc-view>

<h2 id="_coherence_clusters_on_openshift"><span class="merged" id="all.375qJ0" style='background-color:yellow' title="原文 : Coherence Clusters on OpenShift">OpenShiftのCoherenceクラスタ</span></h2>
<div class="section">
<p><span class="merged" id="all.3AMZDY" style='background-color:yellow' title="原文 : Whilst the Coherence Operator will run out of the box on OpenShift some earlier versions of the Coherence Docker image will not work without configuration changes.">Coherence OperatorはOpenShiftのボックスから実行されますが、一部の以前のバージョンのCoherence Dockerイメージは構成なしで機能しません。</span></p>

<p><span class="merged" id="all.1Bttyz.spl1" style='background-color:yellow' title="原文 : These earlier versions of the Coherence Docker images that Oracle publishes default the container user as oracle.">Oracleが公開するこれらの以前のバージョンのCoherence Dockerイメージするデフォルトのコンテナ・ユーザーは<code>oracle</code>です。</span> <span class="merged" id="all.1Bttyz.spl2" style='background-color:yellow' title="原文 : When running the Oracle images or layered images that retain the default user as oracle with OpenShift, the anyuid security context constraint is required to ensure proper access to the file system within the Docker image.">OpenShiftでデフォルト・ユーザーを<code>oracle</code>として保持するOracleイメージまたはレイヤー・イメージを実行する場合、Dockerイメージ内のファイル・システムへの適切なアクセスを確保するために、<code>anyuid</code>セキュリティ・コンテキスト制約が必要です。</span> <span class="merged" id="all.1Bttyz.spl3" style='background-color:yellow' title="原文 : Later versions of the Coherence images have been modified to work without needing anyuid.">後続のバージョンのCoherenceイメージは、<code>anyuid</code>を必要とせずに機能するように変更されました。</span> </p>

<p><span class="merged" id="all.31VOUi" style='background-color:yellow' title="原文 : To work with older image versions , the administrator must:">古いイメージ・バージョンを使用するには、管理者は次の作業を行う必要があります:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.xtKsG" style='background-color:yellow' title="原文 : Ensure the anyuid security content is granted"><code>anyuid</code>セキュリティ・コンテンツが付与されていることを確認</span></p>

</li>
<li>
<p><span class="merged" id="all.3fj9uD" style='background-color:yellow' title="原文 : Ensure that Coherence containers are annotated with openshift.io/scc: anyuid">Coherenceコンテナの注釈が<code>openshift.io/scc: anyuid</code>になっていることを確認</span></p>

</li>
</ul>
<p><span class="merged" id="all.1vY3ZD" style='background-color:yellow' title="原文 : For example, to update the OpenShift policy, use:">たとえば、OpenShiftポリシーを更新するには、次を使用します:</span></p>

<pre
lang="bash"

>oc adm policy add-scc-to-user anyuid -z default</pre>

<p><span class="merged" id="all.3ss4mL" style='background-color:yellow' title="原文 : and to annotate the Coherence containers, update the Coherence resource to include annotations">Coherenceコンテナに注釈を付けるには、注釈を含めるように<code>Coherence</code>リソースを更新</span></p>

<p><span class="merged" id="all.6vDv5.3"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  annotations:
    openshift.io/scc: anyuid  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.pzv0K" style='background-color:yellow' title="原文 : The openshift.io/scc: anyuid annotation will be applied to all of the Coherence Pods."><code>openshift.io/scc: anyuid</code>注釈は、すべてのCoherenceポッドに適用されます。</span></li>
</ul>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.3fLzk" style='background-color:yellow' title="原文 : For additional information about OpenShift requirements see the OpenShift documentation">OpenShift要件の詳細は、<a href="https://docs.openshift.com/container-platform/3.3/creating_images/guidelines.html" id="" target="_blank" >「OpenShiftドキュメント」</a>を参照してください</span></p>
</div>
</div>
</doc-view>
<!-- pages/docs/installation/07_webhooks.js -->
<doc-view>

<h2 id="_operator_web_hooks"><span class="merged" id="all.1YDeao" style='background-color:yellow' title="原文 : Operator Web-Hooks">オペレータWebフック</span></h2>
<div class="section">
<p><span class="merged" id="all.21xPTp.spl1" style='background-color:yellow' title="原文 : The Coherence Operator uses Kubernetes dynamic admission control commonly known as defaulting and validating web-hooks.">Coherence Operatorでは、一般的にwebフックのデフォルト設定および検証として知られるKubernetes<a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/" id="" target="_blank" >動的アドミッション制御</a>を使用します。</span> <span class="merged" id="all.21xPTp.spl2" style='background-color:yellow' title="原文 : As the name implies, these are used to provide default values for some fields in a Coherence resource and to also validate Coherence resources on creation and update.">名前が示すように、これらは<code>Coherence</code>リソースの一部のフィールドにデフォルト値を提供し、作成および更新時に<code>Coherence</code>リソースをバリデートするために使用されます。</span> <span class="merged" id="all.21xPTp.spl3" style='background-color:yellow' title="原文 : The operator creates and configures the two web-hooks when it starts.">オペレータは、起動時に2つのwebフックを作成および構成します。</span> </p>


<h3 id="_webhook_scope"><span class="merged" id="all.34OzP"  title="原文:: Webhook Scope">Webフック・スコープ</span></h3>
<div class="section">
<p><span class="merged" id="all.TCt3U.spl1" style='background-color:yellow' title="原文 : Webhooks in Kubernetes are a cluster resource, not a namespaced scoped resource, so consequently there is typically only a single webhook installed for a given resource type.">Kubernetesのwebフックは、ネームスペース・スコープ・リソースではなくクラスタ・リソースであるため、通常、特定のリソース・タイプに対してインストールされるWebフックは1つのみです。</span> <span class="merged" id="all.TCt3U.spl2" style='background-color:yellow' title="原文 : If the Coherence Operator has been installed as a cluster scoped operator then this is not a problem but if multiple Coherence Operators have been deployed then they could all attempt to install the webhooks and update or overwrite a previous configuration.">Coherence Operatorがクラスタ・スコープ・オペレータとしてインストールされている場合、これは問題ではありませんが、複数のCoherence Operatorsがデプロイされている場合、すべてのユーザーがwebフックをインストールし、前の構成を更新または上書きしようとする可能性があります。</span> <span class="merged" id="all.TCt3U.spl3" style='background-color:yellow' title="原文 : This might not be an issue if all the operators deployed in a Kubernetes cluster are the same version but different versions could cause issues.">Kubernetesクラスタにデプロイされたすべてのオペレータが同じバージョンであるが、異なるバージョンによって問題が発生する場合、これは問題ではない可能性があります。</span> <span class="merged" id="all.TCt3U.spl4" style='background-color:yellow' title="原文 : This is one of the reasons that it is recommended to install a single cluster scoped Coherence Operator.">これは、単一のクラスタ・スコープCoherence Operatorをインストールすることをお薦めします。</span> </p>

</div>
</div>

<h2 id="_manage_web_hook_certificates"><span class="merged" id="all.2daUx" style='background-color:yellow' title="原文 : Manage Web-Hook Certificates">Webフック証明書の管理</span></h2>
<div class="section">
<p><span class="merged" id="all.VeQd4.spl1" style='background-color:yellow' title="原文 : A web-hook requires certificates to be able to work in Kubernetes.">webフックでは、証明書をKubernetesで動作させる必要があります。</span> <span class="merged" id="all.VeQd4.spl2" style='background-color:yellow' title="原文 : By default, the operator will create and manage self-signed certificates for this purpose.">デフォルトでは、オペレータはこの目的のために自己署名証明書を作成および管理します。</span> <span class="merged" id="all.VeQd4.spl3" style='background-color:yellow' title="原文 : These certificates are created using the Kubernetes certificate It is possible to use other certificates, either managed by the Kubernetes cert-manager or managed manually.">これらの証明書はKubernetes証明書を使用して作成されます。<a href="https://cert-manager.io/docs/installation/kubernetes/" id="" target="_blank" >Kubernetes cert-manager</a>によって管理されるか、手動で管理される他の証明書を使用できます。</span> </p>

<p><span class="merged" id="all.42Anr8.spl1" style='background-color:yellow' title="原文 : The certificates should be stored in a Secret named coherence-webhook-server-cert in the same namespace that the operator has installed in. (although this name can be changed if required).">証明書は、オペレータがインストールされたものと同じネームスペースの<code>coherence-webhook-server-cert</code>という名前の<code>Secret</code>に格納する必要があります(ただし、この名前は必要に応じて変更できます)。</span> <span class="merged" id="all.42Anr8.spl2" style='background-color:yellow' title="原文 : This Secret must exist, or the operator wil fail to start.">この<code>Secret</code>が存在するか、オペレータの起動に失敗します。</span> <span class="merged" id="all.42Anr8.spl3" style='background-color:yellow' title="原文 : The Operator Helm chart will create this Secret when the Operator is managing its own self-signed certs, otherwise the Secret must be created manually or by an external certificate manager.">オペレータが独自の自己署名証明書を管理している場合、オペレータのHelmチャートではこの<code>Secret</code>が作成されます。そうでない場合は、<code>Secret</code>を手動で作成するか、外部証明書マネージャによって作成する必要があります。</span> </p>


<h3 id="_self_signed_certificates"><span class="merged" id="all.3G3e82"  title="原文:: Self-Signed Certificates">自己署名証明書</span></h3>
<div class="section">
<p><span class="merged" id="all.2eDk8G.spl1" style='background-color:yellow' title="原文 : This is the default option, the operator will create and manage a set of self-signed certificates.">これはデフォルト・オプションであり、オペレータは自己署名証明書のセットを作成および管理します。</span> <span class="merged" id="all.2eDk8G.spl2" style='background-color:yellow' title="原文 : The Operator will update the Secret with its certificates and create the MutatingWebhookConfiguration and ValidatingWebhookConfiguration resources configured to use those certificates.">オペレータは、<code>Secret</code>を証明書で更新し、これらの証明書を使用するように構成された<code>MutatingWebhookConfiguration</code>および<code>ValidatingWebhookConfiguration</code>リソースを作成します。</span> </p>

</div>

<h3 id="_cert_manager_self_signed"><span class="merged" id="all.1yCwGp" style='background-color:yellow' title="原文 : Cert Manager (Self-Signed)">証明書マネージャ(自己署名)</span></h3>
<div class="section">
<p><span class="merged" id="all.2R29GD" style='background-color:yellow' title="原文 : Assuming Kubernetes Cert Manager has been installed in the Kubernetes cluster then to use it for managing the web-hook certificates, the Operator needs to be installed with the CERT_TYPE environment variable set to cert-manager."><a href="https://cert-manager.io/docs/installation/kubernetes/" id="" target="_blank" >「Kubernetes証明書マネージャ」</a>がKubernetesクラスタにインストールされている場合、webフック証明書の管理に使用するには、<code>CERT_TYPE</code>環境変数を<code>cert-manager</code>に設定してオペレータをインストールする必要があります。</span></p>

<p><span class="merged" id="all.4YC1n2.spl1" style='background-color:yellow' title="原文 : The Operator will then detect the version of Cert Manager and automatically create the required self-signed Issuer and Certificate resources.">オペレータは証明書マネージャのバージョンを検出し、必要な自己署名付き<code>Issuer</code>および<code>Certificate</code>リソースを自動的に作成します。</span> <span class="merged" id="all.4YC1n2.spl2" style='background-color:yellow' title="原文 : Cert Manager will detect these and create the Secret.">証明書マネージャはこれを検出し、<code>Secret</code>を作成します。</span> <span class="merged" id="all.4YC1n2.spl3" style='background-color:yellow' title="原文 : This may cause the operator Pod to re-start until the Secret has been created.">これにより、<code>Secret</code>が作成されるまで、オペレータPodが再起動される場合があります。</span> </p>


<h4 id="_install_using_manifest_file"><span class="merged" id="all.4BU8BY" style='background-color:yellow' title="原文 : Install Using Manifest File">マニフェスト・ファイルを使用したインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.4Xpk9x" style='background-color:yellow' title="原文 : If installing the operator using the manifest yaml file first replace the occurrences of self-signed in the yaml file with cert-manager.">manifest yamlファイルを使用してオペレータをインストールする場合、yamlファイル内の<code>self-signed</code>の出現箇所を<code>cert-manager</code>に置き換えます。</span></p>

<p><span class="merged" id="all.6vDv5.4"  title="原文:: For example:">例えば:</span></p>

<pre
lang="bash"

>curl -L https://github.com/oracle/coherence-operator/releases/download/v3.4.0/coherence-operator.yaml \
    -o coherence-operator.yaml
sed -i s/self-signed/cert-manager/g coherence-operator.yaml
kubectl apply -f coherence-operator.yaml</pre>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.6"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.3KC1JI" style='background-color:yellow' title="原文 : On MacOS the sed command is slightly different for in-place replacement and requires an empty string after the -i parameter:">MacOSでは、<code>sed</code>コマンドはインプレース置換で若干異なり、<code>-i</code>パラメータの後に空の文字列が必要です:</span></p>

<pre
lang="bash"

>sed -i '' s/self-signed/cert-manager/g coherence-operator.yaml</pre>
</p>
</div>
</div>

<h4 id="_install_using_helm"><span class="merged" id="all.4g555R" style='background-color:yellow' title="原文 : Install Using Helm">Helmを使用したインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.3n894t" style='background-color:yellow' title="原文 : To set the certificate manager to use when installing the Helm chart, set the webhookCertType value:">Helmチャートのインストール時に使用する証明書マネージャを設定するには、<code>webhookCertType</code>値を設定します:</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set webhookCertType=cert-manager <span class="conum" data-value="1" />
    coherence-operator \
    coherence/coherence-operator</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3ya3x4" style='background-color:yellow' title="原文 : The certificate manager will be set to cert-manager">証明書マネージャは<code>cert-manager</code>に設定されます</span></li>
</ul>
</div>
</div>

<h3 id="_manual_certificates"><span class="merged" id="all.19evoy" style='background-color:yellow' title="原文 : Manual Certificates">手動証明書</span></h3>
<div class="section">
<p><span class="merged" id="all.3q0j6E" style='background-color:yellow' title="原文 : If certificates will be managed some other way (for example by Cert Manager managing real certificates) then the CERT_TYPE environment variable should be set to manual.">証明書が他の方法で管理される場合(たとえば、Cert Managerが実際の証明書を管理する場合)、<code>CERT_TYPE</code>環境変数を<code>manual</code>に設定する必要があります。</span></p>

<p><span class="merged" id="all.2UnNN5.spl1" style='background-color:yellow' title="原文 : A Secret must exist in the namespace the operator will be installed into containing the CA certificate, certificate and key files that the operator will use to configure the web-hook."><code>Secret</code>は、オペレータがwebフックの構成に使用するCA証明書、証明書およびキー・ファイルを含む場所にインストールされるネームスペースに存在する必要があります。</span> <span class="merged" id="all.2UnNN5.spl2" style='background-color:yellow' title="原文 : The files must exist with the names expected by the operator.">オペレータで想定される名前を持つファイルが存在する必要があります。</span> <span class="merged" id="all.2UnNN5.spl3" style='background-color:yellow' title="原文 : The default name of the Secret expected by the operator is coherence-webhook-server-cert but this can be changed.">オペレータで想定される<code>Secret</code>のデフォルト名は<code>coherence-webhook-server-cert</code>ですが、これは変更できます。</span> </p>

<p><span class="merged" id="all.1RGJyW.spl1" style='background-color:yellow' title="原文 : The certificates in the Secret must be valid for the Service name that exposes the Coherence web-hook."><code>Secret</code>内の証明書は、Coherence webフックを公開する<code>Service</code>名に対して有効である必要があります。</span> <span class="merged" id="all.1RGJyW.spl2" style='background-color:yellow' title="原文 : The default format of the DNS used for the certificate CN (common name) is coherence-operator-webhook.&lt;namespace&gt;.svc where &lt;namespace&gt; is the namespace the operator is installed into.">証明書CN (共通名)に使用されるDNSのデフォルトの形式は、<code>coherence-operator-webhook.&lt;namespace>.svc</code>です。<code>&lt;namespace></code>は、オペレータがインストールされるネームスペースです。</span> <span class="merged" id="all.1RGJyW.spl3" style='background-color:yellow' title="原文 : Additional names may also be configured using the different formats of Kubernetes Service DNS names.">Kubernetes <code>Service</code> DNS名の異なる形式を使用して、追加の名前を構成することもできます。</span> </p>

<p><span class="merged" id="all.2VhkzD" style='background-color:yellow' title="原文 : For example, if the Operator is installed into a namespace named coherence the Service DNS names would be:">たとえば、オペレータが<code>coherence</code>という名前のネームスペースにインストールされている場合、<code>Service</code> DNS名は次のようになります:</span></p>

<pre


>  - coherence-operator-webhook.coherence
  - coherence-operator-webhook.coherence.svc
  - coherence-operator-webhook.coherence.svc.cluster.local</pre>

<p><span class="merged" id="all.2Jb9e5" style='background-color:yellow' title="原文 : An example of the format of the Secret is shown below:"><code>Secret</code>の形式の例を次に示します:</span></p>

<pre
lang="yaml"
title="sh"
>apiVersion: v1
kind: Secret
metadata:
  name: coherence-webhook-server-cert
type: Opaque
data:
  ca.crt: ... # &lt;base64 endocde CA certificate file&gt;
  tls.crt: ... # &lt;base64 endocde certificate file&gt;
  tls.key: ... # &lt;base64 endocde private key file&gt;</pre>

<div class="admonition warning">
<p class="admonition-textlabel"><span class="merged" id="all.2dRYIU.1"  title="原文:: Warning">警告</span></p>
<p ><p><span class="merged" id="all.1njDP1" style='background-color:yellow' title="原文 : If a Secret with the name specified in webhookCertSecret does not exist in the namespace the operator is being installed into then the operator Pod will not start as the Secret will be mounted as a volume in the operator Pod."><code>webhookCertSecret</code>で指定された名前の<code>Secret</code>がネームスペースに存在しない場合、オペレータはインストールされます。<code>Secret</code>がオペレータ・ポッドにボリュームとしてマウントされるため、オペレータ・ポッドは起動しません。</span></p>
</p>
</div>

<h4 id="_install_using_manifest_file_2"><span class="merged" id="all.4BU8BY.1" style='background-color:yellow' title="原文 : Install Using Manifest File">マニフェスト・ファイルを使用したインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.4Xpk9x.1" style='background-color:yellow' title="原文 : If installing the operator using the manifest yaml file first replace the occurrences of self-signed in the yaml file with cert-manager.">manifest yamlファイルを使用してオペレータをインストールする場合、yamlファイル内の<code>self-signed</code>の出現箇所を<code>cert-manager</code>に置き換えます。</span></p>

<p><span class="merged" id="all.6vDv5.5"  title="原文:: For example:">例えば:</span></p>

<pre
lang="bash"

>curl -L https://github.com/oracle/coherence-operator/releases/download/v3.3.5/coherence-operator.yaml \
    -o coherence-operator.yaml
sed -i s/self-signed/manual/g coherence-operator.yaml
kubectl apply -f coherence-operator.yaml</pre>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.7"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.3KC1JI.1" style='background-color:yellow' title="原文 : On MacOS the sed command is slightly different for in-place replacement and requires an empty string after the -i parameter:">MacOSでは、<code>sed</code>コマンドはインプレース置換で若干異なり、<code>-i</code>パラメータの後に空の文字列が必要です:</span></p>

<pre
lang="bash"

>sed -i '' s/self-signed/cert-manager/g coherence-operator.yaml</pre>
</p>
</div>
</div>

<h4 id="_install_using_helm_2"><span class="merged" id="all.4g555R.1" style='background-color:yellow' title="原文 : Install Using Helm">Helmを使用したインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.MVv4d" style='background-color:yellow' title="原文 : To configure the operator to use manually managed certificates when installing the Helm chart, set the webhookCertType value.">Helmチャートのインストール時に手動で管理される証明書を使用するようにオペレータを構成するには、<code>webhookCertType</code>値を設定します。</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set webhookCertType=manual \ <span class="conum" data-value="1" />
    coherence-operator \
    coherence/coherence-operator</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1sljoq" style='background-color:yellow' title="原文 : The certificate manager will be set to manual and the operator will expect to find a Secret named coherence-webhook-server-cert">証明書マネージャは<code>manual</code>に設定され、オペレータでは<code>coherence-webhook-server-cert</code>という名前の<code>Secret</code>が見つかると想定されます</span></li>
</ul>
<p><span class="merged" id="all.3sBCWk" style='background-color:yellow' title="原文 : To use manually managed certificates and store the keys and certs in a different secret, set the secret name using the webhookCertSecret value.">手動管理証明書を使用し、キーおよび証明書を別のシークレットに格納するには、<code>webhookCertSecret</code>値を使用してシークレット名を設定します。</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set webhookCertType=manual \ <span class="conum" data-value="1" />
    --set webhookCertSecret=operator-certs \ <span class="conum" data-value="2" />
    coherence-operator \
    coherence/coherence-operator</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2Lecp0" style='background-color:yellow' title="原文 : The certificate manager will be set to manual">証明書マネージャは<code>manual</code>に設定されます</span></li>
<li data-value="2"><span class="merged" id="all.6vTdq" style='background-color:yellow' title="原文 : The name of the secret is set to operator-certs">シークレットの名前は<code>operator-certs</code>に設定されます</span></li>
</ul>
<p><span class="merged" id="all.4e9HXI" style='background-color:yellow' title="原文 : The Coherence Operator will now expect to find the keys and certs in a Secret named operator-certs in the same namespace that the Operator is deployed into.">Coherence Operatorでは、オペレータがデプロイされているのと同じネームスペースで、<code>operator-certs</code>という名前の<code>Secret</code>内のキーおよび証明書を検索する必要があります。</span></p>

</div>
</div>

<h3 id="no-hooks"><span class="merged" id="all.4CGEmz" style='background-color:yellow' title="原文 : Install the Operator Without Web-Hooks">Webフックを使用しないオペレータのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.2cjOdm" style='background-color:yellow' title="原文 : It is possible to start the Operator without it registering any web-hooks with the API server.">APIサーバーにwebフックを登録せずに、オペレータを起動できます。</span></p>

<div class="admonition caution">
<p class="admonition-textlabel"><span class="merged" id="all.4Pmf1N.1"  title="原文:: Caution">注意</span></p>
<p ><p><span class="merged" id="all.1Xdgbj.spl1" style='background-color:yellow' title="原文 : Running the Operator without web-hooks is not recommended.">webフックなしでオペレータを実行することはお薦めしません。</span> <span class="merged" id="all.1Xdgbj.spl2" style='background-color:yellow' title="原文 : The admission web-hooks validate the Coherence resource yaml before it gets into the k8s cluster.">アドミッションwebフックは、<code>Coherence</code>リソースyamlがk8sクラスタに入る前にバリデートします。</span> <span class="merged" id="all.1Xdgbj.spl3" style='background-color:yellow' title="原文 : Without the web-hooks, invalid yaml will be accepted by k8s and the Operator will then log errors when it tries to reconcile invalid yaml.">webフックがない場合、無効なyamlはk8sによって受け入れられ、無効なyamlを調整しようとすると、オペレータはエラーをログに記録します。</span> <span class="merged" id="all.1Xdgbj.spl4" style='background-color:yellow' title="原文 : Or worse, the Operator will create an invalid StatefulSet which will then fail to start.">さらに悪い場合は、オペレータによって無効な<code>StatefulSet</code>が作成され、起動に失敗します。</span> </p>
</p>
</div>

<h4 id="_install_using_manifest_file_3"><span class="merged" id="all.4BU8BY.2" style='background-color:yellow' title="原文 : Install Using Manifest File">マニフェスト・ファイルを使用したインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.292xd6" style='background-color:yellow' title="原文 : If installing using the manifest yaml files, then you need to edit the coherence-operator.yaml manifest to add a command line argument to the Operator.">マニフェストyamlファイルを使用してインストールする場合は、<code>coherence-operator.yaml</code>マニフェストを編集して、オペレータにコマンドライン引数を追加する必要があります。</span></p>

<p><span class="merged" id="all.1ieFpK" style='background-color:yellow' title="原文 : Update the controller-manager deployment and add an argument, edit the section that looks like this:"><code>controller-manager</code>デプロイメントを更新し、引数を追加し、次のようなセクションを編集します:</span></p>

<pre
lang="yaml"

>        args:
          - operator
          - --enable-leader-election</pre>

<p><span class="merged" id="all.4dOyn0" style='background-color:yellow' title="原文 : and add the additional --enable-webhook=false argument like this:">次のように<code>--enable-webhook=false</code>引数を追加します:</span></p>

<pre
lang="yaml"

>        args:
          - operator
          - --enable-leader-election
          - --enable-webhook=false</pre>

<p><span class="merged" id="all.3gH1L" style='background-color:yellow' title="原文 : apiVersion: apps/v1 kind: Deployment metadata: name: controller-manager">apiVersion: アプリ/v1の種類: デプロイメント・メタデータ: 名前: controller-manager</span></p>

</div>

<h4 id="_installing_using_helm"><span class="merged" id="all.4e3KgA" style='background-color:yellow' title="原文 : Installing Using Helm">Helmを使用したインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.1Egmcu" style='background-color:yellow' title="原文 : If installing the Operator using Helm, the webhooks value can be set to false in the values file or on the command line.">Helmを使用してオペレータをインストールする場合、値ファイルまたはコマンドラインで<code>webhooks</code>値をfalseに設定できます。</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --set webhooks=false \
    coherence-operator \
    coherence/coherence-operator</pre>

</div>
</div>
</div>
</doc-view>
<!-- pages/docs/installation/08_networking.js -->
<doc-view>

<h2 id="_os_networking_configuration"><span class="merged" id="all.AkyGS" style='background-color:yellow' title="原文 : O/S Networking Configuration">O/Sネットワーキング構成</span></h2>
<div class="section">

<h3 id="_operating_system_library_requirements"><span class="merged" id="all.4bwahA" style='background-color:yellow' title="原文 : Operating System Library Requirements">オペレーティング・システム・ライブラリの要件</span></h3>
<div class="section">
<p><span class="merged" id="all.Lp5Oz.spl1" style='background-color:yellow' title="原文 : In order for Coherence clusters to form correctly, the conntrack library must be installed.">Coherenceクラスタを正しく形成するには、<code>conntrack</code>ライブラリをインストールする必要があります。</span> <span class="merged" id="all.Lp5Oz.spl2" style='background-color:yellow' title="原文 : Most Kubernetes distributions will do this for you.">これは、ほとんどのKubernetesディストリビューションで行われます。</span> <span class="merged" id="all.Lp5Oz.spl3" style='background-color:yellow' title="原文 : If you have issues with clusters not forming, then you should check that conntrack is installed using this command (or equivalent):">クラスタが形成されない問題がある場合は、次のコマンド(または同等のコマンド)を使用して、<code>conntrack</code>がインストールされていることを確認する必要があります:</span> </p>

<pre
lang="bash"

>rpm -qa | grep conntrack</pre>

<p><span class="merged" id="all.2Qi10S.spl1" style='background-color:yellow' title="原文 : You should see output similar to that shown below.">次のように出力されます。</span> <span class="merged" id="all.2Qi10S.spl2" style='background-color:yellow' title="原文 : If you do not, then you should install conntrack using your operating system tools.">そうでない場合は、オペレーティング・システムのツールを使用して<code>conntrack</code>をインストールする必要があります。</span> </p>

<pre
lang="bash"

>libnetfilter_conntrack-1.0.6-1.el7_3.x86_64
conntrack-tools-1.4.4-4.el7.x86_64</pre>

</div>

<h3 id="_firewall_iptables_requirements"><span class="merged" id="all.2Fxxiw" style='background-color:yellow' title="原文 : Firewall (iptables) Requirements">ファイアウォール(iptables)の要件</span></h3>
<div class="section">
<p><span class="merged" id="all.2rv2Dt.spl1" style='background-color:yellow' title="原文 : Some Kubernetes distributions create iptables rules that block some types of traffic that Coherence requires to form clusters.">一部のKubernetesディストリビューションでは、Coherenceがクラスタを形成するために必要とする一部のタイプのトラフィックをブロックする<code>iptables</code>ルールが作成されます。</span> <span class="merged" id="all.2rv2Dt.spl2"  title="原文: If you are not able to form clusters, then you can check for this issue using the following command:">クラスタを形成できない場合は、次のコマンドを使用してこの問題を確認できます:</span> </p>

<pre
lang="bash"

>iptables -t nat -v  -L POST_public_allow -n</pre>

<p><span class="merged" id="all.rIOyd" style='background-color:yellow' title="原文 : If you see output similar to the example below:">次の例のような出力が表示された場合:</span></p>

<pre
lang="bash"

>Chain POST_public_allow (1 references)
pkts bytes target     prot opt in     out     source               destination
164K   11M MASQUERADE  all  --  *      !lo     0.0.0.0/0            0.0.0.0/0
   0     0 MASQUERADE  all  --  *      !lo     0.0.0.0/0            0.0.0.0/0</pre>

<p><span class="merged" id="all.2A0CN2.spl1" style='background-color:yellow' title="原文 : For example, if you see any entries in this chain, then you need to remove them.">たとえば、このチェーンにエントリが表示された場合、それらを削除する必要があります。</span> <span class="merged" id="all.2A0CN2.spl2"  title="原文: You can remove the entries using this command:">次のコマンドを使用して、エントリを削除できます:</span> </p>

<pre
lang="bash"

>iptables -t nat -v -D POST_public_allow 1</pre>

<p><span class="merged" id="all.3xfGCa.spl1"  title="原文: Note that you will need to run that command for each line.">このコマンドは行ごとに実行する必要があることに注意してください。</span> <span class="merged" id="all.3xfGCa.spl2" style='background-color:yellow' title="原文 : So in the example above, you would need to run it twice.">したがって、前述の例では、2回実行する必要があります。</span> </p>

<p><span class="merged" id="all.2kFZai"  title="原文: After you are done, you can run the previous command again and verify that the output is now an empty list.">完了したら、前のコマンドを再度実行して、出力が空のリストになったことを確認できます。</span></p>

<p><span class="merged" id="all.3NQnna"  title="原文: After making this change, restart your domains and the Coherence cluster should now form correctly.">この変更を行った後、ドメインを再起動すると、Coherenceクラスタが正しく形成されます。</span></p>


<h4 id="_make_iptables_updates_permanent_across_reboots"><span class="merged" id="all.3FOJYY" style='background-color:yellow' title="原文 : Make iptables Updates Permanent Across Reboots">リブート時にiptablesの更新を永続的にします</span></h4>
<div class="section">
<p><span class="merged" id="all.4IYErZ" style='background-color:yellow' title="原文 : The recommended way to make iptables updates permanent across reboots is to create a systemd service that applies the necessary updates during the startup process.">再起動後も<code>iptables</code>の更新を永続的にするには、起動プロセス中に必要な更新を適用する<code>systemd</code>サービスを作成することをお薦めします。</span></p>

<p><span class="merged" id="all.2orxxk"  title="原文: Here is an example; you may need to adjust this to suit your own environment:">次に例を示します。これは、ご使用の環境に合せて調整する必要があります:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.37ki2U" style='background-color:yellow' title="原文 : Create a systemd service:"><code>systemd</code>サービスを作成します:</span></p>

</li>
</ul>
<pre
lang="bash"

>echo 'Set up systemd service to fix iptables nat chain at each reboot (so Coherence will work)...'
mkdir -p /etc/systemd/system/
cat &gt; /etc/systemd/system/fix-iptables.service &lt;&lt; EOF
[Unit]
Description=Fix iptables
After=firewalld.service
After=docker.service

[Service]
ExecStart=/sbin/fix-iptables.sh

[Install]
WantedBy=multi-user.target
EOF</pre>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1oy0st" style='background-color:yellow' title="原文 : Create the script to update iptables:"><code>iptables</code>を更新するスクリプトを作成します:</span></p>

</li>
</ul>
<pre
lang="bash"

>cat &gt; /sbin/fix-iptables.sh &lt;&lt; EOF
#!/bin/bash
echo 'Fixing iptables rules for Coherence issue...'
TIMES=$((`iptables -t nat -v -L POST_public_allow -n --line-number | wc -l` - 2))
COUNTER=1
while [ $COUNTER -le $TIMES ]; do
  iptables -t nat -v -D POST_public_allow 1
  ((COUNTER++))
done
EOF</pre>

<ul class="ulist">
<li>
<p><span class="merged" id="all.4DVz6"  title="原文: Start the service (or just reboot):">サービスを開始します(または単に再起動します):</span></p>

</li>
</ul>
<pre
lang="bash"

>echo 'Start the systemd service to fix iptables nat chain...'
systemctl enable --now fix-iptables</pre>

</div>
</div>
</div>
</doc-view>
<!-- pages/docs/installation/09_RBAC.js -->
<doc-view>

<h2 id="_rbac_roles"><span class="merged" id="all.2VAc8L" style='background-color:yellow' title="原文 : RBAC Roles">RBACのロール</span></h2>
<div class="section">
<p><span class="merged" id="all.2hS9ni.spl1" style='background-color:yellow' title="原文 : When installing the Coherence Operator into Kubernetes clusters with RBAC enabled, the Operator will require certain roles to work properly.">RBACが有効なKubernetesクラスタにCoherence Operatorをインストールする場合、オペレータは特定のロールが正しく動作する必要があります。</span> <span class="merged" id="all.2hS9ni.spl2" style='background-color:yellow' title="原文 : Both the Operator Helm chart, and the Operator k8s manifest files will install all the required roles, role bindings and create a service account.">Operator HelmチャートとOperator k8sマニフェスト・ファイルはどちらも、必要なすべてのロール、ロール・バインディングをインストールし、サービス・アカウントを作成します。</span> </p>

</div>

<h2 id="_cluster_roles"><span class="merged" id="all.1KT71M" style='background-color:yellow' title="原文 : Cluster Roles">クラスタ・ロール</span></h2>
<div class="section">
<p><span class="merged" id="all.1uH7Is.spl1" style='background-color:yellow' title="原文 : By default, both install methods will create ClusterRole resources and ClusterRoleBinding resources to bind those roles to the Operator ServiceAccount.">デフォルトでは、どちらのインストール・メソッドもClusterRoleリソースとClusterRoleBindingリソースを作成して、それらのロールをオペレータServiceAccountにバインドします。</span> <span class="merged" id="all.1uH7Is.spl2" style='background-color:yellow' title="原文 : Some Kubernetes administrators are wary of letting arbitrary installations have ClusterRole permissions and try to discourage it.">一部のKubernetes管理者は、任意のインストールにClusterRole権限を持たせるようにし、それを推奨しません。</span> <span class="merged" id="all.1uH7Is.spl3" style='background-color:yellow' title="原文 : The Coherence Operator can run without ClusterRole permissions, but it is important to understand what this means from an operational point of view.">Coherence Operatorは、ClusterRole権限なしで実行できますが、操作上の観点からこの意味を理解することが重要です。</span> </p>

<p><span class="merged" id="all.2lIcie" style='background-color:yellow' title="原文 : Cluster roles are used for a number of operator features:">クラスタ・ロールは、いくつかのオペレータ機能に使用されます:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.14nnbO" style='background-color:yellow' title="原文 : Installing the CRDs - the Operator automatically ensures that the CRDs it requires are installed when it starts.">CRDのインストール - オペレータは、起動時に必要なCRDがインストールされることを自動的に確認します。</span></p>

</li>
<li>
<p><span class="merged" id="all.1VPAD7.spl1" style='background-color:yellow' title="原文 : Installing the Web-Hook - the Operator automatically installs the defaulting and validating web-hooks for the Coherence resource when it starts.">Webフックのインストール - オペレータは、起動時に<code>Coherence</code>リソースのデフォルト設定および検証webフックを自動的にインストールします。</span> <span class="merged" id="all.1VPAD7.spl2" style='background-color:yellow' title="原文 : Without the validating web-hook a lot more care must be taken to ensure that only valid Coherence resource yaml is added to k8s.">webフックを検証しない場合は、有効な<code>Coherence</code>リソースyamlのみがk8sに追加されるように、さらに注意する必要があります。</span> <span class="merged" id="all.1VPAD7.spl3" style='background-color:yellow' title="原文 : In the worst case, invalid yaml may ultimately cause the Operator to panic where invalid yaml would normally have been disallowed by the web-hook.">最悪の場合、無効なyamlは最終的にはオペレータにパニックを引き起こし、webフックでは通常、無効なyamlは許可されません。</span> </p>

</li>
<li>
<p><span class="merged" id="all.nxCCL.spl1" style='background-color:yellow' title="原文 : Coherence CLuster site and rack information - the Operator is used to supply site and rack values for the Coherence clusters that it manages.">Coherence CLusterサイトおよびラック情報 - オペレータは、管理対象のCoherenceクラスタのサイトおよびラックの値を提供するために使用されます。</span> <span class="merged" id="all.nxCCL.spl2" style='background-color:yellow' title="原文 : These values come from Node labels that the Operator must be able to look up.">これらの値は、オペレータが検索できる必要がある<code>Node</code>ラベルから取得されます。</span> <span class="merged" id="all.nxCCL.spl3" style='background-color:yellow' title="原文 : Without this information a Coherence cluster will have empty values for the coherence.site and coherence.rack system properties, meaning that Coherence will be unable to make data site-safe in k8s clusters that have multiple availability zones.">この情報がない場合、Coherenceクラスタには<code>coherence.site</code>および<code>coherence.rack</code>システム・プロパティの値が空になります。つまり、Coherenceは、複数の可用性ゾーンを持つk8sクラスタでデータ・サイトを安全にすることはできません。</span> </p>

</li>
<li>
<p><span class="merged" id="all.2DJs3Q" style='background-color:yellow' title="原文 : Monitoring multiple namespaces - if the Operator is to monitor multiple namespaces it must have cluster wide roles to do this">複数のネームスペースのモニタリング - オペレータが複数のネームスペースをモニターする場合は、これを実行するためにクラスタ全体ロールが必要です</span></p>

</li>
</ul>
<p><span class="merged" id="all.3D4tP2" style='background-color:yellow' title="原文 : Assuming that all the above reductions in features are acceptable then the Operator can be installed without creating cluster roles.">前述の機能の削減がすべて許容できるとすると、クラスタ・ロールを作成せずにオペレータをインストールできます。</span></p>

</div>

<h2 id="_install_the_operator_without_clusterroles"><span class="merged" id="all.Sj9Z2" style='background-color:yellow' title="原文 : Install the Operator Without ClusterRoles">ClusterRolesなしでオペレータをインストール</span></h2>
<div class="section">
<p><span class="merged" id="all.Xacl0" style='background-color:yellow' title="原文 : The two methods of installing the Operator discussed in the Install Guide can be used to install the Operator without ClusterRoles."><router-link to="/docs/installation/01_installation">「インストール・ガイド」</router-link>で説明したオペレータをインストールする2つのメソッドを使用して、ClusterRolesを使用せずにオペレータをインストールできます。</span></p>


<h3 id="_manually_install_crds"><span class="merged" id="all.1ZVh36" style='background-color:yellow' title="原文 : Manually Install CRDs">CRDを手動でインストール</span></h3>
<div class="section">
<div class="admonition important">
<p class="admonition-textlabel"><span class="merged" id="all.1K6f2p.1"  title="原文:: Important">重要</span></p>
<p ><p><span class="merged" id="all.2cA5Zk" style='background-color:yellow' title="原文 : Before installing the Operator, with either method described below, the CRDs MUST be manually installed from the Operator manifest files.">オペレータをインストールする前に、後述するいずれかのメソッドで、オペレータ・マニフェスト・ファイルからCRDを手動でインストールする必要があります。</span></p>

<p><span class="merged" id="all.ac4Ox" style='background-color:yellow' title="原文 : The manifest files are published with the GitHub release at this link: 3.3.5 Manifests">♪マニフェスト・ファイルは、このリンクでGitHubリリースとともに公開されます: <a href="https://github.com/oracle/coherence-operator/releases/download/v3.4.0/coherence-operator-manifests.tar.gz" id="" target="_blank" >3.3.5 マニフェスト</a></span></p>

<p><span class="merged" id="all.3wyRpn" style='background-color:yellow' title="原文 : You MUST ensure that the CRD manifests match the version of the Operator being installed.">CRDマニフェストがインストールされるオペレータのバージョンと一致していることを確認する必要があります。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2mPLTC" style='background-color:yellow' title="原文 : Download the manifests and unpack them.">マニフェストをダウンロードして開梱します。</span></p>

</li>
<li>
<p><span class="merged" id="all.2twk1x.spl1" style='background-color:yellow' title="原文 : In the directory that the .tar.gz file the was unpacked the crd/ directory will the Coherence CRD.">.tar.gzファイルが解凍されたディレクトリでは、<code>crd/</code>ディレクトリがCoherence CRDになります。</span> <span class="merged" id="all.2twk1x.spl2" style='background-color:yellow' title="原文 : The CRD can be installed with kubectl">CRDはkubectlでインストールできます</span> </p>

</li>
</ul>
<pre
lang="bash"

>kubectl create -f crd/coherence.oracle.com_coherence.yaml</pre>

<p><span class="merged" id="all.1VKZPs" style='background-color:yellow' title="原文 : To update an existing CRD install use the replace command:">既存のCRDインストールを更新するには、replaceコマンドを使用します:</span></p>

<pre
lang="bash"

>kubectl replace -f crd/coherence.oracle.com_coherence.yaml</pre>

<p><span class="merged" id="all.KdOtV" style='background-color:yellow' title="原文 : Installing the CRD Using kubectl apply"><strong><code>kubectl apply</code>を使用したCRDのインストール</strong></span></p>

<p><span class="merged" id="all.20KYoc.spl1" style='background-color:yellow' title="原文 : The default Coherence CRD cannot be installed using kubectl apply as it is larger than the 1MB limit imposed by Etcd.">デフォルトのCoherence CRDは、Etcdによって課される1MBの制限を超えているため、<code>kubectl apply</code>を使用してインストールできません。</span> <span class="merged" id="all.20KYoc.spl2" style='background-color:yellow' title="原文 : For customers who cannot use the kubectl create/replace combination, a smaller version of the CRD is available."><code>kubectl create/replace</code>の組合せを使用できない顧客の場合は、より小さいバージョンのCRDを使用できます。</span> <span class="merged" id="all.20KYoc.spl3" style='background-color:yellow' title="原文 : This small CRD has no description fields which makes is smaller to install, but less useful for validating the yaml in an IDE.">この小さいCRDには<code>description</code>フィールドがないため、インストールは小さくなりますが、IDEでのyamlの検証にはあまり役立ちません。</span> </p>

<p><span class="merged" id="all.2RWjME" style='background-color:yellow' title="原文 : The small CRD can be found in the coherence-operator-manifests.tar.gz file in the crd-small/ directory.">小さいCRDは、<code>crd-small/</code>ディレクトリのcoherence-operator-manifests.tar.gzファイルにあります。</span></p>

<pre
lang="bash"

>kubectl apply -f crd-small/coherence.oracle.com_coherence.yaml</pre>
</p>
</div>
</div>

<h3 id="_install_using_helm"><span class="merged" id="all.4g555R.2" style='background-color:yellow' title="原文 : Install Using Helm">Helmを使用したインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.1unTuj.spl1" style='background-color:yellow' title="原文 : The Operator can be installed from the Helm chart, as described in the Install Guide.">オペレータは、<router-link to="/docs/installation/01_installation">「インストール・ガイド」</router-link>の説明に従ってHelmチャートからインストールできます。</span> <span class="merged" id="all.1unTuj.spl2" style='background-color:yellow' title="原文 : The Helm chart contains values that control whether cluster roles are created when installing the chart.">Helmチャートには、チャートのインストール時にクラスタ・ロールを作成するかどうかを制御する値が含まれています。</span> <span class="merged" id="all.1unTuj.spl3" style='background-color:yellow' title="原文 : To install the chart without any cluster roles set the clusterRoles value to false.">クラスタ・ロールなしでチャートをインストールするには、<code>clusterRoles</code>値を<code>false</code>に設定します。</span> </p>

<pre
lang="bash"

>helm install  \
    --set clusterRoles=false       <span class="conum" data-value="1" />
    --namespace &lt;namespace&gt; \      <span class="conum" data-value="2" />
    coherence \
    coherence/coherence-operator</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4JGqen" style='background-color:yellow' title="原文 : The clusterRoles value is set to false."><code>clusterRoles</code>値はfalseに設定されます。</span></li>
<li data-value="2"><span class="merged" id="all.4Cl9vS" style='background-color:yellow' title="原文 : The &lt;namespace&gt; value is the namespace that the Coherence Operator will be installed into and without cluster roles will be the only namespace that the Operator monitors."><code>&lt;namespace></code>値は、Coherence Operatorがクラスタ・ロールとともにインストールされるネームスペースで、クラスタ・ロールなしでインストールされるネームスペースです。このネームスペースは、オペレータがモニターする<em>「のみの」</em>ネームスペースです。</span></li>
</ul>

<h4 id="_allow_node_lookup"><span class="merged" id="all.15qTzC" style='background-color:yellow' title="原文 : Allow Node Lookup">ノード・ルックアップの許可</span></h4>
<div class="section">
<p><span class="merged" id="all.2LlMOl.spl1" style='background-color:yellow' title="原文 : The Helm chart allows the Operator to be installed with a single ClusterRole allowing it to read k8s Node information.">Helmチャートを使用すると、オペレータを単一の<code>ClusterRole</code>とともにインストールでき、k8s <code>Node</code>情報を読み取ることができます。</span> <span class="merged" id="all.2LlMOl.spl2" style='background-color:yellow' title="原文 : This is used to provide site, and rack labels, for Coherence cluster members.">これは、Coherenceクラスタ・メンバー用のサイトおよびラック・ラベルを提供するために使用されます。</span> <span class="merged" id="all.2LlMOl.spl3" style='background-color:yellow' title="原文 : In environments where Kubernetes administrators are happy to allow the Operator read-only access to Node information the nodeRoles value can be set to true.">Kubernetes管理者が<code>Node</code>情報へのオペレータの読取り専用アクセスを許可する環境では、<code>nodeRoles</code>値を<code>true</code>に設定できます。</span> </p>

<pre
lang="bash"

>helm install  \
    --set clusterRoles=false       <span class="conum" data-value="1" />
    --set nodeRoles=true           <span class="conum" data-value="2" />
    --namespace &lt;namespace&gt; \
    coherence \
    coherence/coherence-operator</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2s8QB" style='background-color:yellow' title="原文 : The clusterRoles value is set to false."><code>clusterRoles</code>値は<code>false</code>に設定されます。</span></li>
<li data-value="2"><span class="merged" id="all.Xi4ln" style='background-color:yellow' title="原文 : The nodeRoles value is set to true, so a single ClusterRole will be applied to the Operator’s service account"><code>nodeRoles</code>値は<code>true</code>に設定されているため、1つのClusterRoleがオペレータのサービス・アカウントに適用されます</span></li>
</ul>
</div>
</div>

<h3 id="_install_using_kustomize"><span class="merged" id="all.42E3lU" style='background-color:yellow' title="原文 : Install Using Kustomize">Kustomizeを使ってインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.3s6uQw" style='background-color:yellow' title="原文 : The Operator can be installed using Kustomize with the manifest files, as described in the Install Guide.">オペレータは、<router-link to="/docs/installation/01_installation">「インストール・ガイド」</router-link>で説明されているように、マニフェスト・ファイルとともにKustomizeを使用してインストールできます。</span></p>


<h4 id="_exclude_the_clusterrole_manifests"><span class="merged" id="all.4QzR2a" style='background-color:yellow' title="原文 : Exclude the ClusterRole Manifests">ClusterRoleマニフェストを除外</span></h4>
<div class="section">
<p><span class="merged" id="all.357g24" style='background-color:yellow' title="原文 : To install without cluster roles, after unpacking the manifests .tar.gz edit the config/kustomization.yaml file to comment out the inclusion of the cluster role bindings.">クラスタ・ロールなしでインストールするには、マニフェスト<code>.tar.gz</code>を解凍した後、<code>config/kustomization.yaml</code>ファイルを編集して、クラスタ・ロール・バインディングの包含をコメント・アウトします。</span></p>

<p><span class="merged" id="all.6vDv5.6"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"
title="kustomization.yaml"
>resources:
- service_account.yaml
- role.yaml
- role_binding.yaml
#- node_viewer_role.yaml
#- node_viewer_role_binding.yaml
#- cluster_role.yaml
#- cluster_role_binding.yaml</pre>

</div>

<h4 id="_disable_web_hooks_and_crd_installation"><span class="merged" id="all.sMLry" style='background-color:yellow' title="原文 : Disable Web-Hooks and CRD Installation">WebフックおよびCRDインストールの無効化</span></h4>
<div class="section">
<p><span class="merged" id="all.3Sa9ud.spl1" style='background-color:yellow' title="原文 : The Operator would normally install validating and defaulting web-hooks as well as ensuring that the Coherence CRDs are installed.">オペレータは通常、検証およびデフォルトwebフックをインストールし、Coherence CRDがインストールされていることを確認します。</span> <span class="merged" id="all.3Sa9ud.spl2" style='background-color:yellow' title="原文 : Without cluster roles this must be disabled by editing the manager/manager.yaml file in the manifests.">クラスタ・ロールがない場合は、マニフェスト内の<code>manager/manager.yaml</code>ファイルを編集して無効にする必要があります。</span> </p>

<p><span class="merged" id="all.9PHjp" style='background-color:yellow' title="原文 : Edit the Operator container args section of the deployment yaml to add command line arguments to --enable-webhook=false to disable web-hook creation and --install-crd=false to disable CRD installation.">デプロイメントyamlのオペレータ・コンテナ<code>args</code>セクションを編集して、コマンドライン引数を<code>--enable-webhook=false</code>に追加し、webフックの作成を無効にし、<code>--install-crd=false</code>を使用してCRDのインストールを無効にします。</span></p>

<p><span class="merged" id="all.4Z0Nyk" style='background-color:yellow' title="原文 : For example, change the section of the manager/manager.yaml file that looks like this:">たとえば、次のような<code>manager/manager.yaml</code>ファイルのセクションを変更します:</span></p>

<pre
lang="yaml"
title="manager/manager.yaml"
>        command:
          - /files/runner
        args:
          - --enable-leader-election
        envFrom:</pre>

<p><span class="merged" id="all.I7IIy" style='background-color:yellow' title="原文 : to be:">対象:</span></p>

<pre
lang="yaml"
title="manager/manager.yaml"
>        command:
          - /files/runner
        args:
          - --enable-leader-election
          - --enable-webhook=false
          - --install-crd=false
        envFrom:</pre>

</div>

<h4 id="_edit_the_operator_clusterrole_clusterrolebinding"><span class="merged" id="all.2iMJuh" style='background-color:yellow' title="原文 : Edit the Operator ClusterRole &amp; ClusterRoleBinding">オペレータClusterRole &amp; ClusterRoleBindingの編集</span></h4>
<div class="section">
<p><span class="merged" id="all.2iS3e0.spl1" style='background-color:yellow' title="原文 : The Operator will require a role and role binding to work in a single namespace.">オペレータは、単一のネームスペースで機能するには、ロールおよびロール・バインディングが必要です。</span> <span class="merged" id="all.2iS3e0.spl2" style='background-color:yellow' title="原文 : Edit the config/role.yaml to change its type from ClusterRole to Role."><code>config/role.yaml</code>を編集して、そのタイプを<code>ClusterRole</code>から<code>Role</code>に変更します。</span> </p>

<p><span class="merged" id="all.3WWi6T"  title="原文:: For example, change:">たとえば、次のものを変更します:</span></p>

<pre
lang="yaml"
title="role.yaml"
>apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  creationTimestamp: null
  name: manager-role</pre>

<p><span class="merged" id="all.I7IIy.1" style='background-color:yellow' title="原文 : to be:">対象:</span></p>

<pre
lang="yaml"
title="role.yaml"
>apiVersion: rbac.authorization.k8s.io/v1
kind: Role  <span class="conum" data-value="1" />
metadata:
  creationTimestamp: null
  name: manager-role</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3wie8O" style='background-color:yellow' title="原文 : ClusterRole has been changed to Role"><code>ClusterRole</code>が<code>Role</code>に変更されました</span></li>
</ul>
<p><span class="merged" id="all.9rRwC" style='background-color:yellow' title="原文 : Edit the config/role_binding.yaml to change its type from ClusterRoleBinding to RoleBinding."><code>config/role_binding.yaml</code>を編集して、そのタイプを<code>ClusterRoleBinding</code>から<code>RoleBinding</code>に変更します。</span></p>

<p><span class="merged" id="all.TWEPk" style='background-color:yellow' title="原文 : For example change:">たとえば、次のように変更します:</span></p>

<pre
lang="yaml"
title="role_binding.yaml"
>apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: manager-rolebinding
  labels:
    control-plane: coherence
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: manager-role
subjects:
- kind: ServiceAccount
  name: coherence-operator
  namespace: default</pre>

<p><span class="merged" id="all.I7IIy.2" style='background-color:yellow' title="原文 : to be:">対象:</span></p>

<pre
lang="yaml"
title="role_binding.yaml"
>apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding  <span class="conum" data-value="1" />
metadata:
  name: manager-rolebinding
  labels:
    control-plane: coherence
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role <span class="conum" data-value="2" />
  name: manager-role
subjects:
- kind: ServiceAccount
  name: coherence-operator
  namespace: default</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2ZC8yj" style='background-color:yellow' title="原文 : The type has been changed from ClusterRoleBinding to RoleBinding">タイプが<code>ClusterRoleBinding</code>から<code>RoleBinding</code>に変更されました</span></li>
<li data-value="2"><span class="merged" id="all.230qry" style='background-color:yellow' title="原文 : The role being bound has been changed from ClusterRole to Role.">バインドされているロールが<code>ClusterRole</code>から<code>Role</code>に変更されました。</span></li>
</ul>
</div>

<h4 id="_allow_node_lookup_2"><span class="merged" id="all.15qTzC.1" style='background-color:yellow' title="原文 : Allow Node Lookup">ノード・ルックアップの許可</span></h4>
<div class="section">
<p><span class="merged" id="all.10x5oR" style='background-color:yellow' title="原文 : In environments where Kubernetes administrators are happy to allow the Operator read-only access to Node information, the required ClusterRole can be created by leaving the relevant lines uncommented in the config/kustomization.yaml file.">Kubernetes管理者が<code>Node</code>情報へのオペレータの読取り専用アクセスを満足できる環境では、関連する行を<code>config/kustomization.yaml</code>ファイルにコメント解除して、必要な<code>ClusterRole</code>を作成できます。</span></p>

<p><span class="merged" id="all.6vDv5.7"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"
title="kustomization.yaml"
>resources:
- service_account.yaml
- role.yaml
- role_binding.yaml
- node_viewer_role.yaml         <span class="conum" data-value="1" />
- node_viewer_role_binding.yaml
#- cluster_role.yaml
#- cluster_role_binding.yaml</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2v42vF" style='background-color:yellow' title="原文 : The node_viewer_role.yaml and node_viewer_role_binding.yaml will now be left in the installation."><code>node_viewer_role.yaml</code>および<code>node_viewer_role_binding.yaml</code>がインストールに残ります。</span></li>
</ul>
</div>
</div>
</div>
</doc-view>
<!-- pages/docs/jvm/010_overview.js -->
<doc-view>

<h2 id="_overview"><span class="merged" id="all.YrpRV.2"  title="原文:: Overview">概要</span></h2>
<div class="section">
<p><span class="merged" id="all.3z6I4H.spl1" style='background-color:yellow' title="原文 : The Coherence Operator allows full control over the configuration of the JVM used to run the Coherence application.">Coherence Operatorでは、Coherenceアプリケーションの実行に使用されるJVMの構成を完全に制御できます。</span> <span class="merged" id="all.3z6I4H.spl2" style='background-color:yellow' title="原文 : The jvm section of the Coherence CRD spec has a number of fields to easily configure specific aspects of the JVM as well as a catch-all jvm.args list that allows any arbitrary argument to be passed to the JVM."><code>Coherence</code> CRD仕様の<code>jvm</code>セクションには、JVMの特定の側面を簡単に構成できるフィールドと、任意の引数をJVMに渡すことができるcatch-all <code>jvm.args</code>リストがあります。</span> </p>

<p><span class="merged" id="all.20X3jq.spl1" style='background-color:yellow' title="原文 : Whilst every configuration setting could, in theory, be set only by specifying JVM arguments in the jvm.args field of the Coherence CRD, the other configuration fields provide simpler means to set configuration without having to remember specific JVM argument names or system property names to set."><code>Coherence</code> CRDの<code>jvm.args</code>フィールドにJVM引数を指定することによってのみ、すべての構成設定を設定できますが、その他の構成フィールドは、設定する特定のJVM引数名またはシステム・プロパティ名を覚えることなく、構成を設定するより簡単な手段を提供します。</span> <span class="merged" id="all.20X3jq.spl2" style='background-color:yellow' title="原文 : You are, of course, free to use whichever approach best suits your requirements; but obviously it is better to choose one approach and be consistent.">もちろん、要件に最も適したアプローチは自由に使用できます。しかし、明らかに、1つのアプローチを選択して一貫性を保つことをお薦めします。</span> </p>


<h3 id="_guides_to_jvm_settings"><span class="merged" id="all.4JfkFL" style='background-color:yellow' title="原文 : Guides to JVM Settings">JVM設定へのガイド</span></h3>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/jvm/020_classpath"><div class="card__link-hover"/>
<span class="merged" id="all.me1cT" style='background-color:yellow' title="原文 :  Classpath "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">クラスパス</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.ykx8d" style='background-color:yellow' title="原文 : Default classpath settings and options for setting a custom classpath.">カスタム・クラスパスを設定するためのデフォルトのクラスパス設定およびオプション。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/jvm/030_jvm_args"><div class="card__link-hover"/>
<span class="merged" id="all.3npLXR" style='background-color:yellow' title="原文 :  JVM Arguments "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">JVM引数</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.3idciC" style='background-color:yellow' title="原文 : Adding arbitrary JVM arguments and system properties.">任意のJVM引数およびシステム・プロパティの追加。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/jvm/040_gc"><div class="card__link-hover"/>
<span class="merged" id="all.3lnjUg" style='background-color:yellow' title="原文 :  Garbage Collection "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ガベージ・コレクション</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1f2t1f" style='background-color:yellow' title="原文 : Configuring the garbage collector.">ガベージ・コレクタの構成。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/jvm/050_memory"><div class="card__link-hover"/>
<span class="merged" id="all.3DxgrL" style='background-color:yellow' title="原文 :  Heap & Memory Settings "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ヒープとメモリーの設定</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.fbyWU" style='background-color:yellow' title="原文 : Configuring the heap size and other memory settings.">ヒープ・サイズおよびその他のメモリー設定の構成。</span></p>
</v-card-text> </v-card> </v-flex> </v-layout> </v-container> </v-flex> </v-layout> <v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/jvm/070_debugger"><div class="card__link-hover"/>
<span class="merged" id="all.IDvY7" style='background-color:yellow' title="原文 :  Debugger "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">デバッガ</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.4VSzwl" style='background-color:yellow' title="原文 : Using debugger settings.">デバッガ設定の使用。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/jvm/090_container_limits"><div class="card__link-hover"/>
<span class="merged" id="all.3Pf16O" style='background-color:yellow' title="原文 :  Use Container Limits "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">コンテナ制限の使用</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1ZDhB" style='background-color:yellow' title="原文 : Configuring the JVM to respect container resource limits.">コンテナ・リソース制限を考慮するようにJVMを構成します。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</div>
</doc-view>
<!-- pages/docs/jvm/020_classpath.js -->
<doc-view>

<h2 id="_set_the_classpath"><span class="merged" id="all.3SIT9A"  title="原文:: Set the Classpath">クラスパスの設定</span></h2>
<div class="section">
<p><span class="merged" id="all.3urvuD.spl1" style='background-color:yellow' title="原文 : The Coherence container in the Pods in a Coherence resource deployment runs a Java application and as such requires a classpath with at a minimum coherence.jar."><code>Coherence</code>リソース・デプロイメントの<code>Pods</code>のCoherenceコンテナではJavaアプリケーションが実行されるため、少なくとも<code>coherence.jar</code>を含むクラスパスが必要です。</span> <span class="merged" id="all.3urvuD.spl2" style='background-color:yellow' title="原文 : There are certain defaults that the Operator will use to work out the classpath to use but additional classpath elements can be provided to the configuration.">使用するクラスパスを処理するためにオペレータが使用する特定のデフォルトがありますが、追加のクラスパス要素を構成に指定できます。</span> </p>


<h3 id="_the_classpath_environment_variable"><span class="merged" id="all.15yb29" style='background-color:yellow' title="原文 : The CLASSPATH Environment Variable"><code>CLASSPATH</code>環境変数</span></h3>
<div class="section">
<p><span class="merged" id="all.1a3CR2" style='background-color:yellow' title="原文 : If the image to be run has the CLASSPATH environment variable set this will be used as part of the classpath.">実行するイメージに<code>CLASSPATH</code>環境変数が設定されている場合、これはクラスパスの一部として使用されます。</span></p>

</div>

<h3 id="_the_coherence_home_environment_variable"><span class="merged" id="all.1V9Z9n" style='background-color:yellow' title="原文 : The COHERENCE_HOME Environment Variable"><code>COHERENCE_HOME</code>環境変数</span></h3>
<div class="section">
<p><span class="merged" id="all.27EgHy" style='background-color:yellow' title="原文 : If the image to be run has the COHERENCE_HOME environment variable set this will be used to add the following elements to the classpath:">実行するイメージに<code>COHERENCE_HOME</code>環境変数が設定されている場合、これを使用して次の要素をクラスパスに追加します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1yIpOq.1"  title="原文: $COHERENCE_HOME/lib/coherence.jar"><code>$COHERENCE_HOME/lib/coherence.jar</code></span></p>

</li>
<li>
<p><span class="merged" id="all.3mPXR1.1"  title="原文: $COHERENCE_HOME/conf"><code>$COHERENCE_HOME/conf</code></span></p>

</li>
</ul>
<p><span class="merged" id="all.1zTWUE.spl1" style='background-color:yellow' title="原文 : These will be added to the end of the classpath.">これらはクラスパスの最後に追加されます。</span> <span class="merged" id="all.1zTWUE.spl2" style='background-color:yellow' title="原文 : For example in an image that has CLASSPATH=/home/root/lib/* and COHERENCE_HOME set to /oracle/coherence the effective classpath used will be:">たとえば、<code>CLASSPATH=/home/root/lib/*</code>および<code>COHERENCE_HOME</code>が<code>/oracle/coherence</code>に設定されているイメージでは、使用される有効なクラスパスは次のようになります:</span> </p>

<pre>/home/root/lib/*:/oracle/coherence/lib/coherence.jar:/oracle/coherence/conf</pre>
</div>

<h3 id="_jib_image_classpath"><span class="merged" id="all.4tS1i" style='background-color:yellow' title="原文 : JIB Image Classpath">JIBイメージ・クラスパス</span></h3>
<div class="section">
<p><span class="merged" id="all.2PDwuP.spl1" style='background-color:yellow' title="原文 : A simple way to build Java images is using JIB.">Javaイメージを作成する簡単な方法は、<a href="https://github.com/GoogleContainerTools/jib/blob/master/README.md" id="" target="_blank" >JIB</a>を使用することです。</span> <span class="merged" id="all.2PDwuP.spl2" style='background-color:yellow' title="原文 : When JIB was with its Maven or Gradle plugin to produce an image it packages the application’s dependencies, classes and resources into a set of well-known locations:">JIBがMavenまたはGradleプラグインとともにイメージを生成すると、アプリケーションの依存関係、クラスおよびリソースが既知のロケーションのセットにパッケージ化されます:</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1VXxSi" style='background-color:yellow' title="原文 : /app/libs/ - the jar files that the application depends on"><code>/app/libs/</code> - アプリケーションが依存するjarファイル</span></p>

</li>
<li>
<p><span class="merged" id="all.2JjETY" style='background-color:yellow' title="原文 : /app/classes - the application’s class files"><code>/app/classes</code> - アプリケーション・クラス・ファイル</span></p>

</li>
<li>
<p><span class="merged" id="all.2BF5Zd" style='background-color:yellow' title="原文 : /app/resources - the application’s other resources"><code>/app/resources</code> - アプリケーションその他のリソース</span></p>

</li>
</ul>
<p><span class="merged" id="all.4ZpaOi.spl1" style='background-color:yellow' title="原文 : By default, the Operator will add these locations to the classpath.">デフォルトでは、オペレータはこれらのロケーションをクラスパスに追加します。</span> <span class="merged" id="all.4ZpaOi.spl2" style='background-color:yellow' title="原文 : These classpath elements will be added before any value set by the CLASSPATH or COHERENCE_HOME environment variables.">これらのクラスパス要素は、<code>CLASSPATH</code>または<code>COHERENCE_HOME</code>環境変数で設定された値の前に追加されます。</span> </p>

<p><span class="merged" id="all.2ip9xf" style='background-color:yellow' title="原文 : For example in an image that has CLASSPATH=/home/root/lib/\* and COHERENCE_HOME set to /oracle/coherence the effective classpath used will be:">たとえば、<code>CLASSPATH=/home/root/lib/\*</code>および<code>COHERENCE_HOME</code>が<code>/oracle/coherence</code>に設定されているイメージでは、使用される有効なクラスパスは次のようになります:</span></p>

<pre>/app/libs/*:/app/classes:/app/resources:/home/root/lib/*:/oracle/coherence/lib/coherence.jar:/oracle/coherence/conf</pre>

<h4 id="_exclude_the_jib_classpath"><span class="merged" id="all.17NT2M" style='background-color:yellow' title="原文 : Exclude the JIB Classpath">JIBクラスパスの除外</span></h4>
<div class="section">
<p><span class="merged" id="all.41MpOa.spl1" style='background-color:yellow' title="原文 : If the image is not a JIB image there could be occasions when automatically adding /app/libs/*:/app/classes:/app/resources to the classpath causes issues, for example one or more of those locations exists with files in that should not be on the classpath.">イメージがJIBイメージではない場合、<code>/app/libs/*:/app/classes:/app/resources</code>をクラスパスに自動的に追加すると問題が発生する可能性があります。たとえば、それらのロケーションのうち1つ以上がクラスパスに存在しないファイルに存在します。</span> <span class="merged" id="all.41MpOa.spl2" style='background-color:yellow' title="原文 : In this case the Coherence CRD spec has a field to specify that the JIB classpath should not be used.">この場合、<code>Coherence</code> CRD仕様には、JIBクラスパスを使用しないように指定するフィールドがあります。</span> </p>

<p><span class="merged" id="all.24BHNi" style='background-color:yellow' title="原文 : The spec.jvm.useJibClasspath field can be set to false to exclude the JIB directories from the classpath (the default value is true)."><code>spec.jvm.useJibClasspath</code>フィールドを<code>false</code>に設定して、JIBディレクトリをクラスパスから除外できます(デフォルト値は<code>true</code>です)。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    useJibClasspath: false  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4U1JGw.spl1" style='background-color:yellow' title="原文 : The useJibClasspath is set to false."><code>useJibClasspath</code>は<code>false</code>に設定されます。</span> <span class="merged" id="all.4U1JGw.spl2" style='background-color:yellow' title="原文 : Even if any of the /app/resources, /app/classes or /app/libs/ directories exist in the image they will not be added to the classpath."><code>/app/resources</code>、<code>/app/classes</code>または<code>/app/libs/</code>ディレクトリのいずれかがイメージに存在する場合でも、それらはクラスパスに追加されません。</span> </li>
</ul>
</div>
</div>

<h3 id="_additional_classpath_elements"><span class="merged" id="all.1JFvPu" style='background-color:yellow' title="原文 : Additional Classpath Elements">その他のクラスパス要素</span></h3>
<div class="section">
<p><span class="merged" id="all.1AefZS.spl1" style='background-color:yellow' title="原文 : If an image will be used that has artifacts in locations other than the defaults discussed above then it is possible to specify additional elements to be added to the classpath.">前述のデフォルト以外のロケーションにアーティファクトを含むイメージを使用する場合は、クラスパスに追加する追加要素を指定できます。</span> <span class="merged" id="all.1AefZS.spl2" style='background-color:yellow' title="原文 : The jvm.classpath field in the Coherence CRD spec allows a list of extra classpath values to be provided."><code>Coherence</code> CRD仕様の<code>jvm.classpath</code>フィールドを使用すると、追加のクラスパス値のリストを指定できます。</span> <span class="merged" id="all.1AefZS.spl3" style='background-color:yellow' title="原文 : These elements will be added after the JIB classpath described above.">これらの要素は、前述のJIBクラスパスの<em>「後に」</em>追加されます。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    classpath:          <span class="conum" data-value="1" />
      - "/data/lib/*"
      - "/data/config"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1FxRUC.spl1" style='background-color:yellow' title="原文 : The classpath field adds /data/lib/* and /data/config to the classpath."><code>classpath</code>フィールドは、クラスパスに<code>/data/lib/*</code>および<code>/data/config</code>を追加します。</span> <span class="merged" id="all.1FxRUC.spl2" style='background-color:yellow' title="原文 : In an image without the CLASSPATH or COHERENCE_HOME environment variables the effective classpath would be:"><code>CLASSPATH</code>または<code>COHERENCE_HOME</code>環境変数がないイメージでは、有効なクラスパスは次のようになります:</span> </li>
</ul>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.188Brm.spl1" style='background-color:yellow' title="原文 : There is no validation of the elements of the classpath.">クラスパスの要素のバリデーションはありません。</span> <span class="merged" id="all.188Brm.spl2" style='background-color:yellow' title="原文 : The elements will not be verified to ensure that the locations exist.">エレメントは、ロケーションが存在することを確認しません。</span> <span class="merged" id="all.188Brm.spl3" style='background-color:yellow' title="原文 : As long as they are valid values to be used in a JVM classpath they will be accepted.">JVMクラスパスで使用される有効な値であるかぎり、それらは受け入れられます。</span> </p>
</div>
</div>
</div>

<h2 id="_environment_variable_expansion"><span class="merged" id="all.vMSX8.1" style='background-color:yellow' title="原文 : Environment Variable Expansion">環境変数の拡張</span></h2>
<div class="section">
<p><span class="merged" id="all.3R3W68.spl1" style='background-color:yellow' title="原文 : The Operator supports environment variable expansion in classpath entries.">オペレータは、クラスパス・エントリでの環境変数拡張をサポートします。</span> <span class="merged" id="all.3R3W68.spl2" style='background-color:yellow' title="原文 : The runner in the Coherence container will replace ${var} or $var in classpath entries with the corresponding environment variable name.">Coherenceコンテナ内のランナーは、クラスパス・エントリの<code>${var}</code>または<code>$var</code>を、対応する環境変数名に置き換えます。</span> </p>

<p><span class="merged" id="all.1VCwQ4" style='background-color:yellow' title="原文 : For example if a container has an environment variable of APP_HOME set to /myapp then it could be used in the classpath like this:">たとえば、コンテナの環境変数<code>APP_HOME</code>が<code>/myapp</code>に設定されている場合、次のようにクラスパスで使用できます:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    classpath:
      - "${APP_HOME}/lib/*"  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1eFLqp" style='background-color:yellow' title="原文 : The actual classpath entry at runtime will resolve to /myapp/lib/*">実行時の実際のクラスパス・エントリは、<code>/myapp/lib/*</code>に解決されます</span></li>
</ul>
<p><span class="merged" id="all.yCF5D.1" style='background-color:yellow' title="原文 : Any environment variable that is present when the Coherence container starts can be used, this would include variables created as part of the image and variables specified in the Coherence yaml.">Coherenceコンテナの起動時に存在するすべての環境変数を使用できます。これには、イメージの一部として作成された変数およびCoherence yamlで指定された変数が含まれます。</span></p>

</div>
</doc-view>
<!-- pages/docs/jvm/030_jvm_args.js -->
<doc-view>

<h2 id="_adding_arbitrary_jvm_arguments"><span class="merged" id="all.4YQuLU" style='background-color:yellow' title="原文 : Adding Arbitrary JVM Arguments">任意のJVM引数の追加</span></h2>
<div class="section">
<p><span class="merged" id="all.3oglnm.spl1" style='background-color:yellow' title="原文 : The Coherence CRD allows any arbitrary JVM arguments to be passed to the JVM in the coherence container by using the jvm.args field of the CRD spec."><code>Coherence</code> CRDを使用すると、CRD仕様の<code>jvm.args</code>フィールドを使用して、任意のJVM引数を<code>coherence</code>コンテナのJVMに渡すことができます。</span> <span class="merged" id="all.3oglnm.spl2" style='background-color:yellow' title="原文 : Any valid system property or JVM argument can be added to the jvm.args list.">有効なシステム・プロパティまたはJVM引数を<code>jvm.args</code>リストに追加できます。</span> </p>

<p><span class="merged" id="all.6vDv5.8"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    args:
      - "-Dcoherence.pof.config=storage-pof-config.xml"
      - "-Dcoherence.tracing.ratio=0.1"
      - "-agentpath:/yourkit/bin/linux-x86-64/libyjpagent.so"</pre>

<p><span class="merged" id="all.1iP0hM" style='background-color:yellow' title="原文 : In this example the args list adds two System properties coherence.pof.config=storage-pof-config.xml and coherence.tracing.ratio=0.1 and also adds the YourKit profiling agent.">この例では、<code>args</code>リストによって、2つのシステム・プロパティ<code>coherence.pof.config=storage-pof-config.xml</code>および<code>coherence.tracing.ratio=0.1</code>が追加され、YourKitプロファイリング・エージェントも追加されます。</span></p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.27EZlm.spl1" style='background-color:yellow' title="原文 : When the Operator builds the command line to use when starting Coherence Pods, any arguments added to the jvm.args field will be added after all the arguments added by the Operator from other configuration fields.">オペレータがCoherenceポッドの起動時に使用するコマンドラインをビルドすると、<code>jvm.args</code>フィールドに追加されたすべての引数が、他の構成フィールドからオペレータによって追加されたすべての引数の後に追加されます。</span> <span class="merged" id="all.27EZlm.spl2" style='background-color:yellow' title="原文 : This means that arguments such as system properties added to jvm.args will override any added by the Operator.">つまり、<code>jvm.args</code>に追加されたシステム・プロパティなどの引数は、オペレータによって追加されたすべての引数をオーバーライドします。</span> </p>
</div>
<p><span class="merged" id="all.2x2VMf"  title="原文:: For example">たとえば</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    cacheConfig: storage-config.xml                   <span class="conum" data-value="1" />
  jvm:
    args:
      - "-Dcoherence.cache.config=test-config.xml"    <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4fpIhE" style='background-color:yellow' title="原文 : Setting the coherence.cacheConfig field will make the operator add -Dcoherence.cache.config=storage-config.xml to the command line."><code>coherence.cacheConfig</code>フィールドを設定すると、オペレータによってコマンドラインに<code>-Dcoherence.cache.config=storage-config.xml</code>が追加されます。</span></li>
<li data-value="2"><span class="merged" id="all.3KVYku" style='background-color:yellow' title="原文 : Adding -Dcoherence.cache.config=test-config.xml to the jvm.args field will make the Operator add -Dcoherence.cache.config=test-config.xml to the end of the JVM arguments in the command line."><code>-Dcoherence.cache.config=test-config.xml</code>を<code>jvm.args</code>フィールドに追加すると、オペレータはコマンドラインでJVM引数の末尾に<code>-Dcoherence.cache.config=test-config.xml</code>を追加します。</span></li>
</ul>
<p><span class="merged" id="all.29pEbJ" style='background-color:yellow' title="原文 : When duplicate system properties are present on a command line, the last one wins so in the example above the cache configuration used would be test-config.xml.">コマンド行に重複するシステム・プロパティが存在する場合、前述の例では<code>test-config.xml</code>になります。</span></p>


<h3 id="_default_arguments"><span class="merged" id="all.3XrY0r"  title="原文:: Default Arguments">デフォルト引数</span></h3>
<div class="section">
<p><span class="merged" id="all.32haJy" style='background-color:yellow' title="原文 : The Coherence Operator will add the following JVM arguments by default:">Coherence Operatorは、デフォルトで次のJVM引数を追加します:</span></p>

<pre


>-Dcoherence.cluster=&lt;cluster-name&gt;
-Dcoherence.role=&lt;role&gt;
-Dcoherence.wka=&lt;deployment-name&gt;-wka.svc
-Dcoherence.cacheconfig=coherence-cache-config.xml
-Dcoherence.k8s.operator.health.port=6676
-Dcoherence.management.http.port=30000
-Dcoherence.metrics.http.port=9612
-Dcoherence.distributed.persistence-mode=on-demand
-Dcoherence.override=k8s-coherence-override.xml
-Dcoherence.ttl=0

-XX:+UseG1GC
-XX:+PrintCommandLineFlags
-XX:+PrintFlagsFinal
-XshowSettings:all
-XX:+UseContainerSupport
-XX:+HeapDumpOnOutOfMemoryError
-XX:+ExitOnOutOfMemoryError
-XX:HeapDumpPath=/jvm/&lt;member&gt;/&lt;pod-uid&gt;/heap-dumps/&lt;member&gt;-&lt;pod-uid&gt;.hprof
-XX:ErrorFile=/jvm/&lt;member&gt;/&lt;pod-uid&gt;/hs-err-&lt;member&gt;-&lt;pod-uid&gt;.log
-XX:+UnlockDiagnosticVMOptions
-XX:NativeMemoryTracking=summary
-XX:+PrintNMTStatistics</pre>

<p><span class="merged" id="all.1bOzPP" style='background-color:yellow' title="原文 : Some arguments and system properties above can be overridden or changed by setting values in the Coherence CDR spec.">前述の引数およびシステム・プロパティの中には、<code>Coherence</code> CDR仕様の値を設定することによってオーバーライドまたは変更できるものがあります。</span></p>

</div>
</div>

<h2 id="_environment_variable_expansion"><span class="merged" id="all.vMSX8.2" style='background-color:yellow' title="原文 : Environment Variable Expansion">環境変数の拡張</span></h2>
<div class="section">
<p><span class="merged" id="all.2soGKn.spl1" style='background-color:yellow' title="原文 : The Operator supports environment variable expansion in JVM arguments.">オペレータは、JVM引数の環境変数拡張をサポートします。</span> <span class="merged" id="all.2soGKn.spl2" style='background-color:yellow' title="原文 : The runner in the Coherence container will replace ${var} or $var in the JVM arguments with the corresponding environment variable name.">Coherenceコンテナ内のランナーは、JVM引数の<code>${var}</code>または<code>$var</code>を、対応する環境変数名に置き換えます。</span> </p>

<p><span class="merged" id="all.465S8a" style='background-color:yellow' title="原文 : For example a JVM argument of &quot;-Dmy.host.name=${HOSTNAME}&quot; when run on a Pod with a host name of COH-1 will resolve to &quot;-Dmy.host.name=COH-1&quot;.">たとえば、ホスト名が<code>COH-1</code>のポッドで実行すると、<code>"-Dmy.host.name=${HOSTNAME}"</code>のJVM引数が<code>"-Dmy.host.name=COH-1"</code>に解決されます。</span></p>

<p><span class="merged" id="all.yCF5D.2" style='background-color:yellow' title="原文 : Any environment variable that is present when the Coherence container starts can be used, this would include variables created as part of the image and variables specified in the Coherence yaml.">Coherenceコンテナの起動時に存在するすべての環境変数を使用できます。これには、イメージの一部として作成された変数およびCoherence yamlで指定された変数が含まれます。</span></p>

</div>
</doc-view>
<!-- pages/docs/jvm/040_gc.js -->
<doc-view>

<h2 id="_garbage_collector_settings"><span class="merged" id="all.44Bi2x" style='background-color:yellow' title="原文 : Garbage Collector Settings">ガベージ・コレクタ設定</span></h2>
<div class="section">
<p><span class="merged" id="all.labfc.spl1" style='background-color:yellow' title="原文 : The Coherence CRD has fields in the jvm.gc section to allow certain garbage collection parameters to be set."><code>Coherence</code> CRDには、特定のガベージ・コレクション・パラメータを設定できるように、<code>jvm.gc</code>セクションのフィールドがあります。</span> <span class="merged" id="all.labfc.spl2" style='background-color:yellow' title="原文 : These include GC logging, setting the collector to use and arbitrary GC arguments.">これには、GCロギング、使用するコレクタの設定、任意のGC引数が含まれます。</span> </p>

<div class="admonition important">
<p class="admonition-textlabel"><span class="merged" id="all.1K6f2p.2"  title="原文:: Important">重要</span></p>
<p ><p><span class="merged" id="all.4YuR9O" style='background-color:yellow' title="原文 : If running Kubernetes on ARM processors and using Coherence images built on Java 8 for ARM, note that the G1 garbage collector in that version of Java on ARM is marked as experimental.">ARMプロセッサでKubernetesを実行し、Java 8 for ARMでビルドされたCoherenceイメージを使用する場合、ARM上のそのバージョンのJavaのG1ガベージ・コレクタは実験的としてマークされます。</span></p>

<p><span class="merged" id="all.2zwPk3.spl1" style='background-color:yellow' title="原文 : By default, the Operator configures the Coherence JVM to use G1.">デフォルトでは、オペレータはG1を使用するようにCoherence JVMを構成します。</span> <span class="merged" id="all.2zwPk3.spl2" style='background-color:yellow' title="原文 : This will cause errors on Arm64 Java 8 JMS unless the JVM option -XX:+UnlockExperimentalVMOptions is added in the Coherence resource spec.">これにより、JVMオプション<code>-XX:+UnlockExperimentalVMOptions</code>がCoherenceリソース仕様に追加されないかぎり、Arm64 Java 8 JMSにエラーが発生します。</span> <span class="merged" id="all.2zwPk3.spl3" style='background-color:yellow' title="原文 : Alternatively specify a different garbage collector, ideally on a version of Java this old, use CMS.">または、この古いバージョンのJavaで別のガベージ・コレクタを指定する場合は、CMSを使用します。</span> </p>
</p>
</div>

<h3 id="_enable_gc_logging"><span class="merged" id="all.3MlOED" style='background-color:yellow' title="原文 : Enable GC Logging">GCロギングの有効化</span></h3>
<div class="section">
<p><span class="merged" id="all.2XOnk7.spl1" style='background-color:yellow' title="原文 : To enable GC logging set the jvm.gc.logging field to true.">GCロギングを有効にするには、<code>jvm.gc.logging</code>フィールドを<code>true</code>に設定します。</span> <span class="merged" id="all.2XOnk7.spl2"  title="原文:: For example:">例えば:</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    gc:
      logging: true</pre>

<p><span class="merged" id="all.4QiHGC" style='background-color:yellow' title="原文 : Setting the field to true adds the following JVM arguments to the JVM in the coherence container:">フィールドをtrueに設定すると、<code>coherence</code>コンテナ内のJVMに次のJVM引数が追加されます:</span></p>

<div class="listing">
<pre>-verbose:gc
-XX:+PrintGCDetails
-XX:+PrintGCTimeStamps
-XX:+PrintHeapAtGC
-XX:+PrintTenuringDistribution
-XX:+PrintGCApplicationStoppedTime
-XX:+PrintGCApplicationConcurrentTime</pre>
</div>

<p><span class="merged" id="all.N7jHg" style='background-color:yellow' title="原文 : If different GC logging arguments are required then the relevant JVM arguments can be added to either the jvm.args field or the jvm.gc.args field.">異なるGCロギング引数が必要な場合は、関連するJVM引数を<code>jvm.args</code>フィールドまたは<code>jvm.gc.args</code>フィールドに追加できます。</span></p>

</div>

<h3 id="_set_the_garbage_collector"><span class="merged" id="all.1pGagy" style='background-color:yellow' title="原文 : Set the Garbage Collector">ガベージ・コレクタの設定</span></h3>
<div class="section">
<p><span class="merged" id="all.3nXbHf.spl1" style='background-color:yellow' title="原文 : The garbage collector to use can be set using the jvm.gc.collector field.">使用するガベージ・コレクタは、<code>jvm.gc.collector</code>フィールドを使用して設定できます。</span> <span class="merged" id="all.3nXbHf.spl2" style='background-color:yellow' title="原文 : This field can be set to either G1, CMS or Parallel (the field is case-insensitive, invalid values will be silently ignored).">このフィールドは、<code>G1</code>、<code>CMS</code>または<code>Parallel</code>のいずれかに設定できます(フィールドでは大文字と小文字が区別されず、無効な値は暗黙的に無視されます)。</span> <span class="merged" id="all.3nXbHf.spl3" style='background-color:yellow' title="原文 : The default collector set, if none has been specified, will be G1.">デフォルト・コレクタ・セットは、何も指定されていない場合、<code>G1</code>になります。</span> </p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.35CVhz"  title="原文:: Parameter">パラメータ</span></td>
<td class=""><span class="merged" id="all.2AIuAZ" style='background-color:yellow' title="原文 : JVM Argument Set">JVM引数セット</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3PJKMS"  title="原文: G1"><code>G1</code></span></td>
<td class=""><span class="merged" id="all.2pUuyu"  title="原文: -XX:+UseG1GC"><code>-XX:+UseG1GC</code></span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4bfWZ"  title="原文: CMS"><code>CMS</code></span></td>
<td class=""><span class="merged" id="all.3xE9Mc"  title="原文: -XX:+UseConcMarkSweepGC"><code>-XX:+UseConcMarkSweepGC</code></span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4cQruq"  title="原文: Parallel"><code>Parallel</code></span></td>
<td class=""><span class="merged" id="all.4r7vY"  title="原文: -XX:+UseParallelGC"><code>-XX:+UseParallelGC</code></span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.6vDv5.9"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    gc:
      collector: "G1"</pre>

<p><span class="merged" id="all.2t2vAb" style='background-color:yellow' title="原文 : The example above will add -XX:+UseG1GC to the command line.">前述の例では、コマンドラインに<code>-XX:+UseG1GC</code>を追加します。</span></p>

</div>

<h3 id="_adding_arbitrary_gc_args"><span class="merged" id="all.4MXs9C" style='background-color:yellow' title="原文 : Adding Arbitrary GC Args">任意のGC引数の追加</span></h3>
<div class="section">
<p><span class="merged" id="all.4MXJ7R.spl1" style='background-color:yellow' title="原文 : Any arbitrary GC argument can be added to the jvm.gc.args field.">任意のGC引数を<code>jvm.gc.args</code>フィールドに追加できます。</span> <span class="merged" id="all.4MXJ7R.spl2" style='background-color:yellow' title="原文 : These arguments will be passed verbatim to the JVM command line.">これらの引数は、JVMコマンドラインにそのまま渡されます。</span> </p>

<p><span class="merged" id="all.6vDv5.10"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    gc:
      args:
        - "-XX:MaxGCPauseMillis=200"</pre>

<p><span class="merged" id="all.3Z0p4L" style='background-color:yellow' title="原文 : In the example above the -XX:MaxGCPauseMillis=200 JVM argument will be added to the command line.">前述の例では、<code>-XX:MaxGCPauseMillis=200</code> JVM引数がコマンドラインに追加されます。</span></p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.AsqKG.spl1" style='background-color:yellow' title="原文 : The jvm.gc.args field will add the provided arguments to the end of the command line exactly as they are in the args list."><code>jvm.gc.args</code>フィールドでは、引数リストにある引数とまったく同じように、指定された引数がコマンドラインの最後に追加されます。</span> <span class="merged" id="all.AsqKG.spl2" style='background-color:yellow' title="原文 : This field provides the same functionality as JVM Args but sometimes it might be useful to be able to separate the two gorups of arguments in the CRD spec.">このフィールドは、<router-link @click.native="this.scrollFix('#jvm/030_jvm_args.adoc')" to="#jvm/030_jvm_args.adoc">「JVM引数」</router-link>と同じ機能を提供しますが、CRD仕様の2つの引数を分離できると便利な場合があります。</span> </p>
</div>
</div>
</div>
</doc-view>
<!-- pages/docs/jvm/050_memory.js -->
<doc-view>

<h2 id="_heap_memory_settings"><span class="merged" id="all.4AYjY9" style='background-color:yellow' title="原文 : Heap &amp; Memory Settings">ヒープ&amp;メモリー設定</span></h2>
<div class="section">
<p><span class="merged" id="all.189xsW.spl1" style='background-color:yellow' title="原文 : The JVM has a number of arguments that set the sizes of different memory regions; the most commonly set is the heap size but there are a number of others.">JVMには様々なメモリー・リージョンのサイズを設定する多数の引数があります。最も一般的にはヒープ・サイズですが、他にも数多くあります。</span> <span class="merged" id="all.189xsW.spl2" style='background-color:yellow' title="原文 : The Coherence CRD spec has fields that allow some of these to sizes to be set."><code>Coherence</code> CRD仕様には、これらのいくつかのサイズを設定できるフィールドがあります。</span> </p>

<p><span class="merged" id="all.3QI5xO.spl1" style='background-color:yellow' title="原文 : The Coherence CRD also has settings to control the behaviour of the JVM if an out of memory error occurs."><code>Coherence</code> CRDには、メモリー不足エラーが発生した場合にJVMの動作を制御する設定もあります。</span> <span class="merged" id="all.3QI5xO.spl2" style='background-color:yellow' title="原文 : For example, killing the container, creating a heap dump etc.">たとえば、コンテナの強制終了、ヒープ・ダンプなどの作成などです。</span> </p>


<h3 id="_max_ram"><span class="merged" id="all.2ryOsR" style='background-color:yellow' title="原文 : Max RAM">最大RAM</span></h3>
<div class="section">
<p><span class="merged" id="all.1v9KYJ" style='background-color:yellow' title="原文 : The JVM has an option -XX:MaxRAM=N the maximum amount of memory used by the JVM to n, where n is expressed in terms of megabytes (for example, 100m) or gigabytes (for example 2g).">JVMには、オプション<code>-XX:MaxRAM=N</code>があり、JVMに使用されるメモリーの最大量が<code>n</code>になります。<code>n</code>は、メガバイト(たとえば、<code>100m</code>)またはギガバイト(たとえば、<code>2g</code>)の用語で表現されます。</span></p>

<p><span class="merged" id="all.1HKHG" style='background-color:yellow' title="原文 : When using resource limited containers it is useful to set the max RAM option to avoid the JVM exceeding the container limits.">リソース制限コンテナを使用する場合、JVMがコンテナ制限を超えないように最大RAMオプションを設定しておくと便利です。</span></p>

<p><span class="merged" id="all.2s10xd" style='background-color:yellow' title="原文 : The Coherence CRD allows the max RAM option to be set using the jvm.memory.maxRAM field, for example:"><code>Coherence</code> CRDでは、<code>jvm.memory.maxRAM</code>フィールドを使用して最大RAMオプションを設定できます。次に例を示します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    memory:
      maxRAM: 10g</pre>

</div>

<h3 id="_heap_size_as_a_percentage_of_container_memory"><span class="merged" id="all.DGpYR" style='background-color:yellow' title="原文 : Heap Size as a Percentage of Container Memory">コンテナ・メモリーの割合としてのヒープ・サイズ</span></h3>
<div class="section">
<p><span class="merged" id="all.2eK64I.spl1" style='background-color:yellow' title="原文 : There are three JVM options that can be used to control the JVM heap as a percentage of the available memory.">JVMヒープを使用可能なメモリーの割合として制御するために使用できる3つのJVMオプションがあります。</span> <span class="merged" id="all.2eK64I.spl2" style='background-color:yellow' title="原文 : These options can be useful when controlling memory as a percentage of container memory in combination with resource limits on containers.">これらのオプションは、コンテナのリソース制限と組み合せて、メモリーをコンテナ・メモリーの割合として制御する場合に役立ちます。</span> </p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.4aWXsE"  title="原文:: JVM Option">JVMオプション</span></th>
<th><span class="merged" id="all.4JM9z7.41"  title="原文:: Description">説明</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.2xctqM"  title="原文: -XX:InitialRAMPercentage=N"><code>-XX:InitialRAMPercentage=N</code></span></td>
<td class=""><span class="merged" id="all.K1LBD.spl1" style='background-color:yellow' title="原文 : Sets the initial amount of memory that the JVM will use for the Java heap before applying ergonomics heuristics as a percentage of the maximum amount determined as described in the -XX:MaxRAM option.">-XX:MaxRAMオプションの説明に従って、エルゴノミクス・ヒューリスティックを最大量のパーセンテージとして適用する前に、JVMがJavaヒープに使用する初期メモリー量を設定します。</span> <span class="merged" id="all.K1LBD.spl2"  title="原文: The default value is 1.5625 percent.">デフォルト値は1.5625%です。</span> </td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3nnCkS"  title="原文: &apos;-XX:MaxRAMPercentage=N&apos;">'-XX:MaxRAMPercentage=N'</span></td>
<td class=""><span class="merged" id="all.poywI.spl1"  title="原文: Sets the maximum amount of memory that the JVM may use for the Java heap before applying ergonomics heuristics as a percentage of the maximum amount determined as described in the -XX:MaxRAM option."><code>-XX:MaxRAM</code>オプションで説明されているとおり、人間工学に基づくヒューリスティックを最大量の割合として適用する前に、JVMがJavaヒープに使用できるメモリーの最大量を設定します。</span> <span class="merged" id="all.poywI.spl2"  title="原文: The default value is 25 percent.">デフォルト値は25%です。</span> </td><td class=""><span class="merged" id="all.1lMv2x"  title="原文: Specifying this option disables automatic use of compressed oops if the combined result of this and other options influencing the maximum amount of memory is larger than the range of memory addressable by compressed oops.">このオプションを指定すると、このオプションと、メモリーの最大量に影響する他のオプションを組み合せた結果が、圧縮oopsでアドレス指定されたメモリーの範囲よりも大きい場合に、圧縮oopsの自動使用が無効になります。</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1ul6iv"  title="原文: &apos;-XX:MinRAMPercentage=N&apos;">'-XX:MinRAMPercentage=N'</span></td>
<td class=""><span class="merged" id="all.4j8Hz.spl1" style='background-color:yellow' title="原文 : Sets the maximum amount of memory that the JVM may use for the Java heap before applying ergonomics heuristics as a percentage of the maximum amount determined as described in the -XX:MaxRAM option for small heaps.">小さいヒープの -XX:MaxRAMオプションで説明されているように、人間工学のヒューリスティックを適用する前に、JVMがJavaヒープに対して使用できるメモリーの最大量を設定します。</span> <span class="merged" id="all.4j8Hz.spl2"  title="原文: A small heap is a heap of approximately 125 MB.">小さいヒープは、約125 MBのヒープです。</span> <span class="merged" id="all.4j8Hz.spl3"  title="原文: The default value is 50 percent.">デフォルト値は50%です。</span> </td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.2AzHbt.spl1" style='background-color:yellow' title="原文 : Where N is a decimal value between 0 and 100.">ここで、<code>N</code>は0から100までの10進値です。</span> <span class="merged" id="all.2AzHbt.spl2"  title="原文:: For example, 12.3456.">たとえば、 12.3456</span> </p>

<p><span class="merged" id="all.3HsvP3" style='background-color:yellow' title="原文 : When running in a container, and the -XX:+UseContainerSupport is set (which it is by default for the Coherence container), both the default heap size for containers, the -XX:InitialRAMPercentage option, the -XX:MaxRAMPercentage option, and the -XX:MaxRAMPercentage option, will be based on the available container memory.">コンテナで実行していて、<code>-XX:+UseContainerSupport</code>が設定されている場合(デフォルトでCoherenceコンテナ用)、コンテナのデフォルトのヒープ・サイズ、<code>-XX:InitialRAMPercentage</code>オプション、<code>-XX:MaxRAMPercentage</code>オプションおよび<code>-XX:MaxRAMPercentage</code>オプションは、使用可能なコンテナ・メモリーに基づきます。</span></p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.IdXI8" style='background-color:yellow' title="原文 : Some JVMs may not support these options.">一部のJVMでは、これらのオプションがサポートされない場合があります。</span></p>
</div>
<p><span class="merged" id="all.4HADFQ" style='background-color:yellow' title="原文 : The Coherence CRD allows these options to be set with the jvm.memory.initialRAMPercentage, jvm.memory.minRAMPercentage, and jvm.memory.maxRAMPercentage fields."><code>Coherence</code> CRDでは、<code>jvm.memory.initialRAMPercentage</code>、<code>jvm.memory.minRAMPercentage</code>および<code>jvm.memory.maxRAMPercentage</code>フィールドを使用してこれらのオプションを設定できます。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    memory:
      initialRAMPercentage: 10
      minRAMPercentage: 5.75
      maxRAMPercentage: 75</pre>


<h4 id="_set_heap_percentages_from_a_single_value"><span class="merged" id="all.1VElfm" style='background-color:yellow' title="原文 : Set Heap Percentages From a Single Value">単一値からのヒープ率の設定</span></h4>
<div class="section">
<p><span class="merged" id="all.MJ0O1.spl1" style='background-color:yellow' title="原文 : Typically, with Coherence storage members the initial and maximum heap values will be set to the same value so that the JVM runs with a fixed size heap.">通常、Coherenceストレージ・メンバーでは、初期ヒープ値と最大ヒープ値が同じ値に設定されるため、JVMは固定サイズのヒープで実行されます。</span> <span class="merged" id="all.MJ0O1.spl2" style='background-color:yellow' title="原文 : The Coherence CRD provides the jvm.memory.percentage field for this use-case."><code>Coherence</code> CRDは、このユースケースの<code>jvm.memory.percentage</code>フィールドを提供します。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    memory:
      percentage: 10  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1ue9r" style='background-color:yellow' title="原文 : In this case the percentage field has been set to 10, so the options passed to the JVM will be -XX:InitialRAMPercentage=10 -XX:MinRAMPercentage=10 -XX:MaxRAMPercentage=10 meaning the heap size will be fixed at 10% of max RAM.">この場合、<code>percentage</code>フィールドは<code>10</code>に設定されているため、JVMに渡されるオプションは<code>-XX:InitialRAMPercentage=10 -XX:MinRAMPercentage=10 -XX:MaxRAMPercentage=10</code>となり、ヒープ・サイズは最大RAMの10%に固定されます。</span></li>
</ul>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.c6Aml" style='background-color:yellow' title="原文 : Setting the jvm.memory.percentage field will cause individual RAM percentage fields to be ignored."><code>jvm.memory.percentage</code>フィールドを設定すると、個々のRAM率フィールドが無視されます。</span></p>
</div>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.bJDhw.spl1" style='background-color:yellow' title="原文 : The JVM documentation states that &quot;If you set a value for -Xms, the -XX:InitialRAMPercentage, -XX:MinRAMPercentage and -XX:MaxRAMPercentage options will be ignored&quot;.">JVMドキュメントには、<em>「<code>-Xms</code>の値を設定すると、<code>-XX:InitialRAMPercentage</code>、<code>-XX:MinRAMPercentage</code>および<code>-XX:MaxRAMPercentage</code>オプションは無視されます」</em>と記述されています。</span> <span class="merged" id="all.bJDhw.spl2" style='background-color:yellow' title="原文 : So if the Coherence CRD fields detailed below for explictly setting the heap size as a bytes value are used then we can assume that the RAM percentage fields detailed here will be ignored by the JVM.">したがって、ヒープ・サイズをバイト値として明示的に設定するために次に説明する<code>Coherence</code> CRDフィールドが使用される場合、ここで説明するRAMの割合フィールドはJVMによって無視されます。</span> <span class="merged" id="all.bJDhw.spl3" style='background-color:yellow' title="原文 : The Coherence Operator will pass both the percentage and explicit values to the JVM.">Coherence Operatorは、パーセンテージと明示的な値の両方をJVMに渡します。</span> </p>
</div>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.2EddBm" style='background-color:yellow' title="原文 : Due to CRDs not supporting decimal fields the RAM percentage fields are of type resource.Quantity, see the Kubernetes Quantity API docs for details of the different number formats allowed.">CRDが10進フィールドをサポートしていないため、RAMパーセント・フィールドはresource.Quantity型です。許可される様々な数値書式の詳細は、Kubernetes <a href="https://godoc.org/k8s.io/apimachinery/pkg/api/resource#Quantity" id="" target="_blank" >「数量」</a> APIドキュメントを参照してください。</span></p>
</div>
</div>
</div>

<h3 id="_set_heap_size_explicitly"><span class="merged" id="all.1FSpMX" style='background-color:yellow' title="原文 : Set Heap Size Explicitly">ヒープ・サイズを明示的に設定</span></h3>
<div class="section">
<p><span class="merged" id="all.2geaCK.spl1" style='background-color:yellow' title="原文 : There are two JVM options that can be used to control the JVM heap as an explicit size in bytes value.">JVMヒープをバイト値の明示的なサイズとして制御するために使用できる2つのJVMオプションがあります。</span> <span class="merged" id="all.2geaCK.spl2" style='background-color:yellow' title="原文 : These options can be useful when controlling memory of container memory in combination with resource limits on containers.">これらのオプションは、コンテナのリソース制限と組み合せてコンテナ・メモリーのメモリーを制御する場合に役立ちます。</span> </p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.4aWXsE.1"  title="原文:: JVM Option">JVMオプション</span></th>
<th><span class="merged" id="all.4JM9z7.42"  title="原文:: Description">説明</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.gClxo"  title="原文: -XX:InitialHeapSize=&lt;size&gt;"><code>-XX:InitialHeapSize=&lt;size></code></span></td>
<td class=""><span class="merged" id="all.46s9Uf" style='background-color:yellow' title="原文 : Set initial heap size">初期ヒープ・サイズの設定</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1GtVo7"  title="原文: -XX:MaxHeapSize=&lt;size&gt;"><code>-XX:MaxHeapSize=&lt;size></code></span></td>
<td class=""><span class="merged" id="all.19xLxx" style='background-color:yellow' title="原文 : Set maximum heap size">最大ヒープ・サイズの設定</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.2PYNEu" style='background-color:yellow' title="原文 : The &lt;size&gt; parameter is a numeric integer followed by a suffix to the size value: &quot;k&quot; or &quot;K&quot; to indicate kilobytes, &quot;m&quot; or &quot;M&quot; to indicate megabytes, &quot;g&quot; or &quot;G&quot; to indicate gigabytes, or, &quot;t&quot; or &quot;T&quot; to indicate terabytes."><code>&lt;size></code>パラメータは数値整数で、その後にサイズ値のサフィクスが続きます: キロバイトを示す"k"または"K"、メガバイトを示す"m"または"M"、ギガバイトを示す"g"または"G"、テラバイトを示す"t"または"T"です。</span></p>

<p><span class="merged" id="all.6vDv5.11"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    memory:
      initialHeapSize: 5g  <span class="conum" data-value="1" />
      maxHeapSize: 10g     <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2XOETb" style='background-color:yellow' title="原文 : The initial heap size to 5g, passing the -XX:InitialHeapSize=5g option to the JVM."><code>5g</code>への初期ヒープ・サイズで、<code>-XX:InitialHeapSize=5g</code>オプションをJVMに渡します。</span></li>
<li data-value="2"><span class="merged" id="all.i1iU7" style='background-color:yellow' title="原文 : The max heap size to 10g, passing the -XX:MaxHeapSize=10g option to the JVM."><code>10g</code>への最大ヒープ・サイズで、<code>-XX:MaxHeapSize=10g</code>オプションをJVMに渡します。</span></li>
</ul>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.3V5lLV" style='background-color:yellow' title="原文 : Setting the jvm.memory.heapSize field will cause individual jvm.memory.initialHeapSize and jvm.memory.maxHeapSize fields to be ignored."><code>jvm.memory.heapSize</code>フィールドを設定すると、個々の<code>jvm.memory.initialHeapSize</code>および<code>jvm.memory.maxHeapSize</code>フィールドは無視されます。</span></p>
</div>

<h4 id="_set_initial_and_max_heap_size_with_a_single_value"><span class="merged" id="all.3ykbQJ" style='background-color:yellow' title="原文 : Set Initial and Max Heap Size With a Single Value">初期ヒープ・サイズと最大ヒープ・サイズを1つの値に設定</span></h4>
<div class="section">
<p><span class="merged" id="all.2WxjZq.spl1" style='background-color:yellow' title="原文 : Typically, with Coherence storage members the initial and maximum heap values will be set to the same value so that the JVM runs with a fixed size heap.">通常、Coherenceストレージ・メンバーでは、初期ヒープ値と最大ヒープ値が同じ値に設定されるため、JVMは固定サイズのヒープで実行されます。</span> <span class="merged" id="all.2WxjZq.spl2" style='background-color:yellow' title="原文 : The Coherence CRD provides the jvm.memory.heapSize field for this use-case."><code>Coherence</code> CRDは、このユースケースの<code>jvm.memory.heapSize</code>フィールドを提供します。</span> </p>

<p><span class="merged" id="all.3pnVcl.spl1" style='background-color:yellow' title="原文 : To set the JVM both the initial amd max heap sizes to the same value, set the jvm.memory.heapSize field.">初期値および最大ヒープ・サイズの両方のJVMを同じ値に設定するには、<code>jvm.memory.heapSize</code>フィールドを設定します。</span> <span class="merged" id="all.3pnVcl.spl2" style='background-color:yellow' title="原文 : The value of the field can be any value that can be used with the JVM -XX:InitialHeapSize and -XX:MaxHeapSize (or -Xmx and -Xms) arguments.">フィールドの値は、JVM <code>-XX:InitialHeapSize</code>および<code>-XX:MaxHeapSize</code> (または<code>-Xmx</code>および<code>-Xms</code>)引数で使用できる任意の値です。</span> <span class="merged" id="all.3pnVcl.spl3" style='background-color:yellow' title="原文 : The value of the jvm.memory.heapSize field will be used to set both the -XX:InitialHeapSize, and the -XX:MaxHeapSize arguments to the same value, so the heap will be a fixed size."><code>jvm.memory.heapSize</code>フィールドの値は、<code>-XX:InitialHeapSize</code>引数と<code>-XX:MaxHeapSize</code>引数の両方を同じ値に設定するために使用されるため、ヒープは固定サイズになります。</span> </p>

<p><span class="merged" id="all.6vDv5.12"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    memory:
      heapSize: 10g  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1DF6Js" style='background-color:yellow' title="原文 : Setting jvm.memory.heapSize to 10g will effectively pass -XX:InitialHeapSize=10g -XX:MaxHeapSize=10g to the JVM."><code>jvm.memory.heapSize</code>を<code>10g</code>に設定すると、<code>-XX:InitialHeapSize=10g -XX:MaxHeapSize=10g</code>がJVMに事実上渡されます。</span></li>
</ul>
</div>
</div>

<h3 id="_direct_memory_size_nio_memory"><span class="merged" id="all.2nNSPg" style='background-color:yellow' title="原文 : Direct Memory Size (NIO Memory)">直接メモリー・サイズ(NIOメモリー)</span></h3>
<div class="section">
<p><span class="merged" id="all.1nEH5d.spl1" style='background-color:yellow' title="原文 : Direct memory size is used to limit on memory that can be reserved for all Direct Byte Buffers.">ダイレクト・メモリー・サイズは、すべてのDirect Byte Buffers用に予約できるメモリーの制限に使用されます。</span> <span class="merged" id="all.1nEH5d.spl2" style='background-color:yellow' title="原文 : If a value is set for this option, the sum of all Direct Byte Buffer sizes cannot exceed the limit.">このオプションに値を設定すると、すべてのダイレクト・バイト・バッファ・サイズの合計が制限を超えることはできません。</span> <span class="merged" id="all.1nEH5d.spl3" style='background-color:yellow' title="原文 : After the limit is reached, a new Direct Byte Buffer can be allocated only when enough old buffers are freed to provide enough space to allocate the new buffer.">制限に達した後、新しいバッファを割り当てるための十分な領域を提供するために十分な古いバッファが解放された場合にのみ、新しいダイレクト・バイト・バッファを割り当てることができます。</span> </p>

<p><span class="merged" id="all.csZAe" style='background-color:yellow' title="原文 : By default, the VM limits the amount of heap memory used for Direct Byte Buffers to approximately 85% of the maximum heap size.">デフォルトでは、VMはダイレクト・バイト・バッファに使用されるヒープ・メモリーの量を、最大ヒープ・サイズの約85%に制限します。</span></p>

<p><span class="merged" id="all.3P4nVK.spl1" style='background-color:yellow' title="原文 : To set a value for the direct memory size use the jvm.memory.directMemorySize field.">ダイレクト・メモリー・サイズの値を設定するには、<code>jvm.memory.directMemorySize</code>フィールドを使用します。</span> <span class="merged" id="all.3P4nVK.spl2" style='background-color:yellow' title="原文 : This wil set the value of the -XX:MaxDirectMemorySize JVM option.">これにより、<code>-XX:MaxDirectMemorySize</code> JVMオプションの値が設定されます。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    memory:
      directMemorySize: 10g  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4J3CV7" style='background-color:yellow' title="原文 : The direct memory size is set to 10g which will pass -XX:MaxDirectMemorySize=10g to the JVM.">ダイレクト・メモリー・サイズは<code>10g</code>に設定され、JVMに<code>-XX:MaxDirectMemorySize=10g</code>を渡します。</span></li>
</ul>
</div>

<h3 id="_metaspace_size"><span class="merged" id="all.hzQJR" style='background-color:yellow' title="原文 : Metaspace Size">メタ・スペース・サイズ</span></h3>
<div class="section">
<p><span class="merged" id="all.2GQCO.spl1" style='background-color:yellow' title="原文 : Metaspace is memory the VM uses to store class metadata.">Metaspaceは、VMがクラス・メタデータを格納するために使用するメモリーです。</span> <span class="merged" id="all.2GQCO.spl2" style='background-color:yellow' title="原文 : Class metadata are the runtime representation of java classes within a JVM process - basically any information the JVM needs to work with a Java class.">クラス・メタデータは、JVMプロセス内のjavaクラスのランタイム表現です - JVMがJavaクラスで機能するために必要な基本情報。</span> <span class="merged" id="all.2GQCO.spl3" style='background-color:yellow' title="原文 : That includes, but is not limited to, runtime representation of data from the JVM class file format.">これには、JVMクラス・ファイル形式のデータの実行時表現が含まれますが、これに限定されません。</span> </p>

<p><span class="merged" id="all.1F6tpy.spl1" style='background-color:yellow' title="原文 : To set the size of the metaspace use the jvm.memory.metaspaceSize field in the Coherence CRD.">メタ・スペースのサイズを設定するには、<code>Coherence</code> CRDの<code>jvm.memory.metaspaceSize</code>フィールドを使用します。</span> <span class="merged" id="all.1F6tpy.spl2" style='background-color:yellow' title="原文 : Setting this field sets both the -XX:MetaspaceSize and -XX:MaxMetaspaceSize JVM options to this value giving a fixed size metaspace.">このフィールドを設定すると、<code>-XX:MetaspaceSize</code>と<code>-XX:MaxMetaspaceSize</code>の両方のJVMオプションがこの値に設定され、固定サイズのメタ・スペースが提供されます。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    memory:
      metaspaceSize: 100m  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1ggfiq" style='background-color:yellow' title="原文 : Set the metaspace size to 100m which will pass -XX:MetaspaceSize=100m -XX:MaxMetaspaceSize=100m to the JVM."><code>-XX:MetaspaceSize=100m -XX:MaxMetaspaceSize=100m</code>をJVMに渡すメタ領域サイズを<code>100m</code>に設定します。</span></li>
</ul>
</div>

<h3 id="_stack_size"><span class="merged" id="all.22s44q"  title="原文:: Stack Size">スタック・サイズ</span></h3>
<div class="section">
<p><span class="merged" id="all.LHav9.spl1"  title="原文: Thread stacks are memory areas allocated for each Java thread for their internal use.">スレッド・スタックは、各Javaスレッドが内部的に使用するために割り当てられるメモリー領域です。</span> <span class="merged" id="all.LHav9.spl2"  title="原文: This is where the thread stores its local execution state.">ここにスレッドのローカルの実行状態が格納されます。</span> <span class="merged" id="all.LHav9.spl3" style='background-color:yellow' title="原文 : The current default size for a linux JVM is 1MB.">linux JVMの現在のデフォルト・サイズは1MBです。</span> </p>

<p><span class="merged" id="all.42fCc5.spl1" style='background-color:yellow' title="原文 : To set the stack size use the jvm.memory.stackSize field in the Coherence CRD.">スタック・サイズを設定するには、<code>Coherence</code> CRDの<code>jvm.memory.stackSize</code>フィールドを使用します。</span> <span class="merged" id="all.42fCc5.spl2" style='background-color:yellow' title="原文 : Setting this value sets the -Xss JVM option.">この値を設定すると、<code>-Xss</code> JVMオプションが設定されます。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    memory:
      stackSize: 500k  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1czLmk" style='background-color:yellow' title="原文 : The stack size will be set to 500k, passing -Xss500k to the JVM.">スタック・サイズは<code>500k</code>に設定され、JVMに<code>-Xss500k</code>を渡します。</span></li>
</ul>
</div>

<h3 id="_out_of_memory_behaviour"><span class="merged" id="all.2NfUDR" style='background-color:yellow' title="原文 : Out Of Memory Behaviour">メモリー不足動作</span></h3>
<div class="section">
<p><span class="merged" id="all.15cwOH" style='background-color:yellow' title="原文 : The Coherence CRD allows two optional behaviours to be specified if the JVM throws an out of memory error."><code>Coherence</code> CRDを使用すると、JVMがメモリー不足エラーをスローした場合に2つのオプションの動作を指定できます。</span></p>

<p><span class="merged" id="all.2MKcbk.spl1" style='background-color:yellow' title="原文 : The jvm.memory.onOutOfMemory.heapDump is a bool field that when set to true will pass the -XX:+HeapDumpOnOutOfMemoryError option to the JVM."><code>jvm.memory.onOutOfMemory.heapDump</code>は、trueに設定すると<code>-XX:+HeapDumpOnOutOfMemoryError</code>オプションがJVMに渡されるブール・フィールドです。</span> <span class="merged" id="all.2MKcbk.spl2" style='background-color:yellow' title="原文 : The default value of the field when not specified is true, hence to turn off heap dumps on OOM set the specifically field to be false.">指定しない場合のフィールドのデフォルト値は<code>true</code>であるため、OOMのヒープ・ダンプをオフにすると、特にフィールドが<code>false</code>に設定されます。</span> </p>

<p><span class="merged" id="all.3Xk3sm.spl1" style='background-color:yellow' title="原文 : The jvm.memory.onOutOfMemory.exit is a bool field that when set to true will pass the -XX:+ExitOnOutOfMemoryError option to the JVM."><code>jvm.memory.onOutOfMemory.exit</code>は、trueに設定すると<code>-XX:+ExitOnOutOfMemoryError</code>オプションがJVMに渡されるブール・フィールドです。</span> <span class="merged" id="all.3Xk3sm.spl2" style='background-color:yellow' title="原文 : The default value of the field when not specified is true, hence to turn off killing the JVM on OOM set the specifically field to be false.">指定しない場合のフィールドのデフォルト値は<code>true</code>であるため、OOMのJVMを強制終了すると、特にフィールドが<code>false</code>に設定されます。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    memory:
      onOutOfMemory:
        heapDump: true   <span class="conum" data-value="1" />
        exit: true       <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1cTRXE" style='background-color:yellow' title="原文 : The JVM will create a heap dump on OOM">JVMはOOMにヒープ・ダンプを作成</span></li>
<li data-value="2"><span class="merged" id="all.1cfIrM" style='background-color:yellow' title="原文 : The JVM will exit on OOM">JVMはOOMで終了</span></li>
</ul>
</div>

<h3 id="_native_memory_tracking"><span class="merged" id="all.2Gl7W"  title="原文:: Native Memory Tracking">ネイティブ・メモリー・トラッキング</span></h3>
<div class="section">
<p><span class="merged" id="all.3fO5i.spl1" style='background-color:yellow' title="原文 : The Native Memory Tracking (NMT) is a Java VM feature that tracks internal memory usage for a JVM.">ネイティブ・メモリー・トラッキング(NMT)は、JVMの内部メモリー使用状況を追跡するJava VM機能です。</span> <span class="merged" id="all.3fO5i.spl2" style='background-color:yellow' title="原文 : The Coherence CRD allows native memory tracking to be configured using the jvm.memory.nativeMemoryTracking field."><code>Coherence</code> CRDを使用すると、<code>jvm.memory.nativeMemoryTracking</code>フィールドを使用してネイティブ・メモリー・トラッキングを構成できます。</span> <span class="merged" id="all.3fO5i.spl3" style='background-color:yellow' title="原文 : Setting this field sets the -XX:NativeMemoryTracking JVM option.">このフィールドを設定すると、<code>-XX:NativeMemoryTracking</code> JVMオプションが設定されます。</span> <span class="merged" id="all.3fO5i.spl4" style='background-color:yellow' title="原文 : There are three valid values, off, summary or detail.">有効な値は、<code>off</code>、<code>summary</code>または<code>detail</code>の3つです。</span> <span class="merged" id="all.3fO5i.spl5" style='background-color:yellow' title="原文 : If not specified the default value used by the operator is summary">指定しない場合、オペレータで使用されるデフォルト値は<code>summary</code>です</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    memory:
      nativeMemoryTracking: detail <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2hF2GB" style='background-color:yellow' title="原文 : Native memory tracking is set to detail which will pass the -XX:NativeMemoryTracking=detail option to the JVM.">ネイティブ・メモリー・トラッキングは<code>detail</code>に設定され、<code>-XX:NativeMemoryTracking=detail</code>オプションがJVMに渡されます。</span></li>
</ul>
</div>
</div>
</doc-view>
<!-- pages/docs/jvm/070_debugger.js -->
<doc-view>

<h2 id="_debugger_configuration"><span class="merged" id="all.ZtmYV" style='background-color:yellow' title="原文 : Debugger Configuration">デバッガ構成</span></h2>
<div class="section">
<p><span class="merged" id="all.VLpWs.spl1" style='background-color:yellow' title="原文 : Occasionally it is useful to be able to connect a debugger to a JVM, and the Coherence CRD spec has fields to configure the Coherence container’s JVM to work with a debugger.">時折、デバッガをJVMに接続でき、<code>Coherence</code> CRD仕様には、CoherenceコンテナのJVMをデバッガと連携するように構成するフィールドがあります。</span> <span class="merged" id="all.VLpWs.spl2" style='background-color:yellow' title="原文 : The fields in the CRD will ultimately result in arguments being passed to the JVM and could have been added as plain JVM arguments, but having specific fields in the CRD makes it simpler to configure and the intention more obvious.">CRDのフィールドは最終的にJVMに渡され、プレーンJVM引数として追加される可能性もありますが、CRDの特定のフィールドを使用すると、構成が簡単になり、意図がより明確になります。</span> </p>

<p><span class="merged" id="all.3iR8wh" style='background-color:yellow' title="原文 : The fields to control debug settings of the JVM are in the jvm.debug section of the CRD spec.">JVMのデバッグ設定を制御するフィールドは、CRD仕様の<code>jvm.debug</code>セクションにあります。</span></p>


<h3 id="_listening_for_a_debugger_connection"><span class="merged" id="all.mfHpe" style='background-color:yellow' title="原文 : Listening for a Debugger Connection">デバッガ接続のリスニング</span></h3>
<div class="section">
<p><span class="merged" id="all.3WeN5n" style='background-color:yellow' title="原文 : One scenario for debugging is for the Coherence JVM to open a port and listen for a debugger connection request.">デバッグのシナリオの1つは、Coherence JVMがポートを開き、デバッガ接続リクエストをリスニングすることです。</span></p>

<p><span class="merged" id="all.6vDv5.13"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    debug:
      enabled: true   <span class="conum" data-value="1" />
      port: 5005      <span class="conum" data-value="2" />
      suspend: false  <span class="conum" data-value="3" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2ZbVGH" style='background-color:yellow' title="原文 : The jvm.debug.enabled flag is set to true to enable debug mode.">デバッグ・モードを有効にするには、<code>jvm.debug.enabled</code>フラグが<code>true</code>に設定されます。</span></li>
<li data-value="2"><span class="merged" id="all.ucYn" style='background-color:yellow' title="原文 : The jvm.debug.port field specifies the port the JVM will listen on for a debugger connection."><code>jvm.debug.port</code>フィールドは、JVMがデバッガ接続をリスニングするポートを指定します。</span></li>
<li data-value="3"><span class="merged" id="all.3CcnBW" style='background-color:yellow' title="原文 : The jvm.debug.suspend flag is set to false so that the JVM will start without waiting for a debugger to connect."><code>jvm.debug.suspend</code>フラグは<code>false</code>に設定されているため、JVMはデバッガの接続を待機せずに起動されます。</span></li>
</ul>
<p><span class="merged" id="all.4Au2NG" style='background-color:yellow' title="原文 : The example above results in the following arguments being passed to the JVM:">前述の例では、次の引数がJVMに渡されます:</span></p>

<pre


>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005</pre>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2PPdt7" style='background-color:yellow' title="原文 : The address=*:5005 value comes from the jvm.debug.port field"><code>address=*:5005</code>値は<code>jvm.debug.port</code>フィールドから取得されます</span></p>

</li>
<li>
<p><span class="merged" id="all.4eb3FK" style='background-color:yellow' title="原文 : The suspend=n value comes from the jvm.debug.suspend field"><code>suspend=n</code>値は<code>jvm.debug.suspend</code>フィールドから取得されます</span></p>

</li>
</ul>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.308bNt" style='background-color:yellow' title="原文 : If the jvm.debug.port is not specified the default value used by the Operator will be 5005."><code>jvm.debug.port</code>が指定されていない場合、オペレータで使用されるデフォルト値は<code>5005</code>になります。</span></p>
</div>
</div>

<h3 id="_attaching_to_a_debugger_connection"><span class="merged" id="all.1aT1VC" style='background-color:yellow' title="原文 : Attaching to a Debugger Connection">デバッガ接続へのアタッチ</span></h3>
<div class="section">
<p><span class="merged" id="all.3MPG4u" style='background-color:yellow' title="原文 : Another scenario for debugging is for the Coherence JVM to connect out to a listening debugger.">デバッグのもう1つのシナリオは、Coherence JVMがリスニング・デバッガに接続することです。</span></p>

<p><span class="merged" id="all.6vDv5.14"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    debug:
      enabled: true               <span class="conum" data-value="1" />
      attach:  "10.10.100.2:5000" <span class="conum" data-value="2" />
      suspend: false              <span class="conum" data-value="3" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2ZbVGH.1" style='background-color:yellow' title="原文 : The jvm.debug.enabled flag is set to true to enable debug mode.">デバッグ・モードを有効にするには、<code>jvm.debug.enabled</code>フラグが<code>true</code>に設定されます。</span></li>
<li data-value="2"><span class="merged" id="all.3wJbmo" style='background-color:yellow' title="原文 : The jvm.debug.attach field specifies the address of the debugger that the JVM will connect to."><code>jvm.debug.attach</code>フィールドは、JVMが接続するデバッガのアドレスを指定します。</span></li>
<li data-value="3"><span class="merged" id="all.3CcnBW.1" style='background-color:yellow' title="原文 : The jvm.debug.suspend flag is set to false so that the JVM will start without waiting for a debugger to connect."><code>jvm.debug.suspend</code>フラグは<code>false</code>に設定されているため、JVMはデバッガの接続を待機せずに起動されます。</span></li>
</ul>
<p><span class="merged" id="all.4Au2NG.1" style='background-color:yellow' title="原文 : The example above results in the following arguments being passed to the JVM:">前述の例では、次の引数がJVMに渡されます:</span></p>

<pre


>-agentlib:jdwp=transport=dt_socket,server=n,address=10.10.100.2:5000,suspend=n,timeout=10000</pre>

</div>
</div>
</doc-view>
<!-- pages/docs/jvm/090_container_limits.js -->
<doc-view>

<h2 id="_respect_container_resource_limits"><span class="merged" id="all.2Y5qxl" style='background-color:yellow' title="原文 : Respect Container Resource Limits">コンテナ・リソース制限の考慮</span></h2>
<div class="section">
<p><span class="merged" id="all.CuCdA.spl1" style='background-color:yellow' title="原文 : The JVM can be configured to respect container limits set, for example cpu and memory limits.">JVMは、CPUやメモリー制限など、設定されたコンテナ制限を考慮するように構成できます。</span> <span class="merged" id="all.CuCdA.spl2" style='background-color:yellow' title="原文 : This can be important if container limits have been set for the container in the resources section as a JVM that does not respect these limits can cause the Pod to be killed.">これは、これらの制限を尊重しないJVMによって<code>Pod</code>が強制される可能性があるため、<code>resources</code>セクションのコンテナにコンテナ制限が設定されている場合は重要です。</span> <span class="merged" id="all.CuCdA.spl3" style='background-color:yellow' title="原文 : This is done by adding the -XX:+UseContainerSupport JVM option.">これを行うには、<code>-XX:+UseContainerSupport</code> JVMオプションを追加します。</span> <span class="merged" id="all.CuCdA.spl4" style='background-color:yellow' title="原文 : It is possible to control this using the jvm.useContainerLimits field in the Coherence CRD spec.">これは、<code>Coherence</code> CRD仕様の<code>jvm.useContainerLimits</code>フィールドを使用して制御できます。</span> <span class="merged" id="all.CuCdA.spl5" style='background-color:yellow' title="原文 : If the field is not set, the operator adds the -XX:+UseContainerSupport option by default.">フィールドが設定されていない場合、オペレータはデフォルトで<code>-XX:+UseContainerSupport</code>オプションを追加します。</span> </p>

<p><span class="merged" id="all.6vDv5.15"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  jvm:
    useContainerLimits: false   <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.qN3oo" style='background-color:yellow' title="原文 : The useContainerLimits field is set to false, so the -XX:+UseContainerSupport will not be passed to the JVM."><code>useContainerLimits</code>フィールドはfalseに設定されているため、<code>-XX:+UseContainerSupport</code>はJVMに渡されません。</span></li>
</ul>
<p><span class="merged" id="all.1bb09k" style='background-color:yellow' title="原文 : See the Resource Limits documentation on how to specify resource limits for the Coherence container.">Coherenceコンテナのリソース制限を指定する方法については、<router-link to="/docs/other/100_resources">「リソース制限」</router-link>ドキュメントを参照してください。</span></p>

</div>
</doc-view>
<!-- pages/docs/logging/010_overview.js -->
<doc-view>

<h2 id="_overview"><span class="merged" id="all.YrpRV.3"  title="原文:: Overview">概要</span></h2>
<div class="section">
<p><span class="merged" id="all.9wJTt.spl1" style='background-color:yellow' title="原文 : In a container environment like Kubernetes, or any cloud, it is often a requirement to centralize log files to allow easier analysis and debugging.">Kubernetesやクラウドなどのコンテナ環境では、多くの場合、ログ・ファイルを一元化して分析およびデバッグを容易に行えるようにする必要があります。</span> <span class="merged" id="all.9wJTt.spl2" style='background-color:yellow' title="原文 : There are many ways to do this, including collecting container logs, parsing and shipping log files with something like Fluentd, or using a specialized log appender specific to your logging framework.">これには、コンテナ・ログの収集、Fluentdのようなものを使用したログ・ファイルの解析および出荷、またはロギング・フレームワークに固有の特殊なログ・アペンダの使用など、様々な方法があります。</span> </p>

<p><span class="merged" id="all.TJXUs.spl1" style='background-color:yellow' title="原文 : The Coherence Operator does not proscribe any particular method of log capture.">Coherence Operatorは、ログ取得の特定のメソッドを発行しません。</span> <span class="merged" id="all.TJXUs.spl2" style='background-color:yellow' title="原文 : The Coherence CRD is flexible enough to allow any method of log capture that an application or specific cloud environment requires."><code>Coherence</code> CRDは、アプリケーションまたは特定のクラウド環境に必要なあらゆるログ取得メソッドを許可できる柔軟性があります。</span> <span class="merged" id="all.TJXUs.spl3" style='background-color:yellow' title="原文 : This could be as simple as adding JVM arguments to configure the Java logger, or it could be injecting a whole side-car container to run something like Fluentd.">これは、JVM引数を追加してJavaロガーを構成するのと同じくらい簡単な場合もあれば、Fluentdのようなものを実行するためにサイドカー・コンテナ全体をインジェクトする場合もあります。</span> <span class="merged" id="all.TJXUs.spl4" style='background-color:yellow' title="原文 : Different approaches have their own pros and cons that need to be weighed up on a case by case basis.">さまざまなアプローチには、ケースごとに重点を置く必要がある独自の案件と短所があります。</span> </p>


<h3 id="_logging_guides"><span class="merged" id="all.484afc" style='background-color:yellow' title="原文 : Logging Guides">ロギング・ガイド</span></h3>
<div class="section">
<p><span class="merged" id="all.3hi1EZ.spl1" style='background-color:yellow' title="原文 : The use of Elasticsearch, Fluentd and Kibana is a common approach.">Elasticsearch、FluentdおよびKibanaの使用は一般的な方法です。</span> <span class="merged" id="all.3hi1EZ.spl2" style='background-color:yellow' title="原文 : For this reason the Coherence Operator has a set of Kibana dashboards that support the common Coherence logging format.">このため、Coherence Operatorには、共通Coherenceロギング形式をサポートする一連のKibanaダッシュボードがあります。</span> <span class="merged" id="all.3hi1EZ.spl3" style='background-color:yellow' title="原文 : The logging guides below show one approach to shipping Coherence logs to Elasticsearch and importing the Coherence dashboards into Kibana.">次のロギング・ガイドは、CoherenceログをElasticsearchに送信し、CoherenceダッシュボードをKibanaにインポートする1つの方法を示しています。</span> <span class="merged" id="all.3hi1EZ.spl4" style='background-color:yellow' title="原文 : If this approach does not meet your needs you are obviously free to configure an alternative.">このアプローチがニーズを満たさない場合は、明らかに代替方法を構成することができます。</span> </p>

<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/logging/020_logging"><div class="card__link-hover"/>
<span class="merged" id="all.MifWU" style='background-color:yellow' title="原文 :  Enabling Log Capture "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ログ・キャプチャの有効化</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.3zwGpb" style='background-color:yellow' title="原文 : Capturing and viewing Coherence cluster Logs in Elasticsearch using a Fluentd side-car.">Fluentdサイドカーを使用して、ElasticsearchでCoherenceクラスタ・ログを取得および表示します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/logging/030_kibana"><div class="card__link-hover"/>
<span class="merged" id="all.u0IQL" style='background-color:yellow' title="原文 :  Kibana Dashboards "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Kibanaダッシュボード</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.F5tFE" style='background-color:yellow' title="原文 : Importing and using the Kibana Dashboards available.">使用可能なKibanaダッシュボードのインポートおよび使用。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</div>
</doc-view>
<!-- pages/docs/logging/020_logging.js -->
<doc-view>

<h2 id="_log_capture_with_fluentd"><span class="merged" id="all.ChwYm" style='background-color:yellow' title="原文 : Log Capture with Fluentd">Fluentdによるログ・キャプチャ</span></h2>
<div class="section">
<p><span class="merged" id="all.TbhNk.spl1" style='background-color:yellow' title="原文 : There are many ways to capture container logs in Kubernetes, one possibility that this guide will cover is using a Fluentd side-car container to ship log files to Elasticsearch.">Kubernetesでコンテナ・ログを取得する方法は数多くあります。このガイドでは、Fluentdサイドカー・コンテナを使用してログ・ファイルをElasticsearchに送信する可能性もあります。</span> <span class="merged" id="all.TbhNk.spl2" style='background-color:yellow' title="原文 : This is a common pattern and one the the Coherence CRD makes simple by allowing easy injection of additional containers.">これは共通パターンであり、<code>Coherence</code> CRDは追加コンテナを簡単にインジェクションできるようにすることで簡単になります。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.3c8oKb.spl1" style='background-color:yellow' title="原文 : This guide is going to assume that the default logging related configurations provided by the operator will be used.">このガイドでは、オペレータによって提供されるデフォルトのロギング関連構成が使用されると想定します。</span> <span class="merged" id="all.3c8oKb.spl2" style='background-color:yellow' title="原文 : For example, Coherence will be configured to use Java util logging for logs, and the default logging configuration file will be used.">たとえば、Coherenceはログに対してJavaのユーティリティ・ロギングを使用するように構成され、デフォルトのロギング構成ファイルが使用されます。</span> <span class="merged" id="all.3c8oKb.spl3" style='background-color:yellow' title="原文 : Whilst these things are not pre-requisites for shipping logs to Elasticsearch they are required to make the examples below work.">これらのことは、Elasticsearchへのログの送信の前提条件ではありませんが、次の例を機能させるために必要です。</span> </p>
</div>
<p><span class="merged" id="all.1J8rVY" style='background-color:yellow' title="原文 : To be able to send Coherence logs to Elasticsearch there are some steps that must be completed:">CoherenceログをElasticsearchに送信できるようにするには、いくつかのステップを完了する必要があります:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.NxRmt" style='background-color:yellow' title="原文 : Configure Coherence to log to files">ファイルに記録するCoherenceの構成</span></p>

</li>
<li>
<p><span class="merged" id="all.10vZYc" style='background-color:yellow' title="原文 : Add a Volume and VolumeMount to be used for log files">ログ・ファイルに使用する<code>Volume</code>および<code>VolumeMount</code>を追加</span></p>

</li>
<li>
<p><span class="merged" id="all.caU9K" style='background-color:yellow' title="原文 : Add the Fluentd side-car container">Fluentdサイドカー・コンテナの追加</span></p>

</li>
</ul>

<h3 id="_configure_coherence_to_log_to_files"><span class="merged" id="all.3kelPT" style='background-color:yellow' title="原文 : Configure Coherence to Log to Files">ファイルにログするCoherenceの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.4JPcBS.spl1" style='background-color:yellow' title="原文 : Coherence will log to the console by default so to be able to ship logs to Elasticsearch it needs to be configured to write to log files.">Coherenceはデフォルトでコンソールに記録されるため、ログ・ファイルに書き込むように構成する必要があるElasticsearchにログを送信できます。</span> <span class="merged" id="all.4JPcBS.spl2" style='background-color:yellow' title="原文 : One way to do this is to add a Java Util Logging configuration file and then to configure Coherence to use the JDK logger.">これを行う方法の1つは、Javaユーティリティ・ロギング構成ファイルを追加し、JDKロガーを使用するようにCoherenceを構成することです。</span> </p>

<p><span class="merged" id="all.8QRBU.spl1" style='background-color:yellow' title="原文 : In the jvm.args section of the Coherence CRD the system properties should be added to set the configuration file used by Java util logging and to configure Coherence logging."><code>Coherence</code> CRDの<code>jvm.args</code>セクションで、システム・プロパティを追加して、Javaユーティリティ・ロギングで使用される構成ファイルを設定し、Coherenceロギングを構成する必要があります。</span> <span class="merged" id="all.8QRBU.spl2" style='background-color:yellow' title="原文 : See the Coherence Logging Config documentation for more details.">詳細は、Coherenceの<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/develop-applications/operational-configuration-elements.html" id="" target="_blank" >「ロギング構成」</a>ドキュメントを参照してください。</span> </p>

<p><span class="merged" id="all.3fnSm1.spl1" style='background-color:yellow' title="原文 : There are alternative ways to configure the Java util logger besides using a configuration file, just as there are alternative logging frameworks that Coherence can be configured to use to produce log files.">Javaのユーティリティ・ロガーを構成する代替方法は、構成ファイルを使用する以外に、ログ・ファイルの生成に使用するようCoherenceを構成できる代替ロギング・フレームワークがあるのと同様です。</span> <span class="merged" id="all.3fnSm1.spl2" style='background-color:yellow' title="原文 : This example is going to use Java util logging as that is the simplest to demonstrate without requiring any additional logging libraries.">この例では、Javaのユーティリティ・ロギングを使用します。これは、追加のロギング・ライブラリを必要とせずに、最も簡単に実証できるためです。</span> </p>


<h4 id="_operator_provided_logging_configuration_file"><span class="merged" id="all.4RDdvb" style='background-color:yellow' title="原文 : Operator Provided Logging Configuration File">オペレータ指定ロギング構成ファイル</span></h4>
<div class="section">
<p><span class="merged" id="all.16bdta.spl1" style='background-color:yellow' title="原文 : Whilst any valid Java util logging configuration file may be used, the Coherence Operator injects a default logging configuration file into the coherence container that can be used to configure the logger to write logs to files under the /logs directory.">有効なJavaユーティリティ・ロギング構成ファイルを使用できる間、Coherence Operatorはデフォルトのロギング構成ファイルを<code>coherence</code>コンテナにインジェクトします。このコンテナを使用して、ログ出力を<code>/logs</code>ディレクトリのファイルに書き込むようにロガーを構成できます。</span> <span class="merged" id="all.16bdta.spl2" style='background-color:yellow' title="原文 : The log files will have the name coherence-%g.log, where %g is the log file generation created as logs get rotated.">ログ・ファイルの名前は<code>coherence-%g.log</code>になります。<code>%g</code>は、ログがローテーションされたときに作成されたログ・ファイルの生成です。</span> </p>

<p><span class="merged" id="all.1OOwcl" style='background-color:yellow' title="原文 : This file will be injected into the container at /coherence-operator/utils/logging/logging.properties and will look something like this:">このファイルは<code>/coherence-operator/utils/logging/logging.properties</code>のコンテナにインジェクトされ、次のようになります:</span></p>

<pre


>com.oracle.coherence.handlers=java.util.logging.ConsoleHandler,java.util.logging.FileHandler

com.oracle.coherence.level=FINEST

java.util.logging.ConsoleHandler.formatter=java.util.logging.SimpleFormatter
java.util.logging.ConsoleHandler.level=FINEST

java.util.logging.FileHandler.pattern=/logs/coherence-%g.log
java.util.logging.FileHandler.limit=10485760
java.util.logging.FileHandler.count=50
java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter

java.util.logging.SimpleFormatter.format=%5$s%6$s%n</pre>

<p><span class="merged" id="all.1EOCPa" style='background-color:yellow' title="原文 : To configure Cohrence and the logger some system properties need to be added to the jvm.args field of the Coherence CRD spec:">Cohrenceとロガーを構成するには、<code>Coherence</code> CRD仕様の<code>jvm.args</code>フィールドにシステム・プロパティを追加する必要があります:</span></p>

<p><span class="merged" id="all.6vDv5.16"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: cluster-one
spec:
  jvm:
    args:
      - "-Dcoherence.log=jdk"                                                                   <span class="conum" data-value="1" />
      - "-Dcoherence.log.logger=com.oracle.coherence"                                           <span class="conum" data-value="2" />
      - "-Djava.util.logging.config.file=/coherence-operator/utils/logging/logging.properties"  <span class="conum" data-value="3" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4gbTpN" style='background-color:yellow' title="原文 : Coherence has been configured to use the Java util logging.">Coherenceは、Javaのユーティリティ・ロギングを使用するように構成されています。</span></li>
<li data-value="2"><span class="merged" id="all.20m6qG" style='background-color:yellow' title="原文 : The Coherence logger name has been set to com.oracle.coherence, which matches the logging configuration file.">Coherenceログ出力名は、ロギング構成ファイルと一致する<code>com.oracle.coherence</code>に設定されています。</span></li>
<li data-value="3"><span class="merged" id="all.44gOai" style='background-color:yellow' title="原文 : The Java util logging configuration file is set to the file injected by the Operator.">Javaのユーティリティ・ロギング構成ファイルは、オペレータによってインジェクトされるファイルに設定されます。</span></li>
</ul>
</div>

<h4 id="_log_files_volume"><span class="merged" id="all.48tUHx" style='background-color:yellow' title="原文 : Log Files Volume">ログ・ファイル・ボリューム</span></h4>
<div class="section">
<p><span class="merged" id="all.1gjS7m.spl1" style='background-color:yellow' title="原文 : The logging configuration above configures Coherence to write logs to the /logs directory.">前述のロギング構成では、Coherenceを構成してログを<code>/logs</code>ディレクトリに書き込みます。</span> <span class="merged" id="all.1gjS7m.spl2" style='background-color:yellow' title="原文 : For this location to be accessible to both the coherence container and to the fluentd container it needs to be created as a Volume in the Pod and mounted to both containers.">このロケーションが<code>coherence</code>コンテナと<code>fluentd</code>コンテナの両方からアクセスできるようにするには、<code>Pod</code>で<code>Volume</code>として作成し、両方のコンテナにマウントする必要があります。</span> <span class="merged" id="all.1gjS7m.spl3" style='background-color:yellow' title="原文 : As this Volume can be ephemeral and is typically not required to live longer than the Pod the simplest type of Volume to use is an emptyDir volume source.">この<code>Volume</code>は一時的であり、通常は<code>Pod</code>より長く存続する必要がないため、使用する最も単純なタイプの<code>Volume</code>は<code>emptyDir</code>ボリューム・ソースです。</span> </p>

<p><span class="merged" id="all.6vDv5.17"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: cluster-one
spec:
  jvm:
    args:
      - "-Dcoherence.log=jdk"
      - "-Dcoherence.log.logger=com.oracle.coherence"
      - "-Djava.util.logging.config.file=/coherence-operator/utils/logging/logging.properties"
  volumes:
    - name: logs           <span class="conum" data-value="1" />
      emptyDir: {}
  volumeMounts:
    - name: logs           <span class="conum" data-value="2" />
      mountPath: /logs</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4b9eRK" style='background-color:yellow' title="原文 : An additional empty-dir Volume named logs has been added to the Coherence spec."><code>logs</code>という名前の空ディレクトリ<code>Volume</code>が<code>Coherence</code>仕様に追加されました。</span></li>
<li data-value="2"><span class="merged" id="all.33S67x" style='background-color:yellow' title="原文 : The logs volume will be mounted at /logs in all containers in the Pod."><code>logs</code>ボリュームは、<code>Pod</code>内のすべてのコンテナの<code>/logs</code>にマウントされます。</span></li>
</ul>
</div>
</div>

<h3 id="_add_the_fluentd_side_car"><span class="merged" id="all.2731lU" style='background-color:yellow' title="原文 : Add the Fluentd Side-Car">Fluentdサイドカーの追加</span></h3>
<div class="section">
<p><span class="merged" id="all.3hspvP" style='background-color:yellow' title="原文 : With Coherence configured to write to log files, and those log files visible to other containers in the Pod the Fluentd side-car container can be added.">Coherenceがログ・ファイルに書き込むように構成され、これらのログ・ファイルが<code>Pod</code>内の他のコンテナに表示されるように構成されている場合、Fluentdサイドカー・コンテナを追加できます。</span></p>

<p><span class="merged" id="all.xo4LL" style='background-color:yellow' title="原文 : The example yaml below shows a Coherence resource with the additional Fluentd container added.">次のyaml例は、追加のFluentdコンテナが追加された<code>Coherence</code>リソースを示しています。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: cluster-one
spec:
  jvm:
    args:
      - "-Dcoherence.log=jdk"
      - "-Dcoherence.log.logger=com.oracle.coherence"
      - "-Djava.util.logging.config.file=/coherence-operator/utils/logging/logging.properties"
  volumes:
    - name: logs
      emptyDir: {}
  volumeMounts:
    - name: logs
      mountPath: /logs
  sideCars:
    - name: fluentd                                     <span class="conum" data-value="1" />
      image: "fluent/fluentd-kubernetes-daemonset:v1.14-debian-elasticsearch7-1"
      args:
        - "-c"
        - "/etc/fluent.conf"
      env:
        - name: "FLUENTD_CONF"                          <span class="conum" data-value="2" />
          value: "fluentd-coherence.conf"
        - name: "FLUENT_ELASTICSEARCH_SED_DISABLE"      <span class="conum" data-value="3" />
          value: "true"
  configMapVolumes:
    - name: "efk-config"                                <span class="conum" data-value="4" />
      mountPath: "/fluentd/etc/fluentd-coherence.conf"
      subPath: "fluentd-coherence.conf"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2hfygH.spl1" style='background-color:yellow' title="原文 : The fluentd container has been added to the sideCars list."><code>fluentd</code>コンテナが<code>sideCars</code>リストに追加されました。</span> <span class="merged" id="all.2hfygH.spl2" style='background-color:yellow' title="原文 : This will create another container in the Pod exactly as configured.">これにより、構成済とまったく同じように、<code>Pod</code>に別のコンテナが作成されます。</span> </li>
<li data-value="2"><span class="merged" id="all.1k03Kh.spl1" style='background-color:yellow' title="原文 : The FLUENTD_CONF environment variable has been set to the name of the configuration file that Fluentd should use."><code>FLUENTD_CONF</code>環境変数は、Fluentdが使用する構成ファイルの名前に設定されています。</span> <span class="merged" id="all.1k03Kh.spl2" style='background-color:yellow' title="原文 : The standard Fluentd behaviour is to locate this file in the /fluentd/etc/ directory.">Fluentdの標準的な動作では、<code>/fluentd/etc/</code>ディレクトリにこのファイルを配置します。</span> </li>
<li data-value="3"><span class="merged" id="all.4enDVB" style='background-color:yellow' title="原文 : The FLUENT_ELASTICSEARCH_SED_DISABLE environment variable has been set to work around a known issue here."><code>FLUENT_ELASTICSEARCH_SED_DISABLE</code>環境変数は、既知の問題<a href="https://github.com/fluent/fluentd-kubernetes-daemonset#disable-sed-execution-on-elasticsearch-image" id="" target="_blank" >「こちら」</a>に対処するように設定されています。</span></li>
<li data-value="4"><span class="merged" id="all.3GIvmW.spl1" style='background-color:yellow' title="原文 : An additional volume has been added from a ConfigMap named efk-config, that contains the Fluentd configuration to use.">使用するFluentd構成を含む<code>efk-config</code>という名前の<code>ConfigMap</code>から追加のボリュームが追加されました。</span> <span class="merged" id="all.3GIvmW.spl2" style='background-color:yellow' title="原文 : This will be mounted to the fluentd container at /fluentd/etc/fluentd-coherence.conf, which corresponds to the name of the file set in the FLUENTD_CONF environment variable.">これは、<code>/fluentd/etc/fluentd-coherence.conf</code>の<code>fluentd</code>コンテナにマウントされます。これは、<code>FLUENTD_CONF</code>環境変数内のファイル・セットの名前に対応します。</span> </li>
</ul>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.1XnGR3.spl1" style='background-color:yellow' title="原文 : There is no need to add a /logs volume mount to the fluentd container."><code>/logs</code>ボリューム・マウントを<code>fluentd</code>コンテナに追加する必要はありません。</span> <span class="merged" id="all.1XnGR3.spl2" style='background-color:yellow' title="原文 : The operator will mount the logs Volume to all containers in the Pod.">オペレータは、<code>logs</code> <code>Volume</code>を<code>Pod</code>の<strong>「すべて」</strong>コンテナにマウントします。</span> </p>
</div>
<p><span class="merged" id="all.1E9N3E.spl1" style='background-color:yellow' title="原文 : In the example above the Fluentd configuration has been provided from a ConfigMap.">前述の例では、Fluentd構成が<code>ConfigMap</code>から提供されています。</span> <span class="merged" id="all.1E9N3E.spl2" style='background-color:yellow' title="原文 : It could just as easily have come from a Secret or some other external Volume mount, or it could have been baked into the Fluentd image to be used."><code>Secret</code>またはその他の外部<code>Volume</code>マウントから簡単に取得したり、使用するFluentdイメージにベイク処理されたりすることもできます。</span> </p>


<h4 id="_the_fluentd_configuration_file"><span class="merged" id="all.2KmeuD" style='background-color:yellow' title="原文 : The Fluentd Configuration File">Fluentd構成ファイル</span></h4>
<div class="section">
<p><span class="merged" id="all.3JMqKt" style='background-color:yellow' title="原文 : The ConfigMap used to provide the Fluentd configuration might look something like this:">Fluentd構成を提供するために使用される<code>ConfigMap</code>は次のようになります:</span></p>

<pre
lang="yaml"

>apiVersion: v1
kind: ConfigMap
metadata:
  name: efk-config                              <span class="conum" data-value="1" />
  labels:
    component: coherence-efk-config
data:
  fluentd-coherence.conf: |
    # Ignore fluentd messages
    &lt;match fluent.**&gt;
      @type null
    &lt;/match&gt;

    # Coherence Logs
    &lt;source&gt;                                    <span class="conum" data-value="2" />
      @type tail
      path /logs/coherence-*.log
      pos_file /tmp/cohrence.log.pos
      read_from_head true
      tag coherence-cluster
      multiline_flush_interval 20s
      &lt;parse&gt;
       @type multiline
       format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3}/
       format1 /^(?&lt;time&gt;\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3})\/(?&lt;uptime&gt;[0-9\.]+) (?&lt;product&gt;.+) &lt;(?&lt;level&gt;[^\s]+)&gt; \(thread=(?&lt;thread&gt;.+), member=(?&lt;member&gt;.+)\):[\S\s](?&lt;log&gt;.*)/
      &lt;/parse&gt;
    &lt;/source&gt;

    &lt;filter coherence-cluster&gt;                  <span class="conum" data-value="3" />
     @type record_transformer
     &lt;record&gt;
       cluster "#{ENV['COH_CLUSTER_NAME']}"
       role "#{ENV['COH_ROLE']}"
       host "#{ENV['HOSTNAME']}"
       pod-uid "#{ENV['COH_POD_UID']}"
     &lt;/record&gt;
    &lt;/filter&gt;

    &lt;match coherence-cluster&gt;                   <span class="conum" data-value="4" />
      @type elasticsearch
      hosts "http://elasticsearch-master:9200"
      logstash_format true
      logstash_prefix coherence-cluster
    &lt;/match&gt;</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1353pS" style='background-color:yellow' title="原文 : The name of the ConfigMap is efk-config to match the name specified in the Coherence CRD spec."><code>ConfigMap</code>の名前は<code>efk-config</code>で、<code>Coherence</code> CRD仕様で指定された名前と一致します。</span></li>
<li data-value="2"><span class="merged" id="all.2Cgm9f.spl1" style='background-color:yellow' title="原文 : The source section is configured to match log files with the name /logs/coherence-*.log, which is the name that Coherence logging has been configured to use."><code>source</code>セクションは、<code>/logs/coherence-*.log</code>という名前のログ・ファイルを一致するように構成されています。これは、Coherenceロギングが使用するように構成されている名前です。</span> <span class="merged" id="all.2Cgm9f.spl2" style='background-color:yellow' title="原文 : The pattern in the source section is a Fluentd pattern that matches the standard Coherence log message format."><code>source</code>セクションのパターンは、標準のCoherenceログ・メッセージ形式と一致するFluentdパターンです。</span> </li>
<li data-value="3"><span class="merged" id="all.2tORmE.spl1" style='background-color:yellow' title="原文 : A filter section will add additional fields to the log message."><code>filter</code>セクションは、ログ・メッセージにフィールドを追加します。</span> <span class="merged" id="all.2tORmE.spl2" style='background-color:yellow' title="原文 : These come from the environment variables that the Operator will inject into all containers in the Pod.">これらは、オペレータがポッド内のすべてのコンテナにインジェクトする環境変数から取得されます。</span> <span class="merged" id="all.2tORmE.spl3" style='background-color:yellow' title="原文 : In this case the Coherence cluster name, the Coherence role name, the Pod host name and Pod UID.">この場合、Coherenceクラスタ名、Coherenceロール名、ポッド・ホスト名およびポッドUID。</span> </li>
<li data-value="4"><span class="merged" id="all.3gG0Cf" style='background-color:yellow' title="原文 : The final section tells Fluentd how to ship the logs to Elasticsearch, in this case to the endpoint http://elasticsearch-master:9200">最後のセクションは、ログをElasticsearchに送信する方法(この場合はエンドポイント<code><a href="http://elasticsearch-master:9200" id="" target="_blank" >http://elasticsearch-master:9200</a></code>)をFluentdに示します</span></li>
</ul>
<p><span class="merged" id="all.2S5gkW" style='background-color:yellow' title="原文 : There are many ways to configure Fluentd, the example above is just one way and is in fact taken from one of the Operator’s functional tests.">Fluentdを構成する方法は数多くありますが、前述の例は1つの方法にすぎず、実際はOperatorの機能テストの1つ。</span></p>

<p><span class="merged" id="all.rCwOn" style='background-color:yellow' title="原文 : With the efk-config ConfigMap created in the same namespace as the Coherence resource the Coherence logs from the containers will now be shipped to Elasticsearch."><code>Coherence</code>リソースと同じネームスペースに<code>efk-config</code> <code>ConfigMap</code>を作成すると、コンテナからのCoherenceログがElasticsearchに出荷されます。</span></p>

</div>
</div>
</div>
</doc-view>
<!-- pages/docs/logging/030_kibana.js -->
<doc-view>

<h2 id="_using_kibana_dashboards"><span class="merged" id="all.2tpApa" style='background-color:yellow' title="原文 : Using Kibana Dashboards">Kibanaダッシュボードの使用</span></h2>
<div class="section">
<p><span class="merged" id="all.3Dk67H.spl1" style='background-color:yellow' title="原文 : Kibana is often used to anyalze log files that have been collected into Elasticsearch.">Kibanaは、Elasticsearchに収集されたログ・ファイルを凍結するためによく使用されます。</span> <span class="merged" id="all.3Dk67H.spl2" style='background-color:yellow' title="原文 : The Coherence Operator provides a number of Kibana dashboards and queries to allow you to view and analyze logs from your Coherence clusters.">Coherence Operatorには、Coherenceクラスタからのログを表示および分析できる多数のKibanaダッシュボードおよび問合せが用意されています。</span> </p>


<h3 id="_importing_kibana_dashboards"><span class="merged" id="all.1VLgtf" style='background-color:yellow' title="原文 : Importing Kibana Dashboards">Kibanaダッシュボードのインポート</span></h3>
<div class="section">
<p><span class="merged" id="all.1eEZp9" style='background-color:yellow' title="原文 : The Kibana dashboard files are located in the Coherence operator source in the dashboards/kibana directory.">Kibanaダッシュボード・ファイルは、<code>dashboards/kibana</code>ディレクトリのCoherenceオペレータ・ソースにあります。</span></p>

<p><span class="merged" id="all.1YF3vg.spl1" style='background-color:yellow' title="原文 : The method of importing the dashboards into Kibana will depend on how Kibana is being run.">ダッシュボードをKibanaにインポートするメソッドは、Kibanaの実行メソッドによって異なります。</span> <span class="merged" id="all.1YF3vg.spl2" style='background-color:yellow' title="原文 : The simplest method is just to import the json file using the Kibana web UI.">最も簡単なメソッドは、Kibana web UIを使用してjsonファイルをインポートすることです。</span> <span class="merged" id="all.1YF3vg.spl3" style='background-color:yellow' title="原文 : An alternative approach is to load the dashboard into a ConfigMap in Kubernetes that is mounted into the Kibana Pod and then trigger an import when Kibana starts.">別の方法として、KibanaポッドにマウントされたKubernetesの<code>ConfigMap</code>にダッシュボードをロードし、Kibanaの起動時にインポートをトリガーする方法があります。</span> <span class="merged" id="all.1YF3vg.spl4" style='background-color:yellow' title="原文 : As there are many ways to do this depending on the specifics of the version of Kibana being used, exact instructions are beyond the scope fo this guide.">使用されているKibanaのバージョンの詳細によっては、これを行う方法がたくさんあるため、正確な手順は、このガイドの範囲外です。</span> </p>

</div>

<h3 id="_kibana_dashboards_searches"><span class="merged" id="all.3pjt0M" style='background-color:yellow' title="原文 : Kibana Dashboards &amp; Searches">Kibanaダッシュボード&amp;検索</span></h3>
<div class="section">

</div>

<h3 id="_table_of_contents"><span class="merged" id="all.2jNfVE.1"  title="原文:: Table of Contents">目次</span></h3>
<div class="section">
<ol style="margin-left: 15px;">
<li>
<span class="merged" id="all.1LD6qN" style='background-color:yellow' title="原文 : Dashboards"><router-link @click.native="this.scrollFix('#dashboards')" to="#dashboards">ダッシュボード</router-link></span>
<ol style="margin-left: 15px;">
<li>
<span class="merged" id="all.1HJtlR" style='background-color:yellow' title="原文 : Coherence Cluster - All Messages"><router-link @click.native="this.scrollFix('#all')" to="#all">Coherenceクラスタ - すべてのメッセージ</router-link></span>

</li>
<li>
<span class="merged" id="all.2vYukc" style='background-color:yellow' title="原文 : Coherence Cluster - Errors and Warnings"><router-link @click.native="this.scrollFix('#errors')" to="#errors">Coherenceクラスタ - エラーおよび警告</router-link></span>

</li>
<li>
<span class="merged" id="all.2GHxFL" style='background-color:yellow' title="原文 : Coherence Cluster - Persistence"><router-link @click.native="this.scrollFix('#persistence')" to="#persistence">Coherenceクラスタ - 永続性</router-link></span>

</li>
<li>
<span class="merged" id="all.1ukQ0c" style='background-color:yellow' title="原文 : Coherence Cluster - Configuration Messages"><router-link @click.native="this.scrollFix('#config')" to="#config">Coherenceクラスタ - 構成メッセージ</router-link></span>

</li>
<li>
<span class="merged" id="all.1uHfgr" style='background-color:yellow' title="原文 : Coherence Cluster - Network"><router-link @click.native="this.scrollFix('#network')" to="#network">Coherenceクラスタ - ネットワーク</router-link></span>

</li>
<li>
<span class="merged" id="all.37BrPh" style='background-color:yellow' title="原文 : Coherence Cluster - Partitions"><router-link @click.native="this.scrollFix('#partitions')" to="#partitions">Coherenceクラスタ - パーティション</router-link></span>

</li>
<li>
<span class="merged" id="all.18PZeQ" style='background-color:yellow' title="原文 : Coherence Cluster - Message Sources"><router-link @click.native="this.scrollFix('#sources')" to="#sources">Coherenceクラスタ - メッセージ・ソース</router-link></span>

</li>
</ol>
</li>
<li>
<span class="merged" id="all.3j4x1v" style='background-color:yellow' title="原文 : Searches"><router-link @click.native="this.scrollFix('#searches')" to="#searches">検索</router-link></span>

</li>
</ol>
</div>

<h3 id="dashboards"><span class="merged" id="all.4EkGaY"  title="原文:: Dashboards">ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.3SKTgU" style='background-color:yellow' title="原文 : Information from all dashboards (and queries) can be filtered using the standard Kibana date/time filtering in the top right of the UI, as well as the Add a filter button.">すべてのダッシュボード(および問合せ)からの情報は、UIの右上にある標準のKibana日時フィルタリングと<code>Add a filter</code>ボタンを使用してフィルタできます。</span></p>



<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="フィルタ" src="./images/kibana-filters.png" width="600" /> </v-card-text> </v-card>


<h4 id="all"><span class="merged" id="all.4JjKF6" style='background-color:yellow' title="原文 : 1. Coherence Cluster - All Messages">1. Coherenceクラスタ - すべてのメッセージ</span></h4>
<div class="section">
<p><span class="merged" id="all.4F1ix4" style='background-color:yellow' title="原文 : This dashboard shows all messages captured for the given time period for all clusters.">このダッシュボードには、すべてのクラスタの指定された期間に取得されたすべてのメッセージが表示されます。</span></p>

<p><span class="merged" id="all.3gCb50" style='background-color:yellow' title="原文 : Users can drill-down by cluster, host, message level and thread.">ユーザーは、クラスタ、ホスト、メッセージ・レベルおよびスレッドごとにドリルダウンできます。</span></p>



<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="すべてのメッセージ" src="./images/kibana-all-messages.png" width="900" /> </v-card-text> </v-card>

</div>

<h4 id="errors"><span class="merged" id="all.2XOGU2" style='background-color:yellow' title="原文 : 2. Coherence Cluster - Errors and Warnings">2. Coherenceクラスタ - エラーおよび警告</span></h4>
<div class="section">
<p><span class="merged" id="all.3XiGG0" style='background-color:yellow' title="原文 : This dashboard shows errors and warning messages only.">このダッシュボードには、エラーおよび警告メッセージのみが表示されます。</span></p>

<p><span class="merged" id="all.3gCb50.1" style='background-color:yellow' title="原文 : Users can drill-down by cluster, host, message level and thread.">ユーザーは、クラスタ、ホスト、メッセージ・レベルおよびスレッドごとにドリルダウンできます。</span></p>



<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="エラーおよび警告" src="./images/kibana-errors-warnings.png" width="900" /> </v-card-text> </v-card>

</div>

<h4 id="persistence"><span class="merged" id="all.4NzwNM" style='background-color:yellow' title="原文 : 3. Coherence Cluster - Persistence">3. Coherenceクラスタ - 永続性</span></h4>
<div class="section">
<p><span class="merged" id="all.2Bk9fz" style='background-color:yellow' title="原文 : This dashboard shows Persistence related messages including failed and successful operations.">このダッシュボードには、失敗した操作や成功した操作を含む永続性関連メッセージが表示されます。</span></p>



<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="永続性" src="./images/kibana-persistence.png" width="900" /> </v-card-text> </v-card>

</div>

<h4 id="config"><span class="merged" id="all.2eW8D3" style='background-color:yellow' title="原文 : 4. Coherence Cluster - Configuration Messages">4. Coherenceクラスタ - 構成メッセージ</span></h4>
<div class="section">
<p><span class="merged" id="all.1jYh3G" style='background-color:yellow' title="原文 : This dashboard shows configuration related messages such as loading of operational, cache configuration and POF configuration files.">このダッシュボードには、操作、キャッシュ構成およびPOF構成ファイルのロードなどの構成関連メッセージが表示されます。</span></p>



<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="構成" src="./images/kibana-configuration.png" width="900" /> </v-card-text> </v-card>

</div>
</div>

<h3 id="network"><span class="merged" id="all.te1zP" style='background-color:yellow' title="原文 : 5. Coherence Cluster - Network">5. Coherenceクラスタ - ネットワーク</span></h3>
<div class="section">
<p><span class="merged" id="all.1iEWbL" style='background-color:yellow' title="原文 : This dashboard hows network related messages, such as communication delays and TCP ring disconnects.">このダッシュボードは、通信の遅延やTCPリングの切断などのネットワーク関連メッセージを表示します。</span></p>



<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="ネットワーク" src="./images/kibana-network.png" width="900" /> </v-card-text> </v-card>


<h4 id="partitions"><span class="merged" id="all.aTeUX" style='background-color:yellow' title="原文 : 6. Coherence Cluster - Partitions">6. Coherenceクラスタ - パーティション</span></h4>
<div class="section">
<p><span class="merged" id="all.IeW7b" style='background-color:yellow' title="原文 : Shows partition transfer and partition loss messages.">パーティション転送およびパーティション損失メッセージを表示します。</span></p>



<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="パーティション" src="./images/kibana-partitions.png" width="900" /> </v-card-text> </v-card>

</div>

<h4 id="sources"><span class="merged" id="all.1BGofM" style='background-color:yellow' title="原文 : 7. Coherence Cluster - Message Sources">7. Coherenceクラスタ - メッセージ・ソース</span></h4>
<div class="section">
<p><span class="merged" id="all.2WpKvf" style='background-color:yellow' title="原文 : Shows the source (thread) for messages">メッセージのソース(スレッド)を表示</span></p>

<p><span class="merged" id="all.295EOw" style='background-color:yellow' title="原文 : Users can drill-down by cluster, host and message level.">ユーザーは、クラスタ、ホストおよびメッセージ・レベルでドリルダウンできます。</span></p>



<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="ソース" src="./images/kibana-message-sources.png" width="900" /> </v-card-text> </v-card>

</div>
</div>

<h3 id="searches"><span class="merged" id="all.2oCqzv"  title="原文:: Searches">検索</span></h3>
<div class="section">
<p><span class="merged" id="all.3uUjUb.spl1" style='background-color:yellow' title="原文 : A number of searches are automatically includes which can help assist in diagnosis and troubleshooting a Coherence cluster.">Coherenceクラスタの診断およびトラブルシューティングに役立つ多数の検索が自動的に含まれます。</span> <span class="merged" id="all.3uUjUb.spl2" style='background-color:yellow' title="原文 : They can be accessed via the Discover side-bar and selecting `Open."><code>Discover</code> <code>side-bar and selecting `Open</code>を介してアクセスできます。</span> </p>



<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="検索" src="./images/kibana-search.png" width="700" /> </v-card-text> </v-card>

<p><span class="merged" id="all.3nhWZp" style='background-color:yellow' title="原文 : These are grouped into the following general categories:">これらは、次の一般的なカテゴリにグループ化されます:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.yLQ89" style='background-color:yellow' title="原文 : Cluster - Cluster join, discovery, heartbeat, member joining and stopping messages">クラスタ - クラスタへの参加、検出、ハートビート、メンバーの参加と停止</span></p>

</li>
<li>
<p><span class="merged" id="all.1H8LLN" style='background-color:yellow' title="原文 : Cache - Cache restarting, exceptions and index exception messages">キャッシュ - キャッシュの再起動、例外および索引例外メッセージ</span></p>

</li>
<li>
<p><span class="merged" id="all.3hJNKp" style='background-color:yellow' title="原文 : Configuration - Configuration loading and not loading messages">構成 - 構成のロードおよびメッセージのロードなし</span></p>

</li>
<li>
<p><span class="merged" id="all.xRjfU" style='background-color:yellow' title="原文 : Persistence - Persistence success and failure messages">永続性 - 永続性成功および失敗メッセージ</span></p>

</li>
<li>
<p><span class="merged" id="all.3N2GFJ" style='background-color:yellow' title="原文 : Network - Network communications delays, disconnects, timeouts and terminations">ネットワーク - ネットワーク通信の遅延、切断、タイムアウトおよび終了</span></p>

</li>
<li>
<p><span class="merged" id="all.3zUpM1" style='background-color:yellow' title="原文 : Partition - Partition loss, ownership and transfer related messages">パーティション - パーティションの損失、所有権および転送関連メッセージ</span></p>

</li>
<li>
<p><span class="merged" id="all.YhTmD" style='background-color:yellow' title="原文 : Member - Member thread dump, join and leave messages">メンバー - メンバー・スレッド・ダンプ、結合およびメッセージを残します</span></p>

</li>
<li>
<p><span class="merged" id="all.4SkRyr" style='background-color:yellow' title="原文 : Errors - All Error messages only">エラー - すべてのエラー・メッセージのみ</span></p>

</li>
<li>
<p><span class="merged" id="all.1IrPYb" style='background-color:yellow' title="原文 : Federation - Federation participant, disconnection, connection, errors and other messages">フェデレーション - フェデレーション参加者、切断、接続、エラーおよびその他のメッセージ</span></p>

</li>
</ul>
</div>
</div>
</doc-view>
<!-- pages/docs/management/010_overview.js -->
<doc-view>

<h2 id="_overview"><span class="merged" id="all.YrpRV.4"  title="原文:: Overview">概要</span></h2>
<div class="section">
<p><span class="merged" id="all.16tSKD" style='background-color:yellow' title="原文 : There are a number of management and diagnostic features available with Oracle Coherence that can be used in a cluster deployed in Kubernetes.">Kubernetesにデプロイされたクラスタで使用できる、Oracle Coherenceで使用できる管理および診断の機能が多数あります。</span></p>

<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/management/020_management_over_rest"><div class="card__link-hover"/>
<span class="merged" id="all.4NapTg" style='background-color:yellow' title="原文 :  Management Over REST "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">RESTの管理</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1I4dSJ" style='background-color:yellow' title="原文 : Coherence Management over REST feature">REST機能でのCoherence管理</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/management/025_coherence_cli"><div class="card__link-hover"/>
<span class="merged" id="all.3ekkxx" style='background-color:yellow' title="原文 :  The Coherence CLI "></router-link> <v-card-title primary class="headline layout justify-center"> <span style="text-align:center">The Coherence CLI</span> </v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1PNJzx" style='background-color:yellow' title="原文 : Using the Coherence CLI in Pods">ポッドでのCoherence CLIの使用</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/management/040_ssl"><div class="card__link-hover"/>
<span class="merged" id="all.2D8rDz" style='background-color:yellow' title="原文 :  SSL "></router-link> <v-card-title primary class="headline layout justify-center"> <span style="text-align:center">SSL</span> </v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.28fS2p" style='background-color:yellow' title="原文 : Enable SSL on the Management over REST endpoint.">Management over RESTエンドポイントでSSLを有効にします。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</doc-view>
<!-- pages/docs/management/020_management_over_rest.js -->
<doc-view>

<h2 id="_management_over_rest"><span class="merged" id="all.13uigM" style='background-color:yellow' title="原文 : Management over REST">RESTを介した管理</span></h2>
<div class="section">
<p><span class="merged" id="all.2StENU" style='background-color:yellow' title="原文 : Since version 12.2.1.4 Coherence has had functionality to expose a management API over REST.">バージョン12.2.1.4から、CoherenceにはRESTを介して管理APIを公開する機能がありました。</span></p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.1utRnU" style='background-color:yellow' title="原文 : The Management over REST API is disabled by default in Coherence clusters but can be enabled and configured by setting the relevant fields in the Coherence CRD.">REST APIの管理は、デフォルトでCoherenceクラスタでは<strong>「無効」</strong>ですが、<code>Coherence</code> CRDで関連フィールドを設定することで有効化および構成できます。</span></p>
</div>
<p><span class="merged" id="all.12pNpH" style='background-color:yellow' title="原文 : The example below shows how to enable and access Coherence MBeans using Management over REST.">次の例は、RESTの管理を使用してCoherence MBeansを有効にし、アクセスする方法を示しています。</span></p>

<p><span class="merged" id="all.16eozu.spl1" style='background-color:yellow' title="原文 : Once the Management port has been exposed, for example via a load balancer or port-forward command, the REST endpoint is available at http://host:port/management/coherence/cluster.">ロード・バランサやport-forwardコマンドなどを介して管理ポートが公開されると、RESTエンドポイントは<code><a href="http://host:port/management/coherence/cluster" id="" target="_blank" >http://host:port/management/coherence/cluster</a></code>で使用できます。</span> <span class="merged" id="all.16eozu.spl2" style='background-color:yellow' title="原文 : The Swagger JSON document for the API is available at http://host:port/management/coherence/cluster/metadata-catalog.">APIのSwagger JSONドキュメントは、<code><a href="http://host:port/management/coherence/cluster/metadata-catalog" id="" target="_blank" >http://host:port/management/coherence/cluster/metadata-catalog</a></code>で入手できます。</span> </p>

<p><span class="merged" id="all.3UDkow" style='background-color:yellow' title="原文 : See the REST API for Managing Oracle Coherence documentation for full details on each of the endpoints.">各エンドポイントの詳細は、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/rest-reference/" id="" target="_blank" >「Oracle Coherenceを管理するためのREST API」</a>ドキュメントを参照してください。</span></p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.2cwaJr" style='background-color:yellow' title="原文 : Note: Use of Management over REST is available only when using the operator with clusters running Coherence 12.2.1.4 or later version.">ノート: Management over RESTの使用は、Coherence 12.2.1.4以降のバージョンを実行しているクラスタでオペレータを使用する場合のみ使用できます。</span></p>
</div>

<h3 id="_deploy_coherence_with_management_over_rest_enabled"><span class="merged" id="all.2USgMY" style='background-color:yellow' title="原文 : Deploy Coherence with Management over REST Enabled">RESTを介した管理でのCoherenceのデプロイの有効化</span></h3>
<div class="section">
<p><span class="merged" id="all.2bEW3F" style='background-color:yellow' title="原文 : To deploy a Coherence resource with management over REST enabled and exposed on a port, the simplest yaml would look like this:">管理を持つ<code>Coherence</code>リソースをREST上で有効化してポート上で公開するには、最も単純なyamlは次のようになります:</span></p>

<pre
lang="yaml"
title="management-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: management-cluster
spec:
  coherence:
    management:
      enabled: true     <span class="conum" data-value="1" />
  ports:
    - name: management  <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3FP4g3" style='background-color:yellow' title="原文 : Setting the coherence.management.enabled field to true will enable Management over REST"><code>coherence.management.enabled</code>フィールドを<code>true</code>に設定すると、RESTの管理が有効になります</span></li>
<li data-value="2"><span class="merged" id="all.1M78av.spl1" style='background-color:yellow' title="原文 : To expose Management over REST via a Service it is added to the ports list."><code>Service</code>を介してRESTを介して管理を公開するには、<code>ports</code>リストに追加されます。</span> <span class="merged" id="all.1M78av.spl2" style='background-color:yellow' title="原文 : The management port is a special case where the port number is optional so in this case Management over REST will bind to the default port 30000. (see Exposing Ports for details)"><code>management</code>ポートは、<code>port</code>番号がオプションであるため、この場合、Management over RESTはデフォルトのポート<code>30000</code>にバインドされます(詳細は、<router-link to="/docs/ports/020_container_ports">「ポートの公開」</router-link>を参照)</span> </li>
</ul>
<p><span class="merged" id="all.vQ7vZ" style='background-color:yellow' title="原文 : To expose Management over REST on a different port the alternative port value can be set in the coherence.management section, for example:">別のポートでRESTを介して管理を公開するには、<code>coherence.management</code>セクションで代替ポート値を設定できます。次に例を示します:</span></p>

<pre
lang="yaml"
title="management-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: management-cluster
spec:
  coherence:
    management:
      enabled: true
      port: 8080      <span class="conum" data-value="1" />
  ports:
    - name: management</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3argMW" style='background-color:yellow' title="原文 : Management over REST will now be exposed on port 8080">RESTでの管理がポート<code>8080</code>で公開されるようになりました</span></li>
</ul>
</div>

<h3 id="_port_forward_the_management_over_rest_port"><span class="merged" id="all.40fr0Z" style='background-color:yellow' title="原文 : Port-forward the Management over REST Port">RESTポートを介した管理のポート・フォワード</span></h3>
<div class="section">
<p><span class="merged" id="all.RRdmd" style='background-color:yellow' title="原文 : After installing the basic management-cluster.yaml from the first example above there would be a three member Coherence cluster installed into Kubernetes.">上の最初の例から基本的な<code>management-cluster.yaml</code>をインストールすると、3つのメンバーCoherenceクラスタがKubernetesにインストールされます。</span></p>

<p><span class="merged" id="all.pMJUa" style='background-color:yellow' title="原文 : For example, the cluster can be installed with kubectl">たとえば、<code>kubectl</code>を使用してクラスタをインストールできます</span></p>

<pre
lang="bash"

>kubectl -n coherence-test create -f management-cluster.yaml

coherence.coherence.oracle.com/management-cluster created</pre>

<p><span class="merged" id="all.4Z0Y0O" style='background-color:yellow' title="原文 : The kubectl CLI can be used to list Pods for the cluster:"><code>kubectl</code> CLIを使用して、クラスタの<code>Pods</code>をリストできます:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test get pod -l coherenceCluster=management-cluster

NAME                   READY   STATUS    RESTARTS   AGE
management-cluster-0   1/1     Running   0          36s
management-cluster-1   1/1     Running   0          36s
management-cluster-2   1/1     Running   0          36s</pre>

<p><span class="merged" id="all.2Dp1Jz.spl1" style='background-color:yellow' title="原文 : In a test or development environment the simplest way to reach an exposed port is to use the kubectl port-forward command.">テストまたは開発環境では、公開されたポートに到達する最も簡単な方法は、<code>kubectl port-forward</code>コマンドを使用することです。</span> <span class="merged" id="all.2Dp1Jz.spl2" style='background-color:yellow' title="原文 : For example to connect to the first Pod in the deployment:">たとえば、デプロイメントの最初の<code>Pod</code>に接続するには:</span> </p>

<pre
lang="bash"

>kubectl -n coherence-test port-forward management-cluster-0 30000:30000

Forwarding from [::1]:30000 -&gt; 30000
Forwarding from 127.0.0.1:30000 -&gt; 30000</pre>

</div>

<h3 id="_access_the_rest_endpoint"><span class="merged" id="all.3B19Qa" style='background-color:yellow' title="原文 : Access the REST Endpoint">RESTエンドポイントへのアクセス</span></h3>
<div class="section">
<p><span class="merged" id="all.2SnRCd" style='background-color:yellow' title="原文 : Now that a port is being forwarded from localhost to a Pod in the cluster the Management over REST endpoints can be accessed.">これで、ポートがローカル・ホストからクラスタ内の<code>Pod</code>に転送されるため、RESTエンドポイントを介した管理にアクセスできます。</span></p>

<p><span class="merged" id="all.13frAM" style='background-color:yellow' title="原文 : Issue the following curl command to access the REST endpoint:">次の<code>curl</code>コマンドを発行して、RESTエンドポイントにアクセスします:</span></p>

<pre
lang="bash"

>curl http://127.0.0.1:30000/management/coherence/cluster/</pre>

<p><span class="merged" id="all.2rLj0Z" style='background-color:yellow' title="原文 : Which should result in a response similar to the following:">次のようなレスポンスが発生します:</span></p>

<pre
lang="json"

>{
  "links": [
    {
      "rel": "parent",
      "href": "http://127.0.0.1:30000/management/coherence"
    },
    {
      "rel": "self",
      "href": "http://127.0.0.1:30000/management/coherence/cluster/"
    },
    {
      "rel": "canonical",
      "href": "http://127.0.0.1:30000/management/coherence/cluster/"
    },
    {
      "rel": "services",
      "href": "http://127.0.0.1:30000/management/coherence/cluster/services"
    },
    {
      "rel": "caches",
      "href": "http://127.0.0.1:30000/management/coherence/cluster/caches"
    },
    {
      "rel": "members",
      "href": "http://127.0.0.1:30000/management/coherence/cluster/members"
    },
    {
      "rel": "management",
      "href": "http://127.0.0.1:30000/management/coherence/cluster/management"
    },
    {
      "rel": "journal",
      "href": "http://127.0.0.1:30000/management/coherence/cluster/journal"
    },
    {
      "rel": "hotcache",
      "href": "http://127.0.0.1:30000/management/coherence/cluster/hotcache"
    },
    {
      "rel": "reporters",
      "href": "http://127.0.0.1:30000/management/coherence/cluster/reporters"
    },
    {
      "rel": "webApplications",
      "href": "http://127.0.0.1:30000/management/coherence/cluster/webApplications"
    }
  ],
  "clusterSize": 3,
  "membersDeparted": [],
  "memberIds": [
    1,
    2,
    3
  ],
  "oldestMemberId": 1,
  "refreshTime": "2019-10-15T03:55:46.461Z",
  "licenseMode": "Development",
  "localMemberId": 1,
  "version": "14.1.1.0.0",
  "running": true,
  "clusterName": "management-cluster",
  "membersDepartureCount": 0,
  "members": [
    "Member(Id=1, Timestamp=2019-10-15 03:46:15.848, Address=10.1.2.184:36531, MachineId=49519, Location=site:coherence.coherence-test.svc,machine:docker-desktop,process:1,member:management-cluster-1, Role=storage)",
    "Member(Id=2, Timestamp=2019-10-15 03:46:19.405, Address=10.1.2.183:40341, MachineId=49519, Location=site:coherence.coherence-test.svc,machine:docker-desktop,process:1,member:management-cluster-2, Role=storage)",
    "Member(Id=3, Timestamp=2019-10-15 03:46:19.455, Address=10.1.2.185:38719, MachineId=49519, Location=site:coherence.coherence-test.svc,machine:docker-desktop,process:1,member:management-cluster-0, Role=storage)"
  ],
  "type": "Cluster"
}</pre>

</div>

<h3 id="_access_the_swagger_endpoint"><span class="merged" id="all.3qP6rL" style='background-color:yellow' title="原文 : Access the Swagger Endpoint">Swaggerエンドポイントへのアクセス</span></h3>
<div class="section">
<p><span class="merged" id="all.1v3BYl" style='background-color:yellow' title="原文 : Issue the following curl command to access the Swagger endpoint, which documents all the REST APIs available.">次の<code>curl</code>コマンドを発行して、使用可能なすべてのREST APIを記述するSwaggerエンドポイントにアクセスします。</span></p>

<pre
lang="bash"

>curl http://127.0.0.1:30000/management/coherence/cluster/metadata-catalog</pre>

<p><span class="merged" id="all.3Vpw6j" style='background-color:yellow' title="原文 : Which should result in a response like the following:">次のようなレスポンスが発生します:</span></p>

<pre
lang="json"

>{
  "swagger": "2.0",
  "info": {
    "title": "RESTful Management Interface for Oracle Coherence MBeans",
    "description": "RESTful Management Interface for Oracle Coherence MBeans",
    "version": "14.1.1.0.0"
  },
  "schemes": [
    "http",
    "https"
  ],
...</pre>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.4MQfw" style='background-color:yellow' title="原文 : The above output has been truncated due to the large size.">上記の出力はサイズが大きいため切り捨てられました。</span></p>
</div>
</div>

<h3 id="_other_rest_resources"><span class="merged" id="all.1UFsij" style='background-color:yellow' title="原文 : Other REST Resources">その他のRESTリソース</span></h3>
<div class="section">
<p><span class="merged" id="all.3xjHYH" style='background-color:yellow' title="原文 : Management over REST can be used for all Coherence management functions, the same as would be available when using standard MBean access over JMX.">RESTでの管理は、JMXを介した標準のMBeanアクセスを使用する場合と同様に、すべてのCoherence管理機能に使用できます。</span></p>

<p><span class="merged" id="all.143kS6" style='background-color:yellow' title="原文 : Please see the Coherence REST API for more information on these features.">これらの機能の詳細は、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/rest-reference/" id="" target="_blank" >Coherence REST API</a>を参照してください。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.4JkYS9" style='background-color:yellow' title="原文 : Connecting JVisualVM to Management over REST"><a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/manage/using-jmx-manage-oracle-coherence.html#GUID-D160B16B-7C1B-4641-AE94-3310DF8082EC" id="" target="_blank" >RESTを介した管理へのJVisualVMの接続</a></span></p>

</li>
<li>
<p><span class="merged" id="all.3BwFVO" style='background-color:yellow' title="原文 : Enabling SSL"><router-link @click.native="this.scrollFix('#docs/clusters/058_coherence_management.adoc')" to="#docs/clusters/058_coherence_management.adoc">SSLの有効化</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2Id7BX" style='background-color:yellow' title="原文 : Produce and extract a Java Flight Recorder (JFR) file"><a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/rest-reference/op-management-coherence-cluster-members-memberidentifier-diagnostic-cmd-jfrcmd-post.html" id="" target="_blank" >Java Flight Recorder (JFR)ファイルの生成および抽出</a></span></p>

</li>
<li>
<p><span class="merged" id="all.1aBgq8" style='background-color:yellow' title="原文 : Access the Reporter"><a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/rest-reference/api-reporter.html" id="" target="_blank" >レポータへのアクセス</a></span></p>

</li>
</ul>
</div>
</div>
</doc-view>
<!-- pages/docs/management/025_coherence_cli.js -->
<doc-view>

<h2 id="_the_coherence_cli"><span class="merged" id="all.1DMffV" style='background-color:yellow' title="原文 : The Coherence CLI">The Coherence CLI</span></h2>
<div class="section">
<p><span class="merged" id="all.2EyHcS.spl1" style='background-color:yellow' title="原文 : If Coherence Management over REST is enabled, it is possible to use the Coherence CLI to access management information.">RESTを介したCoherence管理が有効になっている場合は、<a href="https://github.com/oracle/coherence-cli" id="" target="_blank" >Coherence CLI</a>を使用して管理情報にアクセスできます。</span> <span class="merged" id="all.2EyHcS.spl2" style='background-color:yellow' title="原文 : The Operator enables Coherence Management over REST by default, so unless it has specifically been disabled, the CLI can be used.">オペレータはデフォルトでRESTを介したCoherence管理を有効にするため、特に無効にしないかぎり、CLIを使用できます。</span> </p>

<p><span class="merged" id="all.1vZUxo" style='background-color:yellow' title="原文 : See the Coherence CLI Documentation for more information on how to use the CLI.">CLIの使用方法の詳細は、<a href="https://oracle.github.io/coherence-cli/docs/latest" id="" target="_blank" >「Coherence CLIのドキュメント」</a>を参照してください。</span></p>

<p><span class="merged" id="all.1TdpgS.spl1" style='background-color:yellow' title="原文 : The Coherence CLI is automatically added to Coherence Pods by the Operator, so it is available as an executable that can be run using kubectl exec.">Coherence CLIはオペレータによってCoherenceポッドに自動的に追加されるため、<code>kubectl exec</code>を使用して実行できる実行可能ファイルとして使用できます。</span> <span class="merged" id="all.1TdpgS.spl2" style='background-color:yellow' title="原文 : At start-up of a Coherence container a default Coherence CLI configuration is created so that the CLI knows about the local cluster member.">Coherenceコンテナの起動時に、CLIがローカル・クラスタ・メンバーを認識できるように、デフォルトのCoherence CLI構成が作成されます。</span> </p>


<h3 id="_using_the_cli_in_pods"><span class="merged" id="all.3gDVfg" style='background-color:yellow' title="原文 : Using the CLI in Pods">ポッドでのCLIの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.1pIXdq.spl1" style='background-color:yellow' title="原文 : The Operator installs the CLI at the location /coherence-operator/utils/cohctl.">オペレータは、<code>/coherence-operator/utils/cohctl</code>のロケーションにCLIをインストールします。</span> <span class="merged" id="all.1pIXdq.spl2" style='background-color:yellow' title="原文 : Most official Coherence images are distroless images so they do not have a shell that can be used to create a session and execute commands.">ほとんどの公式Coherenceイメージは歪みのないイメージであるため、セッションの作成およびコマンドの実行に使用できるシェルがありません。</span> <span class="merged" id="all.1pIXdq.spl3" style='background-color:yellow' title="原文 : Each cohctl command will need to be executed as a separate kubectl exec command.">各<code>cohctl</code>コマンドは、個別の<code>kubectl exec</code>コマンドとして実行する必要があります。</span> </p>

<p><span class="merged" id="all.3eLy2H.spl1" style='background-color:yellow' title="原文 : Once a Pod is running is it simple to use the CLI.">ポッドが実行されると、CLIを簡単に使用できます。</span> <span class="merged" id="all.3eLy2H.spl2" style='background-color:yellow' title="原文 : For example, the yaml below will create a simple three member cluster.">たとえば、次のyamlは単純な3つのメンバー・クラスタを作成します。</span> </p>

<pre

title="minimal.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
    replicas: 3</pre>

<p><span class="merged" id="all.1tC73T" style='background-color:yellow' title="原文 : The cluster name is storage and there will be three Pods created, storage-0, storage-1 and storage-2.">クラスタ名は<code>storage</code>で、<code>storage-0</code>、<code>storage-1</code>および<code>storage-2</code>という3つのPodが作成されます。</span></p>

<p><span class="merged" id="all.1FVnJj" style='background-color:yellow' title="原文 : To list the services running in the storage-0 Pod the following command can be run:"><code>storage-0</code> Podで実行されているサービスをリストするには、次のコマンドを実行できます:</span></p>

<pre
lang="bash"

>kubectl exec storage-0 -c coherence -- /coherence-operator/utils/cohctl get services</pre>

<p><span class="merged" id="all.47o0xF.spl1" style='background-color:yellow' title="原文 : The -c coherence option tells kubectl to exec the command in the coherence container."><code>-c coherence</code>オプションは、<code>coherence</code>コンテナでコマンドを実行するように<code>kubectl</code>に指示します。</span> <span class="merged" id="all.47o0xF.spl2" style='background-color:yellow' title="原文 : By default this is the only container that will be running in the Pod, so the option could be omitted.">デフォルトでは、これはPodで実行される唯一のコンテナであるため、オプションは省略できます。</span> <span class="merged" id="all.47o0xF.spl3" style='background-color:yellow' title="原文 : If the option is omitted, kubectl will display a warning to say it assumes you mean the coherence container.">このオプションを省略すると、<code>kubectl</code>は警告を表示して、<code>coherence</code>コンテナであることを前提とします。</span> </p>

<p><span class="merged" id="all.1XmOMX.spl1" style='background-color:yellow' title="原文 : Everything after the -- is the command to run in the Pod."><code>--</code>の後のすべてが、Podで実行するコマンドです。</span> <span class="merged" id="all.1XmOMX.spl2" style='background-color:yellow' title="原文 : In this case we execute:">この場合、次を実行します:</span> </p>

<pre
lang="bash"

>/coherence-operator/utils/cohctl get services</pre>

<p><span class="merged" id="all.2odhOh" style='background-color:yellow' title="原文 : which runs the Coherence CLI binary at /coherence-operator/utils/cohctl with the command get services.">コマンド<code>get services</code>を使用して、<code>/coherence-operator/utils/cohctl</code>でCoherence CLIバイナリを実行します。</span></p>

<p><span class="merged" id="all.4MvlDt" style='background-color:yellow' title="原文 : The output displayed by the command will look something like this:">コマンドによって表示される出力は、次のようになります:</span></p>

<pre
lang="bash"

>Using cluster connection 'default' from current context.

SERVICE NAME            TYPE              MEMBERS  STATUS HA  STORAGE  PARTITIONS
"$GRPC:GrpcProxy"       Proxy                   3  n/a             -1          -1
"$SYS:Concurrent"       DistributedCache        3  NODE-SAFE        3         257
"$SYS:ConcurrentProxy"  Proxy                   3  n/a             -1          -1
"$SYS:Config"           DistributedCache        3  NODE-SAFE        3         257
"$SYS:HealthHttpProxy"  Proxy                   3  n/a             -1          -1
"$SYS:SystemProxy"      Proxy                   3  n/a             -1          -1
ManagementHttpProxy     Proxy                   3  n/a             -1          -1
MetricsHttpProxy        Proxy                   3  n/a             -1          -1
PartitionedCache        DistributedCache        3  NODE-SAFE        3         257
PartitionedTopic        PagedTopic              3  NODE-SAFE        3         257
Proxy                   Proxy                   3  n/a             -1          -1</pre>

<p><span class="merged" id="all.3uNsSM" style='background-color:yellow' title="原文 : The exact output will vary depending on the version of Coherence and the configurations being used.">正確な出力は、Coherenceのバージョンおよび使用される構成によって異なります。</span></p>

<p><span class="merged" id="all.1SpH6K" style='background-color:yellow' title="原文 : More CLI commands can be run by changing the CLI commands specified after /coherence-operator/utils/cohctl."><code>/coherence-operator/utils/cohctl</code>の後に指定されたCLIコマンドを変更することで、さらにCLIコマンドを実行できます。</span></p>

<p><span class="merged" id="all.34Fzr" style='background-color:yellow' title="原文 : For example, to list all the members of the cluster:">たとえば、クラスタのすべてのメンバーをリストするには:</span></p>

<pre
lang="bash"

>kubectl exec storage-0 -c coherence -- /coherence-operator/utils/cohctl get members</pre>

</div>

<h3 id="_disabling_cli_access"><span class="merged" id="all.33d5Rb" style='background-color:yellow' title="原文 : Disabling CLI Access">CLIアクセスの無効化</span></h3>
<div class="section">
<p><span class="merged" id="all.em7hW.spl1" style='background-color:yellow' title="原文 : There may be certain circumstances in which you wish to disable the use of the CLI in your cluster.">クラスタ内のCLIの使用を無効にする特定の状況がある場合があります。</span> <span class="merged" id="all.em7hW.spl2" style='background-color:yellow' title="原文 : To do this, add the CLI_DISABLED env variable to you config and set to true.">これを行うには、<code>CLI_DISABLED</code>環境変数を構成に追加し、<code>true</code>に設定します。</span> </p>

<pre

title="minimal.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
    replicas: 3
    env:
     - name: "CLI_DISABLED"
       value: "true"</pre>

<p><span class="merged" id="all.3mByBF" style='background-color:yellow' title="原文 : If you try to run the CLI you will get the following message:">CLIを実行しようとすると、次のメッセージが表示されます:</span></p>

<pre


>cohctl has been disabled from running in the Coherence Operator</pre>

</div>
</div>
</doc-view>
<!-- pages/docs/management/040_ssl.js -->
<doc-view>

<h2 id="_ssl_with_management_over_rest"><span class="merged" id="all.4Li805" style='background-color:yellow' title="原文 : SSL with Management over REST">RESTでの管理によるSSL</span></h2>
<div class="section">
<p><span class="merged" id="all.4FkkOG.spl1" style='background-color:yellow' title="原文 : It is possible to configure Management over REST endpoint to use SSL to secure the communication between server and client.">SSLを使用してサーバーとクライアント間の通信を保護するように、RESTエンドポイントを介した管理を構成できます。</span> <span class="merged" id="all.4FkkOG.spl2" style='background-color:yellow' title="原文 : The SSL configuration is in the coherence.metrics.ssl section of the CRD spec.">SSL構成は、CRD仕様の<code>coherence.metrics.ssl</code>セクションにあります。</span> </p>

<p><span class="merged" id="all.6vDv5.18"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  coherence:
    management:
      enabled: true
      ssl:
        enabled: true                            <span class="conum" data-value="1" />
        keyStore: metrics-keys.jks               <span class="conum" data-value="2" />
        keyStoreType: JKS                        <span class="conum" data-value="3" />
        keyStorePasswordFile: store-pass.txt     <span class="conum" data-value="4" />
        keyPasswordFile: key-pass.txt            <span class="conum" data-value="5" />
        keyStoreProvider:                        <span class="conum" data-value="6" />
        keyStoreAlgorithm: SunX509               <span class="conum" data-value="7" />
        trustStore: metrics-trust.jks            <span class="conum" data-value="8" />
        trustStoreType: JKS                      <span class="conum" data-value="9" />
        trustStorePasswordFile: trust-pass.txt   <span class="conum" data-value="10" />
        trustStoreProvider:                      <span class="conum" data-value="11" />
        trustStoreAlgorithm: SunX509             <span class="conum" data-value="12" />
        requireClientCert: true                  <span class="conum" data-value="13" />
        secrets: metrics-secret                  <span class="conum" data-value="14" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.FuYcg" style='background-color:yellow' title="原文 : The enabled field when set to true enables SSL for metrics or when set to false disables SSL"><code>enabled</code>フィールドを<code>true</code>に設定すると、メトリクスに対してSSLが有効になるか、<code>false</code>に設定するとSSLが無効になります</span></li>
<li data-value="2"><span class="merged" id="all.2kW9G2" style='background-color:yellow' title="原文 : The keyStore field sets the name of the Java key store file that should be used to obtain the server’s key"><code>keyStore</code>フィールドでは、サーバーのキーに使用するJavaキー・ストア・ファイルの名前を設定</span></li>
<li data-value="3"><span class="merged" id="all.N3g8j" style='background-color:yellow' title="原文 : The optional keyStoreType field sets the type of the key store file, the default value is JKS">オプションの<code>keyStoreType</code>フィールドは、キー・ストア・ファイルのタイプを設定します。デフォルト値は<code>JKS</code>です</span></li>
<li data-value="4"><span class="merged" id="all.1kMUv7" style='background-color:yellow' title="原文 : The optional keyStorePasswordFile sets the name of the text file containing the key store password">オプションの<code>keyStorePasswordFile</code>は、キー・ストア・パスワードを含むテキスト・ファイルの名前を設定</span></li>
<li data-value="5"><span class="merged" id="all.1BbQr4" style='background-color:yellow' title="原文 : The optional keyPasswordFile sets the name of the text file containing the password of the key in the key store">オプションの<code>keyPasswordFile</code>は、キー・ストア内のキーのパスワードを含むテキスト・ファイルの名前を設定</span></li>
<li data-value="6"><span class="merged" id="all.XT8Ny" style='background-color:yellow' title="原文 : The optional keyStoreProvider sets the provider name for the key store">オプションの<code>keyStoreProvider</code>は、キー・ストアのプロバイダ名を設定</span></li>
<li data-value="7"><span class="merged" id="all.R70o2" style='background-color:yellow' title="原文 : The optional keyStoreAlgorithm sets the algorithm name for the key store, the default value is SunX509">オプションの<code>keyStoreAlgorithm</code>はキー・ストアのアルゴリズム名を設定します。デフォルト値は<code>SunX509</code>です</span></li>
<li data-value="8"><span class="merged" id="all.yx8Wj" style='background-color:yellow' title="原文 : The trustStore field sets the name of the Java trust store file that should be used to obtain the server’s key"><code>trustStore</code>フィールドでは、サーバーのキーに使用するJavaトラスト・ストア・ファイルの名前を設定</span></li>
<li data-value="9"><span class="merged" id="all.RttRk" style='background-color:yellow' title="原文 : The optional trustStoreType field sets the type of the trust store file, the default value is JKS">オプションの<code>trustStoreType</code>フィールドは、トラスト・ストア・ファイルのタイプを設定します。デフォルト値は<code>JKS</code>です</span></li>
<li data-value="10"><span class="merged" id="all.38syp3" style='background-color:yellow' title="原文 : The optional trustStorePasswordFile sets the name of the text file containing the trust store password">オプションの<code>trustStorePasswordFile</code>は、トラスト・ストア・パスワードを含むテキスト・ファイルの名前を設定</span></li>
<li data-value="11"><span class="merged" id="all.39748G" style='background-color:yellow' title="原文 : The optional trustStoreProvider sets the provider name for the trust store">オプションの<code>trustStoreProvider</code>は、トラスト・ストアのプロバイダ名を設定</span></li>
<li data-value="12"><span class="merged" id="all.489hfB" style='background-color:yellow' title="原文 : The optional trustStoreAlgorithm sets the algorithm name for the trust store, the default value is SunX509">オプションの<code>trustStoreAlgorithm</code>は、トラスト・ストアのアルゴリズム名を設定します。デフォルト値は<code>SunX509</code>です</span></li>
<li data-value="13"><span class="merged" id="all.Fa8yb" style='background-color:yellow' title="原文 : The optional requireClientCert field if set to true enables two-way SSL where the client must also provide a valid certificate">オプションの<code>requireClientCert</code>フィールドを<code>true</code>に設定すると、クライアントが有効な証明書も指定する必要がある双方向SSLが有効になります</span></li>
<li data-value="14"><span class="merged" id="all.i3cqR" style='background-color:yellow' title="原文 : The optional secrets field sets the name of the Kubernetes Secret to use to obtain the key store, truct store and password files from.">オプションの<code>secrets</code>フィールドは、キー・ストア、tructストアおよびパスワード・ファイルの取得に使用するKubernetes <code>Secret</code>の名前を設定します。</span></li>
</ul>
<p><span class="merged" id="all.1QAars.spl1" style='background-color:yellow' title="原文 : The various files and keystores referred to in the configuration above can be any location accessible in the image used by the coherence container in the deployment’s Pods.">前述の構成で参照される様々なファイルおよびキーストアは、デプロイメントの<code>Pods</code>の<code>coherence</code>コンテナで使用されるイメージでアクセス可能な任意のロケーションです。</span> <span class="merged" id="all.1QAars.spl2" style='background-color:yellow' title="原文 : Typically, for things such as SSL keys and certs, these would be provided by obtained from Secrets loaded as additional Pod Volumes.">通常、SSLキーや証明書などの場合、これらは追加の<code>Pod</code> <code>Volumes</code>としてロードされた<code>Secrets</code>から取得されます。</span> <span class="merged" id="all.1QAars.spl3" style='background-color:yellow' title="原文 : See Add Secrets Volumes for the documentation on how to specify secrets as additional volumes.">追加ボリュームとしてシークレットを指定する方法については、<router-link to="/docs/other/060_secret_volumes">「シークレット・ボリュームの追加」</router-link>を参照してください。</span> </p>

</div>
</doc-view>
<!-- pages/docs/management/100_tmb_test.js -->
<doc-view>

<h2 id="_coherence_network_testing"><span class="merged" id="all.1U0q5x" style='background-color:yellow' title="原文 : Coherence Network Testing">Coherenceネットワーク・テスト</span></h2>
<div class="section">
<p><span class="merged" id="all.U8TVH.spl1" style='background-color:yellow' title="原文 : Coherence provides utilities that can be used to test network performance, which obviously has a big impact on a distributed system such as Coherence.">Coherenceは、ネットワーク・パフォーマンスのテストに使用できるユーティリティを提供し、Coherenceなどの分散システムに大きな影響を与えます。</span> <span class="merged" id="all.U8TVH.spl2" style='background-color:yellow' title="原文 : The documentation for these utilities can be found in the official Coherence Documentation.">これらのユーティリティのドキュメントは、公式の<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/administer/performing-network-performance-test.html#GUID-7267AB06-6353-416E-B9FD-A75F7FBFE523" id="" target="_blank" >「Coherenceドキュメント」</a>にあります。</span> </p>

<p><span class="merged" id="all.4AqR2s.spl1" style='background-color:yellow' title="原文 : Whilst generally these tests would be run on server hardware, with more and more Coherence deployments moving into the cloud and into Kubernetes these tests can also be performed in Pods to measure inter-Pod network performance.">通常、これらのテストはサーバー・ハードウェアで実行され、クラウドおよびKubernetesに移行するCoherenceデプロイメントが増えるため、これらのテストは<code>Pods</code>でも実行して、ポッド間ネットワークのパフォーマンスを測定できます。</span> <span class="merged" id="all.4AqR2s.spl2" style='background-color:yellow' title="原文 : This test can be used to see the impact of running Pods across different zones, or on different types of Kubernetes networks, with different Pod resource settings, etc.">このテストは、異なるゾーン間で<code>Pods</code>を実行した場合、または異なるタイプのKubernetesネットワーク、異なる<code>Pod</code>リソース設定などで実行した場合の影響を確認するために使用できます。</span> </p>

</div>

<h2 id="_run_the_message_bus_test_in_pods"><span class="merged" id="all.39quIw" style='background-color:yellow' title="原文 : Run the Message Bus Test in Pods">ポッドでのMessage Busテストの実行</span></h2>
<div class="section">
<p><span class="merged" id="all.4aY7tv.spl1" style='background-color:yellow' title="原文 : The message bus test can easily be run using Pods in Kubernetes.">メッセージ・バス・テストは、Kubernetesの<code>Pods</code>を使用して簡単に実行できます。</span> <span class="merged" id="all.4aY7tv.spl2" style='background-color:yellow' title="原文 : Using the example from the Coherence documentation there will need to be two Pods, a listener and a sender.">Coherenceドキュメントの例を使用すると、リスナーと送信者の2つの<code>Pods</code>が必要です。</span> <span class="merged" id="all.4aY7tv.spl3" style='background-color:yellow' title="原文 : This example will create a Service for the listener so that the sender Pod can use the Service name to resolve the listener Pod address.">この例では、リスナーの<code>Service</code>を作成して、送信者<code>Pod</code>が<code>Service</code>名を使用してリスナーの<code>Pod</code>アドレスを解決できるようにします。</span> </p>


<h3 id="_run_the_listener_pod"><span class="merged" id="all.4HEC6Q" style='background-color:yellow' title="原文 : Run the Listener Pod">リスナー・ポッドの実行</span></h3>
<div class="section">
<p><span class="merged" id="all.3uwbLy" style='background-color:yellow' title="原文 : Create a yaml file that will create the Service and Pod for the listener:">リスナーの<code>Service</code>および<code>Pod</code>を作成する<code>yaml</code>ファイルを作成します:</span></p>

<pre
lang="yaml"
title="message-bus-listener.yaml"
>apiVersion: v1
kind: Service
metadata:
  name: message-bus-listener
spec:
  selector:
    app: message-bus-listener
  ports:
  - protocol: TCP
    port: 8000
    targetPort: mbus
---
apiVersion: v1
kind: Pod
metadata:
  name: message-bus-listener
  labels:
    app: message-bus-listener
spec:
  restartPolicy: Never
  containers:
    - name: coherence
      image: ghcr.io/oracle/coherence-ce:22.06  <span class="conum" data-value="1" />
      ports:
        - name: mbus
          containerPort: 8000
          protocol: TCP
      command:
        - java                                                   <span class="conum" data-value="2" />
        - -cp
        - /u01/oracle/oracle_home/coherence/lib/coherence.jar
        - com.oracle.common.net.exabus.util.MessageBusTest
        - -bind
        - tmb://0.0.0.0:8000</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1P7d0j" style='background-color:yellow' title="原文 : This example uses a Coherence CE image, but any image with coherence.jar in it could be used.">この例ではCoherence CEイメージを使用しますが、<code>coherence.jar</code>を含むイメージを使用できます。</span></li>
<li data-value="2"><span class="merged" id="all.2F9J2" style='background-color:yellow' title="原文 : The command line that the container will execute is exactly the same as that for the listener process in the Coherence Documentation.">コンテナが実行するコマンドラインは、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/administer/performing-network-performance-test.html#GUID-7267AB06-6353-416E-B9FD-A75F7FBFE523" id="" target="_blank" >「Coherenceドキュメント」</a>のリスナー・プロセスの場合とまったく同じです。</span></li>
</ul>
<p><span class="merged" id="all.FxiQL" style='background-color:yellow' title="原文 : Start the listener Pod:">リスナー<code>Pod</code>を起動します:</span></p>

<pre
lang="bash"

>kubectl create -f message-bus-listener.yaml</pre>

<p><span class="merged" id="all.SJLM8" style='background-color:yellow' title="原文 : Retrieving the logs for the listener Pod the messages should show that the Pod has started:">リスナー<code>Pod</code>のログを取得すると、<code>Pod</code>が起動したことを示すメッセージが表示されます:</span></p>

<pre
lang="bash"

>kubectl logs pod/message-bus-listener
OPEN event for tmb://message-bus-listener:8000</pre>

</div>

<h3 id="_run_the_sender_pod"><span class="merged" id="all.jMGT1" style='background-color:yellow' title="原文 : Run the Sender Pod">送信者ポッドの実行</span></h3>
<div class="section">
<pre
lang="yaml"
title="message-bus-sender.yaml"
>apiVersion: v1
kind: Pod
metadata:
  name: message-bus-sender
  labels:
    app: message-bus-sender
spec:
  restartPolicy: Never
  containers:
    - name: coherence
      image: ghcr.io/oracle/coherence-ce:22.06
      command:
        - java                         <span class="conum" data-value="1" />
        - -cp
        - /u01/oracle/oracle_home/coherence/lib/coherence.jar
        - com.oracle.common.net.exabus.util.MessageBusTest
        - -bind
        - tmb://0.0.0.0:8000
        - -peer
        - tmb://message-bus-listener:8000  <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2dCpCs" style='background-color:yellow' title="原文 : Again, the command line is the same as that for the sender process in the Coherence Documentation.">この場合も、コマンドラインは<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/administer/performing-network-performance-test.html#GUID-7267AB06-6353-416E-B9FD-A75F7FBFE523" id="" target="_blank" >「Coherenceドキュメント」</a>の送信者プロセスと同じです。</span></li>
<li data-value="2"><span class="merged" id="all.38owpg" style='background-color:yellow' title="原文 : The peer address uses the Service name message-bus-listener from the sender yaml."><code>peer</code>アドレスは、送信者<code>yaml</code>の<code>Service</code>名<code>message-bus-listener</code>を使用します。</span></li>
</ul>
<p><span class="merged" id="all.i8i6D" style='background-color:yellow' title="原文 : Start the sender Pod:">送信者<code>Pod</code>を起動します:</span></p>

<pre
lang="bash"

>kubectl create -f message-bus-sender.yaml</pre>

<p><span class="merged" id="all.3c5941" style='background-color:yellow' title="原文 : Retrieving the logs for the sender Pod the messages should show that the Pod has started and show the test results:">送信者<code>Pod</code>のログを取得すると、<code>Pod</code>が起動し、テスト結果が表示されます:</span></p>

<pre
lang="bash"

>kubectl logs pod/message-bus-sender
OPEN event for tmb://message-bus-sender:8000
CONNECT event for tmb://message-bus-listener:8000 on tmb://message-bus-sender:8000
now:  throughput(out 34805msg/s 1.14gb/s, in 348msg/s 11.3mb/s), latency(response(avg 25.31ms, effective 110.03ms, min 374.70us, max 158.10ms), receipt 25.47ms), backlog(out 77% 83/s 308KB, in 0% 0/s 0B), connections 1, errors 0
now:  throughput(out 34805msg/s 1.14gb/s, in 348msg/s 11.3mb/s), latency(response(avg 25.31ms, effective 110.03ms, min 374.70us, max 158.10ms), receipt 25.47ms), backlog(out 77% 83/s 308KB, in 0% 0/s 0B), connections 1, errors 0</pre>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.8"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.EAnTt" style='background-color:yellow' title="原文 : Don’t forget to stop the Pods after obtaining the results:">結果の取得後に<code>Pods</code>を停止することを忘れないでください:</span></p>

<pre
lang="bash"

>kubectl delete -f message-bus-sender.yaml
kubectl delete -f message-bus-listener.yaml</pre>
</p>
</div>
</div>

<h3 id="_run_pods_on_specific_nodes"><span class="merged" id="all.WBseU" style='background-color:yellow' title="原文 : Run Pods on Specific Nodes">特定のノードでのポッドの実行</span></h3>
<div class="section">
<p><span class="merged" id="all.3clR3v.spl1" style='background-color:yellow' title="原文 : In the example above the Pods will be scheduled wherever Kubernetes decides to put them.">前述の例では、<code>Pods</code>は、Kubernetesが配置を決定した場所にスケジュールされます。</span> <span class="merged" id="all.3clR3v.spl2" style='background-color:yellow' title="原文 : This could have a big impact on the test result for different test runs.">これは、異なるテスト実行のテスト結果に大きな影響を与える可能性があります。</span> <span class="merged" id="all.3clR3v.spl3" style='background-color:yellow' title="原文 : For example in a Kubernetes cluster that spans zones and data centres, if the two Pods get scheduled in different data centres this will have worse results than if the two Pods get scheduled onto the same node.">たとえば、ゾーンとデータ・センターにまたがるKubernetesクラスタでは、2つの<code>Pods</code>が異なるデータ・センターでスケジュールされる場合、2つの<code>Pods</code>が同じノードにスケジュールされている場合よりも、結果が大幅に低下します。</span> </p>

<p><span class="merged" id="all.2KnJyy" style='background-color:yellow' title="原文 : To get consistent results add node selectors, taints, tolerations etc, as covered in the Kubernetes assign Pods to Nodes documentation.">一貫性のある結果を得るには、Kubernetes <a href="https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/" id="" target="_blank" >「ノードにポッドを割り当てる」</a>ドキュメントで説明するように、ノード・セレクタ、taints、tolerationsなどを追加します。</span></p>

</div>
</div>
</doc-view>
<!-- pages/docs/metrics/010_overview.js -->
<doc-view>

<h2 id="_overview"><span class="merged" id="all.YrpRV.5"  title="原文:: Overview">概要</span></h2>
<div class="section">
<p><span class="merged" id="all.479oNH" style='background-color:yellow' title="原文 : Coherence metrics can be used in a cluster deployed in Kubernetes.">Coherenceメトリクスは、Kubernetesにデプロイされたクラスタで使用できます。</span></p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.15KdoS" style='background-color:yellow' title="原文 : Note: Use of Coherence metrics is available only when using the operator with clusters running Coherence version 12.2.1.4 or later.">ノート: Coherenceメトリクスの使用は、Coherenceバージョン12.2.1.4以降を実行しているクラスタでオペレータを使用する場合のみ使用できます。</span></p>
</div>
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/metrics/020_metrics"><div class="card__link-hover"/>
<span class="merged" id="all.3Phtua" style='background-color:yellow' title="原文 :  Metrics "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">メトリクス</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.3bzeSb" style='background-color:yellow' title="原文 : Enabling the Coherence metrics feature.">Coherenceメトリクス機能の有効化。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/metrics/030_importing"><div class="card__link-hover"/>
<span class="merged" id="all.4H9J30" style='background-color:yellow' title="原文 :  Importing Grafana Dashboards "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Grafanaダッシュボードのインポート</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.fHiHN" style='background-color:yellow' title="原文 : Importing the Coherence Grafana Dashboards.">Coherence Grafanaダッシュボードのインポート。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/metrics/040_dashboards"><div class="card__link-hover"/>
<span class="merged" id="all.4dQayW" style='background-color:yellow' title="原文 :  Using Grafana Dashboards "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Grafanaダッシュボードの使用</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1y3Att" style='background-color:yellow' title="原文 : Using the Coherence Grafana Dashboards.">CoherenceのGrafanaダッシュボードの使用。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/metrics/050_ssl"><div class="card__link-hover"/>
<span class="merged" id="all.2D8rDz.1" style='background-color:yellow' title="原文 :  SSL "></router-link> <v-card-title primary class="headline layout justify-center"> <span style="text-align:center">SSL</span> </v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2dn1BP" style='background-color:yellow' title="原文 : Enable SSL on the metrics endpoint.">メトリクス・エンドポイントでSSLを有効にします。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</doc-view>
<!-- pages/docs/metrics/020_metrics.js -->
<doc-view>

<h2 id="_publish_metrics"><span class="merged" id="all.nxequ" style='background-color:yellow' title="原文 : Publish Metrics">メトリクスの公開</span></h2>
<div class="section">
<p><span class="merged" id="all.2Af6Ae.spl1" style='background-color:yellow' title="原文 : Since version 12.2.1.4 Coherence has had the ability to expose a http endpoint that can be used to scrape metrics.">バージョン12.2.1.4のCoherenceには、メトリクスのスクレイプに使用できるhttpエンドポイントを公開する機能がありました。</span> <span class="merged" id="all.2Af6Ae.spl2" style='background-color:yellow' title="原文 : This would typically be used to expose metrics to something like Prometheus.">これは通常、メトリクスをPrometheusのように公開するために使用されます。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.2eeySd.spl1" style='background-color:yellow' title="原文 : The default metrics endpoint is disabled by default in Coherence clusters but can be enabled and configured by setting the relevant fields in the Coherence CRD.">デフォルトのメトリクス・エンドポイントは、Coherenceクラスタではデフォルトで<strong>「無効」</strong>ですが、<code>Coherence</code> CRDの関連フィールドを設定して有効化および構成できます。</span> <span class="merged" id="all.2eeySd.spl2" style='background-color:yellow' title="原文 : If your Coherence version is before CE 21.12.1 this example assumes that your application has included the coherence-metrics module as a dependency.">CoherenceバージョンがCE 21.12.1より前の場合、この例では、アプリケーションが<code>coherence-metrics</code>モジュールを依存関係として含めたことを想定しています。</span> <span class="merged" id="all.2eeySd.spl3" style='background-color:yellow' title="原文 : See the Coherence product documentation for more details on enabling metrics in your application.">アプリケーションでのメトリクスの有効化の詳細は、Coherence製品のドキュメントを参照してください。</span> </p>
</div>
<p><span class="merged" id="all.2odRy5" style='background-color:yellow' title="原文 : The example below shows how to enable and access Coherence metrics.">次の例は、Coherenceメトリクスを有効にしてアクセスする方法を示しています。</span></p>

<p><span class="merged" id="all.323cf1" style='background-color:yellow' title="原文 : Once the metrics port has been exposed, for example via a load balancer or port-forward command, the metrics endpoint is available at http://host:port/metrics.">メトリクス・ポートがロード・バランサやport-forwardコマンドを介して公開されると、メトリクス・エンドポイントは<code><a href="http://host:port/metrics" id="" target="_blank" >http://host:port/metrics</a></code>にあります。</span></p>

<p><span class="merged" id="all.2qeSht" style='background-color:yellow' title="原文 : See the Using Coherence Metrics documentation for full details on the available metrics.">使用可能なメトリクスの詳細は、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/manage/using-coherence-metrics.html" id="" target="_blank" >「Coherenceメトリクスの使用」</a>ドキュメントを参照してください。</span></p>


<h3 id="_deploy_coherence_with_metrics_enabled"><span class="merged" id="all.22Nga4" style='background-color:yellow' title="原文 : Deploy Coherence with Metrics Enabled">メトリクスの有効化によるCoherenceのデプロイ</span></h3>
<div class="section">
<p><span class="merged" id="all.14t49U" style='background-color:yellow' title="原文 : To deploy a Coherence resource with metrics enabled and exposed on a port, the simplest yaml would look like this:">メトリクスが有効でポートで公開されている<code>Coherence</code>リソースをデプロイするには、最も単純なyamlは次のようになります:</span></p>

<pre
lang="yaml"
title="metrics-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: metrics-cluster
spec:
  coherence:
    metrics:
      enabled: true     <span class="conum" data-value="1" />
  ports:
    - name: metrics  <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.dK9X8" style='background-color:yellow' title="原文 : Setting the coherence.metrics.enabled field to true will enable metrics"><code>coherence.metrics.enabled</code>フィールドを<code>true</code>に設定すると、メトリクスが有効になります</span></li>
<li data-value="2"><span class="merged" id="all.2bZx28.spl1" style='background-color:yellow' title="原文 : To expose metrics via a Service it is added to the ports list."><code>Service</code>を介してメトリクスを公開するには、<code>ports</code>リストに追加されます。</span> <span class="merged" id="all.2bZx28.spl2" style='background-color:yellow' title="原文 : The metrics port is a special case where the port number is optional so in this case metrics will bind to the default port 9612. (see Exposing Ports for details)"><code>metrics</code>ポートは、<code>port</code>番号がオプションであるため、この場合はメトリクスがデフォルトのポート<code>9612</code>にバインドされます(詳細は、<router-link @click.native="this.scrollFix('#ports/020_container_ports.adoc')" to="#ports/020_container_ports.adoc">「ポートの公開」</router-link>を参照)</span> </li>
</ul>

<h4 id="_expose_metrics_on_a_different_port"><span class="merged" id="all.4E5ZbA" style='background-color:yellow' title="原文 : Expose Metrics on a Different Port">別のポートでのメトリクスの公開</span></h4>
<div class="section">
<p><span class="merged" id="all.4V7F0I" style='background-color:yellow' title="原文 : To expose metrics on a different port the alternative port value can be set in the coherence.metrics section, for example:">別のポートでメトリクスを公開するには、<code>coherence.metrics</code>セクションで代替ポート値を設定できます。次に例を示します:</span></p>

<pre
lang="yaml"
title="metrics-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: metrics-cluster
spec:
  coherence:
    metrics:
      enabled: true
      port: 8080      <span class="conum" data-value="1" />
  ports:
    - name: metrics</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1ti2Gr" style='background-color:yellow' title="原文 : metrics will now be exposed on port 8080">メトリクスがポート<code>8080</code>で公開されるようになります</span></li>
</ul>
</div>
</div>

<h3 id="_port_forward_the_metrics_port"><span class="merged" id="all.1OOuW9" style='background-color:yellow' title="原文 : Port-forward the Metrics Port">メトリクス・ポートのポート転送</span></h3>
<div class="section">
<p><span class="merged" id="all.siVg7" style='background-color:yellow' title="原文 : After installing the basic metrics-cluster.yaml from the first example above there would be a three member Coherence cluster installed into Kubernetes.">上の最初の例から基本的な<code>metrics-cluster.yaml</code>をインストールすると、3つのメンバーCoherenceクラスタがKubernetesにインストールされます。</span></p>

<p><span class="merged" id="all.pMJUa.1" style='background-color:yellow' title="原文 : For example, the cluster can be installed with kubectl">たとえば、<code>kubectl</code>を使用してクラスタをインストールできます</span></p>

<pre
lang="bash"

>kubectl -n coherence-test create -f metrics-cluster.yaml

coherence.coherence.oracle.com/metrics-cluster created</pre>

<p><span class="merged" id="all.4Z0Y0O.1" style='background-color:yellow' title="原文 : The kubectl CLI can be used to list Pods for the cluster:"><code>kubectl</code> CLIを使用して、クラスタの<code>Pods</code>をリストできます:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test get pod -l coherenceCluster=metrics-cluster

NAME                   READY   STATUS    RESTARTS   AGE
metrics-cluster-0   1/1     Running   0          36s
metrics-cluster-1   1/1     Running   0          36s
metrics-cluster-2   1/1     Running   0          36s</pre>

<p><span class="merged" id="all.2Dp1Jz.1.spl1" style='background-color:yellow' title="原文 : In a test or development environment the simplest way to reach an exposed port is to use the kubectl port-forward command.">テストまたは開発環境では、公開されたポートに到達する最も簡単な方法は、<code>kubectl port-forward</code>コマンドを使用することです。</span> <span class="merged" id="all.2Dp1Jz.1.spl2" style='background-color:yellow' title="原文 : For example to connect to the first Pod in the deployment:">たとえば、デプロイメントの最初の<code>Pod</code>に接続するには:</span> </p>

<pre
lang="bash"

>kubectl -n coherence-test port-forward metrics-cluster-0 9612:9612

Forwarding from [::1]:9612 -&gt; 9612
Forwarding from 127.0.0.1:9612 -&gt; 9612</pre>

</div>

<h3 id="_access_the_metrics_endpoint"><span class="merged" id="all.1jbewd" style='background-color:yellow' title="原文 : Access the Metrics Endpoint">メトリクス・エンドポイントへのアクセス</span></h3>
<div class="section">
<p><span class="merged" id="all.4Dnp4a" style='background-color:yellow' title="原文 : Now that a port has been forwarded from localhost to a Pod in the cluster the metrics endpoint can be accessed.">これで、ポートがローカル・ホストからクラスタ内の<code>Pod</code>に転送されたので、メトリクス・エンドポイントにアクセスできます。</span></p>

<p><span class="merged" id="all.13frAM.1" style='background-color:yellow' title="原文 : Issue the following curl command to access the REST endpoint:">次の<code>curl</code>コマンドを発行して、RESTエンドポイントにアクセスします:</span></p>

<pre
lang="bash"

>curl http://127.0.0.1:9612/metrics</pre>

</div>
</div>

<h2 id="_prometheus_service_monitor"><span class="merged" id="all.3MgUyM" style='background-color:yellow' title="原文 : Prometheus Service Monitor">Prometheusサービス・モニター</span></h2>
<div class="section">
<p><span class="merged" id="all.IpWTb" style='background-color:yellow' title="原文 : The operator can create a Prometheus ServiceMonitor for the metrics port so that Prometheus will automatically scrape metrics from the Pods in a Coherence deployment.">オペレータはメトリクス・ポートのPrometheus <code>ServiceMonitor</code>を作成して、Prometheusが<code>Coherence</code>デプロイメントの<code>Pods</code>からメトリクスを自動的にスクレイプできるようにします。</span></p>

<pre
lang="yaml"
title="metrics-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: metrics-cluster
spec:
  coherence:
    metrics:
      enabled: true
  ports:
    - name: metrics
      serviceMonitor:
        enabled: true  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3qcnHX" style='background-color:yellow' title="原文 : The serviceMonitor.enabled field is set to true for the metrics port."><code>metrics</code>ポートの<code>serviceMonitor.enabled</code>フィールドは<code>true</code>に設定されます。</span></li>
</ul>
<p><span class="merged" id="all.2hq1PR" style='background-color:yellow' title="原文 : See Exposing ports and Services - Service Monitors documentation for more details.">詳細は、<router-link @click.native="this.scrollFix('#ports/040_servicemonitors.adoc')" to="#ports/040_servicemonitors.adoc">「ポートおよびサービスの表示 - サービス・モニター」</router-link>のドキュメントを参照してください。</span></p>

</div>
</doc-view>
<!-- pages/docs/metrics/030_importing.js -->
<doc-view>

<h2 id="_importing_the_coherence_dashboards"><span class="merged" id="all.3xUzQ4" style='background-color:yellow' title="原文 : Importing the Coherence Dashboards">Coherenceダッシュボードのインポート</span></h2>
<div class="section">
<p><span class="merged" id="all.vXjuz.spl1" style='background-color:yellow' title="原文 : The Coherence Operator provides a set of dashboards for Coherence that may be imported into Grafana.">Coherence Operatorには、GrafanaにインポートできるCoherence用の一連のダッシュボードが用意されています。</span> <span class="merged" id="all.vXjuz.spl2" style='background-color:yellow' title="原文 : The Coherence dashboards are explained in detail on the Coherence Grafana Dashboards page.">Coherenceダッシュボードの詳細は、<router-link @click.native="this.scrollFix('#040_dashboards.adoc')" to="#040_dashboards.adoc">「Coherence Grafanaダッシュボード」</router-link>ページで説明します。</span> </p>

<p><span class="merged" id="all.22pVn" style='background-color:yellow' title="原文 : There are two ways to obtain the dashboards:">ダッシュボードを取得するには、次の2つの方法があります:</span></p>

<p><span class="merged" id="all.33off2" style='background-color:yellow' title="原文 : 1 - Download the .tar.gz dashboards package for the release you want to use.">1 - 使用するリリースの<code>.tar.gz</code>ダッシュボード・パッケージをダウンロードします。</span></p>

<pre
lang="bash"

>curl https://oracle.github.io/coherence-operator/dashboards/latest/coherence-dashboards.tar.gz \
    -o coherence-dashboards.tar.gz
tar -zxvf coherence-dashboards.tar.gz</pre>

<p><span class="merged" id="all.mKukc.spl1" style='background-color:yellow' title="原文 : The above commands will download the coherence-dashboards.tar.gz file and unpack it resulting in a directory named dashboards/ in the current working directory.">前述のコマンドは、<code>coherence-dashboards.tar.gz</code>ファイルをダウンロードし、解凍して、現在の作業ディレクトリに<code>dashboards/</code>という名前のディレクトリを作成します。</span> <span class="merged" id="all.mKukc.spl2" style='background-color:yellow' title="原文 : This dashboards/ directory will contain the various Coherence dashboard files.">この<code>dashboards/</code>ディレクトリには、様々なCoherenceダッシュボード・ファイルが含まれます。</span> </p>

<p><span class="merged" id="all.s3P58" style='background-color:yellow' title="原文 : 2 - Clone the Coherence Operator GitHub repo, checkout the branch or tag for the version you want to use and then obtain the dashboards from the dashboards/ directory.">2 - Coherence Operator GitHubリポジトリをクローニングし、使用するバージョンのブランチまたはタグをチェックアウトし、<code>dashboards/</code>ディレクトリからダッシュボードを取得します。</span></p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.xWyRP.spl1" style='background-color:yellow' title="原文 : The recommended versions of Grafana to use are: 8.5.6 or 6.7.4.">使用するGrafanaの推奨バージョンは次のとおりです: <code>8.5.6</code>または<code>6.7.4</code>。</span> <span class="merged" id="all.xWyRP.spl2" style='background-color:yellow' title="原文 : It is not yet recommended to use the 9.x versions of Grafana as there are a number of bugs that cause issues when using the dashboards.">ダッシュボードの使用時に問題が発生するバグが多数あるため、<code>9.x</code>バージョンのGrafanaを使用することはまだお薦めしません。</span> </p>
</div>
</div>

<h2 id="_import_the_dashboards_into_grafana"><span class="merged" id="all.3RkvGU" style='background-color:yellow' title="原文 : Import the Dashboards into Grafana.">ダッシュボードをGrafanaにインポートします。</span></h2>
<div class="section">
<p><span class="merged" id="all.48acbp.spl1" style='background-color:yellow' title="原文 : This section shows you how to import the Grafana dashboards into your own Grafana instance.">この項では、Grafanaダッシュボードを独自のGrafanaインスタンスにインポートする方法を示します。</span> <span class="merged" id="all.48acbp.spl2" style='background-color:yellow' title="原文 : Once you have obtained the dashboards using one of the methods above, the Grafana dashboard .json files will be in the dashboards/grafana/ subdirectory">前述のメソッドのいずれかを使用してダッシュボードを取得すると、Grafanaダッシュボードの<code>.json</code>ファイルが<code>dashboards/grafana/</code>サブディレクトリに格納されます</span> </p>

<div class="admonition important">
<p class="admonition-textlabel"><span class="merged" id="all.1K6f2p.3"  title="原文:: Important">重要</span></p>
<p ><p><span class="merged" id="all.1ShKUZ.spl1" style='background-color:yellow' title="原文 : By default, the Coherence dashboards require a datasource in Grafana named prometheus (which is case-sensitive).">デフォルトでは、Coherenceダッシュボードには<code>prometheus</code>という名前のGrafanaのデータソースが必要です(大/小文字が区別されます)。</span> <span class="merged" id="all.1ShKUZ.spl2" style='background-color:yellow' title="原文 : This datasource usually exists in an out-of-the-box Prometheus Operator installation.">通常、このデータソースは、すぐに使用できるPrometheusオペレータ・インストールに存在します。</span> <span class="merged" id="all.1ShKUZ.spl3" style='background-color:yellow' title="原文 : If your Grafana environment does not have this datasource, then there are two choices.">Grafana環境にこのデータソースがない場合は、2つの選択肢があります。</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2PAp2E" style='background-color:yellow' title="原文 : Create a Prometheus datasource named prometheus as described in the Grafana Add a Datasource documentation and make this the default datasource."><a href="https://grafana.com/docs/grafana/latest/datasources/add-a-data-source/" id="" target="_blank" >「Grafanaデータソースの追加」</a>ドキュメントの説明に従って、<code>prometheus</code>という名前のPrometheusデータソースを作成し、これをデフォルト・データソースにします。</span></p>

</li>
<li>
<p><span class="merged" id="all.3EAS5m.spl1" style='background-color:yellow' title="原文 : If you have an existing Prometheus datasource with a different name then you will need to edit the dashboard json files to change all occurrences of &quot;datasource&quot;: &quot;prometheus&quot; to have the name of your Prometheus datasource.">別の名前の既存のPrometheusデータソースがある場合、ダッシュボードのjsonファイルを編集して、<code>"datasource": "prometheus"</code>のすべての出現箇所をPrometheusデータソースの名前に変更する必要があります。</span> <span class="merged" id="all.3EAS5m.spl2" style='background-color:yellow' title="原文 : For example, running the script below in the directory containing the datasource .json files to be imported will change the datasource name from prometheus to Coherence-Prometheus.">たとえば、インポートするデータソース<code>.json</code>ファイルを含むディレクトリで次のスクリプトを実行すると、データソース名が<code>prometheus</code>から<code>Coherence-Prometheus</code>に変更されます。</span> </p>

</li>
</ul>
<div class="listing">
<pre>for file in *.json
do
    sed -i '' -e 's/"datasource": "prometheus"/"datasource": "Coherence-Prometheus"/g' $file;
done</pre>
</div>

<p><span class="merged" id="all.2nmn94" style='background-color:yellow' title="原文 : The above sed command works for MacOS, but if you are running on Linux you need to remove the &apos;&apos; after the -i.">前述のsedコマンドはMacOSに対して機能しますが、Linuxで実行している場合は、<code>-i</code>の後に<code>''</code>を削除する必要があります。</span></p>
</p>
</div>

<h3 id="_manually_import_grafana_dashboards"><span class="merged" id="all.1pVGp4" style='background-color:yellow' title="原文 : Manually Import Grafana Dashboards">Grafanaダッシュボードの手動インポート</span></h3>
<div class="section">
<p><span class="merged" id="all.4RCzH9" style='background-color:yellow' title="原文 : The dashboard .json files can be manually imported into Grafana using the Grafana UI following the instructions in the Grafana Import Dashboards documentation.">♪ダッシュボード<code>.json</code>ファイルは、<a href="https://grafana.com/docs/grafana/latest/dashboards/build-dashboards/import-dashboards/" id="" target="_blank" >「Grafanaダッシュボードのインポート」</a>ドキュメントの指示に従ってGrafana UIを使用して、Grafanaに手動でインポートできます。</span></p>

</div>

<h3 id="_bulk_import_grafana_dashboards"><span class="merged" id="all.l3Q8b" style='background-color:yellow' title="原文 : Bulk Import Grafana Dashboards">Grafanaダッシュボードの一括インポート</span></h3>
<div class="section">
<p><span class="merged" id="all.33L9Wq.spl1" style='background-color:yellow' title="原文 : At the time of writing, for whatever reason, Grafana does not provide a simple way to bulk import a set of dashboard files.">書込み時に、なんらかの理由で、Grafanaでは一連のダッシュボード・ファイルを一括インポートする簡単な方法はありません。</span> <span class="merged" id="all.33L9Wq.spl2" style='background-color:yellow' title="原文 : There are many examples and scripts on available in the community that show how to do this.">この方法を示す多くの例とスクリプトがコミュニティで使用可能です。</span> <span class="merged" id="all.33L9Wq.spl3" style='background-color:yellow' title="原文 : The Coherence Operator source contains a script that can be used for this purpose grafana-import.sh">Coherence Operatorソースには、この目的のために<a href="https://github.com/oracle/coherence-operator/raw/main/hack/grafana-import.sh" id="" target="_blank" >grafana-import.sh</a>に使用できるスクリプトが含まれています</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.4L3zT7" style='background-color:yellow' title="原文 : The grafana-import.sh script requires the JQ utility to parse json."><code>grafana-import.sh</code>スクリプトでは、jsonを解析するために<a href="https://stedolan.github.io/jq/" id="" target="_blank" >JQ</a>ユーティリティが必要です。</span></p>
</div>
<p><span class="merged" id="all.Rc3aU.spl1" style='background-color:yellow' title="原文 : The commands below will download and run the shell script to import the dashboards.">次のコマンドは、ダッシュボードをインポートするためにシェル・スクリプトをダウンロードして実行します。</span> <span class="merged" id="all.Rc3aU.spl2" style='background-color:yellow' title="原文 : Change the &lt;GRAFANA-USER&gt; and &lt;GRAFANA_PWD&gt; to the Grafana credentials for your environment."><code>&lt;GRAFANA-USER></code>および<code>&lt;GRAFANA_PWD></code>を環境のGrafana資格証明に変更します。</span> <span class="merged" id="all.Rc3aU.spl3" style='background-color:yellow' title="原文 : For example if using the default Prometheus Operator installation they are as specified on the Access Grafana section of the Quick Start page.">たとえば、デフォルトのPrometheusオペレータ・インストールを使用する場合、<a href="https://prometheus-operator.dev/docs/getting-started/quick-start/#access-grafana" id="" target="_blank" >「クイック・スタートのGrafanaセクションにアクセス」</a>ページで指定されているようになります。</span> <span class="merged" id="all.Rc3aU.spl4" style='background-color:yellow' title="原文 : We do not document the credentials here as the default values have been known to change between Prometheus Operator and Grafana versions.">PrometheusオペレータとGrafanaバージョン間で変更することがわかっているため、ここで資格証明を文書化しません。</span> </p>

<pre
lang="bash"

>curl -Lo grafana-import.sh https://github.com/oracle/coherence-operator/raw/main/hack/grafana-import.sh
chmod +x grafana-import.sh</pre>

<pre
lang="bash"

>./grafana-import.sh -u &lt;GRAFANA-USER&gt; -w &lt;GRAFANA_PWD&gt; -d dashboards/grafana -t localhost:3000</pre>

<p><span class="merged" id="all.yBs4L.spl1" style='background-color:yellow' title="原文 : Note: the command above assumes you can reach Grafana on localhost:3000 (for example, if you have a kubectl port forward process running to forward localhost:3000 to the Grafana service in Kubernetes).">ノート: 前述のコマンドは、<code>localhost:3000</code>でGrafanaに到達できることを前提としています(たとえば、kubectlポート転送プロセスがlocalhost:3000をKubernetesのGrafanaサービスに転送するために実行されている場合)。</span> <span class="merged" id="all.yBs4L.spl2" style='background-color:yellow' title="原文 : You may need to change the host and port to match however you are exposing your Grafana instance.">Grafanaインスタンスを公開していますが、一致するようにホストおよびポートを変更する必要がある場合があります。</span> </p>

<p><span class="merged" id="all.3gcKMR.spl1" style='background-color:yellow' title="原文 : Coherence clusters can now be created as described in the Publish Metrics page, and metrics will eventually appear in Prometheus and Grafana."><router-link to="/docs/metrics/020_metrics">「メトリクスの公開」</router-link>ページの説明に従ってCoherenceクラスタを作成できるようになり、メトリクスは最終的にPrometheusおよびGrafanaに表示されます。</span> <span class="merged" id="all.3gcKMR.spl2" style='background-color:yellow' title="原文 : It can sometimes take a minute or so for Prometheus to start scraping metrics and for them to appear in Grafana.">Prometheusがメトリクスのスクレイピングを開始し、Grafanaに表示されるまで、1分間かかる場合があります。</span> </p>

</div>
</div>
</doc-view>
<!-- pages/docs/metrics/040_dashboards.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.wGvY3" style='background-color:yellow' title="原文 : Coherence Grafana Dashboards">Coherence Grafanaダッシュボード</span></dt>
<dd slot="desc"><p><span class="merged" id="all.1jvjMX" style='background-color:yellow' title="原文 : The Coherence Operator provides detailed Grafana dashboards to provide insight into your running Coherence Clusters.">Coherence Operatorには、実行中のCoherenceクラスタに関するインサイトを提供する詳細なGrafanaダッシュボードが用意されています。</span></p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_coherence_grafana_dashboards"><span class="merged" id="all.wGvY3.1" style='background-color:yellow' title="原文 : Coherence Grafana Dashboards">Coherence Grafanaダッシュボード</span></h2>
<div class="section">
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.D3icp" style='background-color:yellow' title="原文 : Note: The Grafana dashboards require Coherence metrics, which is available only when using Coherence version 12.2.1.4 or above.">ノート: GrafanaダッシュボードにはCoherenceメトリクスが必要です。これは、Coherenceバージョン12.2.1.4以上を使用している場合にのみ使用できます。</span></p>
</div>
</div>

<h2 id="_table_of_contents"><span class="merged" id="all.2jNfVE.2"  title="原文:: Table of Contents">目次</span></h2>
<div class="section">
<ol style="margin-left: 15px;">
<li>
<span class="merged" id="all.4ZBAES" style='background-color:yellow' title="原文 : Navigation"><router-link @click.native="this.scrollFix('#navigation')" to="#navigation">ナビゲーション</router-link></span>

</li>
<li>
<span class="merged" id="all.1LD6qN.1" style='background-color:yellow' title="原文 : Dashboards"><router-link @click.native="this.scrollFix('#dashboards')" to="#dashboards">ダッシュボード</router-link></span>
<ol style="margin-left: 15px;">
<li>
<span class="merged" id="all.USOzz" style='background-color:yellow' title="原文 : Coherence Dashboard Main"><router-link @click.native="this.scrollFix('#main')" to="#main">Coherenceダッシュボード・メイン</router-link></span>

</li>
<li>
<span class="merged" id="all.3WOFuz" style='background-color:yellow' title="原文 : Members Summary &amp; Details Dashboards"><router-link @click.native="this.scrollFix('#members')" to="#members">メンバー・サマリー&amp;詳細ダッシュボード</router-link></span>

</li>
<li>
<span class="merged" id="all.GOaxT" style='background-color:yellow' title="原文 : Services Summary &amp; Details Dashboards"><router-link @click.native="this.scrollFix('#services')" to="#services">サービス・サマリー&amp;詳細ダッシュボード</router-link></span>

</li>
<li>
<span class="merged" id="all.3bUYNs" style='background-color:yellow' title="原文 : Caches Summary &amp; Detail Dashboards"><router-link @click.native="this.scrollFix('#caches')" to="#caches">キャッシュ・サマリー&amp;詳細ダッシュボード</router-link></span>

</li>
<li>
<span class="merged" id="all.QNIFM" style='background-color:yellow' title="原文 : Proxy Servers Summary &amp; Detail Dashboards"><router-link @click.native="this.scrollFix('#proxies')" to="#proxies">プロキシ・サーバーのサマリー&amp;詳細ダッシュボード</router-link></span>

</li>
<li>
<span class="merged" id="all.4WeErH" style='background-color:yellow' title="原文 : Persistence Summary Dashboard"><router-link @click.native="this.scrollFix('#persistence')" to="#persistence">永続性サマリー・ダッシュボード</router-link></span>

</li>
<li>
<span class="merged" id="all.42WUcq" style='background-color:yellow' title="原文 : Federation Summary &amp; Details Dashboards"><router-link @click.native="this.scrollFix('#federation')" to="#federation">フェデレーション・サマリー&amp;詳細ダッシュボード</router-link></span>

</li>
<li>
<span class="merged" id="all.1dlqhn" style='background-color:yellow' title="原文 : Machines Summary Dashboard"><router-link @click.native="this.scrollFix('#machines')" to="#machines">マシン・サマリー・ダッシュボード</router-link></span>

</li>
<li>
<span class="merged" id="all.iCq4S" style='background-color:yellow' title="原文 : HTTP Servers Summary Dashboard"><router-link @click.native="this.scrollFix('#http')" to="#http">HTTPサーバー・サマリー・ダッシュボード</router-link></span>

</li>
<li>
<span class="merged" id="all.c3lQa" style='background-color:yellow' title="原文 : Elastic Data Summary Dashboard"><router-link @click.native="this.scrollFix('#ed')" to="#ed">エラスティック・データ・サマリー・ダッシュボード</router-link></span>

</li>
<li>
<span class="merged" id="all.413s41" style='background-color:yellow' title="原文 : Executors Summary &amp; Details Dashboards"><router-link @click.native="this.scrollFix('#executors')" to="#executors">エグゼキュータ・サマリー&amp;詳細ダッシュボード</router-link></span>

</li>
</ol>
</li>
</ol>
</div>

<h2 id="navigation"><span class="merged" id="all.7GuPH"  title="原文:: Navigation">ナビゲーション</span></h2>
<div class="section">
<p><span class="merged" id="all.2KT7sl" style='background-color:yellow' title="原文 : The pre-loaded Coherence Dashboards provide a number of common features and navigation capabilities that appear at the top of most dashboards.">事前ロード済のCoherenceダッシュボードには、ほとんどのダッシュボードの上部に表示される多くの共通機能およびナビゲーション機能があります。</span></p>


<h3 id="_variables"><span class="merged" id="all.BcB4E"  title="原文:: Variables">変数</span></h3>
<div class="section">
<p><img alt="変数" src="./images/grafana-variables.png" width="250" />
</p>

<p><span class="merged" id="all.3SUfnI" style='background-color:yellow' title="原文 : Allows for selection of information to be displayed where there is more than one item.">複数のアイテムがある場所に表示される情報の選択を許可します。</span></p>

<ol style="margin-left: 15px;">
<li>
<span class="merged" id="all.1qnymn" style='background-color:yellow' title="原文 : Cluster Name - Allows selection of the cluster to view metrics for">クラスタ名 - クラスタを選択してメトリクスを表示できます</span>

</li>
<li>
<span class="merged" id="all.29WWGo" style='background-color:yellow' title="原文 : Top N Limit - Limits the display of Top values for tables that support it">上位N制限 - それをサポートする表の<code>Top</code>値の表示を制限</span>

</li>
<li>
<span class="merged" id="all.UTLHK" style='background-color:yellow' title="原文 : Service Name, Member Name, Cache Name - These will appear on various dashboards">サービス名、メンバー名、キャッシュ名 - これらは様々なダッシュボードに表示されます</span>

</li>
</ol>
<p><span class="merged" id="all.3N2rdR" style='background-color:yellow' title="原文 : See the Grafana Documentation for more information on Variables.">変数の詳細は、<a href="https://grafana.com/docs/reference/templating/" id="" target="_blank" >「Grafanaドキュメント」</a>を参照してください。</span></p>

</div>

<h3 id="_annotations"><span class="merged" id="all.3lxl1W"  title="原文:: Annotations">注釈</span></h3>
<div class="section">
<p><img alt="注釈" src="./images/grafana-annotations.png" width="250" />
</p>

<p><span class="merged" id="all.jO5Rb" style='background-color:yellow' title="原文 : Vertical red lines on a graph to indicate a change in a key markers such as:">グラフの垂直赤線で、次のようなキー・マーカーの変更を示します:</span></p>

<ol style="margin-left: 15px;">
<li>
<span class="merged" id="all.2gnaAM" style='background-color:yellow' title="原文 : Show Cluster Size Changes - Displays when the cluster size has changed">クラスタ・サイズの変更の表示 - クラスタ・サイズが変更された場合に表示されます</span>

</li>
<li>
<span class="merged" id="all.OO8Hg" style='background-color:yellow' title="原文 : Show Partition Transfers - Displays when partition transfers have occurred">パーティション転送の表示 - パーティション転送が発生した日時を表示</span>

</li>
</ol>
<p><span class="merged" id="all.3Tunbk" style='background-color:yellow' title="原文 : See the Grafana Documentation for more information on Annotations.">注釈の詳細は、<a href="https://grafana.com/docs/reference/annotations/" id="" target="_blank" >「Grafanaドキュメント」</a>を参照してください。</span></p>

</div>

<h3 id="_navigation"><span class="merged" id="all.7GuPH.1"  title="原文:: Navigation">ナビゲーション</span></h3>
<div class="section">
<p><img alt="ナビゲーション" src="./images/grafana-navigation.png" width="250" />
</p>

<ol style="margin-left: 15px;">
<li>
<span class="merged" id="all.qqCOP" style='background-color:yellow' title="原文 : Select Dashboard - In the top right a drop down list of dashboards is available selection">ダッシュボードの選択 - 右上のダッシュボードのドロップダウン・リストが選択可能です</span>

</li>
<li>
<span class="merged" id="all.4Ul4Kn" style='background-color:yellow' title="原文 : Drill Through - Ability to drill through based upon service, member, node, etc.">ドリル・スルー - サービス、メンバー、ノードなどに基づいてドリル・スルーできます。</span>

</li>
</ol>
</div>
</div>

<h2 id="dashboards"><span class="merged" id="all.4EkGaY.1"  title="原文:: Dashboards">ダッシュボード</span></h2>
<div class="section">

<h3 id="main"><span class="merged" id="all.4SNhmR" style='background-color:yellow' title="原文 : 1. Coherence Dashboard Main">1. Coherenceダッシュボード・メイン</span></h3>
<div class="section">
<p><span class="merged" id="all.4UmL4d" style='background-color:yellow' title="原文 : Shows a high-level overview of the selected Coherence cluster including metrics such as:">次のようなメトリクスを含む、選択したCoherenceクラスタの概要を示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1h5l1e" style='background-color:yellow' title="原文 : Cluster member count, services, memory and health">クラスタ・メンバー数、サービス、メモリーおよびヘルス</span></p>

</li>
<li>
<p><span class="merged" id="all.3oUTuA" style='background-color:yellow' title="原文 : Top N loaded members, Top N heap usage and GC activity">上位Nロード済メンバー、上位Nヒープ使用量およびGCアクティビティ</span></p>

</li>
<li>
<p><span class="merged" id="all.xRGJf" style='background-color:yellow' title="原文 : Service backlogs and endangered or vulnerable services">サービスのバックログおよび危険にさらされた、または脆弱なサービス</span></p>

</li>
<li>
<p><span class="merged" id="all.2emxMH" style='background-color:yellow' title="原文 : Top query times, non-optimized queries">上位クエリー時間、最適化されていないクエリー</span></p>

</li>
<li>
<p><span class="merged" id="all.3Jgsv4" style='background-color:yellow' title="原文 : Guardian recoveries and terminations">Guardianのリカバリと終了</span></p>

</li>
</ul>


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="ダッシュボード・メイン" src="./images/grafana-main.png" width="950" /> </v-card-text> </v-card>

</div>

<h3 id="members"><span class="merged" id="all.2lf1sj" style='background-color:yellow' title="原文 : 2. Members Summary &amp; Details Dashboards">2.メンバー・サマリー&amp;詳細ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.xXN0U" style='background-color:yellow' title="原文 : Shows an overview of all cluster members that are enabled for metrics capture including metrics such as:">メトリクス取得に対して有効になっているすべてのクラスタ・メンバーの概要を示します。は次のとおりです:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3vDERL" style='background-color:yellow' title="原文 : Member list include heap usage">メンバー・リストにはヒープ使用量が含まれます</span></p>

</li>
<li>
<p><span class="merged" id="all.1cgI96" style='background-color:yellow' title="原文 : Top N members for GC time and count">GC時間とカウントの上位Nメンバー</span></p>

</li>
<li>
<p><span class="merged" id="all.2f6AjD" style='background-color:yellow' title="原文 : Total GC collection count and time by Member">メンバー別総GC収集件数および時間</span></p>

</li>
<li>
<p><span class="merged" id="all.3CbR8f" style='background-color:yellow' title="原文 : Publisher and Receiver success rates">パブリッシャおよびレシーバの成功率</span></p>

</li>
<li>
<p><span class="merged" id="all.1p8KVP" style='background-color:yellow' title="原文 : Guardian recoveries and send queue size">Guardianのリカバリおよび送信キュー・サイズ</span></p>

</li>
</ul>

<h4 id="_members_summary"><span class="merged" id="all.V9hTZ" style='background-color:yellow' title="原文 : Members Summary">メンバー要約</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="メンバー" src="./images/grafana-members.png" width="950" /> </v-card-text> </v-card>

</div>

<h4 id="_member_details"><span class="merged" id="all.3PjWCs"  title="原文:: Member Details">メンバーの詳細</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="メンバーの詳細" src="./images/grafana-members.png" width="950" /> </v-card-text> </v-card>

</div>
</div>

<h3 id="services"><span class="merged" id="all.478dZs" style='background-color:yellow' title="原文 : 3. Services Summary &amp; Details Dashboards">3.サービス・サマリー&amp;詳細ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.4OQGnp" style='background-color:yellow' title="原文 : Shows an overview of all cluster services including metrics such as:">次のようなメトリクスを含むすべてのクラスタ・サービスの概要を示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.ns04f" style='background-color:yellow' title="原文 : Service members for storage and non-storage services">ストレージおよび非ストレージ・サービスのサービス・メンバー</span></p>

</li>
<li>
<p><span class="merged" id="all.YvyVT" style='background-color:yellow' title="原文 : Service task count">サービス・タスク数</span></p>

</li>
<li>
<p><span class="merged" id="all.LBINp" style='background-color:yellow' title="原文 : StatusHA values as well as endangered, vulnerable and unbalanced partitions">StatusHA値、危険にさらされる、脆弱な、バランスのれないパーティション</span></p>

</li>
<li>
<p><span class="merged" id="all.2dsTo9" style='background-color:yellow' title="原文 : Top N services by task count and backlog">タスク数およびバックログ別の上位Nサービス</span></p>

</li>
<li>
<p><span class="merged" id="all.1yGnKa" style='background-color:yellow' title="原文 : Task rates, request pending counts and task and request averages">タスク率、待ち状態の棚卸のリクエストおよびタスクと平均のリクエスト</span></p>

</li>
</ul>

<h4 id="_services_summary"><span class="merged" id="all.2Wplcn"  title="原文:: Services Summary">サービスのサマリー</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="サービス" src="./images/grafana-services.png" width="950" /> </v-card-text> </v-card>

</div>

<h4 id="_service_details"><span class="merged" id="all.2d7XRY"  title="原文:: Service Details">サービスの詳細</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="サービスの詳細" src="./images/grafana-service.png" width="950" /> </v-card-text> </v-card>

</div>
</div>

<h3 id="caches"><span class="merged" id="all.1RORbc" style='background-color:yellow' title="原文 : 4. Caches Summary &amp; Detail Dashboards">4.キャッシュ・サマリー&amp;詳細ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.1IieE8" style='background-color:yellow' title="原文 : Shows an overview of all caches including metrics such as:">次のようなメトリクスを含むすべてのキャッシュの概要を示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2il2us" style='background-color:yellow' title="原文 : Cache entries, memory and index usage">キャッシュ・エントリ、メモリーおよび索引の使用</span></p>

</li>
<li>
<p><span class="merged" id="all.4Rm8Sn" style='background-color:yellow' title="原文 : Cache access counts including gets, puts and removed, max query times">取得、棚入、削除、最大クエリー時間などのキャッシュ・アクセス数</span></p>

</li>
<li>
<p><span class="merged" id="all.3SHNdJ" style='background-color:yellow' title="原文 : Front cache hit and miss rates">フロント・キャッシュ・ヒット率およびミス率</span></p>

</li>
</ul>

<h4 id="_caches_summary"><span class="merged" id="all.K5rUG" style='background-color:yellow' title="原文 : Caches Summary">キャッシュ・サマリー</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="キャッシュ" src="./images/grafana-caches.png" width="950" /> </v-card-text> </v-card>

</div>

<h4 id="_cache_details"><span class="merged" id="all.2D3t6W"  title="原文:: Cache Details">キャッシュ詳細</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="キャッシュ詳細" src="./images/grafana-cache.png" width="950" /> </v-card-text> </v-card>

</div>
</div>

<h3 id="proxies"><span class="merged" id="all.2zijYN" style='background-color:yellow' title="原文 : 5. Proxy Servers Summary &amp; Detail Dashboards">5.プロキシ・サーバーのサマリー&amp;詳細ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.hqeaU" style='background-color:yellow' title="原文 : Shows and overview of Proxy servers including metrics such as:">次のようなメトリクスを含むプロキシ・サーバーの表示および概要:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.PDP8y" style='background-color:yellow' title="原文 : Active connection count and service member count">アクティブな接続数およびサービス・メンバー数</span></p>

</li>
<li>
<p><span class="merged" id="all.qlzJ7" style='background-color:yellow' title="原文 : Total messages sent/ received">送信/ 受信されたメッセージの合計</span></p>

</li>
<li>
<p><span class="merged" id="all.3Hgh4l" style='background-color:yellow' title="原文 : Proxy server data rates">プロキシ・サーバーのデータ・レート</span></p>

</li>
<li>
<p><span class="merged" id="all.2UYjNc" style='background-color:yellow' title="原文 : Individual connection details abd byte backlogs">個々の接続の詳細abdバイト・バックログ</span></p>

</li>
</ul>

<h4 id="_proxy_servers_summary"><span class="merged" id="all.4E06P5" style='background-color:yellow' title="原文 : Proxy Servers Summary">プロキシ・サーバー・サマリー</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="プロキシ・サーバー" src="./images/grafana-proxies.png" width="950" /> </v-card-text> </v-card>

</div>

<h4 id="_proxy_servers_detail"><span class="merged" id="all.3cLiZf" style='background-color:yellow' title="原文 : Proxy Servers Detail">プロキシ・サーバー詳細</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="プロキシ・サーバーの詳細" src="./images/grafana-proxy.png" width="950" /> </v-card-text> </v-card>

</div>
</div>

<h3 id="persistence"><span class="merged" id="all.2CPKKI" style='background-color:yellow' title="原文 : 6. Persistence Summary Dashboard">6.永続性サマリー・ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.4KDzCM" style='background-color:yellow' title="原文 : Shows and overview of Persistence including metrics such as:">次のようなメトリクスを含む永続性の表示および概要を示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3whVme" style='background-color:yellow' title="原文 : Persistence enabled services">永続性対応のサービス</span></p>

</li>
<li>
<p><span class="merged" id="all.33eSbh" style='background-color:yellow' title="原文 : Maximum active persistence latency">最大アクティブ永続性レイテンシ</span></p>

</li>
<li>
<p><span class="merged" id="all.aINpY" style='background-color:yellow' title="原文 : Active space total usage and by service">アクティブ領域の合計使用量およびサービス別</span></p>

</li>
</ul>


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="永続性" src="./images/grafana-persistence.png" width="950" /> </v-card-text> </v-card>

</div>

<h3 id="federation"><span class="merged" id="all.2rjcc5" style='background-color:yellow' title="原文 : 7. Federation Summary &amp; Details Dashboards">7.フェデレーション・サマリー&amp;詳細ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.1QVOgr" style='background-color:yellow' title="原文 : Shows overview of Federation including metrics such as:">次のようなメトリクスを含むフェデレーションの概要を示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3yrS3L" style='background-color:yellow' title="原文 : Destination and Origins details">搬送先および当初詳細</span></p>

</li>
<li>
<p><span class="merged" id="all.1c3Hm0" style='background-color:yellow' title="原文 : Entries, records and bytes send and received">エントリ、レコード、および送受信バイト数</span></p>

</li>
</ul>

<h4 id="_federation_summary"><span class="merged" id="all.3ksVCd" style='background-color:yellow' title="原文 : Federation Summary">フェデレーション要約</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="フェデレーション要約" src="./images/grafana-federation-summary.png" width="950" /> </v-card-text> </v-card>

</div>

<h4 id="_federation_details"><span class="merged" id="all.24OaBu" style='background-color:yellow' title="原文 : Federation Details">フェデレーション詳細</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="フェデレーション詳細" src="./images/grafana-federation-detail.png" width="950" /> </v-card-text> </v-card>

</div>
</div>

<h3 id="machines"><span class="merged" id="all.E9Jq2" style='background-color:yellow' title="原文 : 8. Machines Summary Dashboard">8.マシン要約ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.4UoZV6" style='background-color:yellow' title="原文 : Shows an overview of all machines that make up the Kubernetes cluster underlying the Coherence cluster including metrics such as:">Coherenceクラスタの基礎となるKubernetesクラスタを構成する、次のようなメトリクスを含むすべてのマシンの概要を示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.13kY9F" style='background-color:yellow' title="原文 : Machine processors, free swap space and physical memory">機械プロセッサ、空きスワップ領域および物理メモリー</span></p>

</li>
<li>
<p><span class="merged" id="all.4Mk8RL" style='background-color:yellow' title="原文 : Load averages">平均のロード</span></p>

</li>
</ul>


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="マシン" src="./images/grafana-machines.png" width="950" /> </v-card-text> </v-card>

</div>

<h3 id="http"><span class="merged" id="all.38sIVi" style='background-color:yellow' title="原文 : 9. HTTP Servers Summary Dashboard">9. HTTPサーバー・サマリー・ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.1LoajY" style='background-color:yellow' title="原文 : Shows an overview of all HTTP Servers running in the cluster including metrics such as:">次のようなメトリクスを含む、クラスタで実行されているすべてのHTTPサーバーの概要を示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.MLxSy" style='background-color:yellow' title="原文 : Service member count, requests, error count and average request time">サービス・メンバー数、リクエスト、エラー数および平均リクエスト時間</span></p>

</li>
<li>
<p><span class="merged" id="all.419yCY" style='background-color:yellow' title="原文 : HTTP Request rates and response codes">HTTPリクエスト率およびレスポンス・コード</span></p>

</li>
</ul>


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="HTTPサーバー" src="./images/grafana-http.png" width="950" /> </v-card-text> </v-card>

</div>

<h3 id="ed"><span class="merged" id="all.SbYWY" style='background-color:yellow' title="原文 : 10. Elastic Data Summary Dashboard">10.エラスティック・データ・サマリー・ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.1LoajY.1" style='background-color:yellow' title="原文 : Shows an overview of all HTTP Servers running in the cluster including metrics such as:">次のようなメトリクスを含む、クラスタで実行されているすべてのHTTPサーバーの概要を示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3EDFGj" style='background-color:yellow' title="原文 : RAM and Flash journal files in use">使用中のRAMおよびFlash仕訳ファイル</span></p>

</li>
<li>
<p><span class="merged" id="all.DBklh" style='background-color:yellow' title="原文 : RAM and Flash compactions">RAMとフラッシュの圧縮</span></p>

</li>
</ul>


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="エラスティック・データ" src="./images/grafana-elastic-data.png" width="950" /> </v-card-text> </v-card>

</div>

<h3 id="executors"><span class="merged" id="all.2CZzDS" style='background-color:yellow' title="原文 : 11. Executors Summary &amp; Details Dashboards">11.エグゼキュータ・サマリー&amp;詳細ダッシュボード</span></h3>
<div class="section">
<p><span class="merged" id="all.2WiBhi" style='background-color:yellow' title="原文 : Shows an overview of all Executors running in the cluster including metrics such as:">次のようなメトリクスを含む、クラスタで実行されているすべてのエグゼキュータの概要を示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.27iKeQ" style='background-color:yellow' title="原文 : Tasks in Progress">進行中のタスク</span></p>

</li>
<li>
<p><span class="merged" id="all.3gdZN5" style='background-color:yellow' title="原文 : Completed and Rejected Tasks">完了済および否認済タスク</span></p>

</li>
<li>
<p><span class="merged" id="all.1VPURv" style='background-color:yellow' title="原文 : Individual Executor status">個々のエグゼキュータ・ステータス</span></p>

</li>
</ul>

<h4 id="_executors_summary"><span class="merged" id="all.1TlCsD" style='background-color:yellow' title="原文 : Executors Summary">エグゼキュータ要約</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="エグゼキュータ要約" src="./images/grafana-executors-summary.png" width="950" /> </v-card-text> </v-card>

</div>

<h4 id="_executor_details"><span class="merged" id="all.ZMNYh" style='background-color:yellow' title="原文 : Executor Details">エグゼキュータ詳細</span></h4>
<div class="section">


<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="エグゼキュータ詳細" src="./images/grafana-executor-detail.png" width="950" /> </v-card-text> </v-card>

</div>
</div>
</div>
</doc-view>
<!-- pages/docs/metrics/050_ssl.js -->
<doc-view>

<h2 id="_ssl_with_metrics"><span class="merged" id="all.2wFQwE" style='background-color:yellow' title="原文 : SSL with Metrics">メトリクスによるSSL</span></h2>
<div class="section">
<p><span class="merged" id="all.2avGF6.spl1" style='background-color:yellow' title="原文 : It is possible to configure metrics endpoint to use SSL to secure the communication between server and client.">サーバーとクライアント間の通信を保護するためにSSLを使用するようにメトリクス・エンドポイントを構成できます。</span> <span class="merged" id="all.2avGF6.spl2" style='background-color:yellow' title="原文 : The SSL configuration is in the coherence.metrics.ssl section of the CRD spec.">SSL構成は、CRD仕様の<code>coherence.metrics.ssl</code>セクションにあります。</span> </p>

<p><span class="merged" id="all.6vDv5.19"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  coherence:
    metrics:
      enabled: true
      ssl:
        enabled: true                            <span class="conum" data-value="1" />
        keyStore: metrics-keys.jks               <span class="conum" data-value="2" />
        keyStoreType: JKS                        <span class="conum" data-value="3" />
        keyStorePasswordFile: store-pass.txt     <span class="conum" data-value="4" />
        keyPasswordFile: key-pass.txt            <span class="conum" data-value="5" />
        keyStoreProvider:                        <span class="conum" data-value="6" />
        keyStoreAlgorithm: SunX509               <span class="conum" data-value="7" />
        trustStore: metrics-trust.jks            <span class="conum" data-value="8" />
        trustStoreType: JKS                      <span class="conum" data-value="9" />
        trustStorePasswordFile: trust-pass.txt   <span class="conum" data-value="10" />
        trustStoreProvider:                      <span class="conum" data-value="11" />
        trustStoreAlgorithm: SunX509             <span class="conum" data-value="12" />
        requireClientCert: true                  <span class="conum" data-value="13" />
        secrets: metrics-secret                  <span class="conum" data-value="14" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.FuYcg.1" style='background-color:yellow' title="原文 : The enabled field when set to true enables SSL for metrics or when set to false disables SSL"><code>enabled</code>フィールドを<code>true</code>に設定すると、メトリクスに対してSSLが有効になるか、<code>false</code>に設定するとSSLが無効になります</span></li>
<li data-value="2"><span class="merged" id="all.2kW9G2.1" style='background-color:yellow' title="原文 : The keyStore field sets the name of the Java key store file that should be used to obtain the server’s key"><code>keyStore</code>フィールドでは、サーバーのキーに使用するJavaキー・ストア・ファイルの名前を設定</span></li>
<li data-value="3"><span class="merged" id="all.N3g8j.1" style='background-color:yellow' title="原文 : The optional keyStoreType field sets the type of the key store file, the default value is JKS">オプションの<code>keyStoreType</code>フィールドは、キー・ストア・ファイルのタイプを設定します。デフォルト値は<code>JKS</code>です</span></li>
<li data-value="4"><span class="merged" id="all.1kMUv7.1" style='background-color:yellow' title="原文 : The optional keyStorePasswordFile sets the name of the text file containing the key store password">オプションの<code>keyStorePasswordFile</code>は、キー・ストア・パスワードを含むテキスト・ファイルの名前を設定</span></li>
<li data-value="5"><span class="merged" id="all.1BbQr4.1" style='background-color:yellow' title="原文 : The optional keyPasswordFile sets the name of the text file containing the password of the key in the key store">オプションの<code>keyPasswordFile</code>は、キー・ストア内のキーのパスワードを含むテキスト・ファイルの名前を設定</span></li>
<li data-value="6"><span class="merged" id="all.XT8Ny.1" style='background-color:yellow' title="原文 : The optional keyStoreProvider sets the provider name for the key store">オプションの<code>keyStoreProvider</code>は、キー・ストアのプロバイダ名を設定</span></li>
<li data-value="7"><span class="merged" id="all.R70o2.1" style='background-color:yellow' title="原文 : The optional keyStoreAlgorithm sets the algorithm name for the key store, the default value is SunX509">オプションの<code>keyStoreAlgorithm</code>はキー・ストアのアルゴリズム名を設定します。デフォルト値は<code>SunX509</code>です</span></li>
<li data-value="8"><span class="merged" id="all.yx8Wj.1" style='background-color:yellow' title="原文 : The trustStore field sets the name of the Java trust store file that should be used to obtain the server’s key"><code>trustStore</code>フィールドでは、サーバーのキーに使用するJavaトラスト・ストア・ファイルの名前を設定</span></li>
<li data-value="9"><span class="merged" id="all.RttRk.1" style='background-color:yellow' title="原文 : The optional trustStoreType field sets the type of the trust store file, the default value is JKS">オプションの<code>trustStoreType</code>フィールドは、トラスト・ストア・ファイルのタイプを設定します。デフォルト値は<code>JKS</code>です</span></li>
<li data-value="10"><span class="merged" id="all.38syp3.1" style='background-color:yellow' title="原文 : The optional trustStorePasswordFile sets the name of the text file containing the trust store password">オプションの<code>trustStorePasswordFile</code>は、トラスト・ストア・パスワードを含むテキスト・ファイルの名前を設定</span></li>
<li data-value="11"><span class="merged" id="all.39748G.1" style='background-color:yellow' title="原文 : The optional trustStoreProvider sets the provider name for the trust store">オプションの<code>trustStoreProvider</code>は、トラスト・ストアのプロバイダ名を設定</span></li>
<li data-value="12"><span class="merged" id="all.489hfB.1" style='background-color:yellow' title="原文 : The optional trustStoreAlgorithm sets the algorithm name for the trust store, the default value is SunX509">オプションの<code>trustStoreAlgorithm</code>は、トラスト・ストアのアルゴリズム名を設定します。デフォルト値は<code>SunX509</code>です</span></li>
<li data-value="13"><span class="merged" id="all.Fa8yb.1" style='background-color:yellow' title="原文 : The optional requireClientCert field if set to true enables two-way SSL where the client must also provide a valid certificate">オプションの<code>requireClientCert</code>フィールドを<code>true</code>に設定すると、クライアントが有効な証明書も指定する必要がある双方向SSLが有効になります</span></li>
<li data-value="14"><span class="merged" id="all.i3cqR.1" style='background-color:yellow' title="原文 : The optional secrets field sets the name of the Kubernetes Secret to use to obtain the key store, truct store and password files from.">オプションの<code>secrets</code>フィールドは、キー・ストア、tructストアおよびパスワード・ファイルの取得に使用するKubernetes <code>Secret</code>の名前を設定します。</span></li>
</ul>
<p><span class="merged" id="all.166sUt.spl1" style='background-color:yellow' title="原文 : The various files and keystores referred to in the configuration above can be any location accessible in the image used by the coherence container in the deployment’s Pods.">前述の構成で参照される様々なファイルおよびキーストアは、デプロイメントの<code>Pods</code>の<code>coherence</code>コンテナで使用されるイメージでアクセス可能な任意のロケーションです。</span> <span class="merged" id="all.166sUt.spl2" style='background-color:yellow' title="原文 : Typically, for things such as SSL keys and certs, these would be provided by obtained from Secrets loaded as additional Pod Volumes.">通常、SSLキーや証明書などの場合、これらは追加の<code>Pod</code> <code>Volumes</code>としてロードされた<code>Secrets</code>から取得されます。</span> <span class="merged" id="all.166sUt.spl3" style='background-color:yellow' title="原文 : See Add Secrets Volumes for the documentation on how to specify secrets as additional volumes.">追加ボリュームとしてシークレットを指定する方法については、<router-link @click.native="this.scrollFix('#other/060_secret_volumes.adoc')" to="#other/060_secret_volumes.adoc">「シークレット・ボリュームの追加」</router-link>を参照してください。</span> </p>

</div>
</doc-view>
<!-- pages/docs/ordering/010_overview.js -->
<doc-view>

<h2 id="_coherence_deployment_dependencies_and_start_order"><span class="merged" id="all.uny00" style='background-color:yellow' title="原文 : Coherence Deployment Dependencies and Start Order">Coherenceデプロイメントの依存関係および開始順序</span></h2>
<div class="section">
<p><span class="merged" id="all.n8kaa.spl1" style='background-color:yellow' title="原文 : The default behaviour of the operator is to create the StatefulSet for a Coherence deployment immediately.">オペレータのデフォルトの動作では、<code>Coherence</code>デプロイメントの<code>StatefulSet</code>を即時に作成します。</span> <span class="merged" id="all.n8kaa.spl2" style='background-color:yellow' title="原文 : Sometimes this behaviour is not suitable if, for example, when application code running in one deployment depends on the availability of another deployment.">たとえば、あるデプロイメントで実行されているアプリケーション・コードが別のデプロイメントの可用性に依存する場合など、この動作が適していない場合があります。</span> <span class="merged" id="all.n8kaa.spl3" style='background-color:yellow' title="原文 : Typically, this might be storage disabled members having functionality that relies on the storage members being ready first.">通常、これはストレージが無効なメンバーで、最初に準備されているストレージ・メンバーに依存する機能を持つ可能性があります。</span> <span class="merged" id="all.n8kaa.spl4" style='background-color:yellow' title="原文 : The Coherence CRD can be configured with a startQuorum that defines a deployment’s dependency on other deployments in the cluster."><code>Coherence</code> CRDは、クラスタ内の他のデプロイメントへのデプロイメントの依存関係を定義する<code>startQuorum</code>を使用して構成できます。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.QaNep" style='background-color:yellow' title="原文 : The startQuorum only applies when a cluster is initially being started by the operator, it does not apply in other functions such as upgrades, scaling, shut down etc."><code>startQuorum</code>は、クラスタが最初にオペレータによって起動されるときにのみ適用され、アップグレード、スケーリング、停止などの他の機能には適用されません。</span></p>
</div>
<p><span class="merged" id="all.3emlZj.spl1" style='background-color:yellow' title="原文 : An individual deployment can depend on one or more other deployment.">個々のデプロイメントは、1つ以上の他のデプロイメントに依存できます。</span> <span class="merged" id="all.3emlZj.spl2" style='background-color:yellow' title="原文 : The dependency can be such that the deployment will not be created until all of the Pods of the dependent deployment are ready, or it can be configured so that just a single Pod of the dependent deployment must be ready.">依存関係デプロイメントは、依存デプロイメントのすべての<code>Pods</code>が準備可能になるまでデプロイメントまたは依存デプロイメントの単一の<code>Pod</code>のみの準備ができるように構成できます。</span> </p>

<p><span class="merged" id="all.1s4oXm" style='background-color:yellow' title="原文 : For example: In the yaml snippet below there are two Coherence deployments, data and proxy">次に例を示します: 次のyamlスニペットには、<code>Coherence</code>デプロイメントが2つあります(<code>data</code>および<code>proxy</code>)</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: data
spec:
  replicas: 3           <span class="conum" data-value="1" />
---
apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: proxy
spec:
  startQuorum:          <span class="conum" data-value="2" />
    - deployment: data
      podCount: 1</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3iuBbk" style='background-color:yellow' title="原文 : The data deployment does not specify a startQuorum so this role will be created immediately by the operator."><code>data</code>デプロイメントでは<code>startQuorum</code>を指定しないため、このロールはオペレータによってすぐに作成されます。</span></li>
<li data-value="2"><span class="merged" id="all.21h8As.spl1" style='background-color:yellow' title="原文 : The proxy deployment has a start quorum that means that the proxy deployment depends on the data deployment."><code>proxy</code>デプロイメントには、<code>proxy</code>デプロイメントが<code>data</code>デプロイメントに依存することを意味する開始定足数があります。</span> <span class="merged" id="all.21h8As.spl2" style='background-color:yellow' title="原文 : The podCount field has been set to 1 meaning the proxy deployment’s StatefulSet will not be created until at least 1 of the data deployment’s Pods is in the Ready state."><code>podCount</code>フィールドが<code>1</code>に設定されているため、<code>proxy</code>デプロイメントの<code>StatefulSet</code>は、<code>data</code>デプロイメントの<code>Pods</code>の少なくとも<code>1</code>が<code>Ready</code>状態になるまで作成されません。</span> </li>
</ul>
<p><span class="merged" id="all.GL7nm" style='background-color:yellow' title="原文 : Omitting the podCount from the quorum means that the role will not start until all the configured replicas of the dependent deployment are ready; for example:"><code>podCount</code>を定足数から省略すると、依存デプロイメントのすべての構成済レプリカの準備が完了するまで、ロールされません。次に例を示します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: data
spec:
  replicas: 3
---
apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: proxy
spec:
  startQuorum:          <span class="conum" data-value="1" />
    - deployment: data</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3QsUmv" style='background-color:yellow' title="原文 : The proxy deployment’s startQuorum just specifies a dependency on the data deployment with no podCount so all 3 of the data deployment’s Pods must be Ready before the proxy deployment’s StatefulSet is created by the operator."><code>proxy</code>デプロイメントの<code>startQuorum</code>は、<code>podCount</code>なしで<code>data</code>デプロイメントへの依存関係を指定するだけで、<code>proxy</code>デプロイメントの<code>StatefulSet</code>がオペレータによって作成される前に、<code>data</code>デプロイメントの<code>Pods</code>のすべての<code>3</code>が<code>Ready</code>である必要があります。</span></li>
</ul>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.307qBB" style='background-color:yellow' title="原文 : Setting a podCount less than or equal to zero is the same as not specifying a count."><code>podCount</code>をゼロ以下に設定することは、カウントを指定しないことと同じです。</span></p>
</div>

<h3 id="_multiple_dependencies"><span class="merged" id="all.1KnO29" style='background-color:yellow' title="原文 : Multiple Dependencies">複数の依存関係</span></h3>
<div class="section">
<p><span class="merged" id="all.1FUmby" style='background-color:yellow' title="原文 : The startQuorum can specify a dependency on more than on deployment; for example:"><code>startQuorum</code>では、デプロイメント以上の依存関係を指定できます。次に例を示します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: data      <span class="conum" data-value="1" />
spec:
  replicas: 5
---
apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: proxy        <span class="conum" data-value="1" />
spec:
  replicas: 3
---
apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: web
spec:
  startQuorum:          <span class="conum" data-value="2" />
    - deployment: data
    - deployment: proxy
      podCount: 1</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1XTSXs" style='background-color:yellow' title="原文 : The data and proxy deployments do not specify a startQuorum, so the StatefulSets for these deployments will be created immediately by the operator."><code>data</code>および<code>proxy</code>デプロイメントでは<code>startQuorum</code>を指定しないため、これらのデプロイメントの<code>StatefulSets</code>はオペレータによってただちに作成されます。</span></li>
<li data-value="2"><span class="merged" id="all.4LTOuu.spl1" style='background-color:yellow' title="原文 : The web deployment has a startQuorum the defines a dependency on both the data deployment and the proxy deployment."><code>web</code>デプロイメントには、<code>data</code>デプロイメントと<code>proxy</code>デプロイメントの両方に対する依存関係を定義する<code>startQuorum</code>があります。</span> <span class="merged" id="all.4LTOuu.spl2" style='background-color:yellow' title="原文 : The proxy dependency also specifies a podCount of 1."><code>proxy</code>依存関係では、<code>1</code>の<code>podCount</code>も指定します。</span> <span class="merged" id="all.4LTOuu.spl3" style='background-color:yellow' title="原文 : This means that the operator wil not create the web role’s StatefulSet until all 5 replicas of the data deployment are Ready and at least 1 of the proxy deployment’s Pods is Ready.">つまり、<code>data</code>デプロイメントのすべての<code>5</code>レプリカが<code>Ready</code>で、<code>proxy</code>デプロイメントの<code>Pods</code>の<code>1</code>が<code>Ready</code>になるまで、オペレータは<code>web</code>ロールの<code>StatefulSet</code>を作成しません。</span> </li>
</ul>
</div>

<h3 id="_chained_dependencies"><span class="merged" id="all.moRsZ" style='background-color:yellow' title="原文 : Chained Dependencies">連鎖依存関係</span></h3>
<div class="section">
<p><span class="merged" id="all.1BdhmR" style='background-color:yellow' title="原文 : It is also possible to chain dependencies, for example:">依存関係を連鎖させることもできます。次に例を示します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: data            <span class="conum" data-value="1" />
spec:
  replicas: 5
---
apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: proxy
spec:
  replicas: 3
  startQuorum:          <span class="conum" data-value="2" />
    - deployment: data
---
apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: web
spec:
  startQuorum:          <span class="conum" data-value="3" />
    - deployment: proxy
      podCount: 1</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2CsHl5" style='background-color:yellow' title="原文 : The data deployment does not specify a startQuorum so this deployment’s StatefulSet will be created immediately by the operator."><code>data</code>デプロイメントでは<code>startQuorum</code>を指定しないため、このデプロイメントの<code>StatefulSet</code>はオペレータによってすぐに作成されます。</span></li>
<li data-value="2"><span class="merged" id="all.4dVpnp" style='background-color:yellow' title="原文 : The proxy deployment defines a dependency on the data deployment without a podCount so all five Pods of the data role must be in a Ready state before the operator will create the proxy deployment’s StatefulSet."><code>proxy</code>デプロイメントでは、<code>podCount</code>なしで<code>data</code>デプロイメントへの依存関係を定義するため、オペレータによって<code>proxy</code>デプロイメントの<code>StatefulSet</code>が作成される前に、<code>data</code>ロールの5つの<code>Pods</code>がすべて<code>Ready</code>状態である必要があります。</span></li>
<li data-value="3"><span class="merged" id="all.2LQMos" style='background-color:yellow' title="原文 : The web deployment depends on the proxy deployment with a podCount of one, so the operator will not create the web deployment’s StatefulSet until at least one proxy deployment Pod is in a Ready state."><code>web</code>デプロイメントは、<code>podCount</code>が1の<code>proxy</code>デプロイメントに依存するため、オペレータは、<code>web</code>デプロイメントの<code>StatefulSet</code>は、少なくとも1つの<code>proxy</code>デプロイメント<code>Pod</code>が<code>Ready</code>状態になるまで作成しません。</span></li>
</ul>
<div class="admonition warning">
<p class="admonition-inline"><span class="merged" id="all.nMtjX.spl1" style='background-color:yellow' title="原文 : The operator does not validate that a startQuorum makes sense.">オペレータは、<code>startQuorum</code>が意味があることをバリデートしません。</span> <span class="merged" id="all.nMtjX.spl2" style='background-color:yellow' title="原文 : It is possible to declare a quorum with circular dependencies, in which case the roles will never start.">循環依存関係を持つ定足数を宣言できます。この場合、ロールは起動しません。</span> <span class="merged" id="all.nMtjX.spl3" style='background-color:yellow' title="原文 : It would also be possible to create a quorum with a podCount greater than the replicas value of the dependent deployment, in which case the quorum would never be met, and the role would not start.">また、依存デプロイメントの<code>replicas</code>値より大きい<code>podCount</code>を持つ定足数を作成することもできます。この場合、定足数は満たされず、ロールは開始されません。</span> </p>
</div>
</div>
</div>
</doc-view>
<!-- pages/docs/other/010_overview.js -->
<doc-view>

<h2 id="_overview"><span class="merged" id="all.YrpRV.6"  title="原文:: Overview">概要</span></h2>
<div class="section">
<p><span class="merged" id="all.28JrWp" style='background-color:yellow' title="原文 : There are a number of miscellaneous configuration settings that can be added to containers and Pods controlled by the Coherence Operator.">コンテナに追加できるその他の構成設定と、Coherence Operatorによって制御される<code>Pods</code>が多数あります。</span></p>

<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/other/020_environment"><div class="card__link-hover"/>
<span class="merged" id="all.2JegOE" style='background-color:yellow' title="原文 :  Environment Variables "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">環境変数</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2Xuief" style='background-color:yellow' title="原文 : Adding environment variables to the Coherence container.">Coherenceコンテナへの環境変数の追加。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/other/030_labels"><div class="card__link-hover"/>
<span class="merged" id="all.1kT1Yz" style='background-color:yellow' title="原文 :  Pod Labels "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ポッド・ラベル</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2uTnfp" style='background-color:yellow' title="原文 : Adding Pod labels.">ポッド・ラベルの追加。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/other/040_annotations"><div class="card__link-hover"/>
<span class="merged" id="all.4e6hGV" style='background-color:yellow' title="原文 :  Pod Annotations "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ポッド注釈</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2JaCzM" style='background-color:yellow' title="原文 : Adding Pod annotations.">ポッド注釈を追加しています。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>

<h3 id="_containers"><span class="merged" id="all.458FT9"  title="原文:: Containers">コンテナ</span></h3>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/other/080_add_containers"><div class="card__link-hover"/>
<span class="merged" id="all.dHWjW" style='background-color:yellow' title="原文 :  Add Containers "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">コンテナの追加</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.4BUCLH" style='background-color:yellow' title="原文 : Adding side-car containers and init-containers.">サイドカー・コンテナおよびinit-containersの追加。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>

<h3 id="_volumes"><span class="merged" id="all.3JwPk1"  title="原文:: Volumes">ボリューム</span></h3>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/other/070_add_volumes"><div class="card__link-hover"/>
<span class="merged" id="all.3qX0Io" style='background-color:yellow' title="原文 :  Add Volumes "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ボリュームの追加</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.sbLyh" style='background-color:yellow' title="原文 : Adding Volumes and volume mounts.">ボリュームおよびボリューム・マウントの追加。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/other/050_configmap_volumes"><div class="card__link-hover"/>
<span class="merged" id="all.26jcpj" style='background-color:yellow' title="原文 :  Add ConfigMap Volumes "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ConfigMapボリュームの追加</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.cAD0j" style='background-color:yellow' title="原文 : Adding Volumes and volume mounts using ConfigMaps.">ConfigMapsを使用してボリュームおよびボリューム・マウントを追加します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/other/060_secret_volumes"><div class="card__link-hover"/>
<span class="merged" id="all.3uIAR9" style='background-color:yellow' title="原文 :  Add Secret Volumes "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">シークレット・ボリュームの追加</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.cmDJl" style='background-color:yellow' title="原文 : Adding Volumes and volume mounts using Secrets.">シークレットを使用したボリュームおよびボリューム・マウントの追加。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>

<h3 id="_pod_scheduling"><span class="merged" id="all.eaO02"  title="原文:: Pod Scheduling">ポッド・スケジューリング</span></h3>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/other/090_pod_scheduling"><div class="card__link-hover"/>
<span class="merged" id="all.4T8dj5" style='background-color:yellow' title="原文 :  Pod Scheduling "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ポッド・スケジューリング</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1rkP4u" style='background-color:yellow' title="原文 : Taints, Tolerations and node selectors.">Taints、Tolerationsおよびノード・セレクタ。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/other/100_resources"><div class="card__link-hover"/>
<span class="merged" id="all.49mbEz" style='background-color:yellow' title="原文 :  Resources "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">リソース</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1uQm5N" style='background-color:yellow' title="原文 : Configuring Coherence container resource constraints.">Coherenceコンテナ・リソース制約の構成。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</div>
</doc-view>
<!-- pages/docs/other/020_environment.js -->
<doc-view>

<h2 id="_environment_variables"><span class="merged" id="all.1cV2UY"  title="原文:: Environment Variables">環境変数</span></h2>
<div class="section">
<p><span class="merged" id="all.2zAmBq.spl1" style='background-color:yellow' title="原文 : Environment variables can be added to the Coherence container in the Pods managed by the Operator.">環境変数は、オペレータによって管理される<code>Pods</code>のCoherenceコンテナに追加できます。</span> <span class="merged" id="all.2zAmBq.spl2" style='background-color:yellow' title="原文 : Additional variables should be added to the env list in the Coherence CRD spec."><code>Coherence</code> CRD仕様の<code>env</code>リストに変数を追加する必要があります。</span> <span class="merged" id="all.2zAmBq.spl3" style='background-color:yellow' title="原文 : The entries in the env list are Kubernetes EnvVar values, exactly the same as when adding environment variables to a container spec."><code>env</code>リストのエントリはKubernetes <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#envvar-v1-core" id="" target="_blank" >EnvVar</a>値であり、環境変数をコンテナ仕様に追加する場合とまったく同じです。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  env:
    - name: VAR_ONE            <span class="conum" data-value="1" />
      value: VALUE_ONE
    - name: VAR_TWO            <span class="conum" data-value="2" />
      valueFrom:
        secretKeyRef:
          name: test-secret
          key: secret-key</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.6tflb" style='background-color:yellow' title="原文 : The VAR_ONE environment variable is a simple variable with a value of VALUE_ONE"><code>VAR_ONE</code>環境変数は、値が<code>VALUE_ONE</code>の単純な変数です</span></li>
<li data-value="2"><span class="merged" id="all.2YYVf6" style='background-color:yellow' title="原文 : The VAR_TWO environment variable is variable that is loaded from a secret."><code>VAR_TWO</code>環境変数は、シークレットからロードされる変数です。</span></li>
</ul>

<h3 id="_environment_variables_from"><span class="merged" id="all.406KCz" style='background-color:yellow' title="原文 : Environment Variables From">環境変数From</span></h3>
<div class="section">
<p><span class="merged" id="all.1W5bjY" style='background-color:yellow' title="原文 : It is also possible to specify environment variables from a ConfigMap or Secret as you would for a Kubernetes container.">Kubernetesコンテナの場合と同様に、<code>ConfigMap</code>または<code>Secret</code>から環境変数を指定することもできます。</span></p>

<p><span class="merged" id="all.3ETCyX" style='background-color:yellow' title="原文 : For example, if there was a ConfigMap named special-config that contained environment variable values, it can be added to the Coherence spec as shown below.">たとえば、環境変数値を含む<code>special-config</code>という名前の<code>ConfigMap</code>がある場合、次に示すように<code>Coherence</code>仕様に追加できます。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  envFrom:
    - configMapRef:
      name: special-config</pre>

</div>
</div>
</doc-view>
<!-- pages/docs/other/030_labels.js -->
<doc-view>

<h2 id="_pod_labels"><span class="merged" id="all.1CpNmE" style='background-color:yellow' title="原文 : Pod Labels">ポッド・ラベル</span></h2>
<div class="section">
<p><span class="merged" id="all.4dqjRN.spl1" style='background-color:yellow' title="原文 : Additional labels can be added to the Pods managed by the Operator.">オペレータによって管理される<code>Pods</code>に追加のラベルを追加できます。</span> <span class="merged" id="all.4dqjRN.spl2" style='background-color:yellow' title="原文 : Additional labels should be added to the labels map in the Coherence CRD spec."><code>Coherence</code> CRD仕様の<code>labels</code>マップに追加のラベルを追加する必要があります。</span> <span class="merged" id="all.4dqjRN.spl3" style='background-color:yellow' title="原文 : The entries in the labels map should confirm to the recommendations and rules in the Kubernetes Labels documentation."><code>labels</code>マップのエントリは、Kubernetes <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" id="" target="_blank" >「ラベル」</a>ドキュメントの推奨事項およびルールを確認する必要があります。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  labels:             <span class="conum" data-value="1" />
    tier: backend
    environment: dev</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2jhMGs" style='background-color:yellow' title="原文 : Two labels will be added to the Pods, tier=backend and environment=dev"><code>Pods</code>、<code>tier=backend</code>および<code>environment=dev</code>に2つのラベルが追加されます</span></li>
</ul>
</div>
</doc-view>
<!-- pages/docs/other/040_annotations.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.1njvMe"  title="原文:: Adding Annotations">注釈の追加</span></dt>
<dd slot="desc"><p><span class="merged" id="all.17VBCz.spl1" style='background-color:yellow' title="原文 : Annotations can be added to the Coherence cluster’s StatefulSet and the Pods.">注釈は、Coherenceクラスタの<code>StatefulSet</code>および<code>Pods</code>に追加できます。</span> <span class="merged" id="all.17VBCz.spl2" style='background-color:yellow' title="原文 : See the official Kubernetes Annotations documentation for more details on applying annotations to resources.">リソースへの注釈の適用の詳細は、公式の<a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/" id="" target="_blank" >「Kubernetes注釈」</a>ドキュメントを参照してください。</span> </p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_statefulset_annotations"><span class="merged" id="all.jPreY" style='background-color:yellow' title="原文 : StatefulSet Annotations">StatefulSet注釈</span></h2>
<div class="section">
<p><span class="merged" id="all.4g4YCt.spl1" style='background-color:yellow' title="原文 : The default behaviour of the Operator is to copy any annotations added to the Coherence resource to the StatefulSet.">オペレータのデフォルトの動作では、<code>Coherence</code>リソースに追加された注釈を<code>StatefulSet</code>にコピーします。</span> <span class="merged" id="all.4g4YCt.spl2"  title="原文:: For example:">例えば:</span> </p>

<pre
lang="yaml"
title="coherence-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
  annotations:
    key1: value1
    key2: value2</pre>

<p><span class="merged" id="all.1ea4OO" style='background-color:yellow' title="原文 : This will result in a StatefulSet with the following annotations:">これにより、<code>StatefulSet</code>が次の注釈付きで生成されます:</span></p>

<pre
lang="yaml"

>apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: storage
  annotations:
    key1: value1
    key2: value2</pre>

<p><span class="merged" id="all.3QS1oK.spl1" style='background-color:yellow' title="原文 : Alternatively, if the StatefulSet should have different annotations to the Coherence resource, the annotations for the StatefulSet can be specified in the spec.statefulSetAnnotations field of the Coherence resource.">または、<code>StatefulSet</code>に<code>Coherence</code>リソースとは異なる注釈が必要な場合、<code>StatefulSet</code>の注釈を<code>Coherence</code>リソースの<code>spec.statefulSetAnnotations</code>フィールドで指定できます。</span> <span class="merged" id="all.3QS1oK.spl2"  title="原文:: For example:">例えば:</span> </p>

<pre
lang="yaml"
title="coherence-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
  annotations:
    key1: value1
    key2: value2
spec:
  replicas: 3
  statefulSetAnnotations:
    key3: value3
    key4: value4</pre>

<p><span class="merged" id="all.1ea4OO.1" style='background-color:yellow' title="原文 : This will result in a StatefulSet with the following annotations:">これにより、<code>StatefulSet</code>が次の注釈付きで生成されます:</span></p>

<pre
lang="yaml"

>apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: storage
  annotations:
    key3: value3
    key4: value4</pre>

</div>

<h2 id="_pod_annotations"><span class="merged" id="all.4PZ4GS" style='background-color:yellow' title="原文 : Pod Annotations">ポッド注釈</span></h2>
<div class="section">
<p><span class="merged" id="all.vJyy5.spl1" style='background-color:yellow' title="原文 : Additional annotations can be added to the Pods managed by the Operator.">オペレータによって管理される<code>Pods</code>に追加の注釈を追加できます。</span> <span class="merged" id="all.vJyy5.spl2" style='background-color:yellow' title="原文 : Annotations should be added to the annotations map in the Coherence CRD spec."><code>Coherence</code> CRD仕様の<code>annotations</code>マップに注釈を追加する必要があります。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  annotations:
    key1: value1
    key2: value2</pre>

<p><span class="merged" id="all.1ROteh" style='background-color:yellow' title="原文 : The annotations will be added the Pods:">注釈は<code>Pods</code>に追加されます:</span></p>

<pre
lang="yaml"

>apiVersion: v1
kind: Pod
metadata:
  name: storage-0
  annotations:
    key1: value1
    key2: value2</pre>

</div>
</doc-view>
<!-- pages/docs/other/041_global_labels.js -->
<doc-view>

<h2 id="_global_labels_and_annotations"><span class="merged" id="all.11MrOK" style='background-color:yellow' title="原文 : Global Labels and Annotations">♪グローバル・ラベルと注釈</span></h2>
<div class="section">
<p><span class="merged" id="all.nuuE9.spl1" style='background-color:yellow' title="原文 : It is possible to specify a global set of labels and annotations that will be applied to all resources.">♪すべてのリソースに適用されるラベルおよび注釈のグローバル・セットを指定できます。</span> <span class="merged" id="all.nuuE9.spl2" style='background-color:yellow' title="原文 : Global labels and annotations can be specified in two ways:">♪グローバル・ラベルと注釈は、次の2つの方法で指定できます:</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.26tX9j" style='background-color:yellow' title="原文 : For an individual Coherence deployment, in which case they will be applied to all the Kubernetes resources created for that deployment">♪個々の<code>Coherence</code>デプロイメントの場合、そのデプロイメント用に作成されたすべてのKubernetesリソースに適用されます</span></p>

</li>
<li>
<p><span class="merged" id="all.4ySic" style='background-color:yellow' title="原文 : As part of the Operator install, in which case they will be applied to all Kubernetes resources managed by the Operator, including all Coherence clusters and related resources">♪オペレータ・インストールの一部として、オペレータが管理するすべてのKubernetesリソース(すべてのCoherenceクラスタおよび関連リソースを含む)に適用されます</span></p>

</li>
</ul>
</div>

<h2 id="_specify_global_labels_for_a_coherence_resource"><span class="merged" id="all.ss49o" style='background-color:yellow' title="原文 : Specify Global Labels for a Coherence Resource">♪Coherenceリソースのグローバル・ラベルの指定</span></h2>
<div class="section">
<p><span class="merged" id="all.1CPeGX" style='background-color:yellow' title="原文 : The Coherence CRD contains a global field that allows global labels and annotations to be specified.">♪<code>Coherence</code> CRDには、グローバル・ラベルおよび注釈を指定できる<code>global</code>フィールドが含まれています。</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  replicas: 3
  global:
    labels:
      one: "label-one"
      two: "label-two"</pre>

<p><span class="merged" id="all.sY7r0.spl1" style='background-color:yellow' title="原文 : If the yaml above is applied to Kubernetes, then every resource the Operator creates for the storage Coherence deployment, it will add the two labels, one=label-one and two=label-two.">♪前述のyamlをKubernetesに適用すると、オペレータが<code>storage</code> Coherenceデプロイメント用に作成するすべてのリソースに、<code>one=label-one</code>と<code>two=label-two</code>という2つのラベルが追加されます。</span> <span class="merged" id="all.sY7r0.spl2" style='background-color:yellow' title="原文 : This includes the StatefulSet, the Pods, any Service such as the stateful set service, the WKA service, etc.">♪これには、<code>StatefulSet</code>、<code>Pods</code>、ステートフル・セット・サービス、WKAサービスなどの<code>Service</code>が含まれます。</span> </p>

<p><span class="merged" id="all.4DJaQJ" style='background-color:yellow' title="原文 : If any of the labels in the global section are also in the Pod labels section or for the Services for exposed ports, those labels will take precedence.">♪<code>global</code>セクションのいずれかのラベルがポッド・ラベル・セクションまたは公開ポートのサービスにも存在する場合は、それらのラベルが優先されます。</span></p>

<p><span class="merged" id="all.2x2VMf.1"  title="原文:: For example">たとえば</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  replicas: 3
  labels:
    one: "pod-label-one"
  global:
    labels:
      one: "label-one"
      two: "label-one"</pre>

<p><span class="merged" id="all.2GLRzA.spl1" style='background-color:yellow' title="原文 : In the yaml above, the global label one=label-one and two=labl-two will be applied to every resource created for the Coherence deployment except for the Pods.">♪前述のyamlでは、グローバル・ラベル<code>one=label-one</code>および<code>two=labl-two</code>は、ポッドを除く<code>Coherence</code>デプロイメント用に作成されたすべてのリソースに適用されます。</span> <span class="merged" id="all.2GLRzA.spl2" style='background-color:yellow' title="原文 : The Operator uses the spec.labels field to define Pods specific labels, so in this case the Pod labels will be one=pod-label-one from the spec.labels field and two=labl-two from the global labels.">♪オペレータは、<code>spec.labels</code>フィールドを使用してポッド固有のラベルを定義するため、この場合、ポッド・ラベルは<code>spec.labels</code>フィールドの<code>one=pod-label-one</code>、グローバル・ラベルの<code>two=labl-two</code>になります。</span> </p>

</div>

<h2 id="_specify_global_labels_when_installing_the_operator"><span class="merged" id="all.2Ybkxf" style='background-color:yellow' title="原文 : Specify Global Labels when Installing the Operator">♪オペレータのインストール時のグローバル・ラベルの指定</span></h2>
<div class="section">
<p><span class="merged" id="all.HclVk.spl1" style='background-color:yellow' title="原文 : The Operator runner binary has various command line flags that can be specified on its command line.">♪オペレータ<code>runner</code>バイナリには、コマンドラインで指定できる様々なコマンドライン・フラグがあります。</span> <span class="merged" id="all.HclVk.spl2" style='background-color:yellow' title="原文 : Two of these flags when starting the Operator are:">♪オペレータの起動時に次の2つのフラグがあります:</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3tPFv2" style='background-color:yellow' title="原文 : --global-label to specify a global label key and value">♪<code>--global-label</code>:グローバル・ラベル・キーと値を指定</span></p>

</li>
<li>
<p><span class="merged" id="all.RZ53O" style='background-color:yellow' title="原文 : --global-annotation to specify a global annotation key and value">♪<code>--global-annotation</code>:グローバル注釈キーおよび値を指定</span></p>

</li>
</ul>
<p><span class="merged" id="all.4058X6" style='background-color:yellow' title="原文 : Both of these command line flags can be specified multiple times if required.">♪これらのコマンド行フラグは、必要に応じて複数回指定できます。</span></p>

<p><span class="merged" id="all.6vDv5.20"  title="原文:: For example:">例えば:</span></p>

<pre
lang="bash"

>runner operator --global-label one=label-one --global-annoataion foo=bar --global-label two=label-two</pre>

<p><span class="merged" id="all.2lCuKw" style='background-color:yellow' title="原文 : The command above will start the Operator with two global labels,one=label-one and two=labl-two and with one global annotation foo=bar.">♪前述のコマンドは、2つのグローバル・ラベル<code>one=label-one</code>および<code>two=labl-two</code>と1つのグローバル注釈<code>foo=bar</code>を使用してオペレータを起動します。</span></p>

<p><span class="merged" id="all.44gHtx" style='background-color:yellow' title="原文 : The Operator will then apply these labels and annotations to every Kubernetes resource that it creates.">♪オペレータは、これらのラベルおよび注釈を、作成するすべてのKubernetesリソースに適用します。</span></p>


<h3 id="_installing_using_the_manifest_files"><span class="merged" id="all.2yGdxv" style='background-color:yellow' title="原文 : Installing Using the Manifest Files">♪マニフェスト・ファイルを使用したインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.44DFzA" style='background-color:yellow' title="原文 : When installing the Operator using the manifest yaml files, additional command line flags can be configured by manually editing the yaml file before installing.">♪マニフェストyamlファイルを使用してオペレータをインストールする場合、インストール前にyamlファイルを手動で編集することで、追加のコマンドライン・フラグを構成できます。</span></p>

<p><span class="merged" id="all.3WAabs" style='background-color:yellow' title="原文 : Download the yaml manifest file from the GitHub repo https://github.com/oracle/coherence-operator/releases/download/v3.4.0/coherence-operator.yaml">♪GitHubリポジトリ<a href="https://github.com/oracle/coherence-operator/releases/download/v3.4.0/coherence-operator.yaml" id="" target="_blank" >https://github.com/oracle/coherence-operator/releases/download/v3.4.0/coherence-operator.yaml</a>からyamlマニフェスト・ファイルをダウンロード</span></p>

<p><span class="merged" id="all.SBiqw" style='background-color:yellow' title="原文 : Find the section of the yaml file the defines the Operator container args, the default looks like this">♪オペレータ・コンテナ引数を定義するyamlファイルのセクションを検索します。デフォルトはこんな感じです</span></p>

<pre
lang="yaml"
title="coherence-operator.yaml"
>      - args:
        - operator
        - --enable-leader-election</pre>

<p><span class="merged" id="all.sUzwe" style='background-color:yellow' title="原文 : Then edit the argument list to add the required --global-label and --global-annotation flags.">♪次に、引数リストを編集して、必要な<code>--global-label</code>および<code>--global-annotation</code>フラグを追加します。</span></p>

<p><span class="merged" id="all.10F9WY" style='background-color:yellow' title="原文 : For example, to add the same --global-label one=label-one --global-annotation foo=bar --global-label two=label-two flags, the file would look like this:">♪たとえば、同じ<code>--global-label one=label-one --global-annotation foo=bar --global-label two=label-two</code>フラグを追加する場合、ファイルは次のようになります:</span></p>

<pre
lang="yaml"
title="coherence-operator.yaml"
>      - args:
        - operator
        - --enable-leader-election
        - --global-label
        - one=label-one
        - --global-annotation
        - foo=bar
        - --global-label
        - two=label-two`</pre>

<div class="admonition important">
<p class="admonition-textlabel"><span class="merged" id="all.1K6f2p.4"  title="原文:: Important">重要</span></p>
<p ><p><span class="merged" id="all.315hcL.spl1" style='background-color:yellow' title="原文 : Container arguments must each be a separate entry in the arg list.">♪コンテナ引数は、それぞれ引数リスト内の個別のエントリである必要があります。</span> <span class="merged" id="all.315hcL.spl2" style='background-color:yellow' title="原文 : This is valid">♪これは有効です</span> </p>

<pre
lang="yaml"
title="coherence-operator.yaml"
>      - args:
        - operator
        - --enable-leader-election
        - --global-label
        - one=label-one</pre>

<p><span class="merged" id="all.4eexzm" style='background-color:yellow' title="原文 : This is not valid">♪これは無効です</span></p>

<pre
lang="yaml"
title="coherence-operator.yaml"
>      - args:
        - operator
        - --enable-leader-election
        - --global-label  one=label-one</pre>
</p>
</div>
</div>

<h3 id="_installing_using_the_helm_chart"><span class="merged" id="all.XvOeq" style='background-color:yellow' title="原文 : Installing Using the Helm Chart">♪Helmチャートを使用したインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.2NYnee" style='background-color:yellow' title="原文 : If installing the Operator using the Helm chart, the global labels and annotations can be specified as values as part of the Helm command or in a values file.">♪Helmチャートを使用してオペレータをインストールする場合、グローバル・ラベルおよび注釈は、Helmコマンドの一部として、または値ファイルに値として指定できます。</span></p>

<p><span class="merged" id="all.1RdnHs" style='background-color:yellow' title="原文 : For example, to add the same --global-label one=label-one --global-annotation foo=bar --global-label two=label-two flags, create a simple values file:">♪たとえば、同じ<code>--global-label one=label-one --global-annotation foo=bar --global-label two=label-two</code>フラグを追加するには、単純な値ファイルを作成します:</span></p>

<pre

title="global-values.yaml"
>globalLabels:
  one: "label-one"
  two: "label-two"

globalAnnotations:
  foo: "bar"</pre>

<p><span class="merged" id="all.3E8hoc" style='background-color:yellow' title="原文 : Use the values file when installing the Helm chart">♪Helmチャートのインストール時に値ファイルを使用</span></p>

<pre
lang="bash"

>helm install  \
    --namespace &lt;namespace&gt; \
    --values global-values.yaml
    coherence \
    coherence/coherence-operator</pre>

</div>
</div>
</doc-view>
<!-- pages/docs/other/045_security_context.js -->
<doc-view>

<h2 id="_pod_container_securitycontext"><span class="merged" id="all.2LKvoD" style='background-color:yellow' title="原文 : Pod &amp; Container SecurityContext">ポッド&amp;コンテナSecurityContext</span></h2>
<div class="section">
<p><span class="merged" id="all.35izJi.spl1" style='background-color:yellow' title="原文 : Kubernetes allows you to configure a Security Context for both Pods and Containers.">Kubernetesでは、ポッドとコンテナの両方に<a href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/" id="" target="_blank" >「セキュリティ・コンテキスト」</a>を構成できます。</span> <span class="merged" id="all.35izJi.spl2" style='background-color:yellow' title="原文 : The Coherence CRD exposes both of these to allow you to set the security context configuration for the Coherence Pods and for the Coherence containers withing the Pods.">Coherence CRDでは、これらの両方を公開して、Coherenceポッドおよびポッドを含むCoherenceコンテナのセキュリティ・コンテキスト構成を設定できます。</span> </p>

<p><span class="merged" id="all.D75pT" style='background-color:yellow' title="原文 : For more details see the Kubernetes Security Context documentation.">詳細は、Kubernetes <a href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/" id="" target="_blank" >「セキュリティ・コンテキスト」</a>のドキュメントを参照してください。</span></p>


<h3 id="_setting_the_pod_security_context"><span class="merged" id="all.1967XU" style='background-color:yellow' title="原文 : Setting the Pod Security Context">ポッド・セキュリティ・コンテキストの設定</span></h3>
<div class="section">
<p><span class="merged" id="all.4cewzA.spl1" style='background-color:yellow' title="原文 : To specify security settings for a Pod, include the securityContext field in the Coherence resource specification.">ポッドのセキュリティ設定を指定するには、Coherenceリソース仕様に<code>securityContext</code>フィールドを含めます。</span> <span class="merged" id="all.4cewzA.spl2" style='background-color:yellow' title="原文 : The securityContext field is a PodSecurityContext object.">securityContextフィールドは<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#podsecuritycontext-v1-core" id="" target="_blank" >PodSecurityContext</a>オブジェクトです。</span> <span class="merged" id="all.4cewzA.spl3" style='background-color:yellow' title="原文 : The security settings that you specify for a Pod apply to all Containers in the Pod.">ポッドに指定したセキュリティ設定は、ポッド内のすべてのコンテナに適用されます。</span> <span class="merged" id="all.4cewzA.spl4" style='background-color:yellow' title="原文 : Here is a configuration file for a Pod that has a securityContext:">securityContextを持つポッドの構成ファイルを次に示します:</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 3000
    fsGroup: 2000</pre>

</div>

<h3 id="_setting_the_coherence_container_security_context"><span class="merged" id="all.1wdIqL" style='background-color:yellow' title="原文 : Setting the Coherence Container Security Context">Coherenceコンテナ・セキュリティ・コンテキストの設定</span></h3>
<div class="section">
<p><span class="merged" id="all.4a2Z6o.spl1" style='background-color:yellow' title="原文 : To specify security settings for the Coherence container within the Pods, include the containerSecurityContext field in the Container manifest.">ポッド内のCoherenceコンテナのセキュリティ設定を指定するには、コンテナ・マニフェストに<code>containerSecurityContext</code>フィールドを含めます。</span> <span class="merged" id="all.4a2Z6o.spl2" style='background-color:yellow' title="原文 : The containerSecurityContext field is a SecurityContext object."><code>containerSecurityContext</code>フィールドは<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#securitycontext-v1-core" id="" target="_blank" >SecurityContext</a>オブジェクトです。</span> <span class="merged" id="all.4a2Z6o.spl3" style='background-color:yellow' title="原文 : Security settings that you specify in the containerSecurityContext field apply only to the individual Coherence container and the Operator init-container, and they override settings made at the Pod level in the securityContext field when there is overlap."><code>containerSecurityContext</code>フィールドに指定するセキュリティ設定は、個々のCoherenceコンテナおよびOperator init-containerにのみ適用され、重複がある場合は、<code>securityContext</code>フィールドのポッド・レベルで行った設定をオーバーライドします。</span> <span class="merged" id="all.4a2Z6o.spl4" style='background-color:yellow' title="原文 : Container settings do not affect the Pod’s Volumes.">コンテナ設定はポッドのボリュームに影響しません。</span> </p>

<p><span class="merged" id="all.1wLX6L" style='background-color:yellow' title="原文 : Here is the configuration file for a Coherence resource that has both the Pod and the container security context:">Podとコンテナ・セキュリティ・コンテキストの両方を持つCoherenceリソースの構成ファイルは、次のとおりです:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 3000
    fsGroup: 2000
  containerSecurityContext:
      runAsUser: 2000
      allowPrivilegeEscalation: false
      capabilities:
        add: ["NET_ADMIN", "SYS_TIME"]</pre>

</div>
</div>
</doc-view>
<!-- pages/docs/other/050_configmap_volumes.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.cRo0P" style='background-color:yellow' title="原文 : Add ConfigMap Volumes">ConfigMapボリュームの追加</span></dt>
<dd slot="desc"><p><span class="merged" id="all.3kwkrC" style='background-color:yellow' title="原文 : Additional Volumes and VolumeMounts from ConfigMaps can easily be added to a Coherence resource."><code>ConfigMaps</code>からの<code>Volumes</code>および<code>VolumeMounts</code>は、<code>Coherence</code>リソースに簡単に追加できます。</span></p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_add_configmap_volumes"><span class="merged" id="all.cRo0P.1" style='background-color:yellow' title="原文 : Add ConfigMap Volumes">ConfigMapボリュームの追加</span></h2>
<div class="section">
<p><span class="merged" id="all.1dEAUE.spl1" style='background-color:yellow' title="原文 : To add a ConfigMap as an additional volume to the Pods of a Coherence deployment add entries to the configMapVolumes list in the CRD spec."><code>ConfigMap</code>を追加のボリュームとしてCoherenceデプロイメントの<code>Pods</code>に追加するには、CRD仕様の<code>configMapVolumes</code>リストにエントリを追加します。</span> <span class="merged" id="all.1dEAUE.spl2" style='background-color:yellow' title="原文 : Each entry in the list has a mandatory name and mountPath field, all other fields are optional.">リストの各エントリには、必須の<code>name</code>および<code>mountPath</code>フィールドがあり、他のすべてのフィールドはオプションです。</span> <span class="merged" id="all.1dEAUE.spl3" style='background-color:yellow' title="原文 : The name field is the name of the ConfigMap to mount and is also used as the volume name."><code>name</code>フィールドは、マウントする<code>ConfigMap</code>の名前で、ボリューム名としても使用されます。</span> <span class="merged" id="all.1dEAUE.spl4" style='background-color:yellow' title="原文 : The mountPath field is the path in the container to mount the volume to."><code>mountPath</code>フィールドは、ボリュームをマウントするコンテナ内のパスです。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.2UAqjx" style='background-color:yellow' title="原文 : Additional volumes added in this way (either ConfigMaps shown here, or Secrets or plain Volumes) will be added to all containers in the Pod.">この方法で追加された追加のボリューム(ここに示す<code>ConfigMaps</code>、または<code>Secrets</code>またはプレーン<code>Volumes</code>のいずれか)は、<code>Pod</code>内のすべてのコンテナに追加されます。</span></p>
</div>
<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  configMapVolumes:
    - name: storage-config               <span class="conum" data-value="1" />
      mountPath: /home/coherence/config  <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1fGMpR" style='background-color:yellow' title="原文 : The ConfigMap named storage-config will be mounted to the Pod as an additional Volume named storage-config"><code>storage-config</code>という名前の<code>ConfigMap</code>は、<code>storage-config</code>という名前の追加の<code>Volume</code>として<code>Pod</code>にマウントされます</span></li>
<li data-value="2"><span class="merged" id="all.29dUnh" style='background-color:yellow' title="原文 : The ConfigMap will be mounted at /home/coherence/config in the containers."><code>ConfigMap</code>は、コンテナの<code>/home/coherence/config</code>にマウントされます。</span></li>
</ul>
<p><span class="merged" id="all.2i98ou" style='background-color:yellow' title="原文 : The yaml above would result in a Pod spec similar to the following (a lot of the Pod spec has been omitted to just show the relevant volume information):">前述のyamlでは、次のような<code>Pod</code>仕様になります(関連するボリューム情報を表示するため、多くの<code>Pod</code>仕様が省略されています):</span></p>

<pre
lang="yaml"

>apiVersion: v1
kind: Pod
metadata:
  name: storage-0
spec:
  containers:
    - name: coherence
      volumeMounts:
        - name: storage-config
          mountPath: /home/coherence/config
  volumes:
    - name: storage-config
      configMap:
        name: storage-config</pre>

<p><span class="merged" id="all.1LxhrB" style='background-color:yellow' title="原文 : As already stated, if the Coherence resource has additional containers the ConfigMap will be mounted in all of them.">すでに説明したように、<code>Coherence</code>リソースに追加のコンテナがある場合、<code>ConfigMap</code>はすべてのコンテナにマウントされます。</span></p>

<p><span class="merged" id="all.6vDv5.21"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  sideCars:
    - name: fluentd
      image: "fluent/fluentd:v1.3.3"
  configMapVolumes:
    - name: storage-config
      mountPath: /home/coherence/config</pre>

<p><span class="merged" id="all.3sh3ZX.spl1" style='background-color:yellow' title="原文 : In this example the storage-config ConfigMap will be mounted as a Volume and mounted to both the coherence container and the fluentd container.">この例では、<code>storage-config</code> <code>ConfigMap</code>は<code>Volume</code>としてマウントされ、<code>coherence</code>コンテナと<code>fluentd</code>コンテナの両方にマウントされます。</span> <span class="merged" id="all.3sh3ZX.spl2" style='background-color:yellow' title="原文 : The yaml above would result in a Pod spec similar to the following (a lot of the Pod spec has been omitted to just show the relevant volume information):">前述のyamlでは、次のような<code>Pod</code>仕様になります(関連するボリューム情報を表示するため、多くの<code>Pod</code>仕様が省略されています):</span> </p>

<pre
lang="yaml"

>apiVersion: v1
kind: Pod
metadata:
  name: storage-0
spec:
  containers:
    - name: coherence
      volumeMounts:
        - name: storage-config
          mountPath: /home/coherence/config
    - name: fluentd
      image: "fluent/fluentd-kubernetes-daemonset:v1.3.3-debian-elasticsearch-1.3"
      volumeMounts:
        - name: storage-config
          mountPath: /home/coherence/config
  volumes:
    - name: storage-config
      configMap:
        name: storage-config</pre>

</div>
</doc-view>
<!-- pages/docs/other/060_secret_volumes.js -->
<doc-view> <v-layout row wrap> <v-flex xs12 sm10 lg10> <v-card class="section-def" v-bind:color="$store.state.currentColor"> <v-card-text class="pa-3"> <v-card class="section-def__card"> <v-card-text>
<dl>
<dt slot=title><span class="merged" id="all.2fiukq" style='background-color:yellow' title="原文 : Add Secrets Volumes">シークレット・ボリュームの追加</span></dt>
<dd slot="desc"><p><span class="merged" id="all.2hwk41" style='background-color:yellow' title="原文 : Additional Volumes and VolumeMounts from Secrets can easily be added to a Coherence resource."><code>Secrets</code>からの<code>Volumes</code>および<code>VolumeMounts</code>は、<code>Coherence</code>リソースに簡単に追加できます。</span></p>
</dd>
</dl>
</v-card-text>
</v-card>
</v-card-text>
</v-card>
</v-flex>
</v-layout>

<h2 id="_add_secrets_volumes"><span class="merged" id="all.2fiukq.1" style='background-color:yellow' title="原文 : Add Secrets Volumes">シークレット・ボリュームの追加</span></h2>
<div class="section">
<p><span class="merged" id="all.1ir6W9.spl1" style='background-color:yellow' title="原文 : To add a Secret as an additional volume to the Pods of a Coherence deployment add entries to the secretVolumes list in the CRD spec."><code>Secret</code>を追加のボリュームとしてCoherenceデプロイメントの<code>Pods</code>に追加するには、CRD仕様の<code>secretVolumes</code>リストにエントリを追加します。</span> <span class="merged" id="all.1ir6W9.spl2" style='background-color:yellow' title="原文 : Each entry in the list has a mandatory name and mountPath field, all other fields are optional.">リストの各エントリには、必須の<code>name</code>および<code>mountPath</code>フィールドがあり、他のすべてのフィールドはオプションです。</span> <span class="merged" id="all.1ir6W9.spl3" style='background-color:yellow' title="原文 : The name field is the name of the Secret to mount and is also used as the volume name."><code>name</code>フィールドは、マウントする<code>Secret</code>の名前で、ボリューム名としても使用されます。</span> <span class="merged" id="all.1ir6W9.spl4" style='background-color:yellow' title="原文 : The mountPath field is the path in the container to mount the volume to."><code>mountPath</code>フィールドは、ボリュームをマウントするコンテナ内のパスです。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.4No8Iw" style='background-color:yellow' title="原文 : Additional volumes added in this way (either Secrets shown here, or Secrets or plain Volumes) will be added to all containers in the Pod.">この方法で追加された追加のボリューム(ここに示す<code>Secrets</code>または<code>Secrets</code>またはプレーン<code>Volumes</code>)は、<code>Pod</code>内のすべてのコンテナに追加されます。</span></p>
</div>
<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  secretVolumes:
    - name: storage-config               <span class="conum" data-value="1" />
      mountPath: /home/coherence/config  <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.cRads" style='background-color:yellow' title="原文 : The Secret named storage-config will be mounted to the Pod as an additional Volume named storage-config"><code>storage-config</code>という名前の<code>Secret</code>は、<code>storage-config</code>という名前の追加の<code>Volume</code>として<code>Pod</code>にマウントされます</span></li>
<li data-value="2"><span class="merged" id="all.1TBh97" style='background-color:yellow' title="原文 : The Secret will be mounted at /home/coherence/config in the containers."><code>Secret</code>は、コンテナの<code>/home/coherence/config</code>にマウントされます。</span></li>
</ul>
<p><span class="merged" id="all.2i98ou.1" style='background-color:yellow' title="原文 : The yaml above would result in a Pod spec similar to the following (a lot of the Pod spec has been omitted to just show the relevant volume information):">前述のyamlでは、次のような<code>Pod</code>仕様になります(関連するボリューム情報を表示するため、多くの<code>Pod</code>仕様が省略されています):</span></p>

<pre
lang="yaml"

>apiVersion: v1
kind: Pod
metadata:
  name: storage-0
spec:
  containers:
    - name: coherence
      volumeMounts:
        - name: storage-config
          mountPath: /home/coherence/config
  volumes:
    - name: storage-config
      secret:
        secretName: storage-config</pre>

<p><span class="merged" id="all.4K19zb" style='background-color:yellow' title="原文 : As already stated, if the Coherence resource has additional containers the Secret will be mounted in all of them.">すでに説明したように、<code>Coherence</code>リソースに追加のコンテナがある場合、<code>Secret</code>はすべてのコンテナにマウントされます。</span></p>

<p><span class="merged" id="all.6vDv5.22"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  sideCars:
    - name: fluentd
      image: "fluent/fluentd:v1.3.3"
  secretVolumes:
    - name: storage-config
      mountPath: /home/coherence/config</pre>

<p><span class="merged" id="all.1BAPzZ.spl1" style='background-color:yellow' title="原文 : In this example the storage-config Secret will be mounted as a Volume and mounted to both the coherence container and the fluentd container.">この例では、<code>storage-config</code> <code>Secret</code>は<code>Volume</code>としてマウントされ、<code>coherence</code>コンテナと<code>fluentd</code>コンテナの両方にマウントされます。</span> <span class="merged" id="all.1BAPzZ.spl2" style='background-color:yellow' title="原文 : The yaml above would result in a Pod spec similar to the following (a lot of the Pod spec has been omitted to just show the relevant volume information):">前述のyamlでは、次のような<code>Pod</code>仕様になります(関連するボリューム情報を表示するため、多くの<code>Pod</code>仕様が省略されています):</span> </p>

<pre
lang="yaml"

>apiVersion: v1
kind: Pod
metadata:
  name: storage-0
spec:
  containers:
    - name: coherence
      volumeMounts:
        - name: storage-config
          mountPath: /home/coherence/config
    - name: fluentd
      image: "fluent/fluentd-kubernetes-daemonset:v1.3.3-debian-elasticsearch-1.3"
      volumeMounts:
        - name: storage-config
          mountPath: /home/coherence/config
  volumes:
    - name: storage-config
      secret:
        secretName: storage-config</pre>

</div>
</doc-view>
<!-- pages/docs/other/070_add_volumes.js -->
<doc-view>

<h2 id="_add_pod_volumes"><span class="merged" id="all.22b0zY" style='background-color:yellow' title="原文 : Add Pod Volumes">ポッド・ボリュームの追加</span></h2>
<div class="section">
<p><span class="merged" id="all.SjWK1" style='background-color:yellow' title="原文 : Volumes and volume mappings can easily be added to a Coherence resource Pod to allow application code deployed in the Pods to access additional storage.">ボリュームおよびボリューム・マッピングは、<code>Coherence</code>リソース・ポッドに簡単に追加できるため、ポッドにデプロイされたアプリケーション・コードで追加のストレージにアクセスできます。</span></p>

<p><span class="merged" id="all.A0D3c.spl1" style='background-color:yellow' title="原文 : Volumes are added by adding configuration to the volumes list in the Coherence CRD spec.">ボリュームは、<code>Coherence</code> CRD仕様の<code>volumes</code>リストに構成を追加することで追加されます。</span> <span class="merged" id="all.A0D3c.spl2" style='background-color:yellow' title="原文 : The configuration of the volume can be any valid yaml that would be used when adding a Volume to a Pod spec.">ボリュームの構成は、<code>Volume</code>を<code>Pod</code>仕様に追加するときに使用される任意の有効なyamlにできます。</span> </p>

<p><span class="merged" id="all.3THh7L.spl1" style='background-color:yellow' title="原文 : Volume mounts are added by adding configuration to the volumeMounts list in the Coherence CRD spec.">ボリューム・マウントは、<code>Coherence</code> CRD仕様の<code>volumeMounts</code>リストに構成を追加することで追加されます。</span> <span class="merged" id="all.3THh7L.spl2" style='background-color:yellow' title="原文 : The configuration of the volume mount can be any valid yaml that would be used when adding a volume mount to a container in a Pod spec.">ボリューム・マウントの構成は、<code>Pod</code>仕様のコンテナにボリューム・マウントを追加するときに使用する任意の有効なyamlにできます。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.1kLbEJ" style='background-color:yellow' title="原文 : Additional volumes added in this way will be added to all containers in the Pod.">この方法で追加された追加のボリュームは、<code>Pod</code>内のすべてのコンテナに追加されます。</span></p>
</div>
<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  volumes:
    - name: data-volume      <span class="conum" data-value="1" />
      nfs:
        path: /shared/data
        server: nfs-server
  volumeMounts:
    - name: data-volume      <span class="conum" data-value="2" />
      mountPath: /data</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.NkC2X" style='background-color:yellow' title="原文 : An additional Volume named data-volume has been added (in this case the volume is an NFS volume)."><code>data-volume</code>という名前の追加の<code>Volume</code>が追加されました(この場合はボリュームはNFSボリュームです)。</span></li>
<li data-value="2"><span class="merged" id="all.1A1cop" style='background-color:yellow' title="原文 : An additional volume mount has been added tthat will mount the data-volume at the /data mount point."><code>data-volume</code>を<code>/data</code>マウント・ポイントにマウントする追加のボリューム・マウントが追加されました。</span></li>
</ul>
<p><span class="merged" id="all.2i98ou.2" style='background-color:yellow' title="原文 : The yaml above would result in a Pod spec similar to the following (a lot of the Pod spec has been omitted to just show the relevant volume information):">前述のyamlでは、次のような<code>Pod</code>仕様になります(関連するボリューム情報を表示するため、多くの<code>Pod</code>仕様が省略されています):</span></p>

<pre
lang="yaml"

>apiVersion: v1
kind: Pod
metadata:
  name: storage-0
spec:
  containers:
    - name: coherence
      volumeMounts:
        - name: data-volume
          mountPath: /data
  volumes:
    - name: data-volume
      nfs:
        path: /shared/data
        server: nfs-server</pre>

</div>
</doc-view>
<!-- pages/docs/other/080_add_containers.js -->
<doc-view>

<h2 id="_configure_additional_containers"><span class="merged" id="all.4WH1tp" style='background-color:yellow' title="原文 : Configure Additional Containers">追加コンテナの構成</span></h2>
<div class="section">
<p><span class="merged" id="all.3qacsb.spl1" style='background-color:yellow' title="原文 : Additional containers and init-containers can easily be added to a Coherence resource Pod.">追加のコンテナおよびinit-containersは、<code>Coherence</code>リソース・ポッドに簡単に追加できます。</span> <span class="merged" id="all.3qacsb.spl2" style='background-color:yellow' title="原文 : There are two types of container that can be added, init-containers and normal containers.">追加できるコンテナには、initコンテナと通常のコンテナの2つのタイプがあります。</span> <span class="merged" id="all.3qacsb.spl3" style='background-color:yellow' title="原文 : An example use case for this would be to add something like a Fluentd side-car container to ship logs to Elasticsearch.">この使用例としては、Fluentdサイドカー・コンテナのようなものを追加して、ログをElasticsearchに出荷します。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.4QPTKL.spl1" style='background-color:yellow' title="原文 : A note about Volumes: The Operator created a number of volumes and volume mounts by default.">ボリュームに関するノート:<br>オペレータは、デフォルトでいくつかのボリュームおよびボリューム・マウントを作成しました。</span> <span class="merged" id="all.4QPTKL.spl2" style='background-color:yellow' title="原文 : These default volume mounts will be added to all containers in the Pod including containers added as described here.">これらのデフォルトのボリューム・マウントは、ここで説明するように追加されたコンテナを含めて、<code>Pod</code>の<strong>「すべて」</strong>コンテナに追加されます。</span> <span class="merged" id="all.4QPTKL.spl3" style='background-color:yellow' title="原文 :  Any additional volumes and volume mounts added to the Coherence resource spec will also be added all containers."><br><code>Coherence</code>リソース仕様に追加したボリュームおよびボリューム・マウントも、<strong>「すべて」</strong>コンテナに追加されます。</span> </p>
</div>

<h3 id="_add_a_container"><span class="merged" id="all.2pRT7G" style='background-color:yellow' title="原文 : Add a Container">コンテナを追加</span></h3>
<div class="section">
<p><span class="merged" id="all.SrKPK" style='background-color:yellow' title="原文 : To add a container to the Pods specify the container in the sideCars list in the Coherence CRD spec."><code>Pods</code>にコンテナを追加するには、<code>Coherence</code> CRD仕様の<code>sideCars</code>リストにコンテナを指定します。</span></p>

<p><span class="merged" id="all.2xG7pK" style='background-color:yellow' title="原文 : See the Logging Documentation for a bigger example of adding a side-car container.">サイドカー・コンテナの追加のより大きな例については、<router-link to="/docs/logging/020_logging">「ロギング・ドキュメント」</router-link>を参照してください。</span></p>

<p><span class="merged" id="all.6vDv5.23"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  sideCars:
    - name: fluentd                   <span class="conum" data-value="1" />
      image: "fluent/fluentd:v1.3.3"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4OrZu0" style='background-color:yellow' title="原文 : An additional container named fluentd has been added to the CRD spec."><code>fluentd</code>という名前のコンテナがCRD仕様に追加されました。</span></li>
</ul>
<p><span class="merged" id="all.4Re7rV.spl1" style='background-color:yellow' title="原文 : The containers will added to the sideCars will be added to the Pods exactly as configured.">コンテナは<code>sideCars</code>に追加され、構成済と正確に<code>Pods</code>に追加されます。</span> <span class="merged" id="all.4Re7rV.spl2" style='background-color:yellow' title="原文 : Any configuration that is valid in a Kubernetes Container Spec may be added to an entry in sideCars">Kubernetes <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#container-v1-core" id="" target="_blank" >「コンテナ仕様」</a>で有効な構成はすべて、<code>sideCars</code>のエントリに追加できます</span> </p>

</div>

<h3 id="_add_an_init_container"><span class="merged" id="all.9J7Ds" style='background-color:yellow' title="原文 : Add an Init-Container">初期化コンテナの追加</span></h3>
<div class="section">
<p><span class="merged" id="all.19gBcJ.spl1" style='background-color:yellow' title="原文 : Just like normal containers above, additional init-containers can also be added to the Pods.">前述の通常のコンテナと同様に、<code>Pods</code>に追加のinitコンテナを追加することもできます。</span> <span class="merged" id="all.19gBcJ.spl2" style='background-color:yellow' title="原文 : To add an init-container to the Pods specify the container in the initContainers list in the Coherence CRD spec.">init-containerを<code>Pods</code>に追加するには、<code>Coherence</code> CRD仕様の<code>initContainers</code>リストにコンテナを指定します。</span> <span class="merged" id="all.19gBcJ.spl3" style='background-color:yellow' title="原文 : As with containers, for init-containers any configuration that is valid in a Kubernetes Container Spec may be added to an entry in initContainers">コンテナの場合と同様に、initコンテナの場合、Kubernetes <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#container-v1-core" id="" target="_blank" >「コンテナ仕様」</a>で有効なすべての構成を<code>initContainers</code>のエントリに追加できます</span> </p>

<p><span class="merged" id="all.6vDv5.24"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  initContainers:
    - name: setup                   <span class="conum" data-value="1" />
      image: "app-setup:1.0.0"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.22DfsA" style='background-color:yellow' title="原文 : An additional init-container named setup has been added to the CRD spec with an image named app-setup:1.0.0."><code>setup</code>という名前の別のinitコンテナが、<code>app-setup:1.0.0</code>という名前のイメージとともにCRD仕様に追加されました。</span></li>
</ul>
</div>
</div>
</doc-view>
<!-- pages/docs/other/090_pod_scheduling.js -->
<doc-view>

<h2 id="_configure_pod_scheduling"><span class="merged" id="all.49FcDZ" style='background-color:yellow' title="原文 : Configure Pod Scheduling">ポッド・スケジューリングの構成</span></h2>
<div class="section">
<p><span class="merged" id="all.3sWVtA" style='background-color:yellow' title="原文 : In Kubernetes Pods can be configured to control how, and onto which nodes, Kubernetes will schedule those Pods; the Coherence Operator allows the same control for Pods owned by a Coherence resource.">Kubernetes <code>Pods</code>では、Kubernetesによってそれらの<code>Pods</code>がスケジュールされる方法およびノードを制御するように構成できます。Coherence Operatorでは、<code>Coherence</code>リソースが所有する<code>Pods</code>に対して同じ制御を行うことができます。</span></p>

<p><span class="merged" id="all.UMgFe"  title="原文: The following settings can be configured:">次の設定を構成できます。</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.2p5Jka.41"  title="原文:: Field">フィールド</span></th>
<th><span class="merged" id="all.4JM9z7.43"  title="原文:: Description">説明</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.3aBnkC.1"  title="原文: nodeSelector"><code>nodeSelector</code></span></td>
<td class=""><span class="merged" id="all.15yRwc.spl1" style='background-color:yellow' title="原文 : nodeSelector is the simplest recommended form of node selection constraint. nodeSelector is a field of role spec, it specifies a map of key-value pairs."><code>nodeSelector</code>は、ノード選択制約の最もシンプルな推奨形式です。<code>nodeSelector</code>はロール仕様のフィールドであり、キーと値のペアのマップを指定します。</span> <span class="merged" id="all.15yRwc.spl2" style='background-color:yellow' title="原文 : For the Pod to be eligible to run on a node, the node must have each of the indicated key-value pairs as labels (it can have additional labels as well)."><code>Pod</code>がノード上で実行されるようにするには、指定された各キーと値のペアをラベルとして持つ必要があります(追加のラベルも持つことができます)。</span> <span class="merged" id="all.15yRwc.spl3" style='background-color:yellow' title="原文 : See Assigning Pods to Nodes in the Kubernetes documentation">Kubernetesドキュメントの<a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/" id="" target="_blank" >「ノードへのポッドの割当て」</a>を参照してください</span> </td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3DZ0qh.1"  title="原文: affinity"><code>affinity</code></span></td>
<td class=""><span class="merged" id="all.25REfU.spl1" style='background-color:yellow' title="原文 : The affinity/anti-affinity feature, greatly expands the types of constraints you can express over just using labels in a nodeSelector.">アフィニティ/アンチ・アフィニティ機能では、<code>nodeSelector</code>のラベルを使用するだけで表現できる制約のタイプが大幅に拡張されます。</span> <span class="merged" id="all.25REfU.spl2" style='background-color:yellow' title="原文 : See Assigning Pods to Nodes in the Kubernetes documentation">Kubernetesドキュメントの<a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/" id="" target="_blank" >「ノードへのポッドの割当て」</a>を参照してください</span> </td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3i1GxM.1"  title="原文: tolerations"><code>tolerations</code></span></td>
<td class=""><span class="merged" id="all.4EfsZe.spl1" style='background-color:yellow' title="原文 : nodeSelector and affinity are properties of Pods that attracts them to a set of nodes (either as a preference or a hard requirement)."><code>nodeSelector</code>および<code>affinity</code>は、ノードのセット(プリファレンスまたはハード要件のいずれか)に引き付ける<code>Pods</code>のプロパティです。</span> <span class="merged" id="all.4EfsZe.spl2" style='background-color:yellow' title="原文 : Taints are the opposite - they allow a node to repel a set of Pods.">taintsは逆 - ノードは、一連の<code>Pods</code>をリペルできます。</span> <span class="merged" id="all.4EfsZe.spl3" style='background-color:yellow' title="原文 : Taints and tolerations work together to ensure that Pods are not scheduled onto inappropriate nodes.">taintsとtolerationsは連携して、<code>Pods</code>が不適切なノードにスケジュールされないようにします。</span> <span class="merged" id="all.4EfsZe.spl4" style='background-color:yellow' title="原文 : One or more taints are applied to a node; this marks that the node should not accept any Pods that do not tolerate the taints.">1つ以上のtaintsがノードに適用されます。これは、ノードがtaintsを許容しない<code>Pods</code>を受け入れないことを示します。</span> <span class="merged" id="all.4EfsZe.spl5" style='background-color:yellow' title="原文 : Tolerations are applied to Pods, and allow (but do not require) the Pods to schedule onto nodes with matching taints.">Tolerationsは<code>Pods</code>に適用され、<code>Pods</code>は、一致するtaintsを持つノードにスケジュールできます(ただし、必要ありません)。</span> <span class="merged" id="all.4EfsZe.spl6" style='background-color:yellow' title="原文 : See Taints and Tolerations in the Kubernetes documentation.">Kubernetesドキュメントの<a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/" id="" target="_blank" >「TaintsとTolerations」</a>を参照してください。</span> </td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.24G9b4.spl1" style='background-color:yellow' title="原文 : The nodeSelector, affinity and tolerations fields are all part of the Coherence CRD spec."><code>nodeSelector</code>、<code>affinity</code>および<code>tolerations</code>フィールドはすべて、<code>Coherence</code> CRD仕様の一部です。</span> <span class="merged" id="all.24G9b4.spl2" style='background-color:yellow' title="原文 : The format of the fields is that same as documented in the Kubernetes documentation Assigning Pods to Nodes and Taints and Tolerations">フィールドの形式は、Kubernetesドキュメントの<a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/" id="" target="_blank" >「ノードへのポッドの割当て」</a>および<a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/" id="" target="_blank" >「TaintsとTolerations」</a>に記載されている形式と同じです</span> </p>

<p><span class="merged" id="all.6vDv5.25"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  tolerations:
    - key: "example-key"
      operator: "Exists"
      effect: "NoSchedule"
  nodeSelector:
    disktype: ssd
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
          - matchExpressions:
             - key: kubernetes.io/e2e-az-name
               operator: In
               values:
                 - e2e-az1
                 - e2e-az2</pre>

</div>
</doc-view>
<!-- pages/docs/other/100_resources.js -->
<doc-view>

<h2 id="_container_resource_limits"><span class="merged" id="all.3AnCj6" style='background-color:yellow' title="原文 : Container Resource Limits">コンテナ・リソースの制限</span></h2>
<div class="section">
<p><span class="merged" id="all.231xTI.spl1" style='background-color:yellow' title="原文 : When creating a Coherence resource you can optionally specify how much CPU and memory (RAM) each Coherence Container is allowed to consume."><code>Coherence</code>リソースを作成する場合、オプションで、各Coherenceコンテナが消費できるCPUおよびメモリー(RAM)の量を指定できます。</span> <span class="merged" id="all.231xTI.spl2" style='background-color:yellow' title="原文 : The container resources are specified in the resources section of the Coherence spec; the format is exactly the same as documented in the Kubernetes documentation Managing Compute Resources for Containers.">コンテナ・リソースは、<code>Coherence</code>仕様の<code>resources</code>セクションで指定されます。形式は、Kubernetesドキュメント<a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/" id="" target="_blank" >「コンテナのコンピュート・リソースの管理」</a>に記載されている形式とまったく同じです。</span> </p>

<div class="admonition warning">
<p class="admonition-inline"><span class="merged" id="all.6DWk0.spl1" style='background-color:yellow' title="原文 : When setting resource limits, in particular memory limits, for a container it is important to ensure that the Coherence JVM is properly configured so that it does not consume more memory than the limits.">リソース制限(特定のメモリー制限)を設定する場合、コンテナのCoherence JVMが制限よりも多くのメモリーを消費しないように適切に構成されるようにすることが重要です。</span> <span class="merged" id="all.6DWk0.spl2" style='background-color:yellow' title="原文 : If the JVM attempts to consume more memory than the resource limits allow the Pod can be killed by Kubernetes.">JVMがリソース制限よりも多くのメモリーを消費しようとすると、<code>Pod</code>をKubernetesで強制終了できます。</span> <span class="merged" id="all.6DWk0.spl3" style='background-color:yellow' title="原文 : See Configuring the JVM Memory for details on the different memory settings.">異なるメモリー設定の詳細は、<router-link to="/docs/jvm/050_memory">「JVMメモリーの構成」</router-link>を参照してください。</span> </p>
</div>
<p><span class="merged" id="all.6vDv5.26"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  resources:           <span class="conum" data-value="1" />
    requests:
      memory: "64Mi"
      cpu: "250m"
    limits:
      memory: "128Mi"
      cpu: "500m"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1NfLWy" style='background-color:yellow' title="原文 : The coherence container in the Pods will have requests of 0.25 cpu and 64MiB of memory, and limits of 0.5 cpu and 128MiB of memory.">♪<code>Pods</code>の<code>coherence</code>コンテナには、0.25 cpuおよび64MiBのメモリーのリクエストと、0.5 cpuおよび128MiBのメモリーの制限があります。</span></li>
</ul>
</div>

<h2 id="_initcontainer_resource_limits"><span class="merged" id="all.45BOos" style='background-color:yellow' title="原文 : InitContainer Resource Limits">♪InitContainerリソース制限</span></h2>
<div class="section">
<p><span class="merged" id="all.2GL0Ig.spl1" style='background-color:yellow' title="原文 : The Coherence Operator adds an init-container to the Pods that it manages.">♪Coherence Operatorは、管理対象のポッドにinitコンテナを追加します。</span> <span class="merged" id="all.2GL0Ig.spl2" style='background-color:yellow' title="原文 : This init container does nothing more than copy some files and ensure some directories exist.">♪このinitコンテナは、一部のファイルをコピーするのみで、ディレクトリが存在することを確認します。</span> <span class="merged" id="all.2GL0Ig.spl3" style='background-color:yellow' title="原文 : In terms of resource use it is extremely light.">♪資源の使用に関しては、極めて軽いです。</span> <span class="merged" id="all.2GL0Ig.spl4" style='background-color:yellow' title="原文 : Some customers have expressed a desire to still be able to set limits fo this init container, so this is possible using the spec.initResources field.">♪一部のお客様は、このinitコンテナに対して制限を設定できるようにしたいと表明しているため、<code>spec.initResources</code>フィールドを使用してこれを行うことができます。</span> </p>

<p><span class="merged" id="all.6vDv5.27"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  initResources:           <span class="conum" data-value="1" />
    requests:
      memory: "64Mi"
      cpu: "250m"
    limits:
      memory: "128Mi"
      cpu: "500m"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3AE14O" style='background-color:yellow' title="原文 : The coherence-k8s-utils init-container in the Pods will have requests of 0.25 cpu and 64MiB of memory, and limits of 0.5 cpu and 128MiB of memory.">♪<code>Pods</code>の<code>coherence-k8s-utils</code> init-containerには、0.25 cpuおよび64MiBのメモリーのリクエストと、0.5 cpuおよび128MiBのメモリーの制限があります。</span></li>
</ul>
<p><span class="merged" id="all.MnqZG" style='background-color:yellow' title="原文 : These resources only applies to the init-container that the Operator creates, any other init-containers added in the spec.initContainers section should have their own resources configured.">♪これらのリソースは、オペレータが作成するinitコンテナにのみ適用され、<code>spec.initContainers</code>セクションに追加される他のinitコンテナは、独自のリソースを構成する必要があります。</span></p>

</div>
</doc-view>
<!-- pages/docs/other/110_readiness.js -->
<doc-view>

<h2 id="_readiness_liveness_probes"><span class="merged" id="all.3R1CdL" style='background-color:yellow' title="原文 : Readiness &amp; Liveness Probes">レディネス&amp;リブネス・プローブ</span></h2>
<div class="section">
<p><span class="merged" id="all.aRlsp.spl1" style='background-color:yellow' title="原文 : The Coherence Operator injects a Readiness/Liveness endpoint into the Coherence container that is used as the default readiness and liveness check for the Pods deployed by the operator.">Coherence Operatorは、オペレータによってデプロイされた<code>Pods</code>のデフォルトのレディネスとチェックとして使用される、レディネス/リブネス・エンドポイントをCoherenceコンテナにインジェクトします。</span> <span class="merged" id="all.aRlsp.spl2" style='background-color:yellow' title="原文 : This endpoint is suitable for most use-cases, but it is possible to configure a different readiness and liveness probe, or just change the timings of the probes if required.">このエンドポイントは、ほとんどのユースケースに適していますが、別のレディネスとリブネス・プローブを構成したり、必要に応じてプローブのタイミングを変更したりできます。</span> </p>

<p><span class="merged" id="all.2WEzEQ.spl1" style='background-color:yellow' title="原文 : The readiness/liveness probe used by the Operator in the Coherence Pods checks a number of things to determine whether the Pods is ready, one of these is whether the JVM is a cluster member.">Coherenceポッドのオペレータが使用するレディネス/リブネス・プローブは、ポッドの準備ができているかどうかを判断するためにいくつかの事項をチェックします。これらの1つは、JVMがクラスタ・メンバーかどうかです。</span> <span class="merged" id="all.2WEzEQ.spl2" style='background-color:yellow' title="原文 : If your application uses a custom main class and is not properly bootstrapping Coherence then the Pod will not be ready until your application code actually touches a Coherence resource causing Coherence to start and join the cluster.">アプリケーションでカスタム・メイン・クラスが使用され、Coherenceが正しくブートストラップされていない場合、アプリケーション・コードが実際にCoherenceリソースに接続され、Coherenceが起動してクラスタに参加するまで、ポッドは準備されません。</span> </p>

<p><span class="merged" id="all.3O231E.spl1" style='background-color:yellow' title="原文 : When running in clusters with the Operator using custom main classes it is advisable to properly bootstrap Coherence from within your main method.">カスタム・メイン・クラスを使用してOperatorを使用してクラスタで実行する場合は、<code>main</code>メソッド内からCoherenceを適切にブートストラップすることをお薦めします。</span> <span class="merged" id="all.3O231E.spl2" style='background-color:yellow' title="原文 : This can be done using the new Coherence bootstrap API available from CE release 20.12 or by calling com.tangosol.net.DefaultCacheServer.startServerDaemon().waitForServiceStart();">これを行うには、CEリリース20.12または<code>com.tangosol.net.DefaultCacheServer.startServerDaemon().waitForServiceStart();</code>をコールして、新しいCoherenceブートストラップAPIを使用できます</span> </p>


<h3 id="_coherence_readiness"><span class="merged" id="all.hhgQ8" style='background-color:yellow' title="原文 : Coherence Readiness">Coherenceレディネス</span></h3>
<div class="section">
<p><span class="merged" id="all.nQd4.spl1" style='background-color:yellow' title="原文 : The default endpoint used by the Operator for readiness checks that the Pod is a member of the Coherence cluster and that none of the partitioned cache services have a StatusHA value of endangered.">オペレータがレディネスに使用するデフォルトのエンドポイントでは、<code>Pod</code>がCoherenceクラスタのメンバーであり、パーティション化されたキャッシュ・サービスのいずれもStatusHA値が<code>endangered</code>でないことがチェックされます。</span> <span class="merged" id="all.nQd4.spl2" style='background-color:yellow' title="原文 : If the Pod is the only cluster member at the time of the ready check the StatusHA check will be skipped.">準備完了時の<code>Pod</code>のみがクラスタ・メンバーである場合、StatusHAチェックはスキップされます。</span> <span class="merged" id="all.nQd4.spl3" style='background-color:yellow' title="原文 : If a partitioned service has a backup count of zero the StatusHA check will be skipped for that service.">パーティション・サービスのバックアップ数がゼロの場合、そのサービスのStatusHAチェックはスキップされます。</span> </p>

<p><span class="merged" id="all.2qptRQ.spl1" style='background-color:yellow' title="原文 : There are scenarios where the StatusHA check can fail but should be ignored because the application does not care about data loss for caches on that particular cache service.">StatusHAチェックが失敗する可能性があり、その特定のキャッシュ特定のキャッシュ・サービスのキャッシュのデータ損失を考慮しないため、無視する必要があるシナリオがあります。</span> <span class="merged" id="all.2qptRQ.spl2" style='background-color:yellow' title="原文 : Normally in this case the backup count for the cache service would be zero, and the service would automatically be skipped in the StatusHA test.">通常、キャッシュ・サービスのバックアップ数はゼロになり、サービスはStatusHAテストで自動的にスキップされます。</span> </p>

<p><span class="merged" id="all.2JpSNj.spl1" style='background-color:yellow' title="原文 : The ready check used by the Operator can be configured to skip the StatusHA test for certain services.">オペレータが使用する準備完了チェックは、特定のサービスのStatusHAテストをスキップするように構成できます。</span> <span class="merged" id="all.2JpSNj.spl2" style='background-color:yellow' title="原文 : In the Coherence CRD the coherence.allowEndangeredForStatusHA is a list of string values that can be set to the names of partitioned cache services that should not be included in the StatusHA check."><code>Coherence</code> CRDでは、<code>coherence.allowEndangeredForStatusHA</code>は、StatusHAチェックに含まれないパーティション・キャッシュ・サービスの名前に設定できる文字列値のリストです。</span> <span class="merged" id="all.2JpSNj.spl3" style='background-color:yellow' title="原文 : For a service to be skipped its name must exactly match one of the names in the allowEndangeredForStatusHA list.">サービスをスキップするには、その名前が<code>allowEndangeredForStatusHA</code>リストの名前の1つと完全に一致している必要があります。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  coherence:
    allowEndangeredForStatusHA:   <span class="conum" data-value="1" />
      - TempService</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.LIiqg.spl1" style='background-color:yellow' title="原文 : The allowEndangeredForStatusHA field is a list of string values."><code>allowEndangeredForStatusHA</code>フィールドは、文字列値のリストです。</span> <span class="merged" id="all.LIiqg.spl2" style='background-color:yellow' title="原文 : In this case the TempService will not be checked for StatusHA in the ready check.">この場合、準備完了チェックで<code>TempService</code>にStatusHAはチェックされません。</span> </li>
</ul>
</div>

<h3 id="_configure_readiness"><span class="merged" id="all.Q9dl2" style='background-color:yellow' title="原文 : Configure Readiness">レディネスの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.3zw9sD" style='background-color:yellow' title="原文 : The Coherence CRD spec.readinessProbe field is identical to configuring a readiness probe for a Pod in Kubernetes; see Configure Liveness &amp; Readiness"><code>Coherence</code> CRD <code>spec.readinessProbe</code>フィールドは、Kubernetesの<code>Pod</code>のレディネス・プローブの構成と同じです。<a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/" id="" target="_blank" >「リブネス&amp;レディネスの構成」</a>を参照してください</span></p>

<p><span class="merged" id="all.6vDv5.28"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  readinessProbe:
    httpGet:
      port: 8080
      path: "/ready"
    timeoutSeconds: 60
    initialDelaySeconds: 300
    periodSeconds: 120
    failureThreshold: 10
    successThreshold: 1</pre>

<p><span class="merged" id="all.UzT9J.spl1" style='background-color:yellow' title="原文 : The example above configures a http probe for readiness and sets different timings for the probe.">上の例では、レディネスのためにhttpプローブを構成し、プローブに異なるタイミングを設定します。</span> <span class="merged" id="all.UzT9J.spl2" style='background-color:yellow' title="原文 : The Coherence CRD supports the other types of readiness probe too, exec and tcpSocket."><code>Coherence</code> CRDは、ほかのタイプのレディネス・プローブ(<code>exec</code>および<code>tcpSocket</code>)もサポートしています。</span> </p>

</div>

<h3 id="_configure_liveness"><span class="merged" id="all.3Fjff0" style='background-color:yellow' title="原文 : Configure Liveness">リブネスの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.1zoJFX" style='background-color:yellow' title="原文 : The Coherence CRD spec.livenessProbe field is identical to configuring a liveness probe for a Pod in Kubernetes; see Configure Liveness &amp; Readiness"><code>Coherence</code> CRD <code>spec.livenessProbe</code>フィールドは、Kubernetes内の<code>Pod</code>のリブネス・プローブの構成と同じです。<a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/" id="" target="_blank" >「リブネス&amp;レディネスの構成」</a>を参照してください</span></p>

<p><span class="merged" id="all.6vDv5.29"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  livenessProbe:
    httpGet:
      port: 8080
      path: "/live"
    timeoutSeconds: 60
    initialDelaySeconds: 300
    periodSeconds: 120
    failureThreshold: 10
    successThreshold: 1</pre>

<p><span class="merged" id="all.2GWzQy.spl1" style='background-color:yellow' title="原文 : The example above configures a http probe for liveness and sets different timings for the probe.">上記の例では、リブネスのhttpプローブを構成し、プローブの異なるタイミングを設定します。</span> <span class="merged" id="all.2GWzQy.spl2" style='background-color:yellow' title="原文 : The Coherence CRD supports the other types of readiness probe too, exec and tcpSocket."><code>Coherence</code> CRDは、ほかのタイプのレディネス・プローブ(<code>exec</code>および<code>tcpSocket</code>)もサポートしています。</span> </p>

</div>
</div>
</doc-view>
<!-- pages/docs/performance/010_performance.js -->
<doc-view>

<h2 id="_performance_testing_in_kubernetes"><span class="merged" id="all.10LHR1" style='background-color:yellow' title="原文 : Performance Testing in Kubernetes">Kubernetesのパフォーマンス・テスト</span></h2>
<div class="section">
<p><span class="merged" id="all.4NjpQ2.spl1" style='background-color:yellow' title="原文 : Many customers use Coherence because they want access to data at in-memory speeds.">多くのお客様は、インメモリー速度でデータにアクセスする必要があるため、Coherenceを使用します。</span> <span class="merged" id="all.4NjpQ2.spl2" style='background-color:yellow' title="原文 : Customers who want the best performance from their application typically embark on performance testing and load testing of their application.">アプリケーションからの最高のパフォーマンスを求めるお客様は、通常、アプリケーションのパフォーマンス・テストと負荷テストを実施します。</span> <span class="merged" id="all.4NjpQ2.spl3" style='background-color:yellow' title="原文 : When doing this sort of testing on Kubernetes, it is useful to understand the ways that your Kubernetes environment can impact your test results.">Kubernetesでこの種のテストを実行する場合、Kubernetes環境がテスト結果に与える影響を理解すると便利です。</span> </p>

</div>

<h2 id="_where_are_your_nodes"><span class="merged" id="all.2dCipO" style='background-color:yellow' title="原文 : Where are your Nodes?">ノードはどこですか。</span></h2>
<div class="section">
<p><span class="merged" id="all.2lQuKE.spl1" style='background-color:yellow' title="原文 : When an application has been deployed into Kubernetes, pods will typically be distributed over many nodes in the Kubernetes cluster.">アプリケーションがKubernetesにデプロイされると、ポッドは通常、Kubernetesクラスタ内の多くのノードに分散されます。</span> <span class="merged" id="all.2lQuKE.spl2" style='background-color:yellow' title="原文 : When deploying into Kubernetes cluster in the cloud, for example on Oracle OKE, the nodes can be distributed across different availability zones.">Oracle OKEなど、クラウド内のKubernetesクラスタにデプロイする場合、ノードを異なる可用性ゾーンに分散できます。</span> <span class="merged" id="all.2lQuKE.spl3" style='background-color:yellow' title="原文 : These zones are effectively different data centers, meaning that the network speed can differ considerable between nodes in different zones.">これらのゾーンは事実上異なるデータセンターであるため、ネットワーク速度は異なるゾーンのノード間でかなり異なる可能性があります。</span> <span class="merged" id="all.2lQuKE.spl4" style='background-color:yellow' title="原文 : Performance testing in this sort of environment can be difficult if you use default Pod scheduling.">デフォルトのポッド・スケジューリングを使用すると、この種の環境でパフォーマンス・テストが困難になる場合があります。</span> <span class="merged" id="all.2lQuKE.spl5" style='background-color:yellow' title="原文 : Different test runs could distribute Pods to different nodes, in different zones, and skew results depending on how &quot;far&quot; test clients and servers are from each other.">異なるテスト実行によって、ポッドがゾーンごとに異なるノードに分散され、テスト・クライアントとサーバーが相互にどのように変化するかに応じて偏りが発生する可能性があります。</span> <span class="merged" id="all.2lQuKE.spl6" style='background-color:yellow' title="原文 : For example, when testing a simple Coherence EntryProcessor invocation in a Kubernetes cluster spread across zones, we saw the 95% response time when the client and server were in the same zone was 0.1 milli-seconds.">たとえば、ゾーン間で分散されたKubernetesクラスタで単純なCoherence <code>EntryProcessor</code>の呼出しをテストする場合、クライアントとサーバーが同じゾーン内にあるときに95%のレスポンス時間が0.1ミリ秒になりました。</span> <span class="merged" id="all.2lQuKE.spl7" style='background-color:yellow' title="原文 : When the client and server were in different zones, the 95% response time could be as high as 0.8 milli-seconds.">クライアントとサーバーが異なるゾーンにある場合、95%のレスポンス時間は0.8ミリ秒と同じになる可能性があります。</span> <span class="merged" id="all.2lQuKE.spl8" style='background-color:yellow' title="原文 : This difference is purely down to the network distance between nodes.">この違いは、ノード間のネットワーク距離までです。</span> <span class="merged" id="all.2lQuKE.spl9" style='background-color:yellow' title="原文 : Depending on the actual use-cases being tested, this difference might not have much impact on overall response times, but for simple operations it can be a significant enough overhead to impact test results.">テストされる実際の使用ケースによっては、この差異がレスポンス時間全体に大きく影響しない可能性がありますが、単純な操作の場合、テスト結果に影響する十分なオーバーヘッドとなる可能性があります。</span> </p>

<p><span class="merged" id="all.2vSRxL.spl1" style='background-color:yellow' title="原文 : The solution to the issue described above is to use Pod scheduling to fix the location of the Pods to be used for tests.">前述の問題の解決策は、ポッド・スケジューリングを使用して、テストに使用するポッドのロケーションを修正することです。</span> <span class="merged" id="all.2vSRxL.spl2" style='background-color:yellow' title="原文 : In a cluster like Oracle OKE, this would ensure all the Pods will be scheduled into the same availability zone.">Oracle OKEのようなクラスタでは、すべてのポッドが同じ可用性ゾーンにスケジュールされるようにします。</span> </p>


<h3 id="_finding_node_zones"><span class="merged" id="all.RCBqE" style='background-color:yellow' title="原文 : Finding Node Zones">ノード・ゾーンの検索</span></h3>
<div class="section">
<p><span class="merged" id="all.3mwpBf.spl1" style='background-color:yellow' title="原文 : This example is going to talks about scheduling Pods to a single availability zone in a Kubernetes cluster in the cloud.">この例では、クラウド内のKubernetesクラスタ内の単一の可用性ゾーンにポッドをスケジュールする方法を説明します。</span> <span class="merged" id="all.3mwpBf.spl2" style='background-color:yellow' title="原文 : Pod scheduling in this way uses Node labels, and in fact any label on the Nodes in your cluster could be used to fix the location of the Pods.">この方法でポッド・スケジューリングではノード・ラベルが使用され、実際にはクラスタ内のノード上のラベルを使用してポッドのロケーションを修正できます。</span> </p>

<p><span class="merged" id="all.29UrKc.spl1" style='background-color:yellow' title="原文 : To schedule all the Coherence Pods into a single zone we first need to know what zones we have and what labels have used.">すべてのCoherenceポッドを1つのゾーンにスケジュールするには、最初にどのゾーンがあるか、どのラベルが使用されているかを把握する必要があります。</span> <span class="merged" id="all.29UrKc.spl2" style='background-color:yellow' title="原文 : The standard Kubernetes Node label for the availability zone is topology.kubernetes.io/zone (as documented in the Kubernetes Labels Annotations and Taints documentation).">可用性ゾーンの標準Kubernetesノード・ラベルは、<code>topology.kubernetes.io/zone</code>です(<a href="https://kubernetes.io/docs/reference/labels-annotations-taints/" id="" target="_blank" >「Kubernetesラベル注釈とTaints」</a>のドキュメントを参照)。</span> <span class="merged" id="all.29UrKc.spl3" style='background-color:yellow' title="原文 : To slightly confuse the situation, prior to Kubernetes 1.17 the label was failure-domain.beta.kubernetes.io/zone, which has now been deprecated.">状況をわずかに混乱させるために、Kubernetes 1.17の前に、ラベルは<code>failure-domain.beta.kubernetes.io/zone</code>で、現在は非推奨になりました。</span> <span class="merged" id="all.29UrKc.spl4" style='background-color:yellow' title="原文 : Some Kubernetes clusters, even after 1.17, still use the deprecated label, so you need to know what labels your Nodes have.">1.17の後でも一部のKubernetesクラスタは非推奨のラベルを使用するため、ノードにあるラベルを知る必要があります。</span> </p>

<p><span class="merged" id="all.35P2bX" style='background-color:yellow' title="原文 : Run the following command so list the nodes in a Kubernetes cluster with the value of the two zone labels for each node:">次のコマンドを実行して、各ノードの2つのゾーン・ラベルの値を含むKubernetesクラスタのノードをリストします:</span></p>

<pre
lang="bash"

>kubectl get nodes -L topology.kubernetes.io/zone,failure-domain.beta.kubernetes.io/zone</pre>

<p><span class="merged" id="all.4R0HUF" style='background-color:yellow' title="原文 : The output will be something like this:">出力は次のようになります:</span></p>

<pre


>NAME      STATUS   ROLES   AGE   VERSION   ZONE             ZONE
node-1    Ready    node    66d   v1.19.7   US-ASHBURN-AD-1
node-2    Ready    node    66d   v1.19.7   US-ASHBURN-AD-2
node-3    Ready    node    66d   v1.19.7   US-ASHBURN-AD-3
node-4    Ready    node    66d   v1.19.7   US-ASHBURN-AD-2
node-5    Ready    node    66d   v1.19.7   US-ASHBURN-AD-3
node-6    Ready    node    66d   v1.19.7   US-ASHBURN-AD-1</pre>

<p><span class="merged" id="all.22p64a.spl1" style='background-color:yellow' title="原文 : In the output above the first Zone column has values, and the second does not.">上の出力では、最初の<code>Zone</code>列に値があり、2番目の列は値ではありません。</span> <span class="merged" id="all.22p64a.spl2" style='background-color:yellow' title="原文 : This means that the zone label used is the first in the label list in our kubectl command, i.e., topology.kubernetes.io/zone.">これは、<code>kubectl</code>コマンド、つまり、<code>topology.kubernetes.io/zone</code>のラベル・リストの最初のゾーン・ラベルが使用されることを意味します。</span> </p>

<p><span class="merged" id="all.3gkx1a" style='background-color:yellow' title="原文 : If the nodes had been labeled with the second, deprecated, label in the kubectl command list failure-domain.beta.kubernetes.io/zone the output would look like this:"><code>kubectl</code>コマンド・リスト<code>failure-domain.beta.kubernetes.io/zone</code>の2番目の非推奨のラベルでノードにラベルが付けられた場合、出力は次のようになります:</span></p>

<pre


>NAME      STATUS   ROLES   AGE   VERSION   ZONE   ZONE
node-1    Ready    node    66d   v1.19.7          US-ASHBURN-AD-1
node-2    Ready    node    66d   v1.19.7          US-ASHBURN-AD-2
node-3    Ready    node    66d   v1.19.7          US-ASHBURN-AD-3
node-4    Ready    node    66d   v1.19.7          US-ASHBURN-AD-2
node-5    Ready    node    66d   v1.19.7          US-ASHBURN-AD-3
node-6    Ready    node    66d   v1.19.7          US-ASHBURN-AD-1</pre>

<p><span class="merged" id="all.1JCYAa.spl1" style='background-color:yellow' title="原文 : From the list of nodes above we can see that there are three zones, US-ASHBURN-AD-1, US-ASHBURN-AD-2 and US-ASHBURN-AD-3.">上のノードのリストから、<code>US-ASHBURN-AD-1</code>、<code>US-ASHBURN-AD-2</code>および<code>US-ASHBURN-AD-3</code>の3つのゾーンがあることがわかります。</span> <span class="merged" id="all.1JCYAa.spl2" style='background-color:yellow' title="原文 : In this example we will schedule all the Pods to zome US-ASHBURN-AD-1.">この例では、すべてのポッドをzome <code>US-ASHBURN-AD-1</code>にスケジュールします。</span> </p>

</div>

<h3 id="_scheduling_pods_of_a_coherence_cluster"><span class="merged" id="all.3aQnSQ" style='background-color:yellow' title="原文 : Scheduling Pods of a Coherence Cluster">Coherenceクラスタのポッドのスケジュール</span></h3>
<div class="section">
<p><span class="merged" id="all.3bXy1e.spl1" style='background-color:yellow' title="原文 : The Coherence CRD supports a number of ways to schedule Pods, as described in the Configure Pod Scheduling documentation."><code>Coherence</code> CRDでは、<router-link to="/docs/other/090_pod_scheduling">「ポッド・スケジューリングの構成」</router-link>ドキュメントで説明されているように、ポッドをスケジュールするための様々な方法がサポートされています。</span> <span class="merged" id="all.3bXy1e.spl2" style='background-color:yellow' title="原文 : Using node labels is the simplest of the scheduling methods.">ノード・ラベルの使用は、最も単純なスケジューリング・メソッドです。</span> <span class="merged" id="all.3bXy1e.spl3" style='background-color:yellow' title="原文 : In this case we need to schedule Pods onto nodes that have the label topology.kubernetes.io/zone=US-ASHBURN-AD-1.">この場合、<code>topology.kubernetes.io/zone=US-ASHBURN-AD-1</code>というラベルを持つノードにポッドをスケジュールする必要があります。</span> <span class="merged" id="all.3bXy1e.spl4" style='background-color:yellow' title="原文 : In the Coherence yaml we use the nodeSelector field."><code>Coherence</code> yamlでは、<code>nodeSelector</code>フィールドを使用します。</span> </p>

<pre
lang="yaml"
title="coherence-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  replicas: 3
  nodeSelector:
    topology.kubernetes.io/zone: US-ASHBURN-AD-1</pre>

<p><span class="merged" id="all.2xGSah" style='background-color:yellow' title="原文 : When the yaml above is applied, a cluster of three Pods will be created, all scheduled onto nodes in the US-ASHBURN-AD-1 availability zone.">前述のyamlが適用されると、3つのポッドのクラスタが作成され、すべて<code>US-ASHBURN-AD-1</code>可用性ゾーンのノードにスケジュールされます。</span></p>

</div>

<h3 id="_other_performance_factors"><span class="merged" id="all.1cbUWB" style='background-color:yellow' title="原文 : Other Performance Factors">その他のパフォーマンス・ファクタ</span></h3>
<div class="section">
<p><span class="merged" id="all.29rZhU.spl1" style='background-color:yellow' title="原文 : Depending on the Kubernetes cluster you are using there could be various other factors to bear in mind.">使用しているKubernetesクラスタによっては、留意すべき他の様々なファクタがある可能性があります。</span> <span class="merged" id="all.29rZhU.spl2" style='background-color:yellow' title="原文 : Many Kubernetes clusters run on virtual machines, which can be poor for repeated performance comparisons unless you know what else might be running on the underlying hardware that the VM is on.">多くのKubernetesクラスタは仮想マシンで実行されるため、VMがオンになっている基礎となるハードウェアで他に何が実行されているかわからないかぎり、繰り返されるパフォーマンス比較では不十分です。</span> <span class="merged" id="all.29rZhU.spl3" style='background-color:yellow' title="原文 : If a test run happens at the same time as another VM is consuming a lot of the underlying hardware resource this can obviously impact the results.">別のVMが基礎となる多くのハードウェア・リソースを消費しているときに同時にテスト実行が発生すると、結果に明らかな影響を与える可能性があります。</span> <span class="merged" id="all.29rZhU.spl4" style='background-color:yellow' title="原文 : Unfortunately bear-metal hardware, the best for repeated performance tests, is not always available, so it is useful to bear this in mind if there is suddenly a strange outlier in the tests.">残念ながらベアメタル・ハードウェア、繰り返しパフォーマンス・テストに最適です。常に使用できないので、テストに不思議な外れがあった場合、これを念頭に置くことをお勧めします。</span> </p>

</div>
</div>
</doc-view>
<!-- pages/docs/ports/010_overview.js -->
<doc-view>

<h2 id="_overview"><span class="merged" id="all.YrpRV.7"  title="原文:: Overview">概要</span></h2>
<div class="section">
<p><span class="merged" id="all.TTPXD.spl1" style='background-color:yellow' title="原文 : Almost every application deployed into a Kubernetes cluster needs to communicate with other processes to provide services to other processes or consume services to other processes.">Kubernetesクラスタにデプロイされるほとんどのアプリケーションは、他のプロセスにサービスを提供したり、他のプロセスにサービスを消費するために、他のプロセスと通信する必要があります。</span> <span class="merged" id="all.TTPXD.spl2" style='background-color:yellow' title="原文 : This is achieved by exposing ports on containers in Pods and optionally exposing those same ports using Services and ingress.">これは、<code>Pods</code>内のコンテナにポートを公開し、オプションで<code>Services</code>およびイングレスを使用してこれらの同じポートを公開することによって実現されます。</span> <span class="merged" id="all.TTPXD.spl3" style='background-color:yellow' title="原文 : The Coherence CRD spec makes it simple to add ports to the Coherence container and configure Services to expose those ports."><code>Coherence</code> CRD仕様では、Coherenceコンテナにポートを追加し、それらのポートを公開するように<code>Services</code>を構成できます。</span> </p>

<p><span class="merged" id="all.1ETILf" style='background-color:yellow' title="原文 : Each additional port configured is exposed via its own Service.">構成された追加ポートは、それぞれ独自の<code>Service</code>を介して公開されます。</span></p>

<p><span class="merged" id="all.hyOeP" style='background-color:yellow' title="原文 : If the configuration of Services for ports provided by the Coherence CRD spec is not sufficient or cannot provide the required Service configuration then it is always possible to just create your own Services in Kubernetes."><code>Coherence</code> CRD仕様で提供されるポートの<code>Services</code>の構成が不十分であるか、必要な<code>Service</code>構成を提供できない場合、常にKubernetesに独自の<code>Services</code>を作成できます。</span></p>


<h3 id="_guides_to_adding_and_exposing_ports"><span class="merged" id="all.4Qv8qK" style='background-color:yellow' title="原文 : Guides to Adding and Exposing Ports">ポートの追加と公開に関するガイド</span></h3>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/ports/020_container_ports"><div class="card__link-hover"/>
<span class="merged" id="all.4RwKu8" style='background-color:yellow' title="原文 :  Adding Ports "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ポートの追加</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.dlVEr" style='background-color:yellow' title="原文 : Adding additional container ports to the Coherence container.">Coherenceコンテナに追加のコンテナ・ポートを追加します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/ports/030_services"><div class="card__link-hover"/>
<span class="merged" id="all.1FxNwC" style='background-color:yellow' title="原文 :  Expose Ports via Services "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">サービスを介したポートの公開</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1TIXC8" style='background-color:yellow' title="原文 : Configuring Services used to expose ports.">ポートの公開に使用するサービスの構成。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/docs/ports/040_servicemonitors"><div class="card__link-hover"/>
<span class="merged" id="all.2HujHK" style='background-color:yellow' title="原文 :  Prometheus ServiceMonitors "></router-link> <v-card-title primary class="headline layout justify-center"> <span style="text-align:center">Prometheus ServiceMonitors</span> </v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2wN6WN" style='background-color:yellow' title="原文 : Adding Prometheus ServiceMonitors to expose ports to be scraped for metrics.">Prometheus ServiceMonitorsを追加して、メトリクスでスクレイプされるポートを公開します。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</div>
</doc-view>
<!-- pages/docs/ports/020_container_ports.js -->
<doc-view>

<h2 id="_additional_container_ports"><span class="merged" id="all.4aNyWk" style='background-color:yellow' title="原文 : Additional Container Ports">追加コンテナ・ポート</span></h2>
<div class="section">
<p><span class="merged" id="all.16VCRX.spl1" style='background-color:yellow' title="原文 : Except for rare cases most applications deployed into a Kubernetes cluster will need to expose ports that they provide services on to other applications.">Kubernetesクラスタにデプロイされるほとんどのアプリケーションは、まれなケースを除き、他のアプリケーションにサービスを提供するポートを公開する必要があります。</span> <span class="merged" id="all.16VCRX.spl2" style='background-color:yellow' title="原文 : This is covered in the Kubernetes documentation, Connect Applications with Services">これについては、Kubernetesドキュメント<a href="https://kubernetes.io/docs/concepts/services-networking/connect-applications-service/" id="" target="_blank" >「サービスとのアプリケーションの接続」</a>で説明</span> </p>

<p><span class="merged" id="all.T2lTz.spl1" style='background-color:yellow' title="原文 : The Coherence CRD makes it simple to expose ports and configure their services."><code>Coherence</code> CRDを使用すると、ポートの表示とそのサービスの構成が簡単になります。</span> <span class="merged" id="all.T2lTz.spl2" style='background-color:yellow' title="原文 : The CRD contains a field named ports, which is an array of named ports.">CRDには、名前付きポートの配列である<code>ports</code>というフィールドが含まれています。</span> <span class="merged" id="all.T2lTz.spl3" style='background-color:yellow' title="原文 : In the most basic configuration the only required values are the name and port to expose, for example:">最も基本的な構成では、必要な値は公開する名前とポートのみです。次に例を示します:</span> </p>

<pre
lang="yaml"
title="test-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  ports:
    - name: rest  <span class="conum" data-value="1" />
      port: 8080</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.hUEsl" style='background-color:yellow' title="原文 : This example exposes a single port named rest on port 8080.">この例では、ポート<code>8080</code>で<code>rest</code>という名前の単一ポートを公開します。</span></li>
</ul>
<p><span class="merged" id="all.sq64i" style='background-color:yellow' title="原文 : When the example above is deployed the Coherence Operator will add configure the ports for the Coherence container in the Pods to expose that port and will also create a Service for the port.">前述の例をデプロイすると、Coherence Operatorは、<code>Pods</code>にCoherenceコンテナのポートを追加してそのポートを公開し、ポートの<code>Service</code>も作成します。</span></p>

<p><span class="merged" id="all.2fS5P" style='background-color:yellow' title="原文 : For example, the relevant snippet of the StatefulSet configuration would be:">たとえば、<code>StatefulSet</code>構成の関連するスニペットは次のようになります:</span></p>

<pre
lang="yaml"

>apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: test-cluster
spec:
  template:
    spec:
      containers:
      - name: coherence
        ports:
          - name: rest           <span class="conum" data-value="1" />
            containerPort: 8080  <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2MVJcH.spl1" style='background-color:yellow' title="原文 : The Operator has added the rest port to the coherence containers port list.">オペレータは、<code>rest</code>ポートを<code>coherence</code>コンテナ・ポート・リストに追加しました。</span> <span class="merged" id="all.2MVJcH.spl2" style='background-color:yellow' title="原文 : The name field in the Coherence CRD’s port spec maps to the name field in the Container port spec."><code>Coherence</code> CRDのポート仕様の<code>name</code>フィールドは、コンテナ・ポート仕様の<code>name</code>フィールドにマップされます。</span> </li>
<li data-value="2"><span class="merged" id="all.3Kvrbg" style='background-color:yellow' title="原文 : The port field in the Coherence CRD’s port spec maps to the containerPort in the Container port spec."><code>Coherence</code> CRDのポート仕様の<code>port</code>フィールドは、コンテナ・ポート仕様の<code>containerPort</code>にマップされます。</span></li>
</ul>
<p><span class="merged" id="all.3RVAxg.spl1" style='background-color:yellow' title="原文 : For each additional port the Operator will create a Service of type ClusterIP with a default configuration.">オペレータは、追加ポートごとに、デフォルト構成でタイプ<code>ClusterIP</code>の<code>Service</code>を作成します。</span> <span class="merged" id="all.3RVAxg.spl2" style='background-color:yellow' title="原文 : The name of the service will be the Coherence resource’s name with the port name appended to it, so in this case it will be test-cluster-rest.">サービスの名前は、ポート名が付加された<code>Coherence</code>リソースの名前になるため、この場合、<code>test-cluster-rest</code>になります。</span> <span class="merged" id="all.3RVAxg.spl3" style='background-color:yellow' title="原文 : The Service might look like this:"><code>Service</code>は次のようになります:</span> </p>

<pre
lang="yaml"

>apiVersion: v1
kind: Service
metadata:
  name: test-cluster-rest                 <span class="conum" data-value="1" />
spec:
  ports:
    - name: rest                          <span class="conum" data-value="2" />
      port: 8080                          <span class="conum" data-value="3" />
      targetPort: rest                    <span class="conum" data-value="4" />
  type: ClusterIP                         <span class="conum" data-value="5" />
  selector:
    coherenceDeployment: test-cluster     <span class="conum" data-value="6" />
    coherenceCluster: test-cluster
    coherenceRole: storage
    coherenceComponent: coherencePod</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1QlHKi" style='background-color:yellow' title="原文 : The Service name will be automatically generated (this can be overridden)."><code>Service</code>名は自動的に生成されます(これはオーバーライドできます)。</span></li>
<li data-value="2"><span class="merged" id="all.1cNdu7" style='background-color:yellow' title="原文 : The ports section will have just the single port being exposed by this service with the same name as the port."><code>ports</code>セクションには、このサービスによってポートと同じ名前で公開される単一のポートのみが含まれます。</span></li>
<li data-value="3"><span class="merged" id="all.23eWLu" style='background-color:yellow' title="原文 : The port exposed by the Service will be the same as the container port value (this can be overridden)."><code>Service</code>によって公開される<code>port</code>は、コンテナ・ポート値と同じになります(これはオーバーライドできます)。</span></li>
<li data-value="4"><span class="merged" id="all.2TpeqO" style='background-color:yellow' title="原文 : The target port will be set to the port being exposed from the container.">ターゲット・ポートは、コンテナから公開されるポートに設定されます。</span></li>
<li data-value="5"><span class="merged" id="all.2ZVWu3" style='background-color:yellow' title="原文 : The default Service type is ClusterIP (this can be overridden).">デフォルトの<code>Service</code>タイプは<code>ClusterIP</code>です(これはオーバーライドできます)。</span></li>
<li data-value="6"><span class="merged" id="all.2M2E48" style='background-color:yellow' title="原文 : A selector will be created to match the Pods in the Coherence resource."><code>Coherence</code>リソースの<code>Pods</code>と一致するようにセレクタが作成されます。</span></li>
</ul>
<p><span class="merged" id="all.2UZr1V" style='background-color:yellow' title="原文 : The Coherence CRD spec allows port and service to be further configured and allows a Prometheus ServiceMonitor to be created for the port if that port is to expose metrics."><code>Coherence</code> CRD仕様では、ポートとサービスをさらに構成でき、ポートがメトリクスを公開する場合、そのポートのPrometheus <code>ServiceMonitor</code>を作成できます。</span></p>

<p><span class="merged" id="all.1OsIk7"  title="原文:: See also:">関連項目:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.dfzh0" style='background-color:yellow' title="原文 : Configure Services for Ports"><router-link @click.native="this.scrollFix('#ports/030_services.adoc')" to="#ports/030_services.adoc">ポートのサービスの構成</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.QeuA8" style='background-color:yellow' title="原文 : Prometheus ServiceMonitors"><router-link @click.native="this.scrollFix('#ports/040_servicemonitors.adoc')" to="#ports/040_servicemonitors.adoc">Prometheus ServiceMonitors</router-link></span></p>

</li>
</ul>

<h3 id="_metrics_management_ports"><span class="merged" id="all.2ZEgl2" style='background-color:yellow' title="原文 : Metrics &amp; Management Ports">メトリクス&amp;管理ポート</span></h3>
<div class="section">
<p><span class="merged" id="all.2z44wn.spl1" style='background-color:yellow' title="原文 : Exposing the Coherence metrics port or Coherence Management over REST port are treated as a special case in the configuration.">RESTポートを介したCoherenceメトリクス・ポートまたはCoherence管理の公開は、構成の特殊なケースとして扱われます。</span> <span class="merged" id="all.2z44wn.spl2" style='background-color:yellow' title="原文 : Normally both the port’s name and port value are required fields.">通常、ポートの<code>name</code>値と<code>port</code>値の両方が必須フィールドです。</span> <span class="merged" id="all.2z44wn.spl3" style='background-color:yellow' title="原文 : If the port name is metrics or management the Operator already knows the port values (either from the defaults or from the metrics or management configuration) so these do not need to be specified again.">ポート名が<code>metrics</code>または<code>management</code>の場合、オペレータはすでに<code>port</code>値(デフォルトまたはメトリクスまたは管理構成のいずれか)を認識しているため、これらを再度指定する必要はありません。</span> </p>

<p><span class="merged" id="all.1RUhOV" style='background-color:yellow' title="原文 : For example, if the Coherence resource above also exposed Coherence metrics and management it might look like this:">たとえば、前述の<code>Coherence</code>リソースでもCoherenceメトリクスと管理が公開されている場合、次のようになります:</span></p>

<pre
lang="yaml"
title="test-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  coherence:
    metrics:
      enabled: true
      port: 9876
    management:
      enabled: true
      port: 1234
  ports:
    - name: rest         <span class="conum" data-value="1" />
      port: 8080
    - name: metrics      <span class="conum" data-value="2" />
    - name: management   <span class="conum" data-value="3" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3Tjn1k" style='background-color:yellow' title="原文 : The rest port is not a special case and must have a port defined, in this case 8080."><code>rest</code>ポートは特殊なケースではなく、ポートが定義されている必要があります(この場合は<code>8080</code>)。</span></li>
<li data-value="2"><span class="merged" id="all.2z4Dqn" style='background-color:yellow' title="原文 : The metrics port is exposed, but the port is not required as the Operator already knows the port value, which is configured in the coherence.metrics section to be 9876."><code>metrics</code>ポートは公開されますが、オペレータはすでにポート値を認識しているため、ポートは不要です。ポート値は、<code>coherence.metrics</code>セクションで構成され、9876になります。</span></li>
<li data-value="3"><span class="merged" id="all.1gVqEX" style='background-color:yellow' title="原文 : The management port is exposed, but the port is not required as the Operator already knows the port value, which is configured in the coherence.management section to be 1234."><code>management</code>ポートは公開されますが、オペレータはすでにポート値を認識しているため、ポートは必要ありません。このポートは、<code>coherence.management</code>セクションで構成され、1234になります。</span></li>
</ul>
<p><span class="merged" id="all.4GKPPR" style='background-color:yellow' title="原文 : If the port value is not set in coherence.metrics.port or in coherence.management.port then the Operator will use the defaults for these values, 9612 for metrics and 30000 for management.">ポート値が<code>coherence.metrics.port</code>または<code>coherence.management.port</code>に設定されていない場合、オペレータではこれらの値のデフォルト、メトリクスには9612、管理には30000が使用されます。</span></p>

</div>
</div>

<h2 id="_configuring_the_port"><span class="merged" id="all.3rdY6f" style='background-color:yellow' title="原文 : Configuring the Port">ポートの構成</span></h2>
<div class="section">
<p><span class="merged" id="all.3k6nkj.spl1" style='background-color:yellow' title="原文 : The only mandatory fields when adding a port to a Coherence resource are the name and port number."><code>Coherence</code>リソースにポートを追加する場合の必須フィールドは、名前とポート番号のみです。</span> <span class="merged" id="all.3k6nkj.spl2" style='background-color:yellow' title="原文 : There are a number of optional fields, which when not specified use the Kubernetes default values.">オプション・フィールドは多数あり、指定しない場合はKubernetesデフォルト値を使用します。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  ports:
    - name: rest
      port: 8080
      protocol: TCP
      hostIP: 10.10.1.19
      hostPort: 1000
      nodePort: 5000</pre>

<p><span class="merged" id="all.3FouNm.spl1" style='background-color:yellow' title="原文 : The additional fields, protocol, hostIP, hostPort have the same meaning and same defaults in the Coherence CRD port spec as they have in a Kubernetes container port (see the Kubernetes ContainerPort API reference).">追加のフィールド<code>protocol</code>, <code>hostIP</code>, <code>hostPort</code>は、Kubernetesコンテナ・ポートにあるものと同じ意味およびデフォルトを<code>Coherence</code> CRDポート仕様に指定します(Kubernetes <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#containerport-v1-core" id="" target="_blank" >ContainerPort</a> APIリファレンスを参照)。</span> <span class="merged" id="all.3FouNm.spl2" style='background-color:yellow' title="原文 : These fields map directly from the Coherence CRD port spec to the container port spec.">これらのフィールドは、<code>Coherence</code> CRDポート仕様からコンテナ・ポート仕様に直接マップされます。</span> </p>

<p><span class="merged" id="all.2vz1TH" style='background-color:yellow' title="原文 : The example above would create a container port shown below:">前述の例では、次に示すコンテナ・ポートが作成されます:</span></p>

<pre
lang="yaml"

>apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: test-cluster
spec:
  template:
    spec:
      containers:
      - name: coherence
        ports:
          - name: rest
            containerPort: 8080
            protocol: TCP
            hostIP: 10.10.1.19
            hostPort: 1000</pre>

<p><span class="merged" id="all.30iEpz.spl1" style='background-color:yellow' title="原文 : The nodePort field in the Coherence CRD port spec maps to the nodePort field in the Service port spec."><code>Coherence</code> CRDポート仕様の<code>nodePort</code>フィールドは、<code>Service</code>ポート仕様の<code>nodePort</code>フィールドにマップされます。</span> <span class="merged" id="all.30iEpz.spl2" style='background-color:yellow' title="原文 : The nodePort is described in the Kubernetes ServicePort API reference."><code>nodePort</code>については、Kubernetes <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#serviceport-v1-core" id="" target="_blank" >ServicePort</a> APIリファレンスを参照してください。</span> </p>

<p><span class="merged" id="all.3whYlc" style='background-color:yellow' title="原文 : The Coherence CRD example above with nodePort set would create a Service with the same nodePort value:">前述の<code>Coherence</code> CRD前述の<code>nodePort</code>セットの例では、同じ<code>nodePort</code>値を持つ<code>Service</code>が作成されます:</span></p>

<pre
lang="yaml"

>apiVersion: v1
kind: Service
metadata:
  name: test-cluster-rest
spec:
  ports:
    - name: rest
      port: 8080
      targetPort: rest
      nodePort: 5000
  type: ClusterIP
  selector:
    coherenceDeployment: test-cluster
    coherenceCluster: test-cluster
    coherenceRole: storage
    coherenceComponent: coherencePod</pre>

</div>
</doc-view>
<!-- pages/docs/ports/030_services.js -->
<doc-view>

<h2 id="_configure_services_for_ports"><span class="merged" id="all.1OYhnY" style='background-color:yellow' title="原文 : Configure Services for Ports">ポートのサービスの構成</span></h2>
<div class="section">
<p><span class="merged" id="all.tvuys.spl1" style='background-color:yellow' title="原文 : As described in the Additional Container Ports documentation, it is possible to expose additional ports on the Coherence container in the Pods of a Coherence resource."><router-link to="/docs/ports/020_container_ports">「追加コンテナ・ポート」</router-link>ドキュメントで説明されているように、<code>Coherence</code>リソースのポッドにCoherenceコンテナに追加のポートを公開できます。</span> <span class="merged" id="all.tvuys.spl2" style='background-color:yellow' title="原文 : The Coherence Operator will create a Service to expose each additional port.">Coherence Operatorは、追加の各ポートを公開する<code>Service</code>を作成します。</span> <span class="merged" id="all.tvuys.spl3" style='background-color:yellow' title="原文 : By default, the name of the service is the combination of the Coherence resource name and the port name (this can default behaviour can be overridden as shown below in the section).">デフォルトでは、サービスの名前は<code>Coherence</code>リソース名とポート名の組合せです(これは、<router-link @click.native="this.scrollFix('#_override_the_service_name')" to="#_override_the_service_name"></router-link>セクションの次に示すように、デフォルトの動作をオーバーライドできます)。</span> <span class="merged" id="all.tvuys.spl4" style='background-color:yellow' title="原文 : The configuration of the Service can be altered using fields in the port spec’s service section."><code>Service</code>の構成は、ポート仕様の<code>service</code>セクションのフィールドを使用して変更できます。</span> </p>

<p><span class="merged" id="all.6vDv5.30"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"
title="test-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  ports:
    - name: rest   <span class="conum" data-value="1" />
      port: 8080
      service: {}  <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.hUEsl.1" style='background-color:yellow' title="原文 : This example exposes a single port named rest on port 8080.">この例では、ポート<code>8080</code>で<code>rest</code>という名前の単一ポートを公開します。</span></li>
<li data-value="2"><span class="merged" id="all.2uubdX" style='background-color:yellow' title="原文 : The service section of the port spec is empty so the Operator will use its default behaviour to create a Service in the same namespace with the name test-cluster-rest.">ポート仕様の<code>service</code>セクションは空であるため、オペレータはデフォルトの動作を使用して、<code>test-cluster-rest</code>という名前の同じネームスペースに<code>Service</code>を作成します。</span></li>
</ul>
</div>

<h2 id="_override_the_service_name"><span class="merged" id="all.1kQm6H" style='background-color:yellow' title="原文 : Override the Service Name">サービス名のオーバーライド</span></h2>
<div class="section">
<p><span class="merged" id="all.3qw4fY.spl1" style='background-color:yellow' title="原文 : Sometimes it is useful to use a different name than the default for a Service for a port, for example, when the port is exposing functionality that other applications want to consume on a fixed well know endpoint.">ポートの<code>Service</code>のデフォルトとは異なる名前を使用すると便利な場合があります。たとえば、ポートが固定の正常な認識エンドポイントで他のアプリケーションが使用する機能を公開している場合などです。</span> <span class="merged" id="all.3qw4fY.spl2" style='background-color:yellow' title="原文 : To override the generated service name with another name the service.name field can be set.">生成されたサービス名を別の名前でオーバーライドするには、<code>service.name</code>フィールドを設定できます。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  ports:
    - name: rest
      port: 8080
      service:
        name: payments  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.47hXCo" style='background-color:yellow' title="原文 : By setting the service.name field the Service for this port will be named payments."><code>service.name</code>フィールドを設定すると、このポートの<code>Service</code>の名前は<code>payments</code>になります。</span></li>
</ul>
<p><span class="merged" id="all.1KoARg" style='background-color:yellow' title="原文 : The service for the above example would look like this:">前述の例のサービスは次のようになります:</span></p>

<pre
lang="yaml"

>apiVersion: v1
kind: Service
metadata:
  name: payments  <span class="conum" data-value="1" />
spec:
  ports:
    - name: rest
      port: 8080
      targetPort: rest
  type: ClusterIP
  selector:
    coherenceDeployment: test-cluster
    coherenceCluster: test-cluster
    coherenceRole: storage
    coherenceComponent: coherencePod</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.xfdIZ" style='background-color:yellow' title="原文 : The Service name is payments instead of test-cluster-rest"><code>Service</code>名は、<code>test-cluster-rest</code>ではなく<code>payments</code>です</span></li>
</ul>
</div>

<h2 id="_override_the_service_port"><span class="merged" id="all.1D9tJX" style='background-color:yellow' title="原文 : Override the Service Port">サービス・ポートのオーバーライド</span></h2>
<div class="section">
<p><span class="merged" id="all.1WS89L.spl1" style='background-color:yellow' title="原文 : It is sometimes useful to be able to expose a service on a different port on the Service to that being used by the container.">サービスを<code>Service</code>上の別のポートに、コンテナで使用されているポートに公開できる場合があります。</span> <span class="merged" id="all.1WS89L.spl2" style='background-color:yellow' title="原文 : One use-case for this would be where the Coherence deployment is providing a http service where the container exposes the service on port 8080 whereas the Service can use port 80.">このユースケースの1つは、<code>Coherence</code>デプロイメントがhttpサービスを提供しており、コンテナはポート<code>8080</code>でサービスを公開しますが、<code>Service</code>はポート<code>80</code>を使用できます。</span> </p>

<p><span class="merged" id="all.2xSMYS" style='background-color:yellow' title="原文 : For example, using the same example payemnts service above:">たとえば、前述の同じpayemntsサービスを使用します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  ports:
    - name: rest
      port: 8080
      service:
        name: payments  <span class="conum" data-value="1" />
        port: 80        <span class="conum" data-value="2" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.47Dlpw" style='background-color:yellow' title="原文 : The Service name will be payments"><code>Service</code>名は<code>payments</code>になります</span></li>
<li data-value="2"><span class="merged" id="all.4DBgFk" style='background-color:yellow' title="原文 : The Service port will be 80"><code>Service</code>ポートは<code>80</code>になります</span></li>
</ul>
<p><span class="merged" id="all.43BRRe" style='background-color:yellow' title="原文 : This then allows the payments service to be accessed on a simple url of http://payments">これにより、<code><a href="http://payments" id="" target="_blank" >http://payments</a></code>の単純なURLで支払サービスにアクセスできるようになります</span></p>

</div>

<h2 id="_disable_service_creation"><span class="merged" id="all.2tfjWw" style='background-color:yellow' title="原文 : Disable Service Creation">サービス作成の無効化</span></h2>
<div class="section">
<p><span class="merged" id="all.2tGmOf.spl1" style='background-color:yellow' title="原文 : Sometimes it may be desirable to expose a port on the Coherence container but not have the Operator automatically create a Service to expose the port.">Coherenceコンテナにポートを公開するが、オペレータがポートを公開するための<code>Service</code>を自動的に作成しないことが望ましい場合があります。</span> <span class="merged" id="all.2tGmOf.spl2" style='background-color:yellow' title="原文 : For example, maybe the port is to be exposed via some other load balancer service controlled by another system.">たとえば、別のシステムで制御される他のロード・バランサ・サービスを介してポートが公開される場合があります。</span> <span class="merged" id="all.2tGmOf.spl3" style='background-color:yellow' title="原文 : To disable automatic service creation set the service.enabled field to false.">自動サービス作成を無効にするには、<code>service.enabled</code>フィールドを<code>false</code>に設定します。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  ports:
    - name: rest
      port: 8080
      service:
        enabled: false  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4NJ9lE" style='background-color:yellow' title="原文 : With the service.enabled field set to false no Service will be created."><code>service.enabled</code>フィールドを<code>false</code>に設定すると、<code>Service</code>は作成されません。</span></li>
</ul>
</div>

<h2 id="_other_service_configuration"><span class="merged" id="all.3QUaYP" style='background-color:yellow' title="原文 : Other Service Configuration">その他のサービス構成</span></h2>
<div class="section">
<p><span class="merged" id="all.481XJl.spl1" style='background-color:yellow' title="原文 : The Coherence resource CRD allows many other settings to be configured on the Service."><code>Coherence</code>リソースのCRDを使用すると、他の多くの設定を<code>Service</code>で構成できます。</span> <span class="merged" id="all.481XJl.spl2" style='background-color:yellow' title="原文 : These fields are identical to the corresponding fields in the Kubernetes Service spec.">これらのフィールドは、Kubernetes <code>Service</code>仕様の対応するフィールドと同じです。</span> </p>

<p><span class="merged" id="all.kzS7h" style='background-color:yellow' title="原文 : See the Coherence CRD Service Spec documentation and the Kubernetes Service API reference."><code>Coherence</code> CRD <router-link @click.native="this.scrollFix('#_servicespec')" to="#_servicespec">「サービス仕様」</router-link>ドキュメントおよびKubernetes <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#servicespec-v1-core" id="" target="_blank" >「Service APIリファレンス」</a>を参照してください。</span></p>

</div>
</doc-view>
<!-- pages/docs/ports/040_servicemonitors.js -->
<doc-view>

<h2 id="_prometheus_servicemonitors"><span class="merged" id="all.4ENhuH" style='background-color:yellow' title="原文 : Prometheus ServiceMonitors">Prometheus ServiceMonitors</span></h2>
<div class="section">
<p><span class="merged" id="all.1QbShm.spl1" style='background-color:yellow' title="原文 : When a port exposed on a container is to be used to serve metrics to Prometheus this often requires the addition of a Prometheus ServiceMonitor resource.">コンテナで公開されたポートを使用してPrometheusのメトリクスを提供する場合、多くの場合、Prometheus <code>ServiceMonitor</code>リソースを追加する必要があります。</span> <span class="merged" id="all.1QbShm.spl2" style='background-color:yellow' title="原文 : The Coherence Operator makes it simple to add a ServiceMonitor for an exposed port.">Coherence Operatorを使用すると、公開されたポートの<code>ServiceMonitor</code>を簡単に追加できます。</span> <span class="merged" id="all.1QbShm.spl3" style='background-color:yellow' title="原文 : The advantage of specifying the ServiceMonitor configuration in the Coherence CRD spec is that the ServiceMonitor resource will be created, updated and deleted as part of the lifecycle of the Coherence resource, and does not need to be managed separately."><code>Coherence</code> CRD仕様で<code>ServiceMonitor</code>構成を指定する利点は、<code>ServiceMonitor</code>リソースが<code>Coherence</code>リソースのライフサイクルの一部として作成、更新および削除され、個別に管理する必要がないことです。</span> </p>

<p><span class="merged" id="all.2t6EFf.spl1" style='background-color:yellow' title="原文 : A ServiceMonitor is created for an exposed port by setting the serviceMonitor.enabled field to true."><code>serviceMonitor.enabled</code>フィールドを<code>true</code>に設定することで、公開ポートに対して<code>ServiceMonitor</code>が作成されます。</span> <span class="merged" id="all.2t6EFf.spl2" style='background-color:yellow' title="原文 : The Operator will create a ServiceMonitor with the same name as the Service.">オペレータは、<code>Service</code>と同じ名前の<code>ServiceMonitor</code>を作成します。</span> <span class="merged" id="all.2t6EFf.spl3" style='background-color:yellow' title="原文 : The ServiceMonitor created will have a single endpoint for the port being exposed.">作成された<code>ServiceMonitor</code>には、公開されるポートの単一のエンドポイントが含まれます。</span> </p>

<p><span class="merged" id="all.6vDv5.31"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  ports:
    - name: rest
      port: 8080
      serviceMonitor:
        enabled: true  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3YWypm" style='background-color:yellow' title="原文 : With the serviceMonitor.enabled field set to true a ServiceMonitor resource will be created."><code>serviceMonitor.enabled</code>フィールドを<code>true</code>に設定すると、<code>ServiceMonitor</code>リソースが作成されます。</span></li>
</ul>
<p><span class="merged" id="all.21KblV" style='background-color:yellow' title="原文 : The ServiceMonitor created from the spec above will look like this: For example:">前述の仕様から作成された<code>ServiceMonitor</code>は次のようになります: たとえば:</span></p>

<pre
lang="yaml"

>apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: test-cluster-rest
  labels:
    coherenceCluster: test-cluster
    coherenceComponent: coherence-service-monitor
    coherenceDeployment: test-cluster
    coherenceRole: test-cluster
spec:
  endpoints:
    - port: rest
      relabelings:
        - action: labeldrop
          regex: (endpoint|instance|job|service)
  selector:
    matchLabels:
      coherenceCluster: test-cluster
      coherenceComponent: coherence-service
      coherenceDeployment: test-cluster
      coherencePort: rest
      coherenceRole: test-cluster</pre>


<h3 id="_configure_the_servicemonitor"><span class="merged" id="all.2IdEHw" style='background-color:yellow' title="原文 : Configure the ServiceMonitor">ServiceMonitorの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.3osxk2" style='background-color:yellow' title="原文 : The Coherence CRD ServiceMonitorSpec contains many of the fields from the Prometheus ServiceMonitorSpec and Prometheus Endpoint to allow the ServiceMonitor to be configured for most use-cases."><code>Coherence</code> CRD <router-link :to="{path: '/docs/about/04_coherence_spec', hash: '#_servicemonitorspec'}">ServiceMonitorSpec</router-link>には、<a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec" id="" target="_blank" >Prometheus <code>ServiceMonitorSpec</code></a>および<a href="https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint" id="" target="_blank" >「Prometheusエンドポイント」</a>の多くのフィールドが含まれており、ほとんどのユースケースで<code>ServiceMonitor</code>を構成できます。</span></p>

<p><span class="merged" id="all.8wRP9" style='background-color:yellow' title="原文 : In situations where the Coherence CRD does not have the required fields, for example when a different version of Prometheus has been installed to that used to build the Coherence Operator, then the solution would be to manually create ServiceMonitors instead of letting them be created by the Coherence Operator."><code>Coherence</code> CRDに必須フィールドがない場合(たとえば、Coherence Operatorのビルドに使用したバージョンに別のバージョンのPrometheusがインストールされている場合)、ソリューションは、Coherence Operatorで作成するのではなく、<code>ServiceMonitors</code>を手動で作成することです。</span></p>

</div>
</div>
</doc-view>
<!-- pages/docs/scaling/010_overview.js -->
<doc-view>

<h2 id="_scale_coherence_deployments"><span class="merged" id="all.4Uu3ZZ" style='background-color:yellow' title="原文 : Scale Coherence Deployments">Coherenceデプロイメントのスケーリング</span></h2>
<div class="section">
<p><span class="merged" id="all.442q5u.spl1" style='background-color:yellow' title="原文 : The Coherence Operator provides the ability to safely scale up and down a Coherence deployment.">Coherence Operatorは、<code>Coherence</code>デプロイメントを安全にスケール・アップおよびスケール・ダウンする機能を提供します。</span> <span class="merged" id="all.442q5u.spl2" style='background-color:yellow' title="原文 : A Coherence deployment is backed by a StatefulSet, which can easily be scaled using existing Kubernetes features."><code>Coherence</code>デプロイメントは<code>StatefulSet</code>によってバックアップされ、既存のKubernetes機能を使用して簡単にスケーリングできます。</span> <span class="merged" id="all.442q5u.spl3" style='background-color:yellow' title="原文 : The problem with directly scaling down the StatefulSet is that Kubernetes will immediately kill the required number of Pods."><code>StatefulSet</code>を直接スケール・ダウンするという問題は、Kubernetesによって必要な数の<code>Pods</code>がただちに強制終了されることです。</span> <span class="merged" id="all.442q5u.spl4" style='background-color:yellow' title="原文 : This is obviously very bad for Coherence as killing multiple storage enabled members would almost certainly cause data loss.">Coherenceでは、複数のストレージが有効なメンバーを殺すと、ほとんどの場合データ損失が発生するため、これは明らかに非常に悪いことです。</span> </p>

<p><span class="merged" id="all.4WKfL6.spl1" style='background-color:yellow' title="原文 : The Coherence Operator supports scaling by applying the scaling update directly to Coherence deployment rather than to the underlying StatefulSet.">Coherence Operatorでは、基礎となる<code>StatefulSet</code>ではなく、<code>Coherence</code>デプロイメントにスケーリング更新を直接適用することでスケーリングをサポートしています。</span> <span class="merged" id="all.4WKfL6.spl2" style='background-color:yellow' title="原文 : There are two methods to scale a Coherence deployment:"><code>Coherence</code>デプロイメントをスケーリングするには、次の2つのメソッドがあります:</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.VLHhu" style='background-color:yellow' title="原文 : Update the replicas field in the Coherence CRD spec."><code>Coherence</code> CRD仕様の<code>replicas</code>フィールドを更新します。</span></p>

</li>
<li>
<p><span class="merged" id="all.35MdkA" style='background-color:yellow' title="原文 : Use the kubectl scale command"><code>kubectl scale</code>コマンドの使用</span></p>

</li>
</ul>
<p><span class="merged" id="all.2NDVrt.spl1" style='background-color:yellow' title="原文 : When either of these methods is used the Operator will detect that a change to the size of the deployment is required and ensure that the change will be applied safely.">これらのいずれかのメソッドを使用すると、オペレータはデプロイメントのサイズの変更が必要であることを検出し、変更が安全に適用されるようにします。</span> <span class="merged" id="all.2NDVrt.spl2" style='background-color:yellow' title="原文 : The logical steps the Operator will perform are:">オペレータが実行する論理ステップは次のとおりです:</span> </p>

<ol style="margin-left: 15px;">
<li>
<span class="merged" id="all.uDCue" style='background-color:yellow' title="原文 : Detect desired replicas is different to current replicas">目的のレプリカが現在のレプリカと異なることを検出</span>

</li>
<li>
<span class="merged" id="all.3cecbA.spl1" style='background-color:yellow' title="原文 : Check the cluster is StatusHA - i.e. no cache services are endangered.">クラスタがStatusHAであることを確認 - つまり、キャッシュ・サービスは危険にさらされません。</span> <span class="merged" id="all.3cecbA.spl2" style='background-color:yellow' title="原文 : If any service is not StatusHA requeue the scale request (go back to step one).">サービスがStatusHAでない場合は、スケール・リクエストを再キューします(ステップ1に戻ります)。</span> 

</li>
<li>
<span class="merged" id="all.da2Ze" style='background-color:yellow' title="原文 : If scaling up, add the required number of members.">スケール・アップする場合は、必要なメンバー数を追加します。</span>

</li>
<li>
<span class="merged" id="all.LjmTi" style='background-color:yellow' title="原文 : If scaling down, scale down by one member and requeue the request (go back to step one).">スケール・ダウンする場合は、1つのメンバーでスケール・ダウンし、リクエストを再キューします(ステップ1に戻ります)。</span>

</li>
</ol>
<p><span class="merged" id="all.u3AqW.spl1" style='background-color:yellow' title="原文 : What these steps ensure is that the deployment will not be resized unless the cluster is in a safe state.">これらのステップでは、クラスタが安全な状態でないかぎり、デプロイメントのサイズは変更されません。</span> <span class="merged" id="all.u3AqW.spl2" style='background-color:yellow' title="原文 : When scaling down only a single member will be removed at a time, ensuring that the cluster is in a safe state before removing the next member.">スケール・ダウン時に1つのメンバーのみが一度に削除されます。次のメンバーを削除する前に、クラスタが安全な状態であることを確認します。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.fMy1l.spl1" style='background-color:yellow' title="原文 : The Operator will only apply safe scaling functionality to deployments that are storage enabled.">オペレータは、ストレージが有効なデプロイメントにのみセーフ・スケーリング機能を適用します。</span> <span class="merged" id="all.fMy1l.spl2" style='background-color:yellow' title="原文 : If a deployment is storage disabled then it can be scaled up or down by the required number of members in one step as there is no fear of data loss in a storage disabled member.">デプロイメントが無効になっている場合、ストレージが無効なメンバーでデータが失われる恐れがないため、必要な数のメンバーを1ステップでスケール・アップまたはスケール・ダウンできます。</span> </p>
</div>
</div>

<h2 id="_controlling_safe_scaling"><span class="merged" id="all.4Po5fQ" style='background-color:yellow' title="原文 : Controlling Safe Scaling">セーフ・スケーリングの制御</span></h2>
<div class="section">
<p><span class="merged" id="all.ccUiI" style='background-color:yellow' title="原文 : The Coherence CRD has a number of fields that control the behaviour of scaling."><code>Coherence</code> CRDには、スケーリングの動作を制御する複数のフィールドがあります。</span></p>


<h3 id="_scaling_policy"><span class="merged" id="all.13rYeO" style='background-color:yellow' title="原文 : Scaling Policy">スケーリング・ポリシー</span></h3>
<div class="section">
<p><span class="merged" id="all.3u4RTw.spl1" style='background-color:yellow' title="原文 : The Coherence CRD spec has a field scaling.policy that can be used to override the default scaling behaviour."><code>Coherence</code> CRD仕様には、デフォルトのスケーリング動作をオーバーライドするために使用できるフィールド<code>scaling.policy</code>があります。</span> <span class="merged" id="all.3u4RTw.spl2" style='background-color:yellow' title="原文 : The scaling policy has three possible values:">スケーリング・ポリシーには、次の3つの値があります:</span> </p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.42bBIm"  title="原文:: Value">値</span></th>
<th><span class="merged" id="all.4JM9z7.44"  title="原文:: Description">説明</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.3yF7ME"  title="原文: ParallelUpSafeDown"><code>ParallelUpSafeDown</code></span></td>
<td class=""><span class="merged" id="all.2EgEko.spl1" style='background-color:yellow' title="原文 : This is the default scaling policy.">これはデフォルトのスケーリング・ポリシーです。</span> <span class="merged" id="all.2EgEko.spl2" style='background-color:yellow' title="原文 : With this policy when scaling up Pods are added in parallel (the same as using the Parallel podManagementPolicy in a StatefulSet) and when scaling down Pods are removed one at a time (the same as the OrderedReady podManagementPolicy for a StatefulSet)."><code>Pods</code>をスケール・アップする場合、このポリシーはパラレルで追加されます(<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#statefulsetspec-v1-apps" id="" target="_blank" >StatefulSet</a>で<code>Parallel</code> <code>podManagementPolicy</code>を使用する場合と同じ)。また、<code>Pods</code>をスケール・ダウンする場合(StatefulSetの<code>OrderedReady</code> <code>podManagementPolicy</code>と同じ)。</span> <span class="merged" id="all.2EgEko.spl3" style='background-color:yellow' title="原文 : When scaling down a check is done to ensure that the members of the cluster have a safe StatusHA value before a Pod is removed (i.e. none of the Coherence cache services have an endangered status).">スケール・ダウンを行うと、<code>Pod</code>が削除される前に、クラスタのメンバーに安全なStatusHA値があることが確認されます(つまり、危険にさらされるステータスがなくなるCoherenceキャッシュ・サービスはありません)。</span> <span class="merged" id="all.2EgEko.spl4" style='background-color:yellow' title="原文 : This policy offers faster scaling up and start-up because pods are added in parallel as data should not be lost when adding members, but offers safe, albeit slower, scaling down as Pods are removed one by one.">このポリシーは、メンバーの追加時にデータが失われるべきではないため、ポッドが並行して追加されるため、より高速なスケール・アップおよび起動を提供しますが、<code>Pods</code>が1つずつ削除されるため、安全で安価な低速になります。</span> </td>
</tr>
<tr>
<td class=""><span class="merged" id="all.4cQruq.1"  title="原文: Parallel"><code>Parallel</code></span></td>
<td class=""><span class="merged" id="all.2TAhEp.spl1" style='background-color:yellow' title="原文 : With this policy when scaling up Pods are added in parallel (the same as using the Parallel podManagementPolicy in a StatefulSet)."><code>Pods</code>のスケール・アップ時にこのポリシーを使用すると、パラレルに追加されます(<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/${k8s-doc-version}/#statefulsetspec-v1-apps" id="" target="_blank" >StatefulSet</a>で<code>Parallel</code> <code>podManagementPolicy</code>を使用する場合と同じです)。</span> <span class="merged" id="all.2TAhEp.spl2" style='background-color:yellow' title="原文 : With this policy no StatusHA check is performed either when scaling up or when scaling down.">このポリシーでは、スケール・アップ時またはスケール・ダウン時にStatusHAチェックは実行されません。</span> <span class="merged" id="all.2TAhEp.spl3" style='background-color:yellow' title="原文 : This policy allows faster start and scaling times but at the cost of no data safety; it is ideal for deployments that are storage disabled.">このポリシーにより、起動およびスケーリングの時間が短縮されますが、データの安全性がなく、ストレージが無効なデプロイメントに最適です。</span> </td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3Yh6Zj"  title="原文: Safe"><code>Safe</code></span></td>
<td class=""><span class="merged" id="all.1AUSCS.spl1" style='background-color:yellow' title="原文 : With this policy when scaling up and down Pods are removed one at a time (the same as the OrderedReady podManagementPolicy for a StatefulSet)."><code>Pods</code>のスケール・アップおよびスケール・ダウン時にこのポリシーを使用して、一度に1つずつ削除されます(StatefulSetの<code>OrderedReady</code> <code>podManagementPolicy</code>と同じです)。</span> <span class="merged" id="all.1AUSCS.spl2" style='background-color:yellow' title="原文 : When scaling down a check is done to ensure that the members of the deployment have a safe StatusHA value before a Pod is removed (i.e. none of the Coherence cache services have an endangered status).">スケール・ダウンを行うと、<code>Pod</code>が削除される前に、デプロイメントのメンバーに安全なStatusHA値があることが確認されます(つまり、危険にさらされたステータスを持たないCoherenceキャッシュ・サービスはありません)。</span> <span class="merged" id="all.1AUSCS.spl3" style='background-color:yellow' title="原文 : This policy is slower to start, scale up and scale down.">このポリシーは、起動、スケール・アップおよびスケール・ダウンに時間がかかります。</span> </td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.2UdBeZ" style='background-color:yellow' title="原文 : Both the ParallelUpSafeDown and Safe policies will ensure no data loss when scaling a deployment."><code>ParallelUpSafeDown</code>ポリシーと<code>Safe</code>ポリシーの両方によって、デプロイメントのスケーリング時にデータが失われることはありません。</span></p>

<p><span class="merged" id="all.3xGyvx" style='background-color:yellow' title="原文 : The policy can be set as shown below:">ポリシーは次のように設定できます:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  scaling:
    policy: Safe <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3nuyLY" style='background-color:yellow' title="原文 : This deployment will scale both up and down with StatusHA checks.">このデプロイメントでは、StatusHAチェックを使用してスケール・アップとスケール・ダウンの両方を行います。</span></li>
</ul>
</div>

<h3 id="_scaling_statusha_probe"><span class="merged" id="all.2MSOCp" style='background-color:yellow' title="原文 : Scaling StatusHA Probe">StatusHAプローブのスケーリング</span></h3>
<div class="section">
<p><span class="merged" id="all.3V6OsE.spl1" style='background-color:yellow' title="原文 : The StatusHA check performed by the Operator uses a http endpoint that the Operator runs on a well-known port in the Coherence JVM.">オペレータによって実行されるStatusHAチェックは、オペレータがCoherence JVMの既知のポートで実行するhttpエンドポイントを使用します。</span> <span class="merged" id="all.3V6OsE.spl2" style='background-color:yellow' title="原文 : This endpoint performs a simple check to verify that none of the partitioned cache services known about by Coherence have an endangered status.">このエンドポイントは、Coherenceが認識するパーティション化されたキャッシュ・サービスのいずれにも、危険にさらされたステータスがないことを確認するための簡単なチェックを実行します。</span> <span class="merged" id="all.3V6OsE.spl3" style='background-color:yellow' title="原文 : If an application has a different concept of what &quot;safe&quot; means it can implement a different method to check the status during scaling.">アプリケーションに「安全」とは別の概念がある場合、スケーリング中にステータスをチェックするために別のメソッドを実装できます。</span> </p>

<p><span class="merged" id="all.2yeW76.spl1" style='background-color:yellow' title="原文 : The operator supports different types of safety check probes, these are exactly the same as those supported by Kubernetes for readiness and liveness probes.">オペレータは様々なタイプの安全性チェック・プローブをサポートしています。これらは、レディネスおよびリブネスのプローブに対してKubernetesでサポートされているものとまったく同じです。</span> <span class="merged" id="all.2yeW76.spl2" style='background-color:yellow' title="原文 : The scaling.probe section of the Coherence CRD allows different types of probe to be configured."><code>Coherence</code> CRDの<code>scaling.probe</code>セクションを使用すると、さまざまなタイプのプローブを構成できます。</span> </p>


<h4 id="_using_a_http_get_probe"><span class="merged" id="all.2gWVwc" style='background-color:yellow' title="原文 : Using a HTTP Get Probe">HTTP Get Probeの使用</span></h4>
<div class="section">
<p><span class="merged" id="all.Xbibu" style='background-color:yellow' title="原文 : An HTTP get probe works the same way as a Kubernetes liveness http request">HTTP getプローブは、<a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#define-a-liveness-http-request" id="" target="_blank" >「Kubernetes liveness httpリクエスト」</a>と同じように動作</span></p>

<p><span class="merged" id="all.4VX3JH" style='background-color:yellow' title="原文 : The probe can be configured as follows">プローブは、次のように構成できます</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  scaling:
    probe:
      httpGet:             <span class="conum" data-value="1" />
        port: 8080
        path: /statusha</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.257mxY.spl1" style='background-color:yellow' title="原文 : This deployment will check the status of the services by performing a http GET on http://&lt;pod-ip&gt;:8080/statusha.">このデプロイメントでは、<code><a href="http://&lt;pod-ip&gt;:8080/statusha" id="" target="_blank" >http://&lt;pod-ip>:8080/statusha</a></code>でhttp GETを実行してサービスのステータスを確認します。</span> <span class="merged" id="all.257mxY.spl2" style='background-color:yellow' title="原文 : If the response is 200 the check will pass, any other response the check is assumed to be false.">レスポンスが<code>200</code>の場合、チェックは合格し、チェックする他のレスポンスはfalseであるとみなされます。</span> </li>
</ul>
</div>

<h4 id="_using_a_tcp_probe"><span class="merged" id="all.15BcOc" style='background-color:yellow' title="原文 : Using a TCP Probe">TCPプローブの使用</span></h4>
<div class="section">
<p><span class="merged" id="all.3mvJ0Z" style='background-color:yellow' title="原文 : A TCP probe works the same way as a Kubernetes TCP liveness probe">TCPプローブは、<a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#define-a-tcp-liveness-probe" id="" target="_blank" >「Kubernetes TCPリブネス・プローブ」</a>と同様に機能</span></p>

<p><span class="merged" id="all.4VX3JH.1" style='background-color:yellow' title="原文 : The probe can be configured as follows">プローブは、次のように構成できます</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  scaling:
    probe:
      tcpSocket:    <span class="conum" data-value="1" />
        port: 7000</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3zyGAi" style='background-color:yellow' title="原文 : This deployment will check the status of the services by connecting to the socket on port 7000.">このデプロイメントでは、ポート<code>7000</code>のソケットに接続してサービスのステータスを確認します。</span></li>
</ul>
</div>

<h4 id="_using_an_exec_command_probe"><span class="merged" id="all.OvfH9" style='background-color:yellow' title="原文 : Using an Exec Command Probe">実行コマンド・プローブの使用</span></h4>
<div class="section">
<p><span class="merged" id="all.2nJP1x" style='background-color:yellow' title="原文 : An exec probe works the same way as a Kubernetes Exec liveness probe">execプローブは<a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#define-a-liveness-command" id="" target="_blank" >「Kubernetesリブネス・プローブ」</a>と同じように動作</span></p>

<p><span class="merged" id="all.4VX3JH.2" style='background-color:yellow' title="原文 : The probe can be configured as follows">プローブは、次のように構成できます</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  scaling:
    probe:
      exec:
        command:      <span class="conum" data-value="1" />
          - /bin/ah
          - safe.sh</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4FWu1C" style='background-color:yellow' title="原文 : This deployment will check the status of the services by running the sh safe.sh command in the Pod.">このデプロイメントでは、<code>Pod</code>で<code>sh safe.sh</code>コマンドを実行してサービスのステータスを確認します。</span></li>
</ul>
</div>
</div>
</div>
</doc-view>
<!-- pages/docs/troubleshooting/01_trouble-shooting.js -->
<doc-view>

<h2 id="_troubleshooting_guide"><span class="merged" id="all.3FgWsH"  title="原文:: Troubleshooting Guide">トラブルシューティング・ガイド</span></h2>
<div class="section">
<p><span class="merged" id="all.46m1PS.spl1" style='background-color:yellow' title="原文 : The purpose of this page is to list troubleshooting guides and work-arounds for issues that you may run into when using the Coherence Operator.">このページの目的は、Coherence Operatorを使用するときに実行できる問題のトラブルシューティング・ガイドと回避策をリストすることです。</span> <span class="merged" id="all.46m1PS.spl2" style='background-color:yellow' title="原文 : This page will be updated and maintained over time to include common issues we see from customers">このページは、顧客からの一般的な問題が含まれるように、時間の経過とともに更新および管理されます</span> </p>

</div>

<h2 id="_contents"><span class="merged" id="all.1Q34Zl"  title="原文:: Contents">目次</span></h2>
<div class="section">
<ul class="ulist">
<li>
<p><span class="merged" id="all.1vqdq6" style='background-color:yellow' title="原文 : I Uninstalled the Operator and Cannot Delete the Coherence Clusters"><router-link @click.native="this.scrollFix('#no-operator')" to="#no-operator">オペレータをアンインストールし、Coherenceクラスタを削除できません</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3PaPv9" style='background-color:yellow' title="原文 : Deleting a Namespace Containing Coherence Resource(s) is Stuck Pending Deletion"><router-link @click.native="this.scrollFix('#ns-delete')" to="#ns-delete">Coherenceリソースを含むネームスペースの削除は、削除の保留中のままです</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.293CDp" style='background-color:yellow' title="原文 : Why Does the Operator Pod Restart"><router-link @click.native="this.scrollFix('#restart')" to="#restart">オペレータ・ポッドが再起動するのはなぜですか</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4CVSo0" style='background-color:yellow' title="原文 : Why are the Coherence Pods not reaching ready"><router-link @click.native="this.scrollFix('#ready')" to="#ready">Coherenceポッドの準備ができていないのはなぜですか</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3FuXJR" style='background-color:yellow' title="原文 : My Coherence cluster is stuck with some running Pods and some pending Pods, I want to scale down"><router-link @click.native="this.scrollFix('#stuck-pending')" to="#stuck-pending">Coherenceクラスタは、実行中のポッドと一部の保留中のポッドにスタックしています。スケール・ダウンしたいです</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2A7tOj" style='background-color:yellow' title="原文 : My Coherence cluster is stuck with all pending/crashing Pods, I cannot delete the deployment"><router-link @click.native="this.scrollFix('#stuck-delete')" to="#stuck-delete">Coherenceクラスタがすべての保留中/クラッシュしているポッドにスタックしているため、デプロイメントを削除できません</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.SDG8c" style='background-color:yellow' title="原文 : My cache services will not reach Site Safe"><router-link @click.native="this.scrollFix('#site-safe')" to="#site-safe">自分のキャッシュ・サービスがサイト・セーフに到達しません</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1sxAaI" style='background-color:yellow' title="原文 : My Grafana Dashboards do not display any metrics"><router-link @click.native="this.scrollFix('#dashboards')" to="#dashboards">自分のGrafanaダッシュボードにメトリクスが表示されない</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4XIITG" style='background-color:yellow' title="原文 : I’m using Arm64 and Java 8 and the JVM will not start due to using G1GC"><router-link @click.native="this.scrollFix('#arm-java8')" to="#arm-java8">Arm64およびJava 8を使用しているため、JVMはG1GCの使用により開始されません</router-link></span></p>

</li>
</ul>
</div>

<h2 id="_issues"><span class="merged" id="all.43r0NR"  title="原文:: Issues">問題</span></h2>
<div class="section">

<h3 id="no-operator"><span class="merged" id="all.14fITA" style='background-color:yellow' title="原文 : I Uninstalled the Operator and Cannot Delete the Coherence Clusters">オペレータをアンインストールし、Coherenceクラスタを削除できません</span></h3>
<div class="section">
<p><span class="merged" id="all.3WxoWD.spl1" style='background-color:yellow' title="原文 : The Coherence resources managed by the Operator are marked in k8s as being owned by the Operator, and have finalizers to stop them being deleted.">オペレータによって管理される<code>Coherence</code>リソースは、k8sにオペレータによって所有されているとマークされ、削除を停止するファイナライザがあります。</span> <span class="merged" id="all.3WxoWD.spl2" style='background-color:yellow' title="原文 : In normal operation the Operator will remove the finalizer when it deletes a Coherence cluster.">通常の操作では、<code>Coherence</code>クラスタが削除されると、オペレータはファイナライザを削除します。</span> <span class="merged" id="all.3WxoWD.spl3" style='background-color:yellow' title="原文 : The Operator also installs a validating and mutating web-hook, which will also stop k8s allowing mutations and deletions to a Coherence resource if the Coherence Operator is not running.">オペレータは、webフックの検証と変更もインストールします。これにより、k8sも停止し、Coherence Operatorが実行されていない場合、<code>Coherence</code>リソースへの変更と削除が可能になります。</span> </p>

<p><span class="merged" id="all.4BZkKd" style='background-color:yellow' title="原文 : If the Operator has been uninstalled, first remove the two web-hooks.">オペレータがアンインストールされている場合は、最初に2つのwebフックを削除します。</span></p>

<pre
lang="bash"

>kubectl delete mutatingwebhookconfiguration coherence-operator-mutating-webhook-configuration
kubectl delete validatingwebhookconfiguration coherence-operator-validating-webhook-configuration</pre>

<p><span class="merged" id="all.4Id2eX" style='background-color:yellow' title="原文 : Now patch and delete each Coherence resource to delete its finalizers using the command below and replacing &lt;NAMESPACE&gt; with the correct namespace the Coherence resource is in and &lt;COHERENCE_RESOURCE_NAME&gt; with the Coherence resource name.">次に、次のコマンドを使用して各Coherenceリソースにパッチを適用して削除し、<code>&lt;NAMESPACE></code>を正しいネームスペースに置き換えます。<code>Coherence</code>リソースは<code>Coherence</code>リソース名で、<code>&lt;COHERENCE_RESOURCE_NAME></code>は<code>Coherence</code>リソース名で置き換えます。</span></p>

<pre
lang="bash"

>kubectl -n &lt;NAMESPACE&gt; patch coherence/&lt;COHERENCE_RESOURCE_NAME&gt; -p '{"metadata":{"finalizers":[]}}' --type=merge
kubectl -n &lt;NAMESPACE&gt; delete coherence/&lt;COHERENCE_RESOURCE_NAME&gt;</pre>

</div>

<h3 id="ns-delete"><span class="merged" id="all.3UG0Kt" style='background-color:yellow' title="原文 : Deleting a Namespace Containing Coherence Resource(s) is Stuck Pending Deletion">Coherenceリソースを含むネームスペースの削除は、削除の保留中のままです</span></h3>
<div class="section">
<p><span class="merged" id="all.1VRguD.spl1" style='background-color:yellow' title="原文 : If you have tried to delete a namespace using kubectl delete and the namespace is now stuck pending deletion, this could be related to the issue above."><code>kubectl delete</code>を使用してネームスペースを削除しようとしたときに、ネームスペースが削除の保留中になった場合、これは前述の問題に関連している可能性があります。</span> <span class="merged" id="all.1VRguD.spl2" style='background-color:yellow' title="原文 : This is especially true if the Operator is either not running, or it is in the same namespace that is being deleted.">これは、オペレータが実行されていないか、削除される同じネームスペースにある場合に特に当てはまります。</span> </p>

<p><span class="merged" id="all.2Yl7uO.spl1" style='background-color:yellow' title="原文 : If deleting a namespace containing the Operator and a running Coherence cluster, or deleting a namespace containing a running Coherence cluster when the Operator is stopped will mean the finalizers the Operator added to the Coherence resources cannot be removed so the namespace will remain in a pending deletion state.">オペレータと実行中のCoherenceクラスタを含むネームスペースを削除する場合、またはオペレータが停止したときに実行中のCoherenceクラスタを含むネームスペースを削除した場合、オペレータがCoherenceリソースに追加したファイナライザを削除できないため、ネームスペースは削除保留状態のままになります。</span> <span class="merged" id="all.2Yl7uO.spl2" style='background-color:yellow' title="原文 : The solution to this is the same as the point above in I Uninstalled the Operator and Cannot Delete the Coherence Clusters">これに対する解答は、<router-link @click.native="this.scrollFix('#no-operator')" to="#no-operator">「オペレータをアンインストールし、Coherenceクラスタを削除できません」</router-link>の上の点と同じです</span> </p>

<p><span class="merged" id="all.3Rat3.spl1" style='background-color:yellow' title="原文 : Alternatively, if you are running the Operator in a CI/CD environment and just want to be able to clean up after tests you can run Coherence clusters with the allowUnsafeDelete option enabled.">または、オペレータをCI/CD環境で実行していて、テスト後にクリーン・アップできるようにする場合は、<code>allowUnsafeDelete</code>オプションを有効にしてCoherenceクラスタを実行できます。</span> <span class="merged" id="all.3Rat3.spl2" style='background-color:yellow' title="原文 : By setting the allowUnsafeDelete field to true in the Coherence resource the Operator will not add a finalizer to that Coherence resource, allowing it to be deleted if its namespace is deleted."><code>Coherence</code>リソースで<code>allowUnsafeDelete</code>フィールドを<code>true</code>に設定すると、オペレータはそのCoherenceリソースにファイナライザを追加せず、そのネームスペースが削除された場合にファイナライザを削除できます。</span> </p>

<p><span class="merged" id="all.6vDv5.32"  title="原文:: For example:">例えば:</span></p>

<pre
lang="yaml"
title="cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: unsafe-cluster
spec:
  allowUnsafeDelete: true</pre>

<div class="admonition caution">
<p class="admonition-textlabel"><span class="merged" id="all.4Pmf1N.2"  title="原文:: Caution">注意</span></p>
<p ><p><span class="merged" id="all.1NWBl2.spl1" style='background-color:yellow' title="原文 : Setting the allowUnsafeDelete field to true will mean that the Operator will not be able to intercept the deletion and shutdown of a Coherence cluster and ensure it has a clean, safe shutdown."><code>allowUnsafeDelete</code>フィールドを<code>true</code>に設定すると、オペレータはCoherenceクラスタの削除と停止をインターセプトできず、クリーンで安全な停止を確保できなくなります。</span> <span class="merged" id="all.1NWBl2.spl2" style='background-color:yellow' title="原文 : This is usually ok in CI/CD environments where the cluster and namespace are being cleaned up at the end of a test.">これは通常、CI/CD環境で、テストの終了時にクラスタおよびネームスペースがクリーンアップされている場合に問題ありません。</span> <span class="merged" id="all.1NWBl2.spl3" style='background-color:yellow' title="原文 : This options should not be used in a production cluster, especially where features such as Coherence persistence are being used, otherwise the cluster may not cleanly shut down and will then not be able to be restarted using the persisted data.">このオプションは、特にCoherence永続性などの機能が使用されている本番クラスタでは使用しないでください。そうしないと、クラスタがクリーンに停止して、永続データを使用して再起動できなくなります。</span> </p>
</p>
</div>
</div>

<h3 id="restart"><span class="merged" id="all.32hxbE" style='background-color:yellow' title="原文 : Why Does the Operator Pod Restart After Installation">インストール後にオペレータ・ポッドが再起動するのはなぜですか</span></h3>
<div class="section">
<p><span class="merged" id="all.12mHMk.spl1" style='background-color:yellow' title="原文 : You might notice that when the Operator is installed that the Operator Pod starts, dies and is then restarted.">Operatorがインストールされると、Operator Podが起動し、停止して再起動されることがわかります。</span> <span class="merged" id="all.12mHMk.spl2" style='background-color:yellow' title="原文 : This is expected behaviour.">これは予想される動作です。</span> <span class="merged" id="all.12mHMk.spl3" style='background-color:yellow' title="原文 : The Operator uses a K8s web-hook for defaulting and validation of the Coherence resources.">オペレータは、K8s webフックを使用して、Coherenceリソースをデフォルト設定およびバリデーションします。</span> <span class="merged" id="all.12mHMk.spl4" style='background-color:yellow' title="原文 : A web-hook requires certificates to be present in a Secret mounted to the Operator Pod as a volume.">webフックでは、ボリュームとしてOperator Podにマウントされた<code>Secret</code>に証明書が存在する必要があります。</span> <span class="merged" id="all.12mHMk.spl5" style='background-color:yellow' title="原文 : If this Secret is not present the Operator creates it and populates it with self-signed certs.">このシークレットが存在しない場合は、オペレータによって作成され、自己署名証明書が移入されます。</span> <span class="merged" id="all.12mHMk.spl6" style='background-color:yellow' title="原文 : In order for the Secret to then be mounted correctly the Pod must be restarted.">シークレットを正しくマウントするには、ポッドを再起動する必要があります。</span> <span class="merged" id="all.12mHMk.spl7" style='background-color:yellow' title="原文 : See the the WebHooks documentation."><router-link to="/docs/webhooks/01_introduction">the WebHooks</router-link>のドキュメントを参照してください。</span> </p>

</div>

<h3 id="ready"><span class="merged" id="all.3qibaY" style='background-color:yellow' title="原文 : Why are the Coherence Pods not reaching ready">Coherenceポッドの準備ができていないのはなぜですか</span></h3>
<div class="section">
<p><span class="merged" id="all.2WEzEQ.1.spl1" style='background-color:yellow' title="原文 : The readiness/liveness probe used by the Operator in the Coherence Pods checks a number of things to determine whether the Pods is ready, one of these is whether the JVM is a cluster member.">Coherenceポッドのオペレータが使用するレディネス/リブネス・プローブは、ポッドの準備ができているかどうかを判断するためにいくつかの事項をチェックします。これらの1つは、JVMがクラスタ・メンバーかどうかです。</span> <span class="merged" id="all.2WEzEQ.1.spl2" style='background-color:yellow' title="原文 : If your application uses a custom main class and is not properly bootstrapping Coherence then the Pod will not be ready until your application code actually touches a Coherence resource causing Coherence to start and join the cluster.">アプリケーションでカスタム・メイン・クラスが使用され、Coherenceが正しくブートストラップされていない場合、アプリケーション・コードが実際にCoherenceリソースに接続され、Coherenceが起動してクラスタに参加するまで、ポッドは準備されません。</span> </p>

<p><span class="merged" id="all.3O231E.1.spl1" style='background-color:yellow' title="原文 : When running in clusters with the Operator using custom main classes it is advisable to properly bootstrap Coherence from within your main method.">カスタム・メイン・クラスを使用してOperatorを使用してクラスタで実行する場合は、<code>main</code>メソッド内からCoherenceを適切にブートストラップすることをお薦めします。</span> <span class="merged" id="all.3O231E.1.spl2" style='background-color:yellow' title="原文 : This can be done using the new Coherence bootstrap API available from CE release 20.12 or by calling com.tangosol.net.DefaultCacheServer.startServerDaemon().waitForServiceStart();">これを行うには、CEリリース20.12または<code>com.tangosol.net.DefaultCacheServer.startServerDaemon().waitForServiceStart();</code>をコールして、新しいCoherenceブートストラップAPIを使用できます</span> </p>

</div>

<h3 id="stuck-pending"><span class="merged" id="all.2Z8oUE" style='background-color:yellow' title="原文 : My Coherence cluster is stuck with some running Pods and some pending Pods, I want to scale down">Coherenceクラスタは、実行中のポッドと一部の保留中のポッドにスタックしています。スケール・ダウンしたいです</span></h3>
<div class="section">
<p><span class="merged" id="all.1COqZn.spl1" style='background-color:yellow' title="原文 : If you try to create a Coherence deployment that has a replica count that is greater than your k8s cluster can actually provision then one or more Pods will fail to be created or can be left in a pending state.">k8sクラスタより大きいレプリカ数を持つCoherenceデプロイメントを実際にプロビジョニングしようとすると、1つ以上のポッドの作成に失敗するか、保留状態のままにできます。</span> <span class="merged" id="all.1COqZn.spl2" style='background-color:yellow' title="原文 : The obvious solution to this is to just scale down your Coherence deployment to a smaller size that can be provisioned.">これに対する明らかな解決策は、Coherenceデプロイメントをプロビジョニングできる小さいサイズにスケール・ダウンするだけです。</span> <span class="merged" id="all.1COqZn.spl3" style='background-color:yellow' title="原文 : The issue here is that the safe scaling functionality built into the operator will not allow scaling down to take place because it cannot guarantee no parition/data loss.">問題は、オペレータに組み込まれている安全なスケーリング機能では、解析/データ損失を保証できないため、スケール・ダウンを実行できないことです。</span> <span class="merged" id="all.1COqZn.spl4" style='background-color:yellow' title="原文 : The Coherence deployment is now stuck in this state.">Coherenceデプロイメントはこの状態でスタックするようになりました。</span> </p>

<p><span class="merged" id="all.1hnarS" style='background-color:yellow' title="原文 : The simplest solution would be to completely delete the the Coherence deployment and redeploy with a lower replica count.">最も簡単な解決策は、Coherenceデプロイメントを完全に削除し、より低いレプリカ数で再デプロイすることです。</span></p>

<p><span class="merged" id="all.1rWOh5" style='background-color:yellow' title="原文 : If this is not possible then the following steps will allow the deployment to be scaled down.">これができない場合は、次のステップでデプロイメントをスケール・ダウンできます。</span></p>

<p><span class="merged" id="all.32tiNo" style='background-color:yellow' title="原文 : 1 Update the stuck Coherence deployment’s scaling policy to be Parallel">1 スタックCoherenceデプロイメントのスケーリング・ポリシーを<code>Parallel</code>に更新</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
spec:
  scaling:
    policy: Parallel</pre>

<p><span class="merged" id="all.2lfM79.spl1" style='background-color:yellow' title="原文 : 2 Scale down the cluster to the required size using whatever scaling commands you want, i.e kubectl scale or just update the replica value of the Coherence deployment yaml.">2 必要なスケーリング・コマンドを使用して、クラスタを必要なサイズにスケール・ダウンするか、つまり、<code>kubectl scale</code>を使用するか、Coherenceデプロイメントyamlのレプリカ値を更新します。</span> <span class="merged" id="all.2lfM79.spl2" style='background-color:yellow' title="原文 : Note: If updating the Coherence yaml, this should not be done as part of step 1, above.">ノート: Coherence yamlを更新する場合、前述のステップ1では実行しないでください。</span> </p>

<p><span class="merged" id="all.2Tjni6" style='background-color:yellow' title="原文 : 3 Once the Coherence deployment has scaled to the required size then change the scaling policy value back to the default by updating the Coherence yaml to have no scaling policy value in it.">3 Coherenceデプロイメントに必要なサイズまでスケーリングした後、スケーリング・ポリシーの値をデフォルトに戻すには、Coherence yamlを更新してスケーリング・ポリシー値をデフォルトに戻します。</span></p>

<div class="admonition warning">
<p class="admonition-inline"><span class="merged" id="all.2c9sk.spl1" style='background-color:yellow' title="原文 : When using this work around to scale down a stuck deployment that contains data it is important that only the missing or pending Pods are removed.">この回避策を使用してデータを含むスタック・デプロイメントをスケール・ダウンする場合は、欠落しているポッドまたは保留中のポッドのみが削除されることが重要です。</span> <span class="merged" id="all.2c9sk.spl2" style='background-color:yellow' title="原文 : For example if a Coherence deployment is deployed with a replica count of 100 and 90 Pods are ready, but the other 10 are either missing or stuck pending then the replica value used in step 2 above must be 90.">たとえば、100および90ポッドのレプリカ数でCoherenceデプロイメントがデプロイされ、もう1つの10が欠落しているか、保留中の場合、前述のステップ2で使用されているレプリカ値は90である必要があります。</span> <span class="merged" id="all.2c9sk.spl3" style='background-color:yellow' title="原文 : Because the scaling policy has been set to Parallel the operator will not check any Status HA values before scaling down Pods, so removing &quot;ready&quot; Pods that contain data will almost certainly result in data loss.">スケーリング・ポリシーが<code>Parallel</code>に設定されているため、ポッドをスケール・ダウンする前に、オペレータはステータスHA値をチェックしません。したがって、データを含む「準備完了」ポッドを削除すると、ほぼ間違いなくデータが失われます。</span> <span class="merged" id="all.2c9sk.spl4" style='background-color:yellow' title="原文 : To safely scale down lower, then first follow the three steps above then after changing the scaling policy back to the default further scaling down can be done as normal.">安全に下位にスケール・ダウンするには、まず前述の3つのステップに従います。次に、スケーリング・ポリシーをデフォルトのスケール・ダウンに変更すると、通常どおりに実行できます。</span> </p>
</div>
</div>

<h3 id="stuck-delete"><span class="merged" id="all.2KNFbK" style='background-color:yellow' title="原文 : My Coherence cluster is stuck with all pending/crashing Pods, I cannot delete the deployment">Coherenceクラスタがすべての保留中/クラッシュしているポッドにスタックしているため、デプロイメントを削除できません</span></h3>
<div class="section">
<p><span class="merged" id="all.4OjxBF.spl1" style='background-color:yellow' title="原文 : A Coherence deployment can become stuck where none of the Pods can start, for example the image used is incorrect and all Pods are stuck in ImagePullBackoff.">Coherenceデプロイメントは、どのポッドも起動できない場合にスタックすることがあります。たとえば、使用するイメージが正しくなく、すべてのポッドがImagePullBackoffでスタックされます。</span> <span class="merged" id="all.4OjxBF.spl2" style='background-color:yellow' title="原文 : It can then become impossible to delete the broken deployment.">これにより、破損したデプロイメントを削除できなくなります。</span> <span class="merged" id="all.4OjxBF.spl3" style='background-color:yellow' title="原文 : This is because the Operator has installed a finalizer but this finalizer cannot execute.">これは、オペレータがファイナライザをインストールしたが、このファイナライザは実行できないためです。</span> </p>

<p><span class="merged" id="all.1Zfwc6" style='background-color:yellow' title="原文 : For example, suppose we have deployed a Coherence deployment named my-cluster into namespace coherence-test.">たとえば、<code>my-cluster</code>という名前のCoherenceデプロイメントをネームスペース<code>coherence-test</code>にデプロイしたとします。</span></p>

<p><span class="merged" id="all.2fnZLv" style='background-color:yellow' title="原文 : First try to delete the deployment as normal:">まず、通常どおりデプロイメントを削除しようとします:</span></p>

<pre
lang="console"

>kubectl -n coherence-test delete coherence/my-cluster</pre>

<p><span class="merged" id="all.1iW5l0" style='background-color:yellow' title="原文 : If this command hangs, then press ctrl-c to exit and then run the following patch command.">このコマンドがハングアップした場合は、<code>ctrl-c</code>を押して終了し、次のパッチ・コマンドを実行します。</span></p>

<pre
lang="console"

>kubectl -n coherence-test patch coherence/my-cluster -p '{"metadata":{"finalizers":[]}}' --type=merge</pre>

<p><span class="merged" id="all.1BrJsz" style='background-color:yellow' title="原文 : This will remove the Operator’s finalizer from the Coherence deployment.">これにより、オペレータのファイナライザがCoherenceデプロイメントから削除されます。</span></p>

<p><span class="merged" id="all.3eZdwS" style='background-color:yellow' title="原文 : At this point the my-cluster Coherence deployment might already have been removed, if not try the delete command again.">この時点で、削除コマンドを再試行しない場合、<code>my-cluster</code> Coherenceデプロイメントはすでに削除されている可能性があります。</span></p>

</div>

<h3 id="site-safe"><span class="merged" id="all.yHRlW" style='background-color:yellow' title="原文 : My cache services will not reach Site-Safe">自分のキャッシュ・サービスがSite-Safeに到達しません</span></h3>
<div class="section">
<p><span class="merged" id="all.1SvWBB.spl1" style='background-color:yellow' title="原文 : Coherence distributes data in a cluster to achieve the highest status HA value that it can, the best being site-safe.">Coherenceは、クラスタにデータを分散して、最高のステータスのHA値を実現します。最高はサイト・セーフです。</span> <span class="merged" id="all.1SvWBB.spl2" style='background-color:yellow' title="原文 : This is done using the various values configured for the site, rack, machine, and member names.">これは、サイト、ラック、マシン、およびメンバー名用に構成されたさまざまな値を使用して行われます。</span> <span class="merged" id="all.1SvWBB.spl3" style='background-color:yellow' title="原文 : The Coherence Operator configures these values for the Pods in a Coherence deployment.">Coherence Operatorは、Coherenceデプロイメントのポッドに対してこれらの値を構成します。</span> <span class="merged" id="all.1SvWBB.spl4" style='background-color:yellow' title="原文 : By default, the values for the site and rack names are taken from standard k8s labels applied to the Nodes in the k8s cluster.">デフォルトでは、サイト名とラック名の値は、k8sクラスタ内のノードに適用される標準のk8sラベルから取得されます。</span> <span class="merged" id="all.1SvWBB.spl5" style='background-color:yellow' title="原文 : If the Nodes in the cluster do not have these labels set then the site and rack names will be unset and Coherence will not be able to reach rack or site safe.">クラスタ内のノードにこれらのラベルが設定されていない場合、サイト名およびラック名は設定解除され、Coherenceはラックまたはサイトの安全に到達できません。</span> </p>

<p><span class="merged" id="all.4ICZe" style='background-color:yellow' title="原文 : There are a few possible solutions to this, see the explanation in the documentation explaining Member Identity">これにはいくつかの解決策があります。<router-link to="/docs/coherence/021_member_identity">「メンバー・アイデンティティ」</router-link>を説明するドキュメントの説明を参照してください</span></p>

</div>

<h3 id="dashboards"><span class="merged" id="all.1VzbJK" style='background-color:yellow' title="原文 : My Grafana Dashboards do not display any metrics">自分のGrafanaダッシュボードにメトリクスが表示されない</span></h3>
<div class="section">
<p><span class="merged" id="all.3NQmUp.spl1" style='background-color:yellow' title="原文 : If you have imported the Grafana dashboards provided by the Operator into Grafana, but they are not displaying any metric values, it may be that you have imported the wrong format dashboards.">オペレータによって提供されるGrafanaダッシュボードをGrafanaにインポートしたが、メトリック値が表示されない場合は、誤った形式のダッシュボードをインポートした可能性があります。</span> <span class="merged" id="all.3NQmUp.spl2" style='background-color:yellow' title="原文 : The Operator has multiple sets of dashboards, one for the default Coherence metric name format, one for Microprofile metric name format, and one for Micrometer metric name format.">オペレータには、デフォルトのCoherenceメトリック名形式用に1つ、Microprofileメトリック名形式用に1つ、<a href="https://micrometer.io" id="" target="_blank" >「マイクロメーター」</a>メトリック名形式用に1つ、複数のダッシュボード・セットがあります。</span> </p>

<p><span class="merged" id="all.2pXeBR.spl1" style='background-color:yellow' title="原文 : The simplest way to find out which version corresponds to your Coherence cluster is to query the metrics endpoint with something like curl.">Coherenceクラスタに対応するバージョンを確認するための最も簡単な方法は、<code>curl</code>のような方法でメトリクス・エンドポイントをクエリーすることです。</span> <span class="merged" id="all.2pXeBR.spl2" style='background-color:yellow' title="原文 : If the metric names are in the format vendor:coherence_cluster_size, i.e. prefixed with vendor: then this is the default Coherence format.">メトリック名の形式が<code>vendor:coherence_cluster_size</code>、つまり、プレフィクスが<code>vendor:</code>の場合、これがデフォルトのCoherence形式になります。</span> <span class="merged" id="all.2pXeBR.spl3" style='background-color:yellow' title="原文 : If metric names are in the format vendor_Coherence_Cluster_Size, i.e. prefixed with vendor_ then this is Microprofile format.">メトリック名の形式が<code>vendor_Coherence_Cluster_Size</code>、つまり、プレフィクスが<code>vendor_</code>の場合、これはMicroprofile形式です。</span> <span class="merged" id="all.2pXeBR.spl4" style='background-color:yellow' title="原文 : If the metric name has no vendor prefix then it is using Micrometer metrics.">メトリック名に<code>vendor</code>プレフィクスがない場合、Micrometerメトリクスが使用されます。</span> </p>

<p><span class="merged" id="all.26P66i" style='background-color:yellow' title="原文 : See: the Importing Grafana Dashboards documentation.">参照: <router-link to="/docs/metrics/030_importing">「Grafanaダッシュボードのインポート」</router-link>のドキュメント。</span></p>

</div>

<h3 id="arm-java8"><span class="merged" id="all.rZAz6" style='background-color:yellow' title="原文 : I’m using Arm64 and Java 8 and the JVM will not start due to using G1GC">Arm64およびJava 8を使用しているため、JVMはG1GCの使用により開始されません</span></h3>
<div class="section">
<p><span class="merged" id="all.4YuR9O.1" style='background-color:yellow' title="原文 : If running Kubernetes on ARM processors and using Coherence images built on Java 8 for ARM, note that the G1 garbage collector in that version of Java on ARM is marked as experimental.">ARMプロセッサでKubernetesを実行し、Java 8 for ARMでビルドされたCoherenceイメージを使用する場合、ARM上のそのバージョンのJavaのG1ガベージ・コレクタは実験的としてマークされます。</span></p>

<p><span class="merged" id="all.1XVCma.spl1" style='background-color:yellow' title="原文 : By default, the Operator configures the Coherence JVM to use G1.">デフォルトでは、オペレータはG1を使用するようにCoherence JVMを構成します。</span> <span class="merged" id="all.1XVCma.spl2" style='background-color:yellow' title="原文 : This will cause errors on Arm64 Java 8 JMS unless the JVM option -XX:+UnlockExperimentalVMOptions is added in the Coherence resource spec (see Adding Arbitrary JVM Arguments).">これにより、JVMオプション<code>-XX:+UnlockExperimentalVMOptions</code>がCoherenceリソース仕様に追加されないかぎり、Arm64 Java 8 JMSにエラーが発生します(<router-link to="/docs/jvm/030_jvm_args">「任意のJVM引数の追加」</router-link>を参照)。</span> <span class="merged" id="all.1XVCma.spl3" style='background-color:yellow' title="原文 : Alternatively specify a different garbage collector, ideally on a version of Java this old, use CMS (see Garbage Collector Settings).">または、この古いバージョンのJavaで別のガベージ・コレクタを指定する場合は、CMSを使用します(<router-link to="/docs/jvm/040_gc">「ガベージ・コレクタ設定」</router-link>を参照)。</span> </p>

</div>
</div>
</doc-view>
<!-- pages/docs/troubleshooting/02_heap_dump.js -->
<doc-view>

<h2 id="_capture_heap_dumps"><span class="merged" id="all.lK6jH" style='background-color:yellow' title="原文 : Capture Heap Dumps">ヒープ・ダンプの取得</span></h2>
<div class="section">
<p><span class="merged" id="all.2kbdDD.spl1" style='background-color:yellow' title="原文 : Heap dumps can be very useful when debugging but generating and downloading a heap dump from a container in Kubernetes can be tricky.">ヒープ・ダンプはデバッグ時に非常に役立ちますが、Kubernetesのコンテナからヒープ・ダンプを生成およびダウンロードすると、手間がかかる場合があります。</span> <span class="merged" id="all.2kbdDD.spl2" style='background-color:yellow' title="原文 : When you are running minimal images without an O/S or full JDK (such as the distroless images used by JIB) this becomes even more tricky.">O/SまたはJDK全体(JIBで使用される歪んだイメージなど)なしで最小限のイメージを実行している場合、これはさらに複雑になります。</span> </p>

</div>

<h2 id="_ephemeral_containers"><span class="merged" id="all.KEOC2" style='background-color:yellow' title="原文 : Ephemeral Containers">エフェメラル・コンテナ</span></h2>
<div class="section">
<p><span class="merged" id="all.1Wh1pl.spl1" style='background-color:yellow' title="原文 : Ephemeral containers were introduced in Kubernetes v1.16 and moved to beta in v1.23.">エフェメラル・コンテナは、Kubernetes v1.16で導入され、v1.23でベータに移されました。</span> <span class="merged" id="all.1Wh1pl.spl2" style='background-color:yellow' title="原文 : Ephemeral containers is a feature gate that must be enabled for your cluster.">エフェメラル・コンテナは、クラスタに対して有効にする必要がある機能ゲートです。</span> <span class="merged" id="all.1Wh1pl.spl3" style='background-color:yellow' title="原文 : If you have the EphemeralContainers feature gate enabled, then obtaining a heap dump is not so difficult."><code>EphemeralContainers</code>機能ゲートを有効にしている場合は、ヒープ・ダンプの取得が難しくありません。</span> </p>


<h3 id="_enable_ephemeralcontainers_in_kind"><span class="merged" id="all.1jf5Tk" style='background-color:yellow' title="原文 : Enable EphemeralContainers in KinD">KinDでEphemeralContainersを有効にします</span></h3>
<div class="section">
<p><span class="merged" id="all.2EQTgF" style='background-color:yellow' title="原文 : We use KinD for a lot of our CI builds and testing, enabling the EphemeralContainers feature gate in KinD is very easy."><a href="https://kind.sigs.k8s.io" id="" target="_blank" >KinD</a>は多くのCIビルドおよびテストに使用され、KinDの<code>EphemeralContainers</code>機能ゲートを有効化することは非常に簡単です。</span></p>

<p><span class="merged" id="all.3CtCFn" style='background-color:yellow' title="原文 : For example, this KinD configuration enables the EphemeralContainers feature gate">たとえば、このKinD構成では、<code>EphemeralContainers</code>機能ゲートが有効になります</span></p>

<pre
lang="yaml"

>kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
featureGates:
  EphemeralContainers: true <span class="conum" data-value="1" />
nodes:
- role: control-plane
- role: worker
- role: worker</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.UrZxq" style='background-color:yellow' title="原文 : The EphemeralContainers feature gate is set to true"><code>EphemeralContainers</code>機能ゲートは<code>true</code>に設定されます</span></li>
</ul>
</div>

<h3 id="_shared_process_namespace"><span class="merged" id="all.oTkn3" style='background-color:yellow' title="原文 : Shared Process Namespace">共有プロセス・ネームスペース</span></h3>
<div class="section">
<p><span class="merged" id="all.G5FrO.spl1" style='background-color:yellow' title="原文 : In this example we are going to use the jps and jcmd tools to generate the heap dump from an ephemeral container.">この例では、<code>jps</code>および<code>jcmd</code>ツールを使用して、一時コンテナからヒープ・ダンプを生成します。</span> <span class="merged" id="all.G5FrO.spl2" style='background-color:yellow' title="原文 : For this to work the ephemeral container must be able to see the processes running in the coherence container.">これを有効にするには、一時コンテナが<code>coherence</code>コンテナで実行されているプロセスを表示できる必要があります。</span> <span class="merged" id="all.G5FrO.spl3" style='background-color:yellow' title="原文 : The Coherence CRD spec has a field named ShareProcessNamespace, which sets the corresponding field in the Coherence Pods that will be created for the deployment."><code>Coherence</code> CRD仕様には、<code>ShareProcessNamespace</code>というフィールドがあり、デプロイメント用に作成されるCoherenceポッド内の対応するフィールドを設定します。</span> </p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  shareProcessNamespace: true   <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2UweJp" style='background-color:yellow' title="原文 : The shareProcessNamespace must be set to true."><code>shareProcessNamespace</code>は<code>true</code>に設定する必要があります。</span></li>
</ul>
<p><span class="merged" id="all.EkwKF" style='background-color:yellow' title="原文 : If you have some other way to trigger a heap dump to a specific location without requiring the ephemeral container to see the Coherence container processes then the technique below can still be used without setting shareProcessNamespace to true.">エフェメラル・コンテナでCoherenceコンテナ・プロセスを表示する必要なく、特定のロケーションへのヒープ・ダンプをトリガーする別の方法がある場合、<code>shareProcessNamespace</code>を<code>true</code>に設定せずに、次の手法を使用できます。</span></p>

</div>

<h3 id="_create_an_ephemeral_container"><span class="merged" id="all.1IQWDh" style='background-color:yellow' title="原文 : Create an Ephemeral Container">エフェメラル・コンテナの作成</span></h3>
<div class="section">
<p><span class="merged" id="all.O0cyP.spl1" style='background-color:yellow' title="原文 : Let’s say we have a Coherence cluster deployed named test-cluster in a namespace named coherence-test.">たとえば、<code>coherence-test</code>という名前のネームスペースに<code>test-cluster</code>という名前のCoherenceクラスタがデプロイされているとします。</span> <span class="merged" id="all.O0cyP.spl2" style='background-color:yellow' title="原文 : There will be a number of Pods created for this deployment, named test-cluster-0, test-cluster-1 and so on.">このデプロイメントには、<code>test-cluster-0</code>、<code>test-cluster-1</code>など、多数のポッドが作成されます。</span> <span class="merged" id="all.O0cyP.spl3" style='background-color:yellow' title="原文 : For this example we will obtain a heap dump from Pod test-cluster-1.">この例では、Pod <code>test-cluster-1</code>からヒープ・ダンプを取得します。</span> </p>

<p><span class="merged" id="all.Nv1tU.spl1" style='background-color:yellow' title="原文 : The purpose of using an ephemeral container is because the Coherence container we are running does not contain any of the tools and programs we require for debugging, e.g. jps, jcmd etc. The ephemeral container we run obviously needs to have all the required tools.">エフェメラル・コンテナを使用する目的は、実行中のCoherenceコンテナにデバッグに必要なツールおよびプログラムが含まれていないためです(例、<code>jps</code>、<code>jcmd</code>など)。私たちが実行するエフェメラル・コンテナには、必要なすべてのツールが必要です。</span> <span class="merged" id="all.Nv1tU.spl2" style='background-color:yellow' title="原文 : You could create a custom image with what you need in it, but for this example we will use the openjdk:11 image, as it has a full JDK and other tools we need in it.">必要なものを使用してカスタム・イメージを作成できますが、この例では、必要な完全なJDKおよびその他のツールがあるため、<code>openjdk:11</code>イメージを使用します。</span> <span class="merged" id="all.Nv1tU.spl3" style='background-color:yellow' title="原文 : You should obviously use a JDK version that matches the version in the Coherence container.">Coherenceコンテナのバージョンに一致するJDKバージョンを明らかに使用してください。</span> </p>

<p><span class="merged" id="all.4fEns.spl1" style='background-color:yellow' title="原文 : We can use the kubectl debug command that can be used to create an ephemeral containers.">一時コンテナの作成に使用できる<code>kubectl debug</code>コマンドを使用できます。</span> <span class="merged" id="all.4fEns.spl2" style='background-color:yellow' title="原文 : For our purposes we cannot use this command as we will require volume mounts to share storage between the ephemeral container and the Coherence container so that the ephemeral container can see the heap dump file.">エフェメラル・コンテナとCoherenceコンテナ間でストレージを共有するためにボリューム・マウントが必要なため、このコマンドを使用できません。これにより、エフェメラル・コンテナはヒープ・ダンプ・ファイルを参照できます。</span> </p>

<p><span class="merged" id="all.eVDRt.spl1" style='background-color:yellow' title="原文 : Instead of the kubectl debug command we can create ephemeral containers using the kubectl --raw API."><code>kubectl debug</code>コマンドのかわりに、<code>kubectl --raw</code> APIを使用して一時コンテナを作成できます。</span> <span class="merged" id="all.eVDRt.spl2" style='background-color:yellow' title="原文 : Ephemeral containers are a sub-resource of the Pod API.">エフェメラル・コンテナは、ポッドAPIのサブリソースです。</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2zdNsb.spl1" style='background-color:yellow' title="原文 : First obtain the current ephemeral containers sub-resource for the Pod.">最初に、ポッドの現在の一時コンテナ・サブリソースを取得します。</span> <span class="merged" id="all.2zdNsb.spl2" style='background-color:yellow' title="原文 : We do this using the kubectl get --raw command with the URL path in the format /api/v1/namespaces/&lt;namespace&gt;&gt;/pods/&lt;pod&gt;/ephemeralcontainers, where &lt;namespace&gt; is the namespace that the Pod is deployed into and &lt;pod&gt; is the name of the Pod.">これは、<code>kubectl get --raw</code>コマンドとURLパスを<code>/api/v1/namespaces/&lt;namespace>>/pods/&lt;pod>/ephemeralcontainers</code>という形式で使用します。<code>&lt;namespace></code>は、ポッドがデプロイされるネームスペース、<code>&lt;pod></code>はポッドの名前です。</span> </p>

</li>
</ul>
<p><span class="merged" id="all.3okKKl" style='background-color:yellow' title="原文 : So in our example the command would be:">そのため、この例ではコマンドは次のようになります:</span></p>

<pre
lang="bash"

>kubectl get --raw /api/v1/namespaces/coherence-test/pods/test-cluster-1/ephemeralcontainers</pre>

<p><span class="merged" id="all.1j7fHU" style='background-color:yellow' title="原文 : Which will output json similar to this, which we will save to a file named ec.json:">これと同様のjsonを出力し、<code>ec.json</code>という名前のファイルに保存します:</span></p>

<pre
lang="json"
title="ec.json"
>{
  "kind": "EphemeralContainers",
  "apiVersion": "v1",
  "metadata": {
    "name": "test-cluster-1",
    "namespace": "coherence-test",
    "selfLink": "/api/v1/namespaces/coherence-test/pods/test-cluster-1/ephemeralcontainers",
    "uid": "731ca9a9-332f-4999-821d-adfea2e1d2d4",
    "resourceVersion": "24921",
    "creationTimestamp": "2021-03-12T10:41:35Z"
  },
  "ephemeralContainers": []
}</pre>

<p><span class="merged" id="all.2chYDk" style='background-color:yellow' title="原文 : The &quot;ephemeralContainers&quot; field is an empty array as we have not created any previous containers.">前のコンテナを作成していないため、<code>"ephemeralContainers"</code>フィールドは空の配列です。</span></p>

<p><span class="merged" id="all.RVFLI.spl1" style='background-color:yellow' title="原文 : We now need to edit this yaml to define the ephemeral container we want to create.">次に、このyamlを編集して、作成する一時的なコンテナを定義する必要があります。</span> <span class="merged" id="all.RVFLI.spl2" style='background-color:yellow' title="原文 : The Pod created by the Operator contains an empty directory volume with a volume mount at /coherence-operator/jvm, which is where the JVM is configured to dump debug information, such as heap dumps.">オペレータによって作成されたポッドには、ボリュームが<code>/coherence-operator/jvm</code>にマウントされた空のディレクトリ・ボリュームが含まれています。このディレクトリ・ボリュームは、ヒープ・ダンプなどのデバッグ情報をダンプするようにJVMが構成されています。</span> <span class="merged" id="all.RVFLI.spl3" style='background-color:yellow' title="原文 : We will create an ephemeral container with the same mount so that the /coherence-operator/jvm directory will be shared between the Coherence container and the ephemeral container."><code>/coherence-operator/jvm</code>ディレクトリをCoherenceコンテナとエフェメラル・コンテナ間で共有できるように、同じマウントで一時コンテナを作成します。</span> </p>

<p><span class="merged" id="all.1uMuJM.spl1" style='background-color:yellow' title="原文 : Another thing to note is that the default entrypoint in the openjdk:11 image we are using in this example is JShell.">もう1つの点は、この例で使用している<code>openjdk:11</code>イメージのデフォルト・エントリ・ポイントがJShellであることです。</span> <span class="merged" id="all.1uMuJM.spl2" style='background-color:yellow' title="原文 : This is obviously not what we want, so we will make sure we specify /bin/sh as the entry point as we want a command line shell.">これは明らかに目的ではないため、コマンドライン・シェルが必要なときに、エントリ・ポイントとして<code>/bin/sh</code>を指定することを確認します。</span> </p>

<p><span class="merged" id="all.BWj2o" style='background-color:yellow' title="原文 : Our edited ec.json file looks like this:">編集した<code>ec.json</code>ファイルは次のようになります:</span></p>

<pre
lang="json"
title="ec.json"
>{
  "kind": "EphemeralContainers",
  "apiVersion": "v1",
  "metadata": {
    "name": "test-cluster-1",
    "namespace": "coherence-test",
    "selfLink": "/api/v1/namespaces/coherence-test/pods/test-cluster-1/ephemeralcontainers",
    "uid": "731ca9a9-332f-4999-821d-adfea2e1d2d4",
    "resourceVersion": "24921",
    "creationTimestamp": "2021-03-12T10:41:35Z"
  },
  "ephemeralContainers": [
    {
      "name": "debug",                                 <span class="conum" data-value="1" />
      "image": "openjdk:11",                           <span class="conum" data-value="2" />
      "command": [
          "bin/sh"                                     <span class="conum" data-value="3" />
      ],
      "imagePullPolicy": "IfNotPresent",               <span class="conum" data-value="4" />
      "terminationMessagePolicy":"File",
      "stdin": true,                                   <span class="conum" data-value="5" />
      "tty": true,
      "volumeMounts": [
          {
              "mountPath": "/coherence-operator/jvm",  <span class="conum" data-value="6" />
              "name": "jvm"
          }
      ]
    }
  ]
}</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.xGAzW.spl1" style='background-color:yellow' title="原文 : We add an ephemeral container named debug."><code>debug</code>という名前の一時コンテナを追加します。</span> <span class="merged" id="all.xGAzW.spl2" style='background-color:yellow' title="原文 : The name can be anything as long as it is unique in the Pod.">この名前は、ポッド内で一意であるかぎり、何でも指定できます。</span> </li>
<li data-value="2"><span class="merged" id="all.3R0hPJ" style='background-color:yellow' title="原文 : We specify that the image used for the container is openjdk:11">コンテナに使用されるイメージが<code>openjdk:11</code>であることを指定</span></li>
<li data-value="3"><span class="merged" id="all.3msD7J" style='background-color:yellow' title="原文 : Specify /bin/sh as the container entry point so that we get a command line shell">コマンドライン・シェルを取得するように、コンテナ・エントリ・ポイントとして<code>/bin/sh</code>を指定</span></li>
<li data-value="4"><span class="merged" id="all.31nzWB" style='background-color:yellow' title="原文 : We must specify an image pull policy">イメージ・プル・ポリシーを指定する必要があります</span></li>
<li data-value="5"><span class="merged" id="all.1xZnjG" style='background-color:yellow' title="原文 : We want an interactive container, so we specify stdin and tty">対話型コンテナが必要であるため、<code>stdin</code>および<code>tty</code>を指定</span></li>
<li data-value="6"><span class="merged" id="all.3b2Q8I" style='background-color:yellow' title="原文 : We create the same volume mount to /coherence-operator/jvm that the Coherence container has.">Coherenceコンテナの<code>/coherence-operator/jvm</code>と同じボリューム・マウントを作成します。</span></li>
</ul>
<p><span class="merged" id="all.3vNSFa" style='background-color:yellow' title="原文 : We can now re-apply the json to add the new ephemeral container using the kubectl replace --raw command to the same URL path we used for the get command above, this time using -f ec.json to specify the json we want to replace.">jsonを再適用して、<code>kubectl replace --raw</code>コマンドを使用して、前述の<code>get</code>コマンドに使用したのと同じURLパスに、<code>-f ec.json</code>を使用して置換するjsonを指定することで、新しい一時コンテナを追加できるようになりました。</span></p>

<pre
lang="bash"

>kubectl replace --raw /api/v1/namespaces/coherence-test/pods/test-cluster-1/ephemeralcontainers -f ec.json</pre>

<p><span class="merged" id="all.Tcr9" style='background-color:yellow' title="原文 : After executing the above command the ephemeral container should have been created, we can now attach to it.">前述のコマンドを実行した後、エフェメラル・コンテナが作成されている必要があるため、これにアタッチできます。</span></p>

</div>

<h3 id="_attach_to_the_ephemeral_container"><span class="merged" id="all.2oBmc4" style='background-color:yellow' title="原文 : Attach to the Ephemeral Container">エフェメラル・コンテナにアタッチ</span></h3>
<div class="section">
<p><span class="merged" id="all.34s3wO.spl1" style='background-color:yellow' title="原文 : We now have an ephemeral container named debug in the Pod test-cluster-1.">これで、Pod <code>test-cluster-1</code>に<code>debug</code>という名前のエフェメラル・コンテナがあります。</span> <span class="merged" id="all.34s3wO.spl2" style='background-color:yellow' title="原文 : We need to attach to the container so that we can create the heap dump.">ヒープ・ダンプを作成できるように、コンテナにアタッチする必要があります。</span> </p>

<pre
lang="bash"

>kubectl attach test-cluster-1 -c debug -it -n coherence-test</pre>

<p><span class="merged" id="all.38LFbs.spl1" style='background-color:yellow' title="原文 : The command above will attach an interactive (-it) session to the debug container (specified with -c debug) in Pod test-cluster-1, in the namespace coherence-test.">前述のコマンドは、ネームスペース<code>coherence-test</code>のポッド<code>test-cluster-1</code>の<code>debug</code>コンテナ(<code>-c debug</code>で指定)に対話型(<code>-it</code>)セッションをアタッチします。</span> <span class="merged" id="all.38LFbs.spl2" style='background-color:yellow' title="原文 : Displaying something like this:">次のように表示されます:</span> </p>

<pre
lang="bash"

>If you don't see a command prompt, try pressing enter.

#</pre>

</div>

<h3 id="_trigger_the_heap_dump"><span class="merged" id="all.3nrM8G" style='background-color:yellow' title="原文 : Trigger the Heap Dump">ヒープ・ダンプのトリガー</span></h3>
<div class="section">
<p><span class="merged" id="all.3n9Lcb" style='background-color:yellow' title="原文 : We can now generate the heap dump for the Coherence process using jcmd, but first we need to find its PID using jps."><code>jcmd</code>を使用してCoherenceプロセスのヒープ・ダンプを生成できるようになりましたが、まず<code>jps</code>を使用してそのPIDを見つける必要があります。</span></p>

<pre
lang="bash"

>jps -l</pre>

<p><span class="merged" id="all.1kwJNE" style='background-color:yellow' title="原文 : Which will display something like this:">次のように表示されます:</span></p>

<pre
lang="bash"

>117 jdk.jcmd/sun.tools.jps.Jps
55 com.oracle.coherence.k8s.Main</pre>

<p><span class="merged" id="all.4VAHSO.spl1" style='background-color:yellow' title="原文 : The main class run by the Operator is com.oracle.coherence.k8s.Main so the PID of the Coherence process is 55.">オペレータによって実行されるメイン・クラスは<code>com.oracle.coherence.k8s.Main</code>であるため、CoherenceプロセスのPIDは<code>55</code>です。</span> <span class="merged" id="all.4VAHSO.spl2" style='background-color:yellow' title="原文 : We can now use jcmd to generate the heap dump."><code>jcmd</code>を使用してヒープ・ダンプを生成できるようになりました。</span> <span class="merged" id="all.4VAHSO.spl3" style='background-color:yellow' title="原文 : We need to make sure that the heap dump is created in the /coherence-operator/jvm/ directory, as this is shared between both containers.">これは両方のコンテナ間で共有されるため、ヒープ・ダンプが<code>/coherence-operator/jvm/</code>ディレクトリに作成されていることを確認する必要があります。</span> </p>

<pre
lang="bash"

>jcmd 55 GC.heap_dump /coherence-operator/jvm/heap-dump.hprof</pre>

<p><span class="merged" id="all.47vVP7.spl1" style='background-color:yellow' title="原文 : After running the command above, we will have a heap dump file that we can access from the ephemeral Pod.">前述のコマンドを実行すると、一時<code>Pod</code>からアクセスできるヒープ・ダンプ・ファイルが作成されます。</span> <span class="merged" id="all.47vVP7.spl2" style='background-color:yellow' title="原文 : We have a number of choices about how to get the file out of the Pod and somewhere that we can analyze it.">ポッドからファイルを取得する方法と、それを分析できる場所には、いくつかの選択肢があります。</span> <span class="merged" id="all.47vVP7.spl3" style='background-color:yellow' title="原文 : We could use sftp to ship it somewhere, or some tools to copy it to cloud storage or just simply use kubectl cp to copy it."><code>sftp</code>を使用して、どこか、または一部のツールを使用してクラウド・ストレージにコピーするか、単に<code>kubectl cp</code>を使用してコピーできます。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.19sWFO" style='background-color:yellow' title="原文 : Do not exit out of the ephemeral container session until you have copied the heap dump.">ヒープ・ダンプをコピーするまで、一時コンテナ・セッションを終了しないでください。</span></p>
</div>
<p><span class="merged" id="all.1RF2G2.spl1" style='background-color:yellow' title="原文 : The kubectl cp command is in the form kubectl cp &lt;namespace&gt;/&lt;pod&gt;/&lt;file&gt; &lt;local-file&gt; -c &lt;container&gt;."><code>kubectl cp</code>コマンドは、<code>kubectl cp &lt;namespace>/&lt;pod>/&lt;file> &lt;local-file> -c &lt;container></code>の形式です。</span> <span class="merged" id="all.1RF2G2.spl2" style='background-color:yellow' title="原文 : So to use kubectl cp we can execute a command like the following:">したがって、<code>kubectl cp</code>を使用するには、次のようなコマンドを実行できます:</span> </p>

<pre
lang="bash"

>kubectl cp coherence-test/test-cluster-1:/coherence-operator/jvm/heap-dump.hprof \
    $(pwd)/heap-dump.hprof -c debug</pre>

<p><span class="merged" id="all.9Chdj.spl1" style='background-color:yellow' title="原文 : We will now have a file called heap-dump.hprof in the current directory.">現在のディレクトリに<code>heap-dump.hprof</code>というファイルがあります。</span> <span class="merged" id="all.9Chdj.spl2" style='background-color:yellow' title="原文 : We can now exit out of the ephemeral container.">これで、エフェメラル・コンテナを終了できます。</span> </p>

</div>
</div>
</doc-view>
<!-- pages/docs/webhooks/01_introduction.js -->
<doc-view>

<h2 id="_coherence_operator_kubernetes_web_hooks"><span class="merged" id="all.2J3SJ" style='background-color:yellow' title="原文 : Coherence Operator Kubernetes Web-Hooks">Coherence Operator Kubernetes Web-Hooks</span></h2>
<div class="section">
<p><span class="merged" id="all.Xy878" style='background-color:yellow' title="原文 : The Coherence Operator uses Kubernetes admission control webhooks to validate and provide default values for Coherence resources (see the Kubernetes documentation for more details on web-hooks).">Coherence Operatorは、Kubernetesアドミッション制御webフックを使用して、Coherenceリソースのデフォルト値をバリデートおよび提供します(Webフックの詳細は、<a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/" id="" target="_blank" >「Kubernetesドキュメント」</a>を参照してください)。</span></p>

<p><span class="merged" id="all.3675s7.spl1" style='background-color:yellow' title="原文 : The Coherence Operator webhooks will validate a Coherence resources when it is created or updated contain.">Coherence Operator webフックは、<code>Coherence</code>リソースが作成または更新されたときに、そのリソースが含まれることをバリデートします。</span> <span class="merged" id="all.3675s7.spl2" style='background-color:yellow' title="原文 : For example, the replicas count is not negative.">たとえば、<code>replicas</code>数は負数ではありません。</span> <span class="merged" id="all.3675s7.spl3" style='background-color:yellow' title="原文 : If a Coherence resource is invalid it will be rejected before it gets stored into Kubernetes."><code>Coherence</code>リソースが無効な場合、Kubernetesに格納する前に拒否されます。</span> </p>


<h3 id="_webhook_scope"><span class="merged" id="all.34OzP.1"  title="原文:: Webhook Scope">Webフック・スコープ</span></h3>
<div class="section">
<p><span class="merged" id="all.4Hcxv7.spl1" style='background-color:yellow' title="原文 : Webhooks in Kubernetes are a cluster resource, not a namespaced scoped resource, so consequently there is typically only a single webhook installed for a given resource type.">Kubernetesのwebフックは、ネームスペース・スコープ・リソースではなくクラスタ・リソースであるため、通常、特定のリソース・タイプに対してインストールされるWebフックは1つのみです。</span> <span class="merged" id="all.4Hcxv7.spl2" style='background-color:yellow' title="原文 : If the Coherence Operator is installed as a cluster scoped operator then this is not a problem but if multiple Coherence Operators are deployed then they could all attempt to install the webhooks and update or overwrite a previous configuration.">Coherence Operatorがクラスタ・スコープ・オペレータとしてインストールされている場合、これは問題ではありませんが、複数のCoherence Operatorsがデプロイされている場合、すべてのユーザーがwebフックをインストールし、以前の構成を更新または上書きしようとする可能性があります。</span> <span class="merged" id="all.4Hcxv7.spl3" style='background-color:yellow' title="原文 : This might not be an issue if all of the operators deployed in a Kubernetes cluster are the same version but different versions could cause issues.">Kubernetesクラスタにデプロイされたすべてのオペレータが同じバージョンであるが、異なるバージョンによって問題が発生する場合、これは問題ではない可能性があります。</span> </p>

</div>
</div>

<h2 id="_webhook_certificates"><span class="merged" id="all.hBD5G" style='background-color:yellow' title="原文 : Webhook Certificates">Webフック証明書</span></h2>
<div class="section">
<p><span class="merged" id="all.O3Zrl.spl1" style='background-color:yellow' title="原文 : Kubernetes requires webhooks to expose an API over https and consequently this requires certificates to be created.">Kubernetesでは、httpsを介してAPIを公開するためにwebフックが必要であるため、これによって証明書を作成する必要があります。</span> <span class="merged" id="all.O3Zrl.spl2" style='background-color:yellow' title="原文 : By default, the Coherence Operator will create a self-signed CA certificate and key for use with its webhooks.">デフォルトでは、Coherence Operatorは、webフックで使用する自己署名CA証明書およびキーを作成します。</span> <span class="merged" id="all.O3Zrl.spl3" style='background-color:yellow' title="原文 : Alternatively it is possible to use an external certificate manager such as the commonly used Cert Manager.">または、一般的に使用される<a href="https://github.com/jetstack/cert-manager" id="" target="_blank" >「証明書マネージャ」</a>などの外部証明書マネージャを使用することもできます。</span> <span class="merged" id="all.O3Zrl.spl4" style='background-color:yellow' title="原文 : Configuring and using Cert Manager is beyond the scope of this documentation.">証明書マネージャの構成および使用は、このドキュメントの範囲外です。</span> </p>

</div>
</doc-view>
<!-- pages/examples/000_overview.js -->
<doc-view>

<h2 id="_examples_overview"><span class="merged" id="all.1jTEjx"  title="原文:: Examples Overview">例の概要</span></h2>
<div class="section">
<p><span class="merged" id="all.3GQ4Wu" style='background-color:yellow' title="原文 : There are a number of examples which show you how to build and deploy applications for the Coherence Operator.">Coherence Operatorのアプリケーションのビルドおよびデプロイ方法を示す例がいくつかあります。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.VKwLf" style='background-color:yellow' title="原文 :  The complete source code for the examples is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />例のソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/015_simple_image/README"><div class="card__link-hover"/>
<span class="merged" id="all.2PUYWT" style='background-color:yellow' title="原文 :  Simple Coherence Image using JIB "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">JIBを使用したシンプルなCoherenceイメージ</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.4e4Xw" style='background-color:yellow' title="原文 : Building a simple Coherence server image with JIB using Maven or Gradle.">MavenまたはGradleを使用して、<a href="https://github.com/GoogleContainerTools/jib/blob/master/README.md" id="" target="_blank" >JIB</a>を使用した単純なCoherenceサーバー・イメージをビルドします。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/016_simple_docker_image/README"><div class="card__link-hover"/>
<span class="merged" id="all.4dIVey" style='background-color:yellow' title="原文 :  Simple Coherence Image using a Dockerfile "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Dockerfileを使用したシンプルなCoherenceイメージ</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.3BzIMm" style='background-color:yellow' title="原文 : Building a simple Coherence image with a Dockerfile, that works out of the box with the Operator.">Dockerfileを使用して単純なCoherenceイメージを作成します。このイメージは、オペレータとともにすぐに使用できます。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/020_hello_world/README"><div class="card__link-hover"/>
<span class="merged" id="all.4B8i3D" style='background-color:yellow' title="原文 :  Hello World "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">こんにちは世界</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.vbpYz" style='background-color:yellow' title="原文 : Deploying the most basic Coherence cluster using the Operator.">オペレータを使用した最も基本的なCoherenceクラスタのデプロイ。</span></p>
</v-card-text> </v-card> </v-flex> </v-layout> </v-container> </v-flex> </v-layout> <v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/025_extend_client/README"><div class="card__link-hover"/>
<span class="merged" id="all.2ju4Jl" style='background-color:yellow' title="原文 :  Coherence*Extend Clients "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Coherence*Extendクライアント</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.mRTvz" style='background-color:yellow' title="原文 : An example demonstrating various ways to configure and use Coherence*Extend with Kubernetes.">Kubernetesを使用してCoherence*Extendを構成および使用するための様々な方法を示す例。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link @click.native="this.scrollFix('#examples/020_deployment/README.adoc')" to="#examples/020_deployment/README.adoc"><div class="card__link-hover"/>
<span class="merged" id="all.15XJkn" style='background-color:yellow' title="原文 :  Deployment "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">デプロイメント</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1cUQRp" style='background-color:yellow' title="原文 : This example shows how to deploy Coherence applications using the Coherence Operator.">この例では、Coherence Operatorを使用してCoherenceアプリケーションをデプロイする方法を示します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/090_tls/README"><div class="card__link-hover"/>
<span class="merged" id="all.1XFJ9G" style='background-color:yellow' title="原文 :  TLS "></router-link> <v-card-title primary class="headline layout justify-center"> <span style="text-align:center">TLS</span> </v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.LzPx6" style='background-color:yellow' title="原文 : Securing Coherence clusters using TLS.">TLSを使用してCoherenceクラスタを保護します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/095_network_policies/README"><div class="card__link-hover"/>
<span class="merged" id="all.863Cs" style='background-color:yellow' title="原文 :  Network Policies "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ネットワーク・ポリシー</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.4et6Rg" style='background-color:yellow' title="原文 : An example covering the use of Kubernetes NetworkPolicy rules with the Operator and Coherence clusters.">Kubernetes <code>NetworkPolicy</code>ルールと、OperatorクラスタおよびCoherenceクラスタの使用について説明する例。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/100_federation/README"><div class="card__link-hover"/>
<span class="merged" id="all.2UnlYn" style='background-color:yellow' title="原文 :  Federation "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">フェデレーション</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2kCjks.spl1" style='background-color:yellow' title="原文 : This is a simple Coherence federation example.">これは単純なCoherenceフェデレーションの例です。</span> <span class="merged" id="all.2kCjks.spl2" style='background-color:yellow' title="原文 : The federation feature requires Coherence Grid Edition.">フェデレーション機能にはCoherence Grid Editionが必要です。</span> </p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/200_autoscaler/README"><div class="card__link-hover"/>
<span class="merged" id="all.1Cgdic" style='background-color:yellow' title="原文 :  Autoscaling "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">自動スケーリング</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.4MsEdH" style='background-color:yellow' title="原文 : Scaling Coherence clusters using the horizontal Pod Autoscaler.">水平なPod Autoscalerを使用したCoherenceクラスタのスケーリング。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/300_helm/README"><div class="card__link-hover"/>
<span class="merged" id="all.3RJC8L" style='background-color:yellow' title="原文 :  Helm "></router-link> <v-card-title primary class="headline layout justify-center"> <span style="text-align:center">Helm</span> </v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2bOPYe" style='background-color:yellow' title="原文 : Manage Coherence resources using Helm.">Helmを使用してCoherenceリソースを管理します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/400_Istio/README"><div class="card__link-hover"/>
<span class="merged" id="all.1a6xNy" style='background-color:yellow' title="原文 :  Istio "></router-link> <v-card-title primary class="headline layout justify-center"> <span style="text-align:center">Istio</span> </v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.3BJaXa" style='background-color:yellow' title="原文 : Istio Support">Istioサポート</span></p>
</v-card-text> </v-card> </v-flex> </v-layout> </v-container> </v-flex> </v-layout> <v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/900_demo/README"><div class="card__link-hover"/>
<span class="merged" id="all.40IwIZ" style='background-color:yellow' title="原文 :  Coherence Demo App "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Coherenceデモ・アプリケーション</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.47amyD" style='background-color:yellow' title="原文 : Deploying the Coherence demo application.">Coherenceデモ・アプリケーションのデプロイ。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</doc-view>
<!-- pages/examples/015_simple_image/README.js -->
<doc-view>

<h2 id="_example_coherence_image_using_jib"><span class="merged" id="all.2o9WSt" style='background-color:yellow' title="原文 : Example Coherence Image using JIB">JIBを使用したCoherenceイメージの例</span></h2>
<div class="section">
<p><span class="merged" id="all.1y2M5M.spl1" style='background-color:yellow' title="原文 : This example shows how to build a simple Coherence server image using JIB with either Maven or Gradle.">この例では、MavenまたはGradleを使用して<a href="https://github.com/GoogleContainerTools/jib/blob/master/README.md" id="" target="_blank" >JIB</a>を使用して単純なCoherenceサーバー・イメージをビルドする方法を示します。</span> <span class="merged" id="all.1y2M5M.spl2" style='background-color:yellow' title="原文 : When building with Maven the project uses the JIB Maven Plugin.">Mavenを使用してビルドする場合、プロジェクトでは<a href="https://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin" id="" target="_blank" >「JIB Mavenプラグイン」</a>を使用します。</span> <span class="merged" id="all.1y2M5M.spl3" style='background-color:yellow' title="原文 : When building with Gradle the project uses the JIB Gradle Plugin.">Gradleを使用してビルドする場合、プロジェクトは<a href="https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin" id="" target="_blank" >「JIB Gradleプラグイン」</a>を使用します。</span> </p>

<p><span class="merged" id="all.2eLfkn" style='background-color:yellow' title="原文 : The Coherence Operator has out of the box support for images built with JIB, for example it can automatically detect the class path to use and run the correct main class.">Coherence Operatorには、JIBでビルドされたイメージがすぐにサポートされます。たとえば、使用するクラス・パスを自動的に検出し、正しいメイン・クラスを実行できます。</span></p>

<p><span class="merged" id="all.40O13R" style='background-color:yellow' title="原文 : This simple application does not actually contain any code, a real application would obviously contain code and other resources.">この単純なアプリケーションには実際にはコードが含まれず、実際のアプリケーションには明らかにコードやその他のリソースが含まれます。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.1"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.4L9d6t" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/015_simple_image" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>

<h3 id="_add_dependencies"><span class="merged" id="all.CXQ5D"  title="原文:: Add Dependencies">依存関係の追加</span></h3>
<div class="section">
<p><span class="merged" id="all.1pSBfj.spl1" style='background-color:yellow' title="原文 : To build a Coherence application there will obviously be at a minimum a dependency on coherence.jar.">Coherenceアプリケーションをビルドするには、少なくとも<code>coherence.jar</code>への依存関係があります。</span> <span class="merged" id="all.1pSBfj.spl2" style='background-color:yellow' title="原文 : Optionally we can also add dependencies on other Coherence modules.">オプションで、他のCoherenceモジュールに依存関係を追加することもできます。</span> <span class="merged" id="all.1pSBfj.spl3" style='background-color:yellow' title="原文 : In this example we’re going to add json support to the application by adding a dependency on coherence-json.">この例では、<code>coherence-json</code>への依存関係を追加して、jsonサポートをアプリケーションに追加します。</span> </p>

<p><span class="merged" id="all.2iqBU9.spl1" style='background-color:yellow' title="原文 : In the example we use the coherence-bom which ensures that we have consistent use of other Coherence modules.">この例では、<code>coherence-bom</code>を使用して、他のCoherenceモジュールを一貫して使用できるようにします。</span> <span class="merged" id="all.2iqBU9.spl2" style='background-color:yellow' title="原文 : In the pom.xml we have a dependencyManagement section."><code>pom.xml</code>には、<code>dependencyManagement</code>セクションがあります。</span> </p>

<pre
lang="xml"
title="pom.xml"
>    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
                &lt;artifactId&gt;coherence-bom&lt;/artifactId&gt;
                &lt;version&gt;${coherence.version}&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;</pre>

<p><span class="merged" id="all.45fURA" style='background-color:yellow' title="原文 : In the build.gradle file we add the bom as a platform dependency."><code>build.gradle</code>ファイルで、bomをプラットフォームの依存関係として追加します。</span></p>

<pre
lang="groovy"
title="build.gradle"
>dependencies {
    implementation platform("com.oracle.coherence.ce:coherence-bom:22.06.7")</pre>

<p><span class="merged" id="all.1kOa4P" style='background-color:yellow' title="原文 : We can then add the coherence and coherence-json modules as dependencies">その後、<code>coherence</code>および<code>coherence-json</code>モジュールを依存関係として追加できます</span></p>

<pre
lang="xml"
title="pom.xml"
>    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
            &lt;artifactId&gt;coherence&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
            &lt;artifactId&gt;coherence-json&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;</pre>

<p><span class="merged" id="all.45fURA.1" style='background-color:yellow' title="原文 : In the build.gradle file we add the bom as a platform dependency."><code>build.gradle</code>ファイルで、bomをプラットフォームの依存関係として追加します。</span></p>

<pre
lang="groovy"
title="build.gradle"
>dependencies {
    implementation platform("com.oracle.coherence.ce:coherence-bom:22.06.7")

    implementation "com.oracle.coherence.ce:coherence"
    implementation "com.oracle.coherence.ce:coherence-json"
}</pre>

</div>

<h3 id="_add_the_jib_plugin"><span class="merged" id="all.3dIgWX" style='background-color:yellow' title="原文 : Add the JIB Plugin">JIBプラグインの追加</span></h3>
<div class="section">
<p><span class="merged" id="all.vdSi4" style='background-color:yellow' title="原文 : To build the image using JIB we need to add the JIB plugin to the project.">JIBを使用してイメージを作成するには、JIBプラグインをプロジェクトに追加する必要があります。</span></p>

<p><span class="merged" id="all.361JtM" style='background-color:yellow' title="原文 : In the pom.xml file we add JIB to the plugins section."><code>pom.xml</code>ファイルで、<code>plugins</code>セクションにJIBを追加します。</span></p>

<pre
lang="xml"
title="pom.xml"
>    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;
                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.4.0&lt;/version&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;</pre>

<p><span class="merged" id="all.4WeLuL" style='background-color:yellow' title="原文 : In the build.gradle file we add JIB to the plugins section."><code>build.gradle</code>ファイルで、<code>plugins</code>セクションにJIBを追加します。</span></p>

<pre
lang="groovy"
title="build.gradle"
>plugins {
    id 'java'
    id 'com.google.cloud.tools.jib' version '3.4.0'
}</pre>

</div>

<h3 id="_configure_the_jib_plugin"><span class="merged" id="all.2MuizG" style='background-color:yellow' title="原文 : Configure the JIB Plugin">JIBプラグインの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.4BVVrN.spl1" style='background-color:yellow' title="原文 : Now we can configure the JIB plugin with the properties specific to our image.">ここで、JIBプラグインは、イメージ固有のプロパティを使用して構成できます。</span> <span class="merged" id="all.4BVVrN.spl2" style='background-color:yellow' title="原文 : In this example the configuration is very simple, the JIB plugin documentation shows many more options.">この例では、構成は非常に簡単です。JIBプラグインのドキュメントには、さらに多くのオプションが表示されます。</span> </p>

<p><span class="merged" id="all.3FCWI2.spl1" style='background-color:yellow' title="原文 : We are going to set the following options: * The name and tags for the image we will build. * The main class that we will run as the entry point to the image - in this case com.tangosol.net.Coherence. * The base image.">次のオプションを設定: *作成するイメージの名前とタグ。*イメージのエントリ・ポイントとして実行するメイン・クラス - この場合、<code>com.tangosol.net.Coherence</code>. *ベース・イメージ。</span> <span class="merged" id="all.3FCWI2.spl2" style='background-color:yellow' title="原文 : In this example we will us a distroless Java 11 image.">この例では、Java 11のわかりにくいイメージです。</span> <span class="merged" id="all.3FCWI2.spl3" style='background-color:yellow' title="原文 : A distroless image is more secure as it contains nothing more than core linux and a JRE.">ゆがみのないイメージは、コアlinuxおよびJREが含まれないため、より安全です。</span> <span class="merged" id="all.3FCWI2.spl4" style='background-color:yellow' title="原文 : There is no shell or other tools to introduce CVEs.">CVEを導入するためのシェルやその他のツールはありません。</span> <span class="merged" id="all.3FCWI2.spl5" style='background-color:yellow' title="原文 : The downside of this is that there is no shell, so you cannot exec into the running container, or use a shell script as an entry point.">これはシェルが存在しないため、実行中のコンテナに実行したり、シェル・スクリプトをエントリ・ポイントとして使用したりすることはできません。</span> <span class="merged" id="all.3FCWI2.spl6" style='background-color:yellow' title="原文 : If you don;t need those things a distroless image is a great choice.">必要としないならば、不完全なイメージは素晴らしい選択です。</span> </p>


<h4 id="_maven_configuration"><span class="merged" id="all.1XHZ7d" style='background-color:yellow' title="原文 : Maven Configuration">Maven構成</span></h4>
<div class="section">
<p><span class="merged" id="all.3lMeMD" style='background-color:yellow' title="原文 : In the pom.xml file we configure the plugin where it is declared in the plugins section:"><code>pom.xml</code>ファイルで、<code>plugins</code>セクションで宣言されるプラグインを構成します:</span></p>

<pre
lang="xml"
title="pom.xml"
>&lt;plugin&gt;
    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;
    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${version.plugin.jib}&lt;/version&gt;
    &lt;configuration&gt;
        &lt;from&gt;
            &lt;image&gt;gcr.io/distroless/java11-debian11&lt;/image&gt;    <span class="conum" data-value="1" />
        &lt;/from&gt;
        &lt;to&gt;
            &lt;image&gt;${project.artifactId}&lt;/image&gt;        <span class="conum" data-value="2" />
            &lt;tags&gt;
                &lt;tag&gt;${project.version}&lt;/tag&gt;           <span class="conum" data-value="3" />
                &lt;tag&gt;latest&lt;/tag&gt;
            &lt;/tags&gt;
        &lt;/to&gt;
        &lt;container&gt;
            &lt;mainClass&gt;com.tangosol.net.Coherence&lt;/mainClass&gt;  <span class="conum" data-value="4" />
            &lt;format&gt;OCI&lt;/format&gt;                               <span class="conum" data-value="5" />
        &lt;/container&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2yL7xR" style='background-color:yellow' title="原文 : The base image will be gcr.io/distroless/java11-debian11">ベース・イメージは<code>gcr.io/distroless/java11-debian11</code>になります</span></li>
<li data-value="2"><span class="merged" id="all.23IkHV" style='background-color:yellow' title="原文 : The image name is set to the Maven module name using the property ${project.artifactId}">イメージ名は、プロパティ<code>${project.artifactId}</code>を使用してMavenモジュール名に設定されます</span></li>
<li data-value="3"><span class="merged" id="all.2PiSK1" style='background-color:yellow' title="原文 : There will be two tags for the image, latest and the project version taken from the ${project.version} property.">イメージには、<code>latest</code>と<code>${project.version}</code>プロパティから取得されたプロジェクト・バージョンの2つのタグがあります。</span></li>
<li data-value="4"><span class="merged" id="all.kjjP0" style='background-color:yellow' title="原文 : The main class to use when the image is run is set to com.tangosol.net.Coherence">イメージの実行時に使用するメイン・クラスは、<code>com.tangosol.net.Coherence</code>に設定されています</span></li>
<li data-value="5"><span class="merged" id="all.TbCGj" style='background-color:yellow' title="原文 : The image type is set to OCI">イメージ・タイプは<code>OCI</code>に設定されます</span></li>
</ul>
</div>

<h4 id="_gradle_configuration"><span class="merged" id="all.4B5iPQ" style='background-color:yellow' title="原文 : Gradle Configuration">Gradle構成</span></h4>
<div class="section">
<p><span class="merged" id="all.2iwrTB" style='background-color:yellow' title="原文 : In the build.gradle file we configure JIB in the jib section:"><code>build.gradle</code>ファイルで、<code>jib</code>セクションでJIBを構成します:</span></p>

<pre
lang="groovy"
title="build.gradle"
>jib {
  from {
    image = 'gcr.io/distroless/java11-debian11'    <span class="conum" data-value="1" />
  }
  to {
    image = "${project.name}"              <span class="conum" data-value="2" />
    tags = ["${version}", 'latest']        <span class="conum" data-value="3" />
  }
  container {
    mainClass = 'com.tangosol.net.Coherence'  <span class="conum" data-value="4" />
    format = 'OCI'                            <span class="conum" data-value="5" />
  }
}</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2yL7xR.1" style='background-color:yellow' title="原文 : The base image will be gcr.io/distroless/java11-debian11">ベース・イメージは<code>gcr.io/distroless/java11-debian11</code>になります</span></li>
<li data-value="2"><span class="merged" id="all.23IkHV.1" style='background-color:yellow' title="原文 : The image name is set to the Maven module name using the property ${project.artifactId}">イメージ名は、プロパティ<code>${project.artifactId}</code>を使用してMavenモジュール名に設定されます</span></li>
<li data-value="3"><span class="merged" id="all.2PiSK1.1" style='background-color:yellow' title="原文 : There will be two tags for the image, latest and the project version taken from the ${project.version} property.">イメージには、<code>latest</code>と<code>${project.version}</code>プロパティから取得されたプロジェクト・バージョンの2つのタグがあります。</span></li>
<li data-value="4"><span class="merged" id="all.kjjP0.1" style='background-color:yellow' title="原文 : The main class to use when the image is run is set to com.tangosol.net.Coherence">イメージの実行時に使用するメイン・クラスは、<code>com.tangosol.net.Coherence</code>に設定されています</span></li>
<li data-value="5"><span class="merged" id="all.TbCGj.1" style='background-color:yellow' title="原文 : The image type is set to OCI">イメージ・タイプは<code>OCI</code>に設定されます</span></li>
</ul>
</div>
</div>

<h3 id="_build_the_image"><span class="merged" id="all.1o3aGx" style='background-color:yellow' title="原文 : Build the Image">イメージの作成</span></h3>
<div class="section">
<p><span class="merged" id="all.1zbO8y.spl1" style='background-color:yellow' title="原文 : To create the server image run the relevant commands as documented in the JIB plugin documentation.">サーバー・イメージを作成するには、JIBプラグインのドキュメントに記載されている関連コマンドを実行します。</span> <span class="merged" id="all.1zbO8y.spl2" style='background-color:yellow' title="原文 : In this case we’re going to build the image using Docker, although JIB offers other alternatives.">この場合、Dockerを使用してイメージを作成しますが、JIBは他の選択肢を提供します。</span> </p>

<p><span class="merged" id="all.2soSXi" style='background-color:yellow' title="原文 : Using Maven we run:">Mavenを使用して、次を実行します:</span></p>

<pre
lang="bash"

>./mvnw compile jib:dockerBuild</pre>

<p><span class="merged" id="all.42cV20" style='background-color:yellow' title="原文 : Using Gradle we run:">Gradleを使用して、次を実行します:</span></p>

<pre
lang="bash"

>./gradlew compileJava jibDockerBuild</pre>

<p><span class="merged" id="all.PFq31.spl1" style='background-color:yellow' title="原文 : The command above will create an image named simple-coherence with two tags, latest and 1.0.0.">前述のコマンドでは、<code>latest</code>および<code>1.0.0</code>という2つのタグを持つ<code>simple-coherence</code>という名前のイメージが作成されます。</span> <span class="merged" id="all.PFq31.spl2" style='background-color:yellow' title="原文 : Listing the local images should show the new images.">ローカル・イメージをリストすると、新しいイメージが表示されます。</span> </p>

<pre
lang="bash"

>$ docker images | grep simple
simple-coherence   1.0.0   1613cd3b894e   51 years ago  227MB
simple-coherence   latest  1613cd3b894e   51 years ago  227MB</pre>

</div>

<h3 id="_run_the_image"><span class="merged" id="all.g38mF" style='background-color:yellow' title="原文 : Run the Image">イメージの実行</span></h3>
<div class="section">
<p><span class="merged" id="all.4GdfWM.spl1" style='background-color:yellow' title="原文 : The image just built can be run using Docker (or your chosen container tool).">作成したイメージは、Docker (または選択したコンテナ・ツール)を使用して実行できます。</span> <span class="merged" id="all.4GdfWM.spl2" style='background-color:yellow' title="原文 : In this example we’ll run it interactively, just to prove it runs and starts Coherence.">この例では、実行を証明してCoherenceを起動するだけで、対話的に実行します。</span> </p>

<pre
lang="bash"

>docker run -it --rm simple-coherence:latest</pre>

<p><span class="merged" id="all.4XrBwd" style='background-color:yellow' title="原文 : The console output should display Coherence starting and finally show the Coherence service list, which will look something like this:">コンソール出力にCoherenceが起動し、最後にCoherenceサービス・リストが表示されます。このリストは次のようになります:</span></p>

<pre
lang="bash"

>Services
  (
  ClusterService{Name=Cluster, State=(SERVICE_STARTED, STATE_JOINED), Id=0, OldestMemberId=1}
  TransportService{Name=TransportService, State=(SERVICE_STARTED), Id=1, OldestMemberId=1}
  InvocationService{Name=Management, State=(SERVICE_STARTED), Id=2, OldestMemberId=1}
  PartitionedCache{Name=$SYS:Config, State=(SERVICE_STARTED), Id=3, OldestMemberId=1, LocalStorage=enabled, PartitionCount=257, BackupCount=1, AssignedPartitions=257, BackupPartitions=0, CoordinatorId=1}
  PartitionedCache{Name=PartitionedCache, State=(SERVICE_STARTED), Id=4, OldestMemberId=1, LocalStorage=enabled, PartitionCount=257, BackupCount=1, AssignedPartitions=257, BackupPartitions=0, CoordinatorId=1}
  PartitionedCache{Name=PartitionedTopic, State=(SERVICE_STARTED), Id=5, OldestMemberId=1, LocalStorage=enabled, PartitionCount=257, BackupCount=1, AssignedPartitions=257, BackupPartitions=0, CoordinatorId=1}
  ProxyService{Name=Proxy, State=(SERVICE_STARTED), Id=6, OldestMemberId=1}
  )</pre>

<p><span class="merged" id="all.4BnZhl" style='background-color:yellow' title="原文 : Press ctrl-C to exit the container, the --rm option we used above wil automatically delete the stopped container."><code>ctrl-C</code>を押してコンテナを終了します。前で使用した<code>--rm</code>オプションは、停止したコンテナを自動的に削除します。</span></p>

<p><span class="merged" id="all.4WJPPl" style='background-color:yellow' title="原文 : We now have a simple Coherence image we can use in other examples and when trying out the Coherence Operator.">これで、他の例やCoherence Operatorを試すときに、簡単なCoherenceイメージを使用できるようになりました。</span></p>

</div>

<h3 id="_configuring_the_image_at_runtime"><span class="merged" id="all.Ngwiq" style='background-color:yellow' title="原文 : Configuring the Image at Runtime">実行時のイメージの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.1lcmSW.spl1" style='background-color:yellow' title="原文 : With recent Coherence versions, Coherence configuration items that can be set using system properties prefixed with coherence. can also be set using environment variables.">最新のCoherenceバージョンでは、プレフィクス<code>coherence.</code>が付いたシステム・プロパティを使用して設定できるCoherence構成アイテムも、環境変数を使用して設定できます。</span> <span class="merged" id="all.1lcmSW.spl2" style='background-color:yellow' title="原文 : This makes it simple to set those properties when running containers because environment variables can be set from the commandline.">これにより、環境変数をコマンドラインから設定できるため、コンテナの実行時にこれらのプロパティの設定が簡単になります。</span> </p>

<p><span class="merged" id="all.p46qU.spl1" style='background-color:yellow' title="原文 : To set a property the system property name needs to be converted to an environment variable name.">プロパティを設定するには、システム・プロパティ名を環境変数名に変換する必要があります。</span> <span class="merged" id="all.p46qU.spl2" style='background-color:yellow' title="原文 : This is done by converting the name to uppercase and replacing dots (&apos;.&apos;) with underscores (&apos;_&apos;).">これは、名前を大文字に変換し、ドット('.')をアンダースコア('_')で置き換えることによって行われます。</span> </p>

<p><span class="merged" id="all.19rKpn.spl1" style='background-color:yellow' title="原文 : For example, to set the cluster name we would set the coherence.cluster system property.">たとえば、クラスタ名を設定するには、<code>coherence.cluster</code>システム・プロパティを設定します。</span> <span class="merged" id="all.19rKpn.spl2" style='background-color:yellow' title="原文 : To run the image and set cluster name with an environment variable we convert coherence.cluster to COHERENCE_CLUSTER and run:">イメージを実行し、環境変数を使用してクラスタ名を設定するには、<code>coherence.cluster</code>を<code>COHERENCE_CLUSTER</code>に変換して実行します:</span> </p>

<pre
lang="bash"

>docker run -it --rm -e COHERENCE_CLUSTER=my-cluster simple-coherence:latest</pre>

<p><span class="merged" id="all.3xrOT1" style='background-color:yellow' title="原文 : This is much simpler than trying to change the Java commandline the image entrypoint uses.">これは、イメージ・エンティティで使用されるJavaコマンドラインを変更しようとするよりもはるかに簡単です。</span></p>

</div>
</div>
</doc-view>
<!-- pages/examples/016_simple_docker_image/README.js -->
<doc-view>

<h2 id="_example_coherence_image_using_a_dockerfile"><span class="merged" id="all.2Glvcf" style='background-color:yellow' title="原文 : Example Coherence Image using a Dockerfile">Dockerfileを使用したCoherenceイメージの例</span></h2>
<div class="section">
<p><span class="merged" id="all.4coJg.spl1" style='background-color:yellow' title="原文 : This example shows how to build a simple Coherence server image using a Dockerfile.">この例は、<code>Dockerfile</code>を使用して単純なCoherenceサーバー・イメージをビルドする方法を示しています。</span> <span class="merged" id="all.4coJg.spl2" style='background-color:yellow' title="原文 : This image is built so that ot works out of the box with the Operator, with no additional configuration.">このイメージは、追加の構成なしで、otがOperatorとボックスから機能するようにビルドされています。</span> <span class="merged" id="all.4coJg.spl3" style='background-color:yellow' title="原文 : This is an alternative to the Coherence Image using JIB example.">これは、<router-link to="/examples/015_simple_image/README">「JIBを使用したCoherenceイメージ」</router-link>の例の代替です。</span> <span class="merged" id="all.4coJg.spl4" style='background-color:yellow' title="原文 : There are many build tools and plugins for Maven and Gradle that are supposed to make building images easy.">MavenおよびGradleには、イメージのビルドを容易にする多くのビルド・ツールおよびプラグインがあります。</span> <span class="merged" id="all.4coJg.spl5" style='background-color:yellow' title="原文 : Sometimes though, a simple Dockerfile approach is required.">ただし、単純な<code>Dockerfile</code>アプローチが必要な場合があります。</span> </p>

<p><span class="merged" id="all.IPrkb.spl1" style='background-color:yellow' title="原文 : A typical Coherence application image will still need to pull together various Coherence dependencies to add to the image.">通常のCoherenceアプリケーション・イメージは、イメージに追加するために様々なCoherence依存関係をプルする必要があります。</span> <span class="merged" id="all.IPrkb.spl2" style='background-color:yellow' title="原文 : This simple application does not actually contain any code, a real application would likely contain code and other resources.">この単純なアプリケーションには実際にはコードが含まれず、実際のアプリケーションにはコードやその他のリソースが含まれている可能性があります。</span> </p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.2"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.4PU44E" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/016_simple_docker_image" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>
</div>

<h2 id="_the_dockerfile"><span class="merged" id="all.11n7lv" style='background-color:yellow' title="原文 : The Dockerfile">Dockerfile</span></h2>
<div class="section">
<p><span class="merged" id="all.1FzZdM" style='background-color:yellow' title="原文 : The Dockerfile for the example is shown below:">例の<code>Dockerfile</code>を次に示します:</span></p>

<pre

title="src/docker/Dockerfile"
>FROM gcr.io/distroless/java11-debian11

# Configure the image's health check command
# Health checks will only work with Coherence 22.06 and later
HEALTHCHECK  --start-period=10s --interval=30s \
    CMD ["java", \
    "-cp", "/app/libs/coherence.jar", \
    "com.tangosol.util.HealthCheckClient", \
    "http://127.0.0.1:6676/ready", \
    "||", "exit", "1"]

# Expose any default ports
# The default Coherence Extend port
EXPOSE 20000
# The default Coherence gRPC port
EXPOSE 1408
# The default Coherence metrics port
EXPOSE 9612
# The default Coherence health port
EXPOSE 6676

# Set the entry point to be the Java command to run
ENTRYPOINT ["java", "-cp", "/app/classes:/app/libs/*", "com.tangosol.net.Coherence"]

# Set any environment variables
# Set the health check port to a fixed value (corresponding to the command above)
ENV COHERENCE_HEALTH_HTTP_PORT=6676
# Fix the Extend Proxy to listen on port 20000
ENV COHERENCE_EXTEND_PORT=20000
# Enable Coherence metics
ENV COHERENCE_METRICS_HTTP_ENABLED=true
# Set the Coherence log level to debug logging
ENV COHERENCE_LOG_LEVEL=9
# Effectively disabled multicast cluster discovery, which does not work in containers
ENV COHERENCE_TTL=0

# Copy all the application files into the /app directory in the image
# This is the default structure supported by the Coherence Operator
COPY app app</pre>

<p><span class="merged" id="all.4UEkU3"  title="原文:: Base Image"><strong>ベース・イメージ</strong></span></p>

<p><span class="merged" id="all.4EW9fP" style='background-color:yellow' title="原文 : The base image for this example is a distroless Java 11 image gcr.io/distroless/java11-debian11">この例のベース・イメージは、distroless Java 11イメージ<code>gcr.io/distroless/java11-debian11</code>です</span></p>

<p><span class="merged" id="all.22UefJ"  title="原文:: Health Check"><strong>ヘルス・チェック</strong></span></p>

<p><span class="merged" id="all.4QS0iY" style='background-color:yellow' title="原文 : The image is configured with a health check that uses the built-in Coherence health check on port 6676.">イメージは、ポート6676で組込みのCoherenceヘルス・チェックを使用するヘルス・チェックで構成されます。</span></p>

<p><span class="merged" id="all.149sf2" style='background-color:yellow' title="原文 : Expose Ports"><strong>ポートの公開</strong></span></p>

<p><span class="merged" id="all.38OfLS" style='background-color:yellow' title="原文 : A number of default Coherence ports are exposed.">いくつかのデフォルトのCoherenceポートが公開されます。</span></p>

<p><span class="merged" id="all.1eIgmB"  title="原文:: Entrypoint"><strong>Entrypoint</strong></span></p>

<p><span class="merged" id="all.4AUTdT.spl1" style='background-color:yellow' title="原文 : The image entry point will run com.tangosol.net.Coherence to run a Coherence storage enabled server.">イメージ・エントリ・ポイントは、<code>com.tangosol.net.Coherence</code>を実行してCoherenceストレージが有効なサーバーを実行します。</span> <span class="merged" id="all.4AUTdT.spl2" style='background-color:yellow' title="原文 : The classpath is set to /app/classes:/app/libs/*.">クラスパスは<code>/app/classes:/app/libs/*</code>に設定されます。</span> <span class="merged" id="all.4AUTdT.spl3" style='background-color:yellow' title="原文 : This is the same classpath that the JIB plugin would add artifacts to and is also supported out of the box by the Coherence operator.">これは、JIBプラグインがアーティファクトを追加する場合と同じクラスパスであり、Coherenceオペレータによってボックスからもサポートされます。</span> </p>

<p><span class="merged" id="all.3INfZz"  title="原文:: Environment Variables"><strong>環境変数</strong></span></p>

<p><span class="merged" id="all.2XhRSL.spl1" style='background-color:yellow' title="原文 : A number of environment variables are set to configure Coherence.">Coherenceを構成するために多数の環境変数が設定されています。</span> <span class="merged" id="all.2XhRSL.spl2" style='background-color:yellow' title="原文 : These values could have been set as system properties in the entry point, but using environment variables is a simpler option when running containers as they can easily be overridden at deploy time.">これらの値はエントリ・ポイントでシステム・プロパティとして設定できましたが、デプロイ時に簡単にオーバーライドできるため、環境変数の使用はコンテナの実行時のほうが簡単です。</span> </p>

<p><span class="merged" id="all.21KB1Y" style='background-color:yellow' title="原文 : Copy the Image Artifacts"><strong>イメージ・アーティファクトのコピー</strong></span></p>

<p><span class="merged" id="all.3ymOmx.spl1" style='background-color:yellow' title="原文 : The Maven and Gradle build will copy all the classes and dependencies into a directory named app/ in the same directory as the Dockerfile.">MavenおよびGradleビルドでは、すべてのクラスおよび依存関係が、<code>Dockerfile</code>と同じディレクトリにある<code>app/</code>という名前のディレクトリにコピーされます。</span> <span class="merged" id="all.3ymOmx.spl2" style='background-color:yellow' title="原文 : Using COPY app app will copy all the files into the image."><code>COPY app app</code>を使用すると、すべてのファイルがイメージにコピーされます。</span> </p>

</div>

<h2 id="_assemble_the_image_directory"><span class="merged" id="all.3MCvdi" style='background-color:yellow' title="原文 : Assemble the Image Directory">イメージ・ディレクトリのアセンブル</span></h2>
<div class="section">
<p><span class="merged" id="all.3PI2Sm.spl1" style='background-color:yellow' title="原文 : The next step is to assemble all the artifacts required to build the image.">次のステップでは、イメージのビルドに必要なすべてのアーティファクトを組み立てます。</span> <span class="merged" id="all.3PI2Sm.spl2" style='background-color:yellow' title="原文 : Looking at the Dockerfile above, this means copying any dependencies and other files into a directory named app/ in the same directory that the Dockerfile is in.">上記の<code>Dockerfile</code>を見ると、<code>Dockerfile</code>と同じディレクトリにある<code>app/</code>という名前のディレクトリに依存関係およびその他のファイルをコピーします。</span> <span class="merged" id="all.3PI2Sm.spl3" style='background-color:yellow' title="原文 : This example contains both a Maven pom.xml file and Gradle build files, that show how to use these tools to gather all the files required for the image.">この例では、Maven <code>pom.xml</code>ファイルとGradleビルド・ファイルの両方が含まれています。このファイルは、これらのツールを使用してイメージに必要なすべてのファイルを収集する方法を示しています。</span> </p>

<p><span class="merged" id="all.1ivgi" style='background-color:yellow' title="原文 : There are other build tools such as make or ant or just plain scripts, but as the task involves pulling together all the Coherence jar files from Maven central, it is simplest to use Maven or Gradle."><code>make</code>や<code>ant</code>などの他のビルド・ツールやプレーン・スクリプトのみがありますが、タスクにはMaven中央からすべてのCoherence jarファイルのプルが含まれるため、MavenまたはGradleを使用するのが最も簡単です。</span></p>

<p><span class="merged" id="all.3eP9hJ.spl1" style='background-color:yellow' title="原文 : To build a Coherence application there will obviously be at a minimum a dependency on coherence.jar.">Coherenceアプリケーションをビルドするには、少なくとも<code>coherence.jar</code>への依存関係があります。</span> <span class="merged" id="all.3eP9hJ.spl2" style='background-color:yellow' title="原文 : Optionally we can also add dependencies on other Coherence modules and other dependencies, for example Coherence coul dbe configured to use SLF4J for logging.">オプションで、ロギングにSLF4Jを使用するように構成されたCoherence coul dbeなど、他のCoherenceモジュールおよびその他の依存関係への依存関係を追加することもできます。</span> <span class="merged" id="all.3eP9hJ.spl3" style='background-color:yellow' title="原文 : In this example we’re going to add json support to the application by adding a dependency on coherence-json and coherence-grpc-proxy.">この例では、<code>coherence-json</code>および<code>coherence-grpc-proxy</code>への依存関係を追加して、jsonサポートをアプリケーションに追加します。</span> </p>

<p><span class="merged" id="all.1NlzPn" style='background-color:yellow' title="原文 : Jump to the relevant section, depending on the build tool being used:">使用するビルド・ツールに応じて、関連するセクションに移動します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.4Vhfa6" style='background-color:yellow' title="原文 : Using Maven"><router-link @click.native="this.scrollFix('#maven')" to="#maven">Mavenの使用</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1qYK23" style='background-color:yellow' title="原文 : Using Gradle"><router-link @click.native="this.scrollFix('#gradle')" to="#gradle">Gradleの使用</router-link></span></p>

</li>
</ul>

<h3 id="maven"><span class="merged" id="all.3YJPh5" style='background-color:yellow' title="原文 : Using Maven">Mavenの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.3P4tHz.spl1" style='background-color:yellow' title="原文 : To assemble the image artifacts using Maven, everything is configured in the Maven pom.xml file.">Mavenを使用してイメージ・アーティファクトを組み立てるには、すべてMaven <code>pom.xml</code>ファイルに構成されます。</span> <span class="merged" id="all.3P4tHz.spl2" style='background-color:yellow' title="原文 : The Maven build will pull all the artifacts required in the image, including the Dockerfile into a directory under target\docker.">Mavenビルドでは、イメージに必要なすべてのアーティファクト(<code>Dockerfile</code>を含む)が<code>target\docker</code>の下のディレクトリにプルされます。</span> </p>


<h4 id="_adding_dependencies"><span class="merged" id="all.xk2KX"  title="原文:: Adding Dependencies">依存関係の追加</span></h4>
<div class="section">
<p><span class="merged" id="all.XvJUp" style='background-color:yellow' title="原文 : In the example the coherence-bom is added to the &lt;dependencyManagement&gt; section as an import, to ensure consistent versioning of other Coherence modules.">この例では、<code>coherence-bom</code>がインポートとして<code>&lt;dependencyManagement></code>セクションに追加され、他のCoherenceモジュールの一貫したバージョニングが保証されます。</span></p>

<p><span class="merged" id="all.4Pysm0" style='background-color:yellow' title="原文 : In the pom.xml we have a dependencyManagement section."><code>pom.xml</code>には、<code>dependencyManagement</code>セクションがあります。</span></p>

<pre
lang="xml"
title="pom.xml"
>&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
            &lt;artifactId&gt;coherence-bom&lt;/artifactId&gt;
            &lt;version&gt;${coherence.version}&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;</pre>

<p><span class="merged" id="all.A9APX" style='background-color:yellow' title="原文 : We can then add the coherence coherence-json and coherence-grpc-proxy modules as dependencies">その後、<code>coherence</code> <code>coherence-json</code>および<code>coherence-grpc-proxy</code>モジュールを依存関係として追加できます</span></p>

<pre
lang="xml"
title="pom.xml"
>    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
            &lt;artifactId&gt;coherence&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
            &lt;artifactId&gt;coherence-json&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.oracle.coherence.ce&lt;/groupId&gt;
            &lt;artifactId&gt;coherence-grpc-proxy&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;</pre>

</div>

<h4 id="_assembling_the_image_artifacts"><span class="merged" id="all.YMTE" style='background-color:yellow' title="原文 : Assembling the Image Artifacts">イメージ・アーティファクトのアセンブル</span></h4>
<div class="section">
<p><span class="merged" id="all.2rdnwL.spl1" style='background-color:yellow' title="原文 : This example will use the Maven Assembly Plugin to gather all the dependencies and other files together into the target/docker directory.">この例では、Mavenアセンブリ・プラグインを使用して、すべての依存関係およびその他のファイルを<code>target/docker</code>ディレクトリにまとめて収集します。</span> <span class="merged" id="all.2rdnwL.spl2" style='background-color:yellow' title="原文 : The assembly plugin is configured in the pom.xml file.">アセンブリ・プラグインは、<code>pom.xml</code>ファイルに構成されます。</span> </p>

<p><span class="merged" id="all.ksfM8.spl1" style='background-color:yellow' title="原文 : The assembly plugin is configured to use the src/assembly/image-assembly.xml descriptor file to determine what to assemble.">アセンブリ・プラグインは、<code>src/assembly/image-assembly.xml</code>記述子ファイルを使用してアセンブルする内容を決定するように構成されます。</span> <span class="merged" id="all.ksfM8.spl2" style='background-color:yellow' title="原文 : The &lt;finalName&gt; configuration element is set to docker so all the files will be assembled into a directory named docker/ under the target/ directory."><code>&lt;finalName></code>構成要素は<code>docker</code>に設定されているため、すべてのファイルは<code>target/</code>ディレクトリの下の<code>docker/</code>という名前のディレクトリにアセンブルされます。</span> <span class="merged" id="all.ksfM8.spl3" style='background-color:yellow' title="原文 : The assembly plugin execution is bound to the package build phase.">アセンブリ・プラグインの実行は、<code>package</code>ビルド・フェーズにバインドされます。</span> </p>

<pre
lang="xml"

>&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
    &lt;version&gt;${maven.assembly.plugin.version}&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;prepare-image&lt;/id&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;goals&gt;
                &lt;goal&gt;single&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;finalName&gt;docker&lt;/finalName&gt;
                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;
                &lt;descriptors&gt;
                    &lt;descriptor&gt;${project.basedir}/src/assembly/image-assembly.xml&lt;/descriptor&gt;
                &lt;/descriptors&gt;
                &lt;attach&gt;false&lt;/attach&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;</pre>

<p><span class="merged" id="all.2Obon8" style='background-color:yellow' title="原文 : The image-assembly.xml descriptor file is shown below, and configures the following:"><code>image-assembly.xml</code>記述子ファイルを次に示します。次を構成します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2EeHCL" style='background-color:yellow' title="原文 : The &lt;format&gt;dir&lt;/format&gt; element tells the assembly plugin to assemble all the artifacts into a directory."><code>&lt;format>dir&lt;/format></code>要素は、すべてのアーティファクトをディレクトリにアセンブルするように、アセンブリ・プラグインに指示します。</span></p>

</li>
<li>
<p><span class="merged" id="all.FbhFc" style='background-color:yellow' title="原文 : There are two &lt;fileSets&gt; configured:">2つの<code>&lt;fileSets></code>が構成されています:</span></p>
<ul class="ulist">
<li>
<p><span class="merged" id="all.4RxPnS" style='background-color:yellow' title="原文 : The first copies any class files in target/classes to app/classes (which will actually be target/docker/app/classes)">最初のスクリプトは、<code>target/classes</code>のすべてのクラス・ファイルを<code>app/classes</code>にコピーします(実際は<code>target/docker/app/classes</code>になります)</span></p>

</li>
<li>
<p><span class="merged" id="all.1XO8oK" style='background-color:yellow' title="原文 : The second copies all files under src/docker (i.e. the Dockerfile) into target/docker">2番目は、<code>src/docker</code> (つまり<code>Dockerfile</code>)のすべてのファイルを<code>target/docker</code>にコピー</span></p>

</li>
</ul>
</li>
<li>
<p><span class="merged" id="all.2reBY1.spl1" style='background-color:yellow' title="原文 : The &lt;dependencySets&gt; configuration copies all the project dependencies (including transitive dependencies) to the app/libs directory (actually the target/docker/app/libs directory)."><code>&lt;dependencySets></code>構成では、すべてのプロジェクト依存関係(推移的依存関係を含む)が<code>app/libs</code>ディレクトリ(実際は<code>target/docker/app/libs</code>ディレクトリ)にコピーされます。</span> <span class="merged" id="all.2reBY1.spl2" style='background-color:yellow' title="原文 : Any version information will be stripped from the files, so coherence-22.06.7.jar would become coherence.jar.">♪バージョン情報はファイルから取り除かれるため、<code>coherence-22.06.7.jar</code>は<code>coherence.jar</code>になります。</span> </p>

</li>
</ul>
<pre
lang="xml"
title="src/assembly/image-assembly.xml"
>&lt;assembly xmlns="http://maven.apache.org/ASSEMBLY/2.1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd"&gt;
  &lt;id&gt;image&lt;/id&gt;
  &lt;formats&gt;
    &lt;format&gt;dir&lt;/format&gt;
  &lt;/formats&gt;

  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;

  &lt;fileSets&gt;
    &lt;!-- copy the module's compiled classes --&gt;
    &lt;fileSet&gt;
      &lt;directory&gt;target/classes&lt;/directory&gt;
      &lt;outputDirectory&gt;app/classes&lt;/outputDirectory&gt;
      &lt;fileMode&gt;755&lt;/fileMode&gt;
      &lt;filtered&gt;false&lt;/filtered&gt;
    &lt;/fileSet&gt;
    &lt;!-- copy the Dockerfile --&gt;
    &lt;fileSet&gt;
      &lt;directory&gt;${project.basedir}/src/docker&lt;/directory&gt;
      &lt;outputDirectory/&gt;
      &lt;fileMode&gt;755&lt;/fileMode&gt;
    &lt;/fileSet&gt;
  &lt;/fileSets&gt;

  &lt;!-- copy the application dependencies --&gt;
  &lt;dependencySets&gt;
    &lt;dependencySet&gt;
      &lt;outputDirectory&gt;app/libs&lt;/outputDirectory&gt;
      &lt;directoryMode&gt;755&lt;/directoryMode&gt;
      &lt;fileMode&gt;755&lt;/fileMode&gt;
      &lt;unpack&gt;false&lt;/unpack&gt;
      &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;
      &lt;!-- strip the version from the jar files --&gt;
      &lt;outputFileNameMapping&gt;${artifact.artifactId}${dashClassifier?}.${artifact.extension}&lt;/outputFileNameMapping&gt;
    &lt;/dependencySet&gt;
  &lt;/dependencySets&gt;
&lt;/assembly&gt;</pre>

<p><span class="merged" id="all.3hrMB9" style='background-color:yellow' title="原文 : Running the following command will pull all the required image artifacts and Dockerfile into the target/docker directory:">次のコマンドを実行すると、必要なすべてのイメージ・アーティファクトおよび<code>Dockerfile</code>が<code>target/docker</code>ディレクトリにプルされます:</span></p>

<pre
lang="bash"

>./mvnw package</pre>

</div>
</div>

<h3 id="gradle"><span class="merged" id="all.3TGFlW" style='background-color:yellow' title="原文 : Using Gradle">Gradleの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.K2k5E.spl1" style='background-color:yellow' title="原文 : To assemble the image artifacts using Maven, everything is configured in the Maven build.gradle file.">Mavenを使用してイメージ・アーティファクトを組み立てるには、すべてMaven <code>build.gradle</code>ファイルに構成されます。</span> <span class="merged" id="all.K2k5E.spl2" style='background-color:yellow' title="原文 : The Gradle build will pull all the artifacts required in the image, including the Dockerfile into a directory under build\docker.">Gradleビルドでは、イメージに必要なすべてのアーティファクト(<code>Dockerfile</code>を含む)が<code>build\docker</code>の下のディレクトリにプルされます。</span> </p>


<h4 id="_adding_dependencies_2"><span class="merged" id="all.xk2KX.1"  title="原文:: Adding Dependencies">依存関係の追加</span></h4>
<div class="section">
<p><span class="merged" id="all.XvJUp.1" style='background-color:yellow' title="原文 : In the example the coherence-bom is added to the &lt;dependencyManagement&gt; section as an import, to ensure consistent versioning of other Coherence modules.">この例では、<code>coherence-bom</code>がインポートとして<code>&lt;dependencyManagement></code>セクションに追加され、他のCoherenceモジュールの一貫したバージョニングが保証されます。</span></p>

<p><span class="merged" id="all.4AI3tk" style='background-color:yellow' title="原文 : In the build.gradle file we add the bom as a platform dependency and then add dependencies on coherence and coherence-json."><code>build.gradle</code>ファイルで、bomをプラットフォームの依存関係として追加し、<code>coherence</code>および<code>coherence-json</code>に依存関係を追加します。</span></p>

<pre
lang="groovy"
title="build.gradle"
>dependencies {
    implementation platform("com.oracle.coherence.ce:coherence-bom:22.06.7")

    implementation "com.oracle.coherence.ce:coherence"
    implementation "com.oracle.coherence.ce:coherence-json"
    implementation "com.oracle.coherence.ce:coherence-grpc-proxy"
}</pre>

</div>

<h4 id="_assembling_the_image_artifacts_2"><span class="merged" id="all.YMTE.1" style='background-color:yellow' title="原文 : Assembling the Image Artifacts">イメージ・アーティファクトのアセンブル</span></h4>
<div class="section">
<p><span class="merged" id="all.1kyIDk.spl1" style='background-color:yellow' title="原文 : To assemble all the image artifacts into the build/docker directory, the Gradle copy task can be used.">すべてのイメージ・アーティファクトを<code>build/docker</code>ディレクトリにアセンブルするには、Gradleコピー・タスクを使用できます。</span> <span class="merged" id="all.1kyIDk.spl2" style='background-color:yellow' title="原文 : There will be multiple copy tasks to copy each type of artifact, the dependencies, any compile classes, and the Dockerfile.">各タイプのアーティファクト、依存関係、コンパイル・クラスおよび<code>Dockerfile</code>をコピーする複数のコピー・タスクがあります。</span> </p>

<p><span class="merged" id="all.1IrUKQ.spl1" style='background-color:yellow' title="原文 : The following task named copyDependencies is added to build.gradle to copy the dependencies."><code>copyDependencies</code>という名前の次のタスクが<code>build.gradle</code>に追加され、依存関係がコピーされます。</span> <span class="merged" id="all.1IrUKQ.spl2" style='background-color:yellow' title="原文 : This task has additional configuration to rename the jar files to strip off any version.">このタスクには、バージョンを削除するためにjarファイルの名前を変更するための追加構成があります。</span> </p>

<pre
lang="groovy"
title="build.gradle"
>task copyDependencies(type: Copy) {
    from configurations.runtimeClasspath
    into "$buildDir/docker/app/libs"
    configurations.runtimeClasspath.resolvedConfiguration.resolvedArtifacts.each {
        rename "${it.artifact.name}-${it.artifactId.componentIdentifier.version}", "${it.artifact.name}"
    }
}</pre>

<p><span class="merged" id="all.2qhboz" style='background-color:yellow' title="原文 : The following task named copyClasses copies any compiled classes (although this example does not actually have any)."><code>copyClasses</code>という名前の次のタスクでは、コンパイル済クラスがすべてコピーされます(ただし、この例では実際には何もありません)。</span></p>

<pre
lang="groovy"
title="build.gradle"
>task copyClasses(type: Copy) {
    dependsOn classes
    from "$buildDir/classes/java/main"
    into "$buildDir/docker/app/classes"
}</pre>

<p><span class="merged" id="all.3mB81J" style='background-color:yellow' title="原文 : The final copy task named copyDocker copies the contents of the src/docker directory:"><code>copyDocker</code>という名前の最後のコピー・タスクは、<code>src/docker</code>ディレクトリの内容をコピーします:</span></p>

<pre
lang="groovy"
title="build.gradle"
>task copyDocker(type: Copy) {
    from "src/docker"
    into "$buildDir/docker"
}</pre>

<p><span class="merged" id="all.2Tj4hi" style='background-color:yellow' title="原文 : To be able to run the image assembly as a single command, an empty task named `` is created that depends on all the copy tasks.">イメージ・アセンブリを単一のコマンドとして実行できるように、すべてのコピー・タスクに依存する''という名前の空のタスクが作成されます。</span></p>

<p><span class="merged" id="all.3RBpP1" style='background-color:yellow' title="原文 : Running the following command will pull all the required image artifacts and Dockerfile into the build/docker directory:">次のコマンドを実行すると、必要なすべてのイメージ・アーティファクトおよび<code>Dockerfile</code>が<code>build/docker</code>ディレクトリにプルされます:</span></p>

<pre
lang="bash"

>./gradlew assembleImage</pre>

</div>
</div>
</div>

<h2 id="_build_the_image"><span class="merged" id="all.1o3aGx.1" style='background-color:yellow' title="原文 : Build the Image">イメージの作成</span></h2>
<div class="section">
<p><span class="merged" id="all.28X4WM" style='background-color:yellow' title="原文 : After running the Maven or Gradle commands to assemble the image artifacts, Docker can be used to actually build the image from the relevant docker/ directory.">MavenまたはGradleコマンドを実行してイメージ・アーティファクトを組み立てた後、Dockerを使用して、関連する<code>docker/</code>ディレクトリからイメージを実際にビルドできます。</span></p>

<p><span class="merged" id="all.197Maa" style='background-color:yellow' title="原文 : Using Maven:">Mavenの使用:</span></p>

<pre
lang="bash"

>cd target/docker
docker build -t simple-coherence-server:1.0.0 .</pre>

<p><span class="merged" id="all.gzS89" style='background-color:yellow' title="原文 : Using Gradle:">Gradleの使用:</span></p>

<pre
lang="bash"

>cd build/docker
docker build -t simple-coherence-server:1.0.0 .</pre>

<p><span class="merged" id="all.4WljDd.spl1" style='background-color:yellow' title="原文 : The command above will create an image named simple-coherence-server:1.0.0.">上のコマンドは、<code>simple-coherence-server:1.0.0</code>という名前のイメージを作成します。</span> <span class="merged" id="all.4WljDd.spl2" style='background-color:yellow' title="原文 : Listing the local images should show the new images, similar to the output below:">ローカル・イメージを一覧表示すると、次のような新しいイメージが表示されます:</span> </p>

<pre
lang="bash"

>$ docker images | grep simple
simple-coherence-server   1.0.0   1613cd3b894e   51 years ago  227MB</pre>

</div>
</doc-view>
<!-- pages/examples/020_hello_world/README.js -->
<doc-view>

<h2 id="_a_hello_world_operator_example"><span class="merged" id="all.2OsDGj" style='background-color:yellow' title="原文 : A &quot;Hello World&quot; Operator Example">"Hello World"オペレータの例</span></h2>
<div class="section">
<p><span class="merged" id="all.3ymqyI" style='background-color:yellow' title="原文 : This is the most basic example of how to deploy a simple Coherence cluster to Kubernetes using the Coherence Operator.">これは、Coherence Operatorを使用して単純なCoherenceクラスタをKubernetesにデプロイする方法の最も基本的な例です。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.3"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.1acSMu" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/020_hello_world" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>

<h3 id="_install_the_operator"><span class="merged" id="all.3Uw9Iy" style='background-color:yellow' title="原文 : Install the Operator">オペレータのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.YmiWo.spl1" style='background-color:yellow' title="原文 : If you have not already done so, you need to install the Coherence Operator.">まだインストールしていない場合は、Coherence Operatorをインストールする必要があります。</span> <span class="merged" id="all.YmiWo.spl2" style='background-color:yellow' title="原文 : There are a few simple ways to do this as described in the Installation Guide"><router-link to="/docs/installation/01_installation">「インストール・ガイド」</router-link>で説明するように、いくつかの簡単な方法があります</span> </p>

</div>

<h3 id="_a_default_coherence_cluster"><span class="merged" id="all.yIIY7" style='background-color:yellow' title="原文 : A Default Coherence Cluster">デフォルトCoherenceクラスタ</span></h3>
<div class="section">
<p><span class="merged" id="all.1AhUol" style='background-color:yellow' title="原文 : All the fields in the Coherence CRD spec are optional, the Operator will apply default values, if required, for fields not specified.">Coherence CRD仕様のすべてのフィールドはオプションであり、オペレータでは、指定されていないフィールドにデフォルト値(必要な場合)が適用されます。</span></p>

<p><span class="merged" id="all.22n3Qy" style='background-color:yellow' title="原文 : For example, this is the minimum required yaml to run a Coherence cluster:">たとえば、Coherenceクラスタを実行するために必要な最小限のyamlです:</span></p>

<pre
lang="yaml"
title="default-coherence.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test</pre>

<p><span class="merged" id="all.1L49Qc" style='background-color:yellow' title="原文 : The yaml above could be installed into Kubernetes using kubectl:">前述のyamlは、kubectlを使用してKubernetesにインストールできます:</span></p>

<pre
lang="bash"

>kubectl create -f default-coherence.yaml</pre>

<p><span class="merged" id="all.2JUQoc" style='background-color:yellow' title="原文 : The command above will create a Coherence cluster named test in the default Kubernetes namespace.">前述のコマンドでは、<code>default</code> Kubernetesネームスペースに<code>test</code>という名前のCoherenceクラスタが作成されます。</span></p>

<p><span class="merged" id="all.4AEABY" style='background-color:yellow' title="原文 : Because no spec was specified in the yaml, the Operator will use its defaults for certain fields.">yamlに<code>spec</code>が指定されていないため、オペレータでは特定のフィールドにデフォルトが使用されます。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.27e37J" style='background-color:yellow' title="原文 : The replicas field, which controls the number of Pods in the cluster, will default to 3.">クラスタ内のポッド数を制御する<code>replicas</code>フィールドは、デフォルトで<code>3</code>に設定されます。</span></p>

</li>
<li>
<p><span class="merged" id="all.393QkY" style='background-color:yellow' title="原文 : The image used to run Coherence will be the default for this version of the Operator, typically this is the latest Coherence CE image released at the time the Operator version was released.">Coherenceの実行に使用されるイメージは、このバージョンのOperatorのデフォルトになります。通常、これはOperatorバージョンがリリースされたときにリリースされた最新のCoherence CEイメージです。</span></p>

</li>
<li>
<p><span class="merged" id="all.1wOa1j" style='background-color:yellow' title="原文 : No ports will be exposed on the container, and no additional services will be created.">コンテナにポートは公開されず、追加のサービスは作成されません。</span></p>

</li>
</ul>
<p><span class="merged" id="all.1cwfMn" style='background-color:yellow' title="原文 : We can list the resources that have been created by the Operator.">オペレータによって作成されたリソースをリストできます。</span></p>

<pre
lang="bash"

>kubectl get all</pre>

<p><span class="merged" id="all.4ayzey" style='background-color:yellow' title="原文 : Which should display something like this:">次のように表示されます:</span></p>

<pre
lang="bash"

>NAME         READY   STATUS    RESTARTS   AGE
pod/test-0   1/1     Running   0          81s
pod/test-1   1/1     Running   0          81s
pod/test-2   1/1     Running   0          81s

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/test-sts     ClusterIP   None         &lt;none&gt;        7/TCP     81s
service/test-wka     ClusterIP   None         &lt;none&gt;        7/TCP     81s

NAME                    READY   AGE
statefulset.apps/test   3/3     81s</pre>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2ucgK1" style='background-color:yellow' title="原文 : We can see that the Operator has created a StatefulSet, with three Pods and there are two Services.">オペレータが<code>StatefulSet</code>を作成し、<code>Pods</code>が3つあり、<code>Services</code>が2つあることがわかります。</span></p>

</li>
<li>
<p><span class="merged" id="all.FlXMs" style='background-color:yellow' title="原文 : The test-sts service is the headless service required for the StatefulSet."><code>test-sts</code>サービスは、<code>StatefulSet</code>に必要なヘッドレス・サービスです。</span></p>

</li>
<li>
<p><span class="merged" id="all.3GC3Em" style='background-color:yellow' title="原文 : The test-wka service is the headless service that Coherence will use for well known address cluster discovery."><code>test-wka</code>サービスは、Coherenceが既知のアドレス・クラスタ検出に使用するヘッドレス・サービスです。</span></p>

</li>
</ul>
<p><span class="merged" id="all.43NW64" style='background-color:yellow' title="原文 : We can now undeploy the cluster:">クラスタをアンデプロイできるようになりました:</span></p>

<pre
lang="bash"

>kubectl delete -f default-coherence.yaml</pre>

</div>

<h3 id="_deploy_the_simple_server_image"><span class="merged" id="all.3L5qRp" style='background-color:yellow' title="原文 : Deploy the Simple Server Image">簡易サーバー・イメージのデプロイ</span></h3>
<div class="section">
<p><span class="merged" id="all.4WmYpp.spl1" style='background-color:yellow' title="原文 : We can deploy a specific image by setting the spec.image field in the yaml.">yamlの<code>spec.image</code>フィールドを設定することで、特定のイメージをデプロイできます。</span> <span class="merged" id="all.4WmYpp.spl2" style='background-color:yellow' title="原文 : In this example we’ll deploy the simple-coherence:1.0.0 image built in the Build a Coherence Server Image example.">この例では、<router-link to="/examples/015_simple_image/README">「Coherenceサーバー・イメージのビルド」</router-link>の例で作成した<code>simple-coherence:1.0.0</code>イメージをデプロイします。</span> </p>

<p><span class="merged" id="all.143w3o" style='background-color:yellow' title="原文 : To deploy a specific image we just need to set the spec.image field.">特定のイメージをデプロイするには、<code>spec.image</code>フィールドのみを設定する必要があります。</span></p>

<pre
lang="yaml"
title="simple.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: simple
spec:
  image: simple-coherence:1.0.0  <span class="conum" data-value="1" />
  replicas: 6                    <span class="conum" data-value="2" />
  ports:
    - name: extend               <span class="conum" data-value="3" />
      port: 20000</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2ChEhm" style='background-color:yellow' title="原文 : We have set the image to use to the Build a Coherence Server Image example simple-coherence:1.0.0.">使用するイメージを<router-link to="/examples/015_simple_image/README">「Coherenceサーバー・イメージのビルド」</router-link>例<code>simple-coherence:1.0.0</code>に設定しました。</span></li>
<li data-value="2"><span class="merged" id="all.1tLNTo" style='background-color:yellow' title="原文 : We have set the replicas field to 6, so this time there should only be six Pods."><code>replicas</code>フィールドを<code>6</code>に設定したため、今回は6つのポッドのみにする必要があります。</span></li>
<li data-value="3"><span class="merged" id="all.381Xy.spl1" style='background-color:yellow' title="原文 : The simple image starts a Coherence Extend proxy on port 20000, so we expose this port in the Coherence spec.">単純なイメージでは、ポート<code>20000</code>でCoherence Extendプロキシが起動されるため、このポートは<code>Coherence</code>仕様で公開されます。</span> <span class="merged" id="all.381Xy.spl2" style='background-color:yellow' title="原文 : The Operator will then expose the port on the Coherence container and create a Service for the port.">次に、オペレータはCoherenceコンテナのポートを公開し、ポートのサービスを作成します。</span> </li>
</ul>
<p><span class="merged" id="all.3EZVsN" style='background-color:yellow' title="原文 : We can deploy the simple cluster into Kubernetes using kubectl:">kubectlを使用して、単純なクラスタをKubernetesにデプロイできます:</span></p>

<pre
lang="bash"

>kubectl create -f simple.yaml</pre>

<p><span class="merged" id="all.3oLh6U" style='background-color:yellow' title="原文 : Now list the resources the Operator has created.">次に、オペレータが作成したリソースをリストします。</span></p>

<pre
lang="bash"

>kubectl get all</pre>

<p><span class="merged" id="all.vmvh2" style='background-color:yellow' title="原文 : Which this time should look something like this:">この時間は次のようになります:</span></p>

<pre
lang="bash"

>NAME         READY   STATUS    RESTARTS   AGE
pod/test-0   1/1     Running   0          4m49s
pod/test-1   1/1     Running   0          4m49s
pod/test-2   1/1     Running   0          4m49s
pod/test-3   1/1     Running   0          4m49s
pod/test-4   1/1     Running   0          4m49s
pod/test-5   1/1     Running   0          4m49s

NAME                  TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)     AGE
service/kubernetes    ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP     164d
service/test-extend   ClusterIP   10.108.166.193   &lt;none&gt;        20000/TCP   4m49s
service/test-sts      ClusterIP   None             &lt;none&gt;        7/TCP       4m49s
service/test-wka      ClusterIP   None             &lt;none&gt;        7/TCP       4m49s

NAME                    READY   AGE
statefulset.apps/test   6/6     4m49s</pre>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2XLV8V" style='background-color:yellow' title="原文 : We can see that the Operator has created a StatefulSet, with six Pods and there are three Services.">オペレータが<code>StatefulSet</code>を作成し、<code>Pods</code>が6つあり、<code>Services</code>が3つあることがわかります。</span></p>

</li>
<li>
<p><span class="merged" id="all.3bqd0I" style='background-color:yellow' title="原文 : The simple-sts service is the headless service required for the StatefulSet."><code>simple-sts</code>サービスは、<code>StatefulSet</code>に必要なヘッドレス・サービスです。</span></p>

</li>
<li>
<p><span class="merged" id="all.Buqoc" style='background-color:yellow' title="原文 : The simple-wka service is the headless service that Coherence will use for well known address cluster discovery."><code>simple-wka</code>サービスは、Coherenceが既知のアドレス・クラスタ検出に使用するヘッドレス・サービスです。</span></p>

</li>
<li>
<p><span class="merged" id="all.3ywp16" style='background-color:yellow' title="原文 : The simple-extend service is the service that exposes the Extend port 20000, and could be used by Extend clients to connect to the cluster."><code>simple-extend</code>サービスは、Extendポート<code>20000</code>を公開するサービスであり、Extendクライアントがクラスタに接続するために使用できます。</span></p>

</li>
</ul>
<p><span class="merged" id="all.46b72G" style='background-color:yellow' title="原文 : We can now delete the simple cluster:">これで、単純なクラスタを削除できます:</span></p>

<pre
lang="bash"

>kubectl delete -f simple.yaml</pre>

</div>
</div>
</doc-view>
<!-- pages/examples/021_deployment/README.js -->
<doc-view>

<h2 id="_coherence_operator_deployment_example"><span class="merged" id="all.M4S1n" style='background-color:yellow' title="原文 : Coherence Operator Deployment Example">Coherence Operatorデプロイメントの例</span></h2>
<div class="section">
<p><span class="merged" id="all.3M57wJ" style='background-color:yellow' title="原文 : This example showcases how to deploy Coherence applications using the Coherence Operator.">この例では、Coherence Operatorを使用してCoherenceアプリケーションをデプロイする方法を示します。</span></p>

<p><span class="merged" id="all.2NUJzS" style='background-color:yellow' title="原文 : This example shows how to use the Kubernetes Horizontal Pod Autoscaler to scale Coherence clusters.">この例では、Kubernetes Horizontal Pod Autoscalerを使用してCoherenceクラスタをスケーリングする方法を示します。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.4"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.3Xdfnt" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/021_deployment" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>
<p><span class="merged" id="all.2aS5db" style='background-color:yellow' title="原文 : The following scenarios are covered:">次のシナリオについて説明します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1wJHmB" style='background-color:yellow' title="原文 : Prerequisites"><router-link @click.native="this.scrollFix('#pre')" to="#pre">事前設定</router-link></span></p>
<ul class="ulist">
<li>
<p><span class="merged" id="all.3bRBBu" style='background-color:yellow' title="原文 : Create the example namespace"><router-link @click.native="this.scrollFix('#create-the-example-namespace')" to="#create-the-example-namespace">サンプルのネームスペースの作成</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1OjjsK" style='background-color:yellow' title="原文 : Clone the GitHub repository"><router-link @click.native="this.scrollFix('#clone-the-github-repository')" to="#clone-the-github-repository">GitHubリポジトリのクローニング</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.OLysA" style='background-color:yellow' title="原文 : Install the Coherence Operator"><router-link @click.native="this.scrollFix('#install-operator')" to="#install-operator">Coherence Operatorのインストール</router-link></span></p>

</li>
</ul>
</li>
<li>
<p><span class="merged" id="all.1UVljr" style='background-color:yellow' title="原文 : Run the Examples"><router-link @click.native="this.scrollFix('#examples')" to="#examples">例の実行</router-link></span></p>
<ul class="ulist">
<li>
<p><span class="merged" id="all.30RsSO" style='background-color:yellow' title="原文 : Example 1 - Coherence cluster only"><router-link @click.native="this.scrollFix('#ex1')" to="#ex1">例1- Coherenceクラスタのみ</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4L5qeS" style='background-color:yellow' title="原文 : Example 2 - Adding a Proxy tier"><router-link @click.native="this.scrollFix('#ex2')" to="#ex2">例2- プロキシ層の追加</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4Trtx2" style='background-color:yellow' title="原文 : Example 3 - Adding a User application tier"><router-link @click.native="this.scrollFix('#ex3')" to="#ex3">例3- ユーザー・アプリケーション層の追加</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3esnN" style='background-color:yellow' title="原文 : Example 4 - Enabling Persistence"><router-link @click.native="this.scrollFix('#ex4')" to="#ex4">例4- 永続性の有効化</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.fApWm" style='background-color:yellow' title="原文 : View Cluster Metrics using Prometheus and Grafana"><router-link @click.native="this.scrollFix('#metrics')" to="#metrics">PrometheusおよびGrafanaを使用したクラスタ・メトリクスの表示</router-link></span></p>

</li>
</ul>
</li>
<li>
<p><span class="merged" id="all.2ywvhQ" style='background-color:yellow' title="原文 : Cleaning Up"><router-link @click.native="this.scrollFix('#cleaning-up')" to="#cleaning-up">クリーン・アップしています</router-link></span></p>

</li>
</ul>
<p><span class="merged" id="all.2GGOkf" style='background-color:yellow' title="原文 : After the initial installation of the Coherence cluster, the following examples build on the previous ones by issuing a kubectl apply to modify the installation adding additional tiers.">Coherenceクラスタの初期インストール後、次の例は、<code>kubectl apply</code>を発行して、追加層を追加するインストールを変更することによって、前のクラスタ上にビルドされます。</span></p>

<p><span class="merged" id="all.xYaeZ" style='background-color:yellow' title="原文 : You can use kubectl create for any of the examples to install that one directly."><code>kubectl create</code>は、その例を直接インストールするために使用できます。</span></p>

</div>

<h2 id="pre"><span class="merged" id="all.2LZvWc.2"  title="原文:: Prerequisites">前提条件</span></h2>
<div class="section">
<p><span class="merged" id="all.2o7i0D" style='background-color:yellow' title="原文 : Ensure you have the following software installed:">次のソフトウェアがインストールされていることを確認します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2QWpOS" style='background-color:yellow' title="原文 : Java 11+ JDK either [OpenJDK](https://adoptopenjdk.net/) or [Oracle JDK](https://www.oracle.com/java/technologies/javase-downloads.html)">Java 11+ JDK [OpenJDK](<a href="https://adoptopenjdk.net/" id="" target="_blank" >https://adoptopenjdk.net/</a>)または[Oracle JDK](<a href="https://www.oracle.com/java/technologies/javase-downloads.html" id="" target="_blank" >https://www.oracle.com/java/technologies/javase-downloads.html</a>)]</span></p>

</li>
<li>
<p><span class="merged" id="all.j38oP" style='background-color:yellow' title="原文 : Docker version 17.03+."><a href="https://docs.docker.com/install/" id="" target="_blank" >Docker</a>バージョン17.03+。</span></p>

</li>
<li>
<p><span class="merged" id="all.4dbHBC" style='background-color:yellow' title="原文 : Access to a Kubernetes v1.14.0+ cluster.">Kubernetes v1.14.0+クラスタにアクセスします。</span></p>

</li>
<li>
<p><span class="merged" id="all.4VUWSD" style='background-color:yellow' title="原文 : kubectl version matching your Kubernetes cluster.">Kubernetesクラスタに一致する<a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" id="" target="_blank" >kubectl</a>バージョン。</span></p>

</li>
</ul>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.4PWW76.spl1" style='background-color:yellow' title="原文 : This example requires Java 11+ because it creates a Helidon web application and Helidon requires Java 11+.">この例では、Helidon webアプリケーションが作成され、HelidonにはJava 11+が必要であるため、Java 11+が必要です。</span> <span class="merged" id="all.4PWW76.spl2" style='background-color:yellow' title="原文 : Coherence and running Coherence in Kubernetes only requires Java 8+.">Coherenceの実行およびKubernetesでのCoherenceの実行には、Java 8+のみが必要です。</span> </p>
</div>
</div>

<h2 id="create-the-example-namespace"><span class="merged" id="all.3ezoGY" style='background-color:yellow' title="原文 : Create the example namespace">サンプルのネームスペースの作成</span></h2>
<div class="section">
<p><span class="merged" id="all.4Le10Q.spl1" style='background-color:yellow' title="原文 : You need to create the namespace for the first time to run any of the examples.">すべての例を実行するには、最初にネームスペースを作成する必要があります。</span> <span class="merged" id="all.4Le10Q.spl2" style='background-color:yellow' title="原文 : Create your target namespace:">ターゲット・ネームスペースを作成します:</span> </p>

<pre
lang="bash"

>kubectl create namespace coherence-example

namespace/coherence-example created</pre>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.9"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.1kBG9f.spl1" style='background-color:yellow' title="原文 : In the examples, a Kubernetes namespace called coherence-example is used.">この例では、<code>coherence-example</code>というKubernetesネームスペースが使用されます。</span> <span class="merged" id="all.1kBG9f.spl2" style='background-color:yellow' title="原文 : If you want to change this namespace, ensure that you change any references to this namespace to match your selected namespace when running the examples.">このネームスペースを変更する場合は、例の実行時に、選択したネームスペースと一致するようにこのネームスペースへの参照を変更してください。</span> </p>
</p>
</div>
</div>

<h2 id="clone-the-github-repository"><span class="merged" id="all.3cehWR" style='background-color:yellow' title="原文 : Clone the GitHub repository">GitHubリポジトリのクローニング</span></h2>
<div class="section">
<p><span class="merged" id="all.Us2EH" style='background-color:yellow' title="原文 : These examples exist in the examples/021_deployment directory in the Coherence Operator GitHub repository.">これらの例は、<a href="https://github.com/oracle/coherence-operator" id="" target="_blank" >「Coherence Operator GitHubリポジトリ」</a>の<code>examples/021_deployment</code>ディレクトリにあります。</span></p>

<p><span class="merged" id="all.3uz3bT"  title="原文:: Clone the repository:">リポジトリをクローニングします:</span></p>

<pre
lang="bash"

>git clone https://github.com/oracle/coherence-operator

cd coherence-operator/examples/021_deployment</pre>

<p><span class="merged" id="all.2nZ1TP" style='background-color:yellow' title="原文 : Ensure you have Docker running and JDK 11+ build environment set and use the following command from the deployment example directory to build the project and associated Docker image:">Dockerが実行され、JDK 11+ビルド環境が設定されていることを確認し、デプロイメント例ディレクトリから次のコマンドを使用して、プロジェクトおよび関連するDockerイメージをビルドします:</span></p>

<pre
lang="bash"

>./mvnw package jib:dockerBuild</pre>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.10"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.uy3xO" style='background-color:yellow' title="原文 : If you are running behind a corporate proxy and receive the following message building the Docker image: Connect to gcr.io:443 [gcr.io/172.217.212.82] failed: connect timed out you must modify the build command to add the proxy hosts and ports to be used by the jib-maven-plugin as shown below:">企業プロキシの背後で実行していて、Dockerイメージを作成する次のメッセージを受信した場合: <code>Connect to gcr.io:443 [gcr.io/172.217.212.82] failed: connect timed out</code>ビルド・コマンドを変更して、次に示すように、<code>jib-maven-plugin</code>で使用されるプロキシ・ホストおよびポートを追加する必要があります:</span></p>

<pre
lang="bash"

>mvn package jib:dockerBuild -Dhttps.proxyHost=host \
    -Dhttps.proxyPort=80 -Dhttp.proxyHost=host -Dhttp.proxyPort=80</pre>
</p>
</div>
<p><span class="merged" id="all.yL8wN" style='background-color:yellow' title="原文 : This will result in the following Docker image being created which contains the configuration and server-side artifacts to be use by all deployments.">これにより、すべてのデプロイメントで使用される構成およびサーバー側のアーティファクトを含む次のDockerイメージが作成されます。</span></p>

<pre


>deployment-example:1.0.0</pre>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.11"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.12z1wf.spl1" style='background-color:yellow' title="原文 : If you are running against a remote Kubernetes cluster, you need to tag and push the Docker image to your repository accessible to that cluster.">リモートのKubernetesクラスタに対して実行している場合は、Dockerイメージにタグ付けして、そのクラスタからアクセス可能なリポジトリにプッシュする必要があります。</span> <span class="merged" id="all.12z1wf.spl2" style='background-color:yellow' title="原文 : You also need to prefix the image name in the yaml files below.">また、次の<code>yaml</code>ファイルにイメージ名のプレフィクスを付ける必要があります。</span> </p>
</p>
</div>
</div>

<h2 id="install-operator"><span class="merged" id="all.LO8kI" style='background-color:yellow' title="原文 : Install the Coherence Operator">Coherence Operatorのインストール</span></h2>
<div class="section">
<p><span class="merged" id="all.2xyldj" style='background-color:yellow' title="原文 : Install the Coherence Operator using your preferred method in the Operator Installation Guide"><a href="https://oracle.github.io/coherence-operator/docs/latest/#/docs/installation/01_installation" id="" target="_blank" >「インストール・ガイド」</a>オペレータの優先メソッドを使用したCoherence Operatorのインストール</span></p>

<p><span class="merged" id="all.4aoXCL" style='background-color:yellow' title="原文 : Confirm the operator is running, for example if the operator is installed into the coherence-example namespace:">オペレータが<code>coherence-example</code>ネームスペースにインストールされている場合など、オペレータが実行中であることを確認します:</span></p>

<pre
lang="bash"

>kubectl get pods -n coherence-example

NAME                                                     READY   STATUS    RESTARTS   AGE
coherence-operator-controller-manager-74d49cd9f9-sgzjr   1/1     Running   1          27s</pre>

</div>

<h2 id="examples"><span class="merged" id="all.4dY8oM" style='background-color:yellow' title="原文 : Run the Examples">例の実行</span></h2>
<div class="section">
<p><span class="merged" id="all.4WohOh" style='background-color:yellow' title="原文 : Ensure you are in the examples/021_deployment directory to run the following commands."><code>examples/021_deployment</code>ディレクトリで次のコマンドを実行していることを確認します。</span></p>


<h3 id="ex1"><span class="merged" id="all.4XJsVx" style='background-color:yellow' title="原文 : Example 1 - Coherence cluster only">例1 - Coherenceクラスタのみ</span></h3>
<div class="section">
<p><span class="merged" id="all.mexpV" style='background-color:yellow' title="原文 : The first example uses the yaml file src/main/yaml/example-cluster.yaml, which defines a single tier storage which will store cluster data.">最初の例では、yamlファイル<code>src/main/yaml/example-cluster.yaml</code>を使用します。このファイルは、クラスタ・データを格納する単一の層<code>storage</code>を定義します。</span></p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.Qp3mW" style='background-color:yellow' title="原文 : If you have pushed your Docker image to a remote repository, ensure you update the above file to prefix the image.">Dockerイメージをリモート・リポジトリにプッシュした場合は、前述のファイルを更新してイメージのプレフィクスを付けてください。</span></p>
</div>

<h4 id="_1_install_the_coherence_cluster_storage_tier"><span class="merged" id="all.3VnXdw" style='background-color:yellow' title="原文 : 1. Install the Coherence cluster storage tier">1. Coherenceクラスタの<code>storage</code>層のインストール</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl -n coherence-example create -f src/main/yaml/example-cluster.yaml

coherence.coherence.oracle.com/example-cluster-storage created</pre>

</div>

<h4 id="_2_list_the_created_coherence_cluster"><span class="merged" id="all.4PZhQQ" style='background-color:yellow' title="原文 : 2. List the created Coherence cluster">2.作成されたCoherenceクラスタのリスト</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl -n coherence-example get coherence

NAME                      CLUSTER           ROLE                      REPLICAS   READY   PHASE
example-cluster-storage   example-cluster   example-cluster-storage   3                  Created

NAME                                                         AGE
coherencerole.coherence.oracle.com/example-cluster-storage   18s</pre>

</div>

<h4 id="_3_view_the_running_pods"><span class="merged" id="all.3pgoei" style='background-color:yellow' title="原文 : 3. View the running pods">3.実行中のポッドの表示</span></h4>
<div class="section">
<p><span class="merged" id="all.iH5zh" style='background-color:yellow' title="原文 : Run the following command to view the Pods:">次のコマンドを実行してポッドを表示します:</span></p>

<pre
lang="bash"

>kubectl -n coherence-example get pods</pre>

<pre
lang="bash"

>NAME                                                     READY   STATUS    RESTARTS   AGE
coherence-operator-controller-manager-74d49cd9f9-sgzjr   1/1     Running   1          6m46s
example-cluster-storage-0                                0/1     Running   0          119s
example-cluster-storage-1                                1/1     Running   0          119s
example-cluster-storage-2                                0/1     Running   0          118s</pre>

</div>

<h4 id="_connect_to_the_coherence_console_inside_the_cluster_to_add_data"><span class="merged" id="all.4AM6GK" style='background-color:yellow' title="原文 : Connect to the Coherence Console inside the cluster to add data">クラスタ内のCoherenceコンソールに接続してデータを追加</span></h4>
<div class="section">
<p><span class="merged" id="all.2Rqqua" style='background-color:yellow' title="原文 : Since we cannot yet access the cluster via Coherence*Extend, we will connect via Coherence console to add data.">Coherence*Extendを介してクラスタにはまだアクセスできないため、Coherenceコンソールを使用してデータを追加します。</span></p>

<pre
lang="bash"

>kubectl exec -it -n coherence-example example-cluster-storage-0 /coherence-operator/utils/runner console</pre>

<p><span class="merged" id="all.3iSYDh" style='background-color:yellow' title="原文 : At the prompt type the following to create a cache called test:">プロンプトで、次のように入力して<code>test</code>というキャッシュを作成します:</span></p>

<pre
lang="bash"

>cache test</pre>

<p><span class="merged" id="all.1zTHPk" style='background-color:yellow' title="原文 : Use the following to create 10,000 entries of 100 bytes:">100バイトの10,000エントリを作成するには、次を使用します:</span></p>

<pre
lang="bash"

>bulkput 10000 100 0 100</pre>

<p><span class="merged" id="all.3jl3QA" style='background-color:yellow' title="原文 : Lastly issue the command size to verify the cache entry count.">最後に、コマンド<code>size</code>を発行して、キャッシュ・エントリ数を確認します。</span></p>

<p><span class="merged" id="all.3VxTSz" style='background-color:yellow' title="原文 : Type bye to exit the console."><code>bye</code>と入力してコンソールを終了します。</span></p>

</div>

<h4 id="_scale_the_storage_tier_to_6_members"><span class="merged" id="all.2OENpB" style='background-color:yellow' title="原文 : Scale the storage tier to 6 members"><code>storage</code>層を6メンバーにスケーリング</span></h4>
<div class="section">
<p><span class="merged" id="all.191Rar" style='background-color:yellow' title="原文 : To scale up the cluster the kubectl scale command can be used:">クラスタをスケール・アップするには、<code>kubectl scale</code>コマンドを使用できます:</span></p>

<pre
lang="bash"

>kubectl -n coherence-example scale coherence/example-cluster-storage --replicas=6</pre>

<p><span class="merged" id="all.BD9Up" style='background-color:yellow' title="原文 : Use the following to verify all 6 nodes are Running and READY before continuing.">続行する前に、次のコマンドを使用して、6つすべてのノードが実行中であり、READYであることを確認します。</span></p>

<pre
lang="bash"

>kubectl -n coherence-example get pods</pre>

<pre
lang="bash"

>NAME                                                     READY   STATUS    RESTARTS   AGE
coherence-operator-controller-manager-74d49cd9f9-sgzjr   1/1     Running   1          53m
example-cluster-storage-0                                1/1     Running   0          49m
example-cluster-storage-1                                1/1     Running   0          49m
example-cluster-storage-2                                1/1     Running   0          49m
example-cluster-storage-3                                1/1     Running   0          54s
example-cluster-storage-4                                1/1     Running   0          54s
example-cluster-storage-5                                1/1     Running   0          54s</pre>

</div>

<h4 id="_confirm_the_cache_count"><span class="merged" id="all.3VMc7t" style='background-color:yellow' title="原文 : Confirm the cache count">キャッシュ数を確認</span></h4>
<div class="section">
<p><span class="merged" id="all.36zkIW" style='background-color:yellow' title="原文 : Re-run step 3 above and just use the cache test and size commands to confirm the number of entries is still 10,000.">前述のステップ3を再実行し、<code>cache test</code>および<code>size</code>コマンドを使用してエントリ数がまだ10,000であることを確認します。</span></p>

<p><span class="merged" id="all.s89qo" style='background-color:yellow' title="原文 : This confirms that the scale-out was done in a safe manner ensuring no data loss.">これにより、スケールアウトが<code>safe</code>で実行され、データ損失がないことが確認されます。</span></p>

</div>
</div>

<h3 id="_scale_the_storage_tier_back_to_3_members"><span class="merged" id="all.4bsjZP" style='background-color:yellow' title="原文 : Scale the storage tier back to 3 members"><code>storage</code>層を3つのメンバーにスケール・バック</span></h3>
<div class="section">
<p><span class="merged" id="all.3LjGWL" style='background-color:yellow' title="原文 : To scale back doewn to three members run the following command:">doewnを3つのメンバーにスケール・バックするには、次のコマンドを実行します:</span></p>

<pre
lang="bash"

>kubectl -n coherence-example scale coherence/example-cluster-storage --replicas=3</pre>

<p><span class="merged" id="all.dzMCt" style='background-color:yellow' title="原文 : By using the following, you will see that the number of members will gradually scale back to 3 during which the is done in a safe manner ensuring no data loss.">次を使用すると、メンバー数が徐々に3にスケール・バックされ、データ損失がないように<code>safe</code>で実行されます。</span></p>

<pre
lang="bash"

>kubectl -n coherence-example get pods</pre>

<pre
lang="bash"

>NAME                        READY   STATUS        RESTARTS   AGE
example-cluster-storage-0   1/1     Running       0          19m
example-cluster-storage-1   1/1     Running       0          19m
example-cluster-storage-2   1/1     Running       0          19m
example-cluster-storage-3   1/1     Running       0          3m41s
example-cluster-storage-4   0/1     Terminating   0          3m41s</pre>

</div>

<h3 id="ex2"><span class="merged" id="all.4Eslxh" style='background-color:yellow' title="原文 : Example 2 - Adding a Proxy tier">例2 - プロキシ層の追加</span></h3>
<div class="section">
<p><span class="merged" id="all.AAszQ" style='background-color:yellow' title="原文 : The second example uses the yaml file src/main/yaml/example-cluster-proxy.yaml, which adds a proxy server example-cluster-proxy to allow for Coherence*Extend connections via a Proxy server.">2番目の例では、yamlファイル<code>src/main/yaml/example-cluster-proxy.yaml</code>を使用して、プロキシ・サーバー<code>example-cluster-proxy</code>を追加し、プロキシ・サーバーを介したCoherence*Extend接続を許可します。</span></p>

<p><span class="merged" id="all.2nRzXJ" style='background-color:yellow' title="原文 : The additional yaml added below shows:">追加のyamlを次に示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.hoRZD" style='background-color:yellow' title="原文 : A port called proxy being exposed on 20000">20000で公開される<code>proxy</code>というポート</span></p>

</li>
<li>
<p><span class="merged" id="all.3At11Q" style='background-color:yellow' title="原文 : The tier being set as storage-disabled">ストレージを無効に設定する層</span></p>

</li>
<li>
<p><span class="merged" id="all.36kfaw.spl1" style='background-color:yellow' title="原文 : A different cache config being used which will start a Proxy Server.">プロキシ・サーバーを起動する別のキャッシュ構成が使用されています。</span> <span class="merged" id="all.36kfaw.spl2" style='background-color:yellow' title="原文 : See [here](src/main/resources/proxy-cache-config.xml) for details">詳細は、[here](src/main/resources/proxy-cache-config.xml)を参照してください</span> </p>

</li>
</ul>
<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: example-cluster-proxy
spec:
  cluster: example-cluster
  jvm:
    memory:
      heapSize: 512m
  ports:
    - name: metrics
      port: 9612
      serviceMonitor:
        enabled: true
    - name: proxy
      port: 20000
  coherence:
    cacheConfig: proxy-cache-config.xml
    storageEnabled: false
    metrics:
      enabled: true
  image: deployment-example:1.0.0
  imagePullPolicy: Always
  replicas: 1</pre>


<h4 id="_install_the_proxy_tier"><span class="merged" id="all.3h0yuO" style='background-color:yellow' title="原文 : Install the proxy tier"><code>proxy</code>層のインストール</span></h4>
<div class="section">
<pre
lang="bash"

>  kubectl -n coherence-example apply -f src/main/yaml/example-cluster-proxy.yaml

  kubectl get coherence -n coherence-example

  NAME                      CLUSTER           ROLE                      REPLICAS   READY   PHASE
  example-cluster-proxy     example-cluster   example-cluster-proxy     1          1       Ready
  example-cluster-storage   example-cluster   example-cluster-storage   3          3       Ready</pre>

</div>

<h4 id="_view_the_running_pods"><span class="merged" id="all.2aLFkl" style='background-color:yellow' title="原文 : View the running pods">実行中のポッドの表示</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl -n coherence-example get pods

NAME                                  READY   STATUS    RESTARTS   AGE
coherence-operator-578497bb5b-w89kt   1/1     Running   0          68m
example-cluster-proxy-0               1/1     Running   0          2m41s
example-cluster-storage-0             1/1     Running   0          29m
example-cluster-storage-1             1/1     Running   0          29m
example-cluster-storage-2             1/1     Running   0          2m43s</pre>

<p><span class="merged" id="all.3maywb" style='background-color:yellow' title="原文 : Ensure the example-cluster-proxy-0 pod is Running and READY before continuing.">続行する前に、<code>example-cluster-proxy-0</code>ポッドが実行中であり、READYであることを確認します。</span></p>

</div>

<h4 id="_port_forward_the_proxy_port"><span class="merged" id="all.14knpO" style='background-color:yellow' title="原文 : Port forward the proxy port">プロキシ・ポートの転送</span></h4>
<div class="section">
<pre>In a separate terminal, run the following:</pre>
<pre
lang="bash"

>    kubectl port-forward -n coherence-example example-cluster-proxy-0 20000:20000</pre>

</div>

<h4 id="_connect_via_cohql_and_add_data"><span class="merged" id="all.43TF82" style='background-color:yellow' title="原文 : Connect via CohQL and add data">CohQLを介して接続し、データを追加</span></h4>
<div class="section">
<p><span class="merged" id="all.L1Y5a" style='background-color:yellow' title="原文 : In a separate terminal, change to the examples/021_deployments directory and run the following to start Coherence Query Language (CohQL):">別の端末で、<code>examples/021_deployments</code>ディレクトリに移動し、次を実行してCoherenceクエリー言語(CohQL)を起動します:</span></p>

<pre
lang="bash"

>    mvn exec:java

    Coherence Command Line Tool

    CohQL&gt;</pre>

<p><span class="merged" id="all.4AWJNl" style='background-color:yellow' title="原文 : Run the following CohQL commands to view and insert data into the cluster.">次の<code>CohQL</code>コマンドを実行して、データを表示およびクラスタに挿入します。</span></p>

<pre


>CohQL&gt; select count() from 'test';

Results
10000

CohQL&gt; insert into 'test' key('key-1') value('value-1');

CohQL&gt; select key(), value() from 'test' where key() = 'key-1';
Results
["key-1", "value-1"]

CohQL&gt; select count() from 'test';
Results
10001

CohQL&gt; quit</pre>

<p><span class="merged" id="all.aRlzN" style='background-color:yellow' title="原文 : The above results will show that you can see the data previously inserted and can add new data into the cluster using Coherence*Extend.">前述の結果は、以前に挿入されたデータが表示され、Coherence*Extendを使用してクラスタに新しいデータを追加できることを示しています。</span></p>

</div>
</div>

<h3 id="ex3"><span class="merged" id="all.1TT6fq" style='background-color:yellow' title="原文 : Example 3 - Adding a User application tier">例3 - ユーザー・アプリケーション層の追加</span></h3>
<div class="section">
<p><span class="merged" id="all.14aWlR.spl1" style='background-color:yellow' title="原文 : The third example uses the yaml file src/main/yaml/example-cluster-app.yaml, which adds a new tier rest.">3番目の例では、yamlファイル<code>src/main/yaml/example-cluster-app.yaml</code>を使用して、新しい層<code>rest</code>を追加します。</span> <span class="merged" id="all.14aWlR.spl2" style='background-color:yellow' title="原文 : This tier defines a user application which uses Helidon to create a /query endpoint allowing the user to send CohQL commands via this endpoint.">この層は、<a href="https://helidon.io/" id="" target="_blank" >Helidon</a>を使用して<code>/query</code>エンドポイントを作成し、ユーザーがこのエンドポイント経由でCohQLコマンドを送信できるようにするユーザー・アプリケーションを定義します。</span> </p>

<p><span class="merged" id="all.2nRzXJ.1" style='background-color:yellow' title="原文 : The additional yaml added below shows:">追加のyamlを次に示します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.32CRUo" style='background-color:yellow' title="原文 : A port called http being exposed on 8080 for the application">アプリケーションの8080で公開される<code>http</code>というポート</span></p>

</li>
<li>
<p><span class="merged" id="all.3At11Q.1" style='background-color:yellow' title="原文 : The tier being set as storage-disabled">ストレージを無効に設定する層</span></p>

</li>
<li>
<p><span class="merged" id="all.22nHTn" style='background-color:yellow' title="原文 : Using the storage-cache-config.xml but as storage-disabled">storage-cache-config.xmlの使用(ただし、ストレージが無効)</span></p>

</li>
<li>
<p><span class="merged" id="all.sVSIG" style='background-color:yellow' title="原文 : An alternate main class to run - com.oracle.coherence.examples.Main">実行する代替メイン・クラス - <code>com.oracle.coherence.examples.Main</code></span></p>

</li>
</ul>
<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: example-cluster-rest
spec:
  cluster: example-cluster
  jvm:
    memory:
      heapSize: 512m
  ports:
    - name: metrics
      port: 9612
      serviceMonitor:
        enabled: true
    - name: http
      port: 8080
  coherence:
    cacheConfig: storage-cache-config.xml
    storageEnabled: false
    metrics:
      enabled: true
  image: deployment-example:1.0.0
  imagePullPolicy: Always
  application:
    main: com.oracle.coherence.examples.Main</pre>


<h4 id="_install_the_rest_tier"><span class="merged" id="all.4f4dvv" style='background-color:yellow' title="原文 : Install the rest tier"><code>rest</code>層のインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.rWhcU" style='background-color:yellow' title="原文 : Install the yaml with the following command:">次のコマンドを使用してyamlをインストールします:</span></p>

<pre
lang="bash"

>kubectl -n coherence-example apply -f src/main/yaml/example-cluster-app.yaml

kubectl get coherence -n coherence-example

NAME                      CLUSTER           ROLE                      REPLICAS   READY   PHASE
example-cluster-proxy     example-cluster   example-cluster-proxy     1          1       Ready
example-cluster-rest      example-cluster   example-cluster-rest      1          1       Ready
example-cluster-storage   example-cluster   example-cluster-storage   3          3       Ready</pre>

</div>

<h4 id="_view_the_running_pods_2"><span class="merged" id="all.2aLFkl.1" style='background-color:yellow' title="原文 : View the running pods">実行中のポッドの表示</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl -n coherence-example get pods

NAME                              READY   STATUS    RESTARTS   AGE
coherence-operator-578497bb5b-w89kt   1/1     Running   0          90m
example-cluster-proxy-0               1/1     Running   0          3m57s
example-cluster-rest-0                1/1     Running   0          3m57s
example-cluster-storage-0             1/1     Running   0          3m59s
example-cluster-storage-1             1/1     Running   0          3m58s
example-cluster-storage-2             1/1     Running   0          3m58s</pre>

</div>

<h4 id="_port_forward_the_application_port"><span class="merged" id="all.41xi3D" style='background-color:yellow' title="原文 : Port forward the application port">アプリケーション・ポートの転送</span></h4>
<div class="section">
<p><span class="merged" id="all.4eWh4r" style='background-color:yellow' title="原文 : In a separate terminal, run the following:">別の端末で、次を実行します:</span></p>

<pre
lang="bash"

>kubectl port-forward -n coherence-example example-cluster-rest-0 8080:8080</pre>

</div>

<h4 id="_access_the_custom_query_endpoint"><span class="merged" id="all.wfFkX" style='background-color:yellow' title="原文 : Access the custom /query endpoint">カスタム<code>/query</code>エンドポイントにアクセス</span></h4>
<div class="section">
<p><span class="merged" id="all.q0Ly" style='background-color:yellow' title="原文 : Use the various CohQL commands via the /query endpoint to access, and mutate data in the Coherence cluster."><code>/query</code>エンドポイントを介して様々な<code>CohQL</code>コマンドを使用して、Coherenceクラスタのデータにアクセスし、ミュートします。</span></p>

<pre
lang="bash"

>curl -i -w '\n' -X PUT http://127.0.0.1:8080/query -d '{"query":"create cache foo"}'</pre>

<pre
lang="bash"

>HTTP/1.1 200 OK
Date: Fri, 19 Jun 2020 06:29:40 GMT
transfer-encoding: chunked
connection: keep-alive</pre>

<pre
lang="bash"

>curl -i -w '\n' -X PUT http://127.0.0.1:8080/query -d '{"query":"insert into foo key(\"foo\") value(\"bar\")"}'</pre>

<pre
lang="bash"

>HTTP/1.1 200 OK
Date: Fri, 19 Jun 2020 06:29:44 GMT
transfer-encoding: chunked
connection: keep-alive</pre>

<pre
lang="bash"

>curl -i -w '\n' -X PUT http://127.0.0.1:8080/query -d '{"query":"select key(),value() from foo"}'</pre>

<pre
lang="bash"

>HTTP/1.1 200 OK
Content-Type: application/json
Date: Fri, 19 Jun 2020 06:29:55 GMT
transfer-encoding: chunked
connection: keep-alive

{"result":"{foo=[foo, bar]}"}</pre>

<pre
lang="bash"

>curl -i -w '\n' -X PUT http://127.0.0.1:8080/query -d '{"query":"create cache test"}'</pre>

<pre
lang="bash"

>HTTP/1.1 200 OK
Date: Fri, 19 Jun 2020 06:30:00 GMT
transfer-encoding: chunked
connection: keep-alive</pre>

<pre
lang="bash"

>curl -i -w '\n' -X PUT http://127.0.0.1:8080/query -d '{"query":"select count() from test"}'</pre>

<pre
lang="bash"

>HTTP/1.1 200 OK
Content-Type: application/json
Date: Fri, 19 Jun 2020 06:30:20 GMT
transfer-encoding: chunked
connection: keep-alive

{"result":"10001"}</pre>

</div>
</div>

<h3 id="ex4"><span class="merged" id="all.2m7W6b" style='background-color:yellow' title="原文 : Example 4 - Enabling Persistence">例4 - 永続性の有効化</span></h3>
<div class="section">
<p><span class="merged" id="all.1GLAGs" style='background-color:yellow' title="原文 : The fourth example uses the yaml file src/main/yaml/example-cluster-persistence.yaml, which enabled Active Persistence for the storage tier by adding a persistence: element.">4番目の例では、yamlファイル<code>src/main/yaml/example-cluster-persistence.yaml</code>を使用します。このファイルは、<code>persistence:</code>要素を追加して、<code>storage</code>層に対してアクティブな永続性を有効化しています。</span></p>

<p><span class="merged" id="all.eE2KC" style='background-color:yellow' title="原文 : The additional yaml added to the storage tier below shows:">次のストレージ層に追加された追加のyamlは、次のとおりです:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2YXtlG" style='background-color:yellow' title="原文 : Active Persistence being enabled via persistence.enabled=true"><code>persistence.enabled=true</code>を介して有効になっているアクティブな永続性</span></p>

</li>
<li>
<p><span class="merged" id="all.1yXI75" style='background-color:yellow' title="原文 : Various Persistence Volume Claim (PVC) values being set under persistentVolumeClaim"><code>persistentVolumeClaim</code>の下に設定される様々な永続性ボリューム・クレーム(PVC)値</span></p>

</li>
</ul>
<pre
lang="yaml"

>  coherence:
    cacheConfig: storage-cache-config.xml
    metrics:
      enabled: true
    persistence:
      enabled: true
      persistentVolumeClaim:
        accessModes:
          - ReadWriteOnce
        resources:
          requests:
            storage: 1Gi</pre>

<p><span class="merged" id="all.c57uq.spl1" style='background-color:yellow' title="原文 : NOTE:By default, when you enable Coherence Persistence, the required infrastructure in terms of persistent volumes (PV) and persistent volume claims (PVC) is set up automatically.">ノート:デフォルトでは、Coherence永続性を有効にすると、永続ボリューム(PV)および永続ボリューム要求(PVC)の観点で必要なインフラストラクチャが自動的に設定されます。</span> <span class="merged" id="all.c57uq.spl2" style='background-color:yellow' title="原文 : Also, the persistence-mode is set to active.">また、永続性モードは<code>active</code>に設定されます。</span> <span class="merged" id="all.c57uq.spl3" style='background-color:yellow' title="原文 : This allows the Coherence cluster to be restarted, and the data to be retained.">これにより、Coherenceクラスタを再起動し、データを保持できます。</span> </p>


<h4 id="_delete_the_existing_deployment"><span class="merged" id="all.3GwFJC" style='background-color:yellow' title="原文 : Delete the existing deployment">既存のデプロイメントの削除</span></h4>
<div class="section">
<p><span class="merged" id="all.42aTHL" style='background-color:yellow' title="原文 : We must first delete the existing deployment as we need to redeploy to enable Active Persistence.">アクティブ永続性を有効化するために再デプロイする必要があるため、まず既存のデプロイメントを削除する必要があります。</span></p>

<pre
lang="bash"

>kubectl -n coherence-example delete -f src/main/yaml/example-cluster-app.yaml</pre>

<p><span class="merged" id="all.1ll2AG" style='background-color:yellow' title="原文 : Ensure all the pods have terminated before you continue.">続行する前に、すべてのポッドが終了していることを確認してください。</span></p>

</div>

<h4 id="_install_the_cluster_with_persistence_enabled"><span class="merged" id="all.2yEoh9" style='background-color:yellow' title="原文 : Install the cluster with Persistence enabled">永続性を有効にしたクラスタのインストール</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl -n coherence-example create -f src/main/yaml/example-cluster-persistence.yaml</pre>

</div>

<h4 id="_view_the_running_pods_and_pvcs"><span class="merged" id="all.10h1OQ" style='background-color:yellow' title="原文 : View the running pods and PVC’s">実行中のポッドおよびPVCの表示</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl -n coherence-example get pods</pre>

<pre
lang="bash"

>NAME                            READY   STATUS    RESTARTS   AGE
example-cluster-rest-0          1/1     Running   0          5s
example-cluster-proxy-0         1/1     Running   0          5m1s
example-cluster-storage-0       1/1     Running   0          5m3s
example-cluster-storage-1       1/1     Running   0          5m3s
example-cluster-storage-2       1/1     Running   0          5m3s</pre>

<p><span class="merged" id="all.3H8vXV" style='background-color:yellow' title="原文 : Check the Persistent Volumes and PVC are automatically created.">永続ボリュームとPVCが自動的に作成されることを確認します。</span></p>

<pre
lang="bash"

>kubectl get pvc -n coherence-example</pre>

<pre
lang="bash"

>NAME                                           STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
persistence-volume-example-cluster-storage-0   Bound    pvc-15b46996-eb35-11e9-9b4b-025000000001   1Gi        RWO            hostpath       55s
persistence-volume-example-cluster-storage-1   Bound    pvc-15bd99e9-eb35-11e9-9b4b-025000000001   1Gi        RWO            hostpath       55s
persistence-volume-example-cluster-storage-2   Bound    pvc-15e55b6b-eb35-11e9-9b4b-025000000001   1Gi        RWO            hostpath       55s</pre>

<p><span class="merged" id="all.199DYC" style='background-color:yellow' title="原文 : Wait until all nodes are Running and READY before continuing.">すべてのノードが実行中であり、READYになるまで待機してから続行します。</span></p>

</div>

<h4 id="_check_active_persistence_is_enabled"><span class="merged" id="all.2kMZc0" style='background-color:yellow' title="原文 : Check Active Persistence is enabled">アクティブな永続性チェックが有効です</span></h4>
<div class="section">
<p><span class="merged" id="all.225bjr" style='background-color:yellow' title="原文 : Use the following to view the logs of the example-cluster-storage-0 pod and validate that Active Persistence is enabled."><code>example-cluster-storage-0</code>ポッドのログを表示し、アクティブな永続性が有効になっていることをバリデートするには、次を使用します。</span></p>

<pre
lang="bash"

>kubectl logs example-cluster-storage-0 -c coherence -n coherence-example | grep 'Created persistent'</pre>

<pre
lang="bash"

>...
019-10-10 04:52:00.179/77.023 Oracle Coherence GE 12.2.1.4.0 &lt;Info&gt; (thread=DistributedCache:PartitionedCache, member=4): Created persistent store /persistence/active/example-cluster/PartitionedCache/126-2-16db40199bc-4
2019-10-10 04:52:00.247/77.091 Oracle Coherence GE 12.2.1.4.0 &lt;Info&gt; (thread=DistributedCache:PartitionedCache, member=4): Created persistent store /persistence/active/example-cluster/PartitionedCache/127-2-16db40199bc-4
...</pre>

<p><span class="merged" id="all.2SnqVd" style='background-color:yellow' title="原文 : If you see output similar to above then Active Persistence is enabled.">前述のような出力が表示された場合、アクティブな永続性が有効になります。</span></p>

</div>

<h4 id="_connect_to_the_coherence_console_to_add_data"><span class="merged" id="all.21KPmi" style='background-color:yellow' title="原文 : Connect to the Coherence Console to add data">Coherenceコンソールに接続してデータを追加</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl exec -it -n coherence-example example-cluster-storage-0 /coherence-operator/utils/runner console</pre>

<p><span class="merged" id="all.3iSYDh.1" style='background-color:yellow' title="原文 : At the prompt type the following to create a cache called test:">プロンプトで、次のように入力して<code>test</code>というキャッシュを作成します:</span></p>

<pre
lang="bash"

>cache test</pre>

<p><span class="merged" id="all.1zTHPk.1" style='background-color:yellow' title="原文 : Use the following to create 10,000 entries of 100 bytes:">100バイトの10,000エントリを作成するには、次を使用します:</span></p>

<pre
lang="bash"

>bulkput 10000 100 0 100</pre>

<p><span class="merged" id="all.3jl3QA.1" style='background-color:yellow' title="原文 : Lastly issue the command size to verify the cache entry count.">最後に、コマンド<code>size</code>を発行して、キャッシュ・エントリ数を確認します。</span></p>

<p><span class="merged" id="all.3VxTSz.1" style='background-color:yellow' title="原文 : Type bye to exit the console."><code>bye</code>と入力してコンソールを終了します。</span></p>

</div>

<h4 id="_delete_the_cluster"><span class="merged" id="all.1i1bZX"  title="原文:: Delete the cluster">クラスタの削除</span></h4>
<div class="section">
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.3cClPo" style='background-color:yellow' title="原文 : This will not delete the PVC’s.">これにより、PVCは削除されません。</span></p>
</div>
<pre
lang="bash"

>kubectl -n coherence-example delete -f src/main/yaml/example-cluster-persistence.yaml</pre>

<p><span class="merged" id="all.ACEGV" style='background-color:yellow' title="原文 : Use kubectl get pods -n coherence-example to confirm the pods have terminated."><code>kubectl get pods -n coherence-example</code>を使用して、ポッドが終了したことを確認します。</span></p>

</div>

<h4 id="_confirm_the_pvcs_are_still_present"><span class="merged" id="all.OUtg9" style='background-color:yellow' title="原文 : Confirm the PVC’s are still present">PVCがまだ存在することを確認</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl get pvc -n coherence-example</pre>

<pre
lang="bash"

>NAME                                           STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
persistence-volume-example-cluster-storage-0   Bound    pvc-730f86fe-eb19-11e9-9b4b-025000000001   1Gi        RWO            hostpath       116s
persistence-volume-example-cluster-storage-1   Bound    pvc-73191751-eb19-11e9-9b4b-025000000001   1Gi        RWO            hostpath       116s
persistence-volume-example-cluster-storage-2   Bound    pvc-73230889-eb19-11e9-9b4b-025000000001   1Gi        RWO            hostpath       116s</pre>

</div>

<h4 id="_re_install_the_cluster"><span class="merged" id="all.ToWHF" style='background-color:yellow' title="原文 : Re-install the cluster">クラスタを再インストール</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl -n coherence-example create -f src/main/yaml/example-cluster-persistence.yaml</pre>

</div>

<h4 id="_follow_the_logs_for_persistence_messages"><span class="merged" id="all.1zX8C5" style='background-color:yellow' title="原文 : Follow the logs for Persistence messages">永続性メッセージのログに従います</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl logs example-cluster-storage-0 -c coherence -n coherence-example -f</pre>

<p><span class="merged" id="all.27Ax1I" style='background-color:yellow' title="原文 : You should see a message regarding recovering partitions, similar to the following:">パーティションのリカバリに関する次のようなメッセージが表示されます:</span></p>

<pre
lang="bash"

>2019-10-10 05:00:14.255/32.206 Oracle Coherence GE 12.2.1.4.0 &lt;D5&gt; (thread=DistributedCache:PartitionedCache, member=1): Recovering 86 partitions
...
2019-10-10 05:00:17.417/35.368 Oracle Coherence GE 12.2.1.4.0 &lt;Info&gt; (thread=DistributedCache:PartitionedCache, member=1): Created persistent store /persistence/active/example-cluster/PartitionedCache/50-3-16db409d035-1 from SafeBerkeleyDBStore(50-2-16db40199bc-4, /persistence/active/example-cluster/PartitionedCache/50-2-16db40199bc-4)
...</pre>

<p><span class="merged" id="all.2IqYDD" style='background-color:yellow' title="原文 : Finally, you should see the following indicating active recovery has completed.">最後に、アクティブなリカバリが完了したことを示す次のことがわかります。</span></p>

<pre
lang="bash"

>2019-10-10 08:18:04.870/59.565 Oracle Coherence GE 12.2.1.4.0 &lt;Info&gt; (thread=DistributedCache:PartitionedCache, member=1):
   Recovered PartitionSet{172..256} from active persistent store</pre>

</div>

<h4 id="_confirm_the_data_has_been_recovered"><span class="merged" id="all.1CHF6V" style='background-color:yellow' title="原文 : Confirm the data has been recovered">データがリカバリされたことを確認</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl exec -it -n coherence-example example-cluster-storage-0 /coherence-operator/utils/runner console</pre>

<p><span class="merged" id="all.3iSYDh.2" style='background-color:yellow' title="原文 : At the prompt type the following to create a cache called test:">プロンプトで、次のように入力して<code>test</code>というキャッシュを作成します:</span></p>

<pre
lang="bash"

>cache test</pre>

<p><span class="merged" id="all.1R3PV1" style='background-color:yellow' title="原文 : Lastly issue the command size to verify the cache entry count is 10,000 meaning the data has been recovered.">最後に、コマンド<code>size</code>を発行して、キャッシュ・エントリ数が10,000であることを確認します。これは、データがリカバリされたことを意味します。</span></p>

<p><span class="merged" id="all.3VxTSz.2" style='background-color:yellow' title="原文 : Type bye to exit the console."><code>bye</code>と入力してコンソールを終了します。</span></p>

</div>
</div>

<h3 id="metrics"><span class="merged" id="all.1hc2vZ" style='background-color:yellow' title="原文 : View Cluster Metrics Using Prometheus and Grafana">PrometheusおよびGrafanaを使用したクラスタ・メトリクスの表示</span></h3>
<div class="section">
<p><span class="merged" id="all.3SUF3F" style='background-color:yellow' title="原文 : If you wish to view metrics via Grafana, you must carry out the following steps before you install any of the examples above.">Grafanaを使用してメトリクスを表示する場合は、前述の例をインストールする<strong>「前に」</strong>次のステップを実行する必要があります。</span></p>


<h4 id="_install_prometheus_operator"><span class="merged" id="all.3ZIuve" style='background-color:yellow' title="原文 : Install Prometheus Operator">Prometheusオペレータのインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.RPXiG.spl1" style='background-color:yellow' title="原文 : Install the Prometheus Operator, as documented in the Prometheus Operator Quick Start page.">Prometheusオペレータ<a href="https://prometheus-operator.dev/docs/getting-started/quick-start/" id="" target="_blank" >「クイック・スタート」</a>ページの説明に従って、Prometheusオペレータをインストールします。</span> <span class="merged" id="all.RPXiG.spl2" style='background-color:yellow' title="原文 : Prometheus can then be accessed as documented in the Access Prometheus section of the Quick Start page.">Prometheusには、<a href="https://prometheus-operator.dev/docs/getting-started/quick-start/#access-prometheus" id="" target="_blank" >「クイック・スタートのPrometheusセクションにアクセス」</a>ページの説明に従ってアクセスできます。</span> </p>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.12"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.4FYG0J" style='background-color:yellow' title="原文 : Using RBAC"><strong>RBACの使用</strong></span></p>

<p><span class="merged" id="all.3Mi8rl.spl1" style='background-color:yellow' title="原文 : If installing Prometheus into RBAC enabled k8s clusters, you may need to create the required RBAC resources as described in the Prometheus RBAC documentation.">PrometheusをRBAC対応k8sクラスタにインストールする場合は、<a href="https://prometheus-operator.dev/docs/operator/rbac/" id="" target="_blank" >Prometheus RBAC</a>ドキュメントの説明に従って、必要なRBACリソースを作成する必要があります。</span> <span class="merged" id="all.3Mi8rl.spl2" style='background-color:yellow' title="原文 : The Coherence Operator contains an example that works with the out-of-the-box Prometheus Operator install that we use for testing prometheus-rbac.yaml This yaml creates a ClusterRole with the required permissions and a ClusterRoleBinding that binds the role to the prometheus-k8s service account (which is the name of the account created, and used by the Prometheus Operator).">Coherence Operatorには、<a href="https://raw.githubusercontent.com/oracle/coherence-operator/main/hack/prometheus-rbac.yaml" id="" target="_blank" >prometheus-rbac.yaml</a>のテストに使用する即時利用可能なPrometheusオペレータ・インストールと連携する例が含まれています。このyamlは、必要な権限を持つ<code>ClusterRole</code>と、<code>prometheus-k8s</code>サービス・アカウント(作成されたアカウントの名前で、Prometheusオペレータによって使用される)にロールをバインドする<code>ClusterRoleBinding</code>を作成します。</span> <span class="merged" id="all.3Mi8rl.spl3" style='background-color:yellow' title="原文 : This yaml file can be installed into k8s before installing the Prometheus Operator.">このyamlファイルは、Prometheusオペレータをインストールする前にk8sにインストールできます。</span> </p>
</p>
</div>
</div>

<h4 id="_access_grafana"><span class="merged" id="all.SDX6G" style='background-color:yellow' title="原文 : Access Grafana">Grafanaへのアクセス</span></h4>
<div class="section">
<p><span class="merged" id="all.1Qfbke.spl1" style='background-color:yellow' title="原文 : The Prometheus Operator also installs Grafana.">Prometheusオペレータは、Grafanaもインストールします。</span> <span class="merged" id="all.1Qfbke.spl2" style='background-color:yellow' title="原文 : Grafana can be accessed as documented in the Access Grafana section of the Quick Start page.">Grafanaには、<a href="https://prometheus-operator.dev/docs/getting-started/quick-start/#access-grafana" id="" target="_blank" >「クイック・スタートのGrafanaセクションにアクセス」</a>ページの説明に従ってアクセスできます。</span> <span class="merged" id="all.1Qfbke.spl3" style='background-color:yellow' title="原文 : Note that the default credentials are specified in that section of the documentation.">デフォルトの資格証明は、ドキュメントのそのセクションで指定されています。</span> </p>

</div>

<h4 id="_import_the_grafana_dashboards"><span class="merged" id="all.27SNQP" style='background-color:yellow' title="原文 : Import the Grafana Dashboards">Grafanaダッシュボードのインポート</span></h4>
<div class="section">
<p><span class="merged" id="all.5yxbI" style='background-color:yellow' title="原文 : To import the Coherence Grafana dashboards follow the instructions in the Operator documentation section Importing Grafana Dashboards.">Coherence Grafanaダッシュボードをインポートするには、オペレータのドキュメント・セクション<router-link @click.native="this.scrollFix('#metrics/030_importing.adoc')" to="#metrics/030_importing.adoc">「Grafanaダッシュボードのインポート」</router-link>の手順に従います。</span></p>

<p><span class="merged" id="all.35ITiL" style='background-color:yellow' title="原文 : After importing the dashboards into Grafana and with the port-forward still running the Coherence dashboards can be accessed at localhost:3000/d/coh-main/coherence-dashboard-main">ダッシュボードをGrafanaにインポートした後、ポート・フォワードがまだ実行されている状態で、Coherenceダッシュボードには<a href="http://localhost:3000/d/coh-main/coherence-dashboard-main" id="" target="_blank" >localhost:3000/d/coh-main/coherence-dashboard-main</a>でアクセスできます</span></p>

</div>

<h4 id="_troubleshooting"><span class="merged" id="all.1y3Rd3"  title="原文:: Troubleshooting">トラブルシューティング</span></h4>
<div class="section">
<ul class="ulist">
<li>
<p><span class="merged" id="all.38wU6t" style='background-color:yellow' title="原文 : It may take up to 5 minutes for data to start appearing in Grafana.">Grafanaにデータが表示されるまで最大5分かかることがあります。</span></p>

</li>
<li>
<p><span class="merged" id="all.36IyDt.spl1" style='background-color:yellow' title="原文 : If you are not seeing data after 5 minutes, access the Prometheus endpoint as described above.">5分後にデータが表示されない場合は、前述のようにPrometheusエンドポイントにアクセスします。</span> <span class="merged" id="all.36IyDt.spl2" style='background-color:yellow' title="原文 : Ensure that the endpoints named coherence-example/example-cluster-storage-metrics/0 (3/3 up) are up."><code>coherence-example/example-cluster-storage-metrics/0 (3/3 up)</code>という名前のエンドポイントが稼働していることを確認します。</span> <span class="merged" id="all.36IyDt.spl3" style='background-color:yellow' title="原文 : If the endpoints are not up then wait 60 seconds and refresh the browser.">エンドポイントが起動していない場合は、60秒待ってからブラウザをリフレッシュします。</span> </p>

</li>
<li>
<p><span class="merged" id="all.2UBNj0.spl1" style='background-color:yellow' title="原文 : If you do not see any values in the Cluster Name dropdown in Grafana, ensure the endpoints are up as described above and click on Manage Alerts and then Back to Main Dashboard.">Grafanaの<code>Cluster Name</code>ドロップダウンに値が表示されない場合は、前述のエンドポイントが稼働していることを確認し、<code>Manage Alerts</code>、<code>Back to Main Dashboard</code>の順にクリックします。</span> <span class="merged" id="all.2UBNj0.spl2" style='background-color:yellow' title="原文 : This will re-query the data and load the list of clusters.">これにより、データが再クエリーされ、クラスタのリストがロードされます。</span> </p>

</li>
</ul>
</div>
</div>

<h3 id="cleaning-up"><span class="merged" id="all.18hyPz"  title="原文:: Cleaning Up"> クリーンアップ</span></h3>
<div class="section">

<h4 id="_delete_the_cluster_2"><span class="merged" id="all.1i1bZX.1"  title="原文:: Delete the cluster">クラスタの削除</span></h4>
<div class="section">
<pre
lang="bash"

>kubectl -n coherence-example delete -f src/main/yaml/example-cluster-persistence.yaml</pre>

</div>

<h4 id="_delete_the_pvcs"><span class="merged" id="all.1Zow6Z" style='background-color:yellow' title="原文 : Delete the PVC’s">PVCの削除</span></h4>
<div class="section">
<p><span class="merged" id="all.1CEt7j" style='background-color:yellow' title="原文 : Ensure all the pods have all terminated before you delete the PVC’s.">PVCを削除する前に、すべてのポッドが終了していることを確認してください。</span></p>

<pre
lang="bash"

>kubectl get pvc -n coherence-example | sed 1d | awk '{print $1}' | xargs kubectl delete pvc -n coherence-example</pre>

</div>

<h4 id="_remove_the_coherence_operator"><span class="merged" id="all.2tMG9g" style='background-color:yellow' title="原文 : Remove the Coherence Operator">Coherence Operatorの削除</span></h4>
<div class="section">
<p><span class="merged" id="all.1IfmoJ" style='background-color:yellow' title="原文 : Uninstall the Coherence operator using the undeploy commands for whichever method you chose to install it.">インストールするために選択したメソッドに対してアンデプロイ・コマンドを使用して、Coherenceオペレータをアンインストールします。</span></p>

</div>

<h4 id="_delete_prometheus_operator"><span class="merged" id="all.2NfMny" style='background-color:yellow' title="原文 : Delete Prometheus Operator">Prometheusオペレータの削除</span></h4>
<div class="section">
<p><span class="merged" id="all.2SFDXj" style='background-color:yellow' title="原文 : Uninstall the Prometheus Operator as documented in the Remove kube-prometheus section of the Quick Start page."><a href="https://prometheus-operator.dev/docs/getting-started/quick-start/#remove-kube-prometheus" id="" target="_blank" >「クイックスタートのkube-prometheusセクションを削除」</a>ページの説明に従って、Prometheusオペレータをアンインストールします。</span></p>

</div>
</div>
</div>
</doc-view>
<!-- pages/examples/025_extend_client/README.js -->
<doc-view>

<h2 id="_coherence_extend_clients"><span class="merged" id="all.3PHhZ6" style='background-color:yellow' title="原文 : Coherence Extend Clients">Coherence拡張クライアント</span></h2>
<div class="section">
<p><span class="merged" id="all.1rI2Zb.spl1" style='background-color:yellow' title="原文 : Coherence*Extend is the mechanism used by remote Coherence client applications to connect to a Coherence cluster.">Coherence*Extendは、リモートCoherenceクライアント・アプリケーションがCoherenceクラスタに接続するために使用するメカニズムです。</span> <span class="merged" id="all.1rI2Zb.spl2"  title="原文: Coherence*Extend includes support for native Coherence clients (Java, C++, and .NET) and non-native Coherence clients (REST and Memcached).">Coherence*Extendには、ネイティブのCoherenceクライアント(Java、C++および.NET)および非ネイティブのCoherenceクライアント(RESTおよびmemcached)のサポートが含まれます。</span> <span class="merged" id="all.1rI2Zb.spl3" style='background-color:yellow' title="原文 : Coherence*Extend can be used to connect clients to Coherence clusters running in Kubernetes.">Coherence*Extendを使用すると、Kubernetesで実行されているCoherenceクラスタにクライアントを接続できます。</span> <span class="merged" id="all.1rI2Zb.spl4" style='background-color:yellow' title="原文 : There are two scenarios, the client could also be in kubernetes, or the client could be external connecting via a service or some other form of ingress.">2つのシナリオがあり、クライアントはkubernetesにも存在もあり、クライアントがサービスを介して外部に接続することも、他の形式のイングレスで接続することもできます。</span> <span class="merged" id="all.1rI2Zb.spl5" style='background-color:yellow' title="原文 : There are different ways to configure the client in these scenarios.">これらのシナリオでは、クライアントを構成する様々な方法があります。</span> </p>

<p><span class="merged" id="all.2iuV5X.spl1" style='background-color:yellow' title="原文 : These examples are not going to cover all the possible use-cases for Extend, the examples are specifically about different ways to connect a client to a Coherence cluster running inside kubernetes.">これらの例は、Extendの考えられるすべてのユースケースを対象としません。具体的には、kubernetes内で動作するCoherenceクラスタにクライアントを接続する様々な方法について例です。</span> <span class="merged" id="all.2iuV5X.spl2" style='background-color:yellow' title="原文 : Extend is extensively documented in the official Coherence documentation.">拡張については、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/develop-remote-clients/getting-started-coherenceextend.html" id="" target="_blank" >「公式のCoherenceドキュメント」</a>を参照してください。</span> </p>


<h3 id="_prerequisites"><span class="merged" id="all.2LZvWc.3"  title="原文:: Prerequisites">前提条件</span></h3>
<div class="section">

<h4 id="_server_image"><span class="merged" id="all.1Hj8Ck"  title="原文:: Server Image">サーバー・イメージ</span></h4>
<div class="section">
<p><span class="merged" id="all.1TMlzH.spl1" style='background-color:yellow' title="原文 : To show Extend working the example will require a Coherence cluster to connect to.">Extendの動作を示すには、Coherenceクラスタに接続する必要があります。</span> <span class="merged" id="all.1TMlzH.spl2" style='background-color:yellow' title="原文 : For the server the example will use the image built in the Build a Coherence Server Image using JIB example (or could also use the Build a Coherence Server Image using a Dockerfile example.">サーバーの場合、この例では<router-link to="/examples/015_simple_image/README">「JIBを使用したCoherenceサーバー・イメージのビルド」</router-link>の例で作成したイメージを使用します(または、<router-link to="/examples/016_simple_docker_image/README">「Dockerfileを使用したCoherenceサーバー・イメージのビルド」</router-link>の例を使用することもできます)。</span> <span class="merged" id="all.1TMlzH.spl3" style='background-color:yellow' title="原文 : If you have not already done so, you should build the image from that example, so it is available to deploy to your Kubernetes cluster.">まだ作成していない場合は、この例からイメージをビルドして、Kubernetesクラスタにデプロイできるようにする必要があります。</span> </p>

</div>

<h4 id="_install_the_operator"><span class="merged" id="all.3Uw9Iy.1" style='background-color:yellow' title="原文 : Install the Operator">オペレータのインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.YmiWo.1.spl1" style='background-color:yellow' title="原文 : If you have not already done so, you need to install the Coherence Operator.">まだインストールしていない場合は、Coherence Operatorをインストールする必要があります。</span> <span class="merged" id="all.YmiWo.1.spl2" style='background-color:yellow' title="原文 : There are a few simple ways to do this as described in the Installation Guide"><router-link to="/docs/installation/01_installation">「インストール・ガイド」</router-link>で説明するように、いくつかの簡単な方法があります</span> </p>

</div>
</div>
</div>

<h2 id="_the_client_application"><span class="merged" id="all.3SWB5u"  title="原文:: The Client Application">クライアント・アプリケーション</span></h2>
<div class="section">
<p><span class="merged" id="all.4T4cPS" style='background-color:yellow' title="原文 : To demonstrate different configurations and connectivity we need a simple Extend client application.">様々な構成と接続性を示すには、単純なExtendクライアント・アプリケーションが必要です。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.5"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.4UzKbG" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/025_extend_client" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>
<p><span class="merged" id="all.2IHqst.spl1" style='background-color:yellow' title="原文 : As the client application only needs to demonstrate connectivity to Coherence using different configurations it is not going to do very much.">クライアント・アプリケーションは、様々な構成を使用してCoherenceへの接続を示す必要があるため、あまり実行しません。</span> <span class="merged" id="all.2IHqst.spl2" style='background-color:yellow' title="原文 : There is a single class with a main method."><code>main</code>メソッドを持つ1つのクラスがあります。</span> <span class="merged" id="all.2IHqst.spl3" style='background-color:yellow' title="原文 : In the main method the code obtains a NamedMap from Coherence via Extend and does some simple put and get operations."><code>main</code>メソッドでは、コードはExtendを介してCoherenceから<code>NamedMap</code>を取得し、単純なputおよびget操作を実行します。</span> <span class="merged" id="all.2IHqst.spl4" style='background-color:yellow' title="原文 : If these all function correctly the application exits with an exit code of zero.">これらすべてが正しく機能する場合、アプリケーションは終了コード・ゼロで終了します。</span> <span class="merged" id="all.2IHqst.spl5" style='background-color:yellow' title="原文 : If there is an exception, the stack trace is printed and the application exits with an exit code of 1.">例外がある場合、スタック・トレースが出力され、アプリケーションは終了コード1で終了します。</span> </p>

<p><span class="merged" id="all.48H6pb" style='background-color:yellow' title="原文 : There are also some different cache configuration files for the different ways to configure Extend, these are covered in the relevant examples below.">また、Extendを構成する様々な方法について、いくつかの異なるキャッシュ構成ファイルもあります。これについては、次の関連する例で説明します。</span></p>

</div>

<h2 id="_building_the_client_image"><span class="merged" id="all.3akFXQ" style='background-color:yellow' title="原文 : Building the Client Image">クライアント・イメージのビルド</span></h2>
<div class="section">
<p><span class="merged" id="all.2sMBxX.spl1" style='background-color:yellow' title="原文 : The client application is both a Maven and Gradle project, so you can use whichever you are comfortable with.">クライアント・アプリケーションは、MavenプロジェクトとGradleプロジェクトの両方であるため、どちらでも使用可能です。</span> <span class="merged" id="all.2sMBxX.spl2" style='background-color:yellow' title="原文 : The only dependency the client application needs is coherence.jar.">クライアント・アプリケーションに必要な依存関係は、<code>coherence.jar</code>のみです。</span> </p>


<h3 id="_using_the_maven_or_gradle_jib_plugin"><span class="merged" id="all.gEL72" style='background-color:yellow' title="原文 : Using the Maven or Gradle JIB Plugin">MavenまたはGradle JIBプラグインの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.1SEjql" style='background-color:yellow' title="原文 : The image can be built using the JIB plugin with either Maven or Gradle, as described below.">次に示すように、MavenまたはGradleのJIBプラグインを使用してイメージをビルドできます。</span></p>

<p><span class="merged" id="all.2soSXi.1" style='background-color:yellow' title="原文 : Using Maven we run:">Mavenを使用して、次を実行します:</span></p>

<pre
lang="bash"

>./mvnw compile jib:dockerBuild</pre>

<p><span class="merged" id="all.42cV20.1" style='background-color:yellow' title="原文 : Using Gradle we run:">Gradleを使用して、次を実行します:</span></p>

<pre
lang="bash"

>./gradlew compileJava jibDockerBuild</pre>

<p><span class="merged" id="all.2IAkmt.spl1" style='background-color:yellow' title="原文 : The command above will create an image named simple-extend-client with two tags, latest and 1.0.0.">前述のコマンドでは、<code>latest</code>および<code>1.0.0</code>という2つのタグを持つ<code>simple-extend-client</code>という名前のイメージが作成されます。</span> <span class="merged" id="all.2IAkmt.spl2" style='background-color:yellow' title="原文 : Listing the local images should show the new images.">ローカル・イメージをリストすると、新しいイメージが表示されます。</span> </p>

<pre
lang="bash"

>$ docker images | grep simple
simple-extend-client   1.0.0   1613cd3b894e   51 years ago  220MB
simple-extend-client   latest  1613cd3b894e   51 years ago  220MB</pre>

</div>

<h3 id="_using_a_dockerfile"><span class="merged" id="all.3FEwOC" style='background-color:yellow' title="原文 : Using a Dockerfile">Dockerfileの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.1egLNN.spl1" style='background-color:yellow' title="原文 : Alternatively, if you cannot use the JIB plugin in your environment, the client image can be built using a simple Dockerfile and docker build command.">または、環境にJIBプラグインを使用できない場合は、単純なDockerfileおよび<code>docker build</code>コマンドを使用してクライアント・イメージをビルドできます。</span> <span class="merged" id="all.1egLNN.spl2" style='background-color:yellow' title="原文 : We will still use Maven or Gradle to pull all the required dependencies together.">引き続きMavenまたはGradleを使用して、必要なすべての依存関係をまとめます。</span> </p>

<p><span class="merged" id="all.2soSXi.2" style='background-color:yellow' title="原文 : Using Maven we run:">Mavenを使用して、次を実行します:</span></p>

<pre
lang="bash"

>./mvnw package
docker build -t simple-extend-client:1.0.0 -t simple-extend-client:latest target/docker</pre>

<p><span class="merged" id="all.42cV20.2" style='background-color:yellow' title="原文 : Using Gradle we run:">Gradleを使用して、次を実行します:</span></p>

<pre
lang="bash"

>./gradlew assembleImage
docker build -t simple-extend-client:1.0.0 -t simple-extend-client:latest build/docker</pre>

<p><span class="merged" id="all.1NAQMN" style='background-color:yellow' title="原文 : Again, the build should result in the Extend client images">再度、ビルドによってクライアント・イメージが拡張されます</span></p>

<p><span class="merged" id="all.2IAkmt.1.spl1" style='background-color:yellow' title="原文 : The command above will create an image named simple-extend-client with two tags, latest and 1.0.0.">前述のコマンドでは、<code>latest</code>および<code>1.0.0</code>という2つのタグを持つ<code>simple-extend-client</code>という名前のイメージが作成されます。</span> <span class="merged" id="all.2IAkmt.1.spl2" style='background-color:yellow' title="原文 : Listing the local images should show the new images.">ローカル・イメージをリストすると、新しいイメージが表示されます。</span> </p>

<pre
lang="bash"

>$ docker images | grep simple
simple-extend-client   1.0.0   1613cd3b894e   2 minutes ago  220MB
simple-extend-client   latest  1613cd3b894e   2 minutes ago  220MB</pre>

<p><span class="merged" id="all.yR1BT" style='background-color:yellow' title="原文 : If we tried to run the application or image at this point it would fail with an exception as there is no cluster to connect to.">この時点でアプリケーションまたはイメージを実行しようとすると、接続するクラスタがないため例外で失敗します。</span></p>

</div>
</div>

<h2 id="_extend_inside_kubernetes_using_the_coherence_nameservice"><span class="merged" id="all.4RIOkq" style='background-color:yellow' title="原文 : Extend Inside Kubernetes Using the Coherence NameService">Coherence NameServiceを使用したKubernetes内部の拡張</span></h2>
<div class="section">
<p><span class="merged" id="all.3amcUq.spl1" style='background-color:yellow' title="原文 : If the Extend client is going to run inside Kubernetes then we have a number of choices for configuration.">ExtendクライアントがKubernetes内で実行される場合、構成にはいくつかの選択肢があります。</span> <span class="merged" id="all.3amcUq.spl2" style='background-color:yellow' title="原文 : In this section we are going to use the simplest way to configure Extend in Coherence, which is to use the Coherence NameService.">この項では、CoherenceでExtendを構成する最も簡単な方法(Coherence NameServiceを使用)を使用します。</span> <span class="merged" id="all.3amcUq.spl3" style='background-color:yellow' title="原文 : In this configuration we do not need to specify any ports, the Extend proxy in the server cluster will bind to an ephemeral port.">この構成では、ポートを指定する必要はありません。サーバー・クラスタ内の拡張プロキシは一時ポートにバインドされます。</span> <span class="merged" id="all.3amcUq.spl4" style='background-color:yellow' title="原文 : The Extend client will then use the Coherence NameService to find the addresses and ports that the Extend proxy is listening on.">Extendクライアントは、Coherence NameServiceを使用して、Extendプロキシがリスニングしているアドレスおよびポートを検索します。</span> </p>


<h3 id="_proxy_server_configuration"><span class="merged" id="all.4TelXp"  title="原文:: Proxy Server Configuration">プロキシ・サーバーの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.3paSrR.spl1" style='background-color:yellow' title="原文 : The default cache configuration file, built into coherence.jar configures an Extend proxy that binds to an ephemeral port."><code>coherence.jar</code>に組み込まれたデフォルトのキャッシュ構成ファイルでは、一時ポートにバインドする拡張プロキシが構成されます。</span> <span class="merged" id="all.3paSrR.spl2" style='background-color:yellow' title="原文 : The proxy-scheme configuration looks like this:">プロキシ・スキーマの構成は次のようになります:</span> </p>

<pre
lang="xml"
title="coherence-cache-config.xml"
>    &lt;proxy-scheme&gt;
      &lt;service-name&gt;Proxy&lt;/service-name&gt;
      &lt;autostart system-property="coherence.proxy.enabled"&gt;true&lt;/autostart&gt;
    &lt;/proxy-scheme&gt;</pre>

<p><span class="merged" id="all.1ZFadO.spl1" style='background-color:yellow' title="原文 : That is all that is required in a cache configuration file to create a proxy service that will bind to an ephemeral port.">これは、エフェメラル・ポートにバインドするプロキシ・サービスを作成するためにキャッシュ構成ファイルで必要なすべてです。</span> <span class="merged" id="all.1ZFadO.spl2" style='background-color:yellow' title="原文 : The proxy is enabled by default, but could be disabled by setting the system property coherence.proxy.enabled to false.">プロキシはデフォルトで有効になっていますが、システム・プロパティ<code>coherence.proxy.enabled</code>をfalseに設定して無効にできます。</span> </p>

</div>

<h3 id="_deploy_the_server"><span class="merged" id="all.3FfRYe" style='background-color:yellow' title="原文 : Deploy the Server">サーバーのデプロイ</span></h3>
<div class="section">
<p><span class="merged" id="all.uYCKt.spl1" style='background-color:yellow' title="原文 : To run the NameService examples below the server needs to be deployed.">下のNameServiceの例を実行するには、サーバーをデプロイする必要があります。</span> <span class="merged" id="all.uYCKt.spl2" style='background-color:yellow' title="原文 : The example includes a manifests/ directory containing Kubernetes yaml files used by the example.">この例には、Kubernetes yamlファイルを含む<code>manifests/</code>ディレクトリが含まれています。</span> </p>

<p><span class="merged" id="all.1JBMIw.spl1" style='background-color:yellow' title="原文 : For the NameService examples below the server will use the default cache configuration file from coherence.jar which has the Proxy service configured above.">次のNameServiceの例では、サーバーが<code>coherence.jar</code>のデフォルトのキャッシュ構成ファイルを使用します。このファイルには、前述の<code>Proxy</code>サービスが構成されています。</span> <span class="merged" id="all.1JBMIw.spl2" style='background-color:yellow' title="原文 : The yaml to deploy the server cluster is in the manifests/default-server.yaml file.">サーバー・クラスタをデプロイするyamlは、<code>manifests/default-server.yaml</code>ファイルにあります。</span> </p>

<pre
lang="yaml"
title="manifests/default-server.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  image: simple-coherence:1.0.0
  replicas: 3
  coherence:
    cacheConfig: coherence-cache-config.xml</pre>

<p><span class="merged" id="all.24PgKV" style='background-color:yellow' title="原文 : The yaml above will deploy a three member cluster configured to use the default coherence-cache-config.xml configuration file.">前述のyamlは、デフォルトの<code>coherence-cache-config.xml</code>構成ファイルを使用するように構成された3つのメンバー・クラスタをデプロイします。</span></p>

<p><span class="merged" id="all.P1Egr.spl1" style='background-color:yellow' title="原文 : There are no additional ports exposed in the configuration.">構成に追加のポートは公開されていません。</span> <span class="merged" id="all.P1Egr.spl2" style='background-color:yellow' title="原文 : The Extend proxy will be listening on an ephemeral port, so we have no idea what that port will be.">Extendプロキシはエフェメラル・ポートでリスニングするため、そのポートが何であるかはわかりません。</span> </p>

<p><span class="merged" id="all.1oQqzw" style='background-color:yellow' title="原文 : We can deploy the server into the default namespace in kubernetes with the following command:">次のコマンドを使用して、kubernetesのデフォルトのネームスペースにサーバーをデプロイできます:</span></p>

<pre
lang="bash"

>kubectl apply -f manifests/default-server.yaml</pre>

<p><span class="merged" id="all.7BQ8" style='background-color:yellow' title="原文 : We can list the resources created by the Operator.">オペレータによって作成されたリソースをリストできます。</span></p>

<pre
lang="bash"

>kubectl get all</pre>

<p><span class="merged" id="all.4ayzey.1" style='background-color:yellow' title="原文 : Which should display something like this:">次のように表示されます:</span></p>

<pre
lang="bash"

>NAME            READY   STATUS    RESTARTS   AGE
pod/storage-0   1/1     Running   0          81s
pod/storage-1   1/1     Running   0          81s
pod/storage-2   1/1     Running   0          81s

NAME                    TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/storage-sts     ClusterIP   None         &lt;none&gt;        7/TCP     81s
service/storage-wka     ClusterIP   None         &lt;none&gt;        7/TCP     81s

NAME                       READY   AGE
statefulset.apps/storage   3/3     81s</pre>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2ucgK1.1" style='background-color:yellow' title="原文 : We can see that the Operator has created a StatefulSet, with three Pods and there are two Services.">オペレータが<code>StatefulSet</code>を作成し、<code>Pods</code>が3つあり、<code>Services</code>が2つあることがわかります。</span></p>

</li>
<li>
<p><span class="merged" id="all.1Vhf5Q" style='background-color:yellow' title="原文 : The storage-sts service is the headless service required for the StatefulSet."><code>storage-sts</code>サービスは、<code>StatefulSet</code>に必要なヘッドレス・サービスです。</span></p>

</li>
<li>
<p><span class="merged" id="all.2TgwLu" style='background-color:yellow' title="原文 : The storage-wka service is the headless service that Coherence will use for well known address cluster discovery."><code>storage-wka</code>サービスは、Coherenceが既知のアドレス・クラスタ検出に使用するヘッドレス・サービスです。</span></p>

</li>
</ul>
</div>

<h3 id="_minimal_extend_client_configuration"><span class="merged" id="all.2gtrHv" style='background-color:yellow' title="原文 : Minimal Extend Client Configuration">最小拡張クライアント構成</span></h3>
<div class="section">
<p><span class="merged" id="all.6ATzJ.spl1" style='background-color:yellow' title="原文 : The configuration required for the Extend client is equally minimal.">Extendクライアントに必要な構成は最小です。</span> <span class="merged" id="all.6ATzJ.spl2" style='background-color:yellow' title="原文 : The example source code includes a configuration file named src/main/resources/minimal-client-cache-config.xml that can be used to connect to the proxy configured above.">ソース・コードの例には、前述のプロキシへの接続に使用できる<code>src/main/resources/minimal-client-cache-config.xml</code>という構成ファイルが含まれています。</span> </p>

<pre
lang="xml"
title="src/main/resources/minimal-client-cache-config.xml"
>&lt;?xml version="1.0"?&gt;
&lt;cache-config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns="http://xmlns.oracle.com/coherence/coherence-cache-config"
              xsi:schemaLocation="http://xmlns.oracle.com/coherence/coherence-cache-config coherence-cache-config.xsd"&gt;
  &lt;caching-scheme-mapping&gt;
    &lt;cache-mapping&gt;                        <span class="conum" data-value="1" />
      &lt;cache-name&gt;*&lt;/cache-name&gt;
      &lt;scheme-name&gt;remote&lt;/scheme-name&gt;
    &lt;/cache-mapping&gt;
  &lt;/caching-scheme-mapping&gt;

  &lt;caching-schemes&gt;
    &lt;remote-cache-scheme&gt;
      &lt;scheme-name&gt;remote&lt;/scheme-name&gt;                 <span class="conum" data-value="2" />
      &lt;service-name&gt;RemoteService&lt;/service-name&gt;        <span class="conum" data-value="3" />
      &lt;proxy-service-name&gt;Proxy&lt;/proxy-service-name&gt;    <span class="conum" data-value="4" />
    &lt;/remote-cache-scheme&gt;
  &lt;/caching-schemes&gt;
&lt;/cache-config&gt;</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2YDISd" style='background-color:yellow' title="原文 : There is a single cache-mapping that maps all cache names to the scheme named remote.">すべてのキャッシュ名を<code>remote</code>という名前のスキームにマップする単一の<code>cache-mapping</code>があります。</span></li>
<li data-value="2"><span class="merged" id="all.1R6MoK" style='background-color:yellow' title="原文 : The remote-scheme is named remote."><code>remote-scheme</code>の名前は<code>remote</code>です。</span></li>
<li data-value="3"><span class="merged" id="all.10uvOc" style='background-color:yellow' title="原文 : The remote-scheme has a service name of RemoteService."><code>remote-scheme</code>のサービス名は<code>RemoteService</code>です。</span></li>
<li data-value="4"><span class="merged" id="all.CUw4I" style='background-color:yellow' title="原文 : The remote service will connect to a proxy service on the server that is named Proxy, this must correspond to the name of the proxy service in our server cache configuration file.">リモート・サービスは、<code>Proxy</code>という名前のサーバー上のプロキシ・サービスに接続します。これは、サーバー・キャッシュ構成ファイル内のプロキシ・サービスの名前に対応している必要があります。</span></li>
</ul>

<h4 id="_deploy_the_client"><span class="merged" id="all.okwjz" style='background-color:yellow' title="原文 : Deploy the Client">クライアントのデプロイ</span></h4>
<div class="section">
<p><span class="merged" id="all.2rQ6vq.spl1" style='background-color:yellow' title="原文 : The simplest way to run the Extend client in Kubernetes is as a Job.">KubernetesでExtendクライアントを実行する最も簡単な方法は、<code>Job</code>です。</span> <span class="merged" id="all.2rQ6vq.spl2" style='background-color:yellow' title="原文 : The client just connects to a cache and does a put, then exits, so a Job is ideal for this type of process.">クライアントはキャッシュに接続し、<code>put</code>を実行して終了するため、<code>Job</code>はこのタイプのプロセスに最適です。</span> <span class="merged" id="all.2rQ6vq.spl3" style='background-color:yellow' title="原文 : The example contains yaml to create a Job manifests/minimal-job.yaml that looks like this:">例には、次のようなジョブ<code>manifests/minimal-job.yaml</code>を作成するためのyamlが含まれています:</span> </p>

<pre
lang="yaml"
title="manifests/minimal-job.yaml"
>apiVersion: batch/v1
kind: Job
metadata:
  name: extend-client
spec:
  template:
    spec:
      restartPolicy: Never
      containers:
        - name: client
          image: simple-extend-client:1.0.0
          env:
            - name: COHERENCE_CACHECONFIG
              value: minimal-client-cache-config.xml
            - name: COHERENCE_WKA
              value: storage-wka
            - name: COHERENCE_CLUSTER
              value: storage</pre>

<p><span class="merged" id="all.34XYjn" style='background-color:yellow' title="原文 : To be able to run the client we need to set in three pieces of information.">クライアントを実行できるようにするには、3つの情報を設定する必要があります。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.14d2Fa.spl1" style='background-color:yellow' title="原文 : The name of the cache configuration file.">キャッシュ構成ファイルの名前。</span> <span class="merged" id="all.14d2Fa.spl2" style='background-color:yellow' title="原文 : We set this using the COHERENCE_CACHECONFIG environment variable, and set the value to minimal-client-cache-config.xml, which is the configuration file we’re using in this example.">♪これを<code>COHERENCE_CACHECONFIG</code>環境変数を使用して設定し、この例で使用している構成ファイルである<code>minimal-client-cache-config.xml</code>に設定します。</span> </p>

</li>
<li>
<p><span class="merged" id="all.3CfgrW.spl1" style='background-color:yellow' title="原文 : The client needs to be able to discover the storage Pods to connect to.">クライアントは、接続先のストレージ・ポッドを検出できる必要があります。</span> <span class="merged" id="all.3CfgrW.spl2" style='background-color:yellow' title="原文 : Just like the server cluster uses well known addresses to discover a cluster, the client can do the same.">サーバー・クラスタが既知のアドレスを使用してクラスタを検出するのと同様に、クライアントも同じことができます。</span> <span class="merged" id="all.3CfgrW.spl3" style='background-color:yellow' title="原文 : We set the COHERENCE_WKA environment variable to the name of the WKA service created for the server when we deployed it above, in this case it is storage-wka."><code>COHERENCE_WKA</code>環境変数は、前述のデプロイ時にサーバー用に作成されたWKAサービスの名前(この場合は<code>storage-wka</code>)に設定します。</span> </p>

</li>
<li>
<p><span class="merged" id="all.34daus.spl1" style='background-color:yellow' title="原文 : Finally, we set the name of the Coherence cluster the client will connect to.">最後に、クライアントが接続するCoherenceクラスタの名前を設定します。</span> <span class="merged" id="all.34daus.spl2" style='background-color:yellow' title="原文 : When we deployed the server we did not specify a name, so the default cluster name will be the same as the Coherence resource name, in this case storage.">サーバーをデプロイしたときに名前を指定しなかったため、デフォルトのクラスタ名は<code>Coherence</code>リソース名(この場合は<code>storage</code>)と同じになります。</span> <span class="merged" id="all.34daus.spl3" style='background-color:yellow' title="原文 : So we set the COHERENCE_CLUSTER environment variable to storage.">したがって、<code>COHERENCE_CLUSTER</code>環境変数を<code>storage</code>に設定します。</span> </p>

</li>
</ul>
<p><span class="merged" id="all.3Wevry" style='background-color:yellow' title="原文 : The client Job can be deployed into the default namespace in Kubernetes with the following command:">クライアント<code>Job</code>は、次のコマンドを使用してKubernetesのデフォルト・ネームスペースにデプロイできます:</span></p>

<pre
lang="bash"

>kubectl apply -f manifests/minimal-job.yaml</pre>

<p><span class="merged" id="all.UgXPf" style='background-color:yellow' title="原文 : The Jobs deployed can then be listed">デプロイされた<code>Jobs</code>をリストできます</span></p>

<pre
lang="bash"

>kubectl get job</pre>

<p><span class="merged" id="all.4ayzey.2" style='background-color:yellow' title="原文 : Which should display something like this:">次のように表示されます:</span></p>

<pre
lang="bash"

>NAME            COMPLETIONS   DURATION   AGE
extend-client   1/1           4s         5s</pre>

<p><span class="merged" id="all.299PoU" style='background-color:yellow' title="原文 : The Job above completed very quickly, which we would expect as it is just doing a trivial put to a cache.">上記の<code>Job</code>は非常に迅速に完了しています。これは単にキャッシュへの簡単な配置を実行するためです。</span></p>

<p><span class="merged" id="all.1Ot9Bq.spl1" style='background-color:yellow' title="原文 : We can list the Pods created for the Job and then look at the log from the client."><code>Job</code>用に作成された<code>Pods</code>をリストし、クライアントからのログを確認できます。</span> <span class="merged" id="all.1Ot9Bq.spl2" style='background-color:yellow' title="原文 : All Pods associated to a Job have a label in the form job-name: &lt;name-of-job&gt;, so in our case the label will be job-name: extend-client."><code>Job</code>に関連付けられたすべての<code>Pods</code>には、<code>job-name: &lt;name-of-job></code>という形式のラベルがあるため、ラベルは<code>job-name: extend-client</code>になります。</span> <span class="merged" id="all.1Ot9Bq.spl3" style='background-color:yellow' title="原文 : We can use this with kubectl to list Pods associated to the Job.">これを<code>kubectl</code>とともに使用して、<code>Job</code>に関連付けられている<code>Pods</code>をリストできます。</span> <span class="merged" id="all.1Ot9Bq.spl4" style='background-color:yellow' title="原文 : If the Job ran successfully there should be only one Pod."><code>Job</code>が正常に実行された場合、<code>Pod</code>は1つのみである必要があります。</span> <span class="merged" id="all.1Ot9Bq.spl5" style='background-color:yellow' title="原文 : If the Job failed and has a restart policy, or was restarted by Kubernetes for other reasons there could be multiple Pods."><code>Job</code>が失敗し、再起動ポリシーがある場合、またはKubernetesによって再起動された場合は、複数の<code>Pods</code>があります。</span> <span class="merged" id="all.1Ot9Bq.spl6" style='background-color:yellow' title="原文 : In this case we expect a single successful Pod.">この場合、<code>Pod</code>は1回だけ成功します。</span> </p>

<pre
lang="bash"

>kubectl get pod -l job-name=extend-client</pre>

<pre
lang="bash"

>NAME                  READY   STATUS      RESTARTS   AGE
extend-client-k7wfq   0/1     Completed   0          4m24s</pre>

<p><span class="merged" id="all.1MJKlt" style='background-color:yellow' title="原文 : If we look at the log for the Pod we should see the last line printed to System.out by the client:"><code>Pod</code>のログを見ると、クライアントによって<code>System.out</code>に出力される最後の行が表示されます:</span></p>

<pre
lang="bash"

>kubectl logs extend-client-k7wfq</pre>

<p><span class="merged" id="all.1EHT1U" style='background-color:yellow' title="原文 : The last line of the log will be something like this:">ログの最後の行は次のようになります:</span></p>

<pre
lang="bash"

>Put key=key-1 value=0.9332279895860512 previous=null</pre>

<p><span class="merged" id="all.2zLOZ4.spl1" style='background-color:yellow' title="原文 : The values will be different as we put different random values each time the client runs.">クライアントを実行するたびに異なるランダム値を配置するため、値は異なります。</span> <span class="merged" id="all.2zLOZ4.spl2" style='background-color:yellow' title="原文 : The previous value was null in this case as we have not run any other client with this cluster.">このクラスタで他のクライアントを実行していないため、前の値は<code>null</code>でした。</span> <span class="merged" id="all.2zLOZ4.spl3" style='background-color:yellow' title="原文 : If we re-ran the client Job the previous value would be displayed as the cache on the server now has data in it.">クライアント<code>Job</code>を再実行すると、サーバー上のキャッシュにデータが含まれるため、以前の値が表示されます。</span> </p>

<p><span class="merged" id="all.lK96I" style='background-color:yellow' title="原文 : Clean-Up"><strong>クリーンアップ</strong></span></p>

<p><span class="merged" id="all.1BiTmq.spl1" style='background-color:yellow' title="原文 : We have shown a simple Extend client running in Kubernetes, connecting to a Coherence cluster using the NameService.">Kubernetesで実行されている単純なExtendクライアントを示し、NameServiceを使用してCoherenceクラスタに接続しています。</span> <span class="merged" id="all.1BiTmq.spl2" style='background-color:yellow' title="原文 : We can now delete the Job using kubectl."><code>kubectl</code>を使用して<code>Job</code>を削除できるようになりました。</span> </p>

<pre
lang="bash"

>kubectl delete job extend-client</pre>

<p><span class="merged" id="all.AZT3e" style='background-color:yellow' title="原文 : We can also delete the server.">サーバーを削除することもできます。</span></p>

<pre
lang="bash"

>kubectl delete -f manifests/default-server.yaml</pre>

</div>
</div>

<h3 id="_deploy_the_client_to_a_different_namespace"><span class="merged" id="all.2bGEIB" style='background-color:yellow' title="原文 : Deploy the Client to a Different Namespace">別のネームスペースへのクライアントのデプロイ</span></h3>
<div class="section">
<p><span class="merged" id="all.7ApNM.spl1" style='background-color:yellow' title="原文 : In the first example we deployed the client to the same namespace as the server.">最初の例では、クライアントをサーバーと同じネームスペースにデプロイしました。</span> <span class="merged" id="all.7ApNM.spl2" style='background-color:yellow' title="原文 : If we wanted to deploy the client to a different namespace we would need to ensure the fully qualified name of the WKA service is used when setting the COHERENCE_WKA environment variable.">クライアントを別のネームスペースにデプロイする場合は、<code>COHERENCE_WKA</code>環境変数を設定するときにWKAサービスの完全修飾名を使用する必要があります。</span> <span class="merged" id="all.7ApNM.spl3" style='background-color:yellow' title="原文 : The Coherence cluster is deployed into the default namespace so the fully qualified WKA service name is storage-wka.default.svc.">Coherenceクラスタは、<code>default</code>ネームスペースにデプロイされるため、完全修飾WKAサービス名は<code>storage-wka.default.svc</code>です。</span> </p>

<pre
lang="yaml"
title="manifests/minimal-job.yaml"
>apiVersion: batch/v1
kind: Job
metadata:
  name: extend-client
spec:
  template:
    spec:
      restartPolicy: Never
      containers:
        - name: client
          image: simple-extend-client:1.0.0
          env:
            - name: COHERENCE_CACHECONFIG
              value: minimal-client-cache-config.xml
            - name: COHERENCE_WKA
              value: storage-wka.default.svc
            - name: COHERENCE_CLUSTER
              value: storage</pre>

<p><span class="merged" id="all.4VwezJ" style='background-color:yellow' title="原文 : We can deploy this client Job into a different namespace than the cluster is deployed into:">このクライアント<code>Job</code>は、クラスタのデプロイ先とは異なるネームスペースにデプロイできます:</span></p>

<pre
lang="bash"

>kubectl create ns coherence-test
kubectl apply -f manifests/minimal-other-namespace-job.yaml -n coherence-test</pre>

<p><span class="merged" id="all.2K9Isf" style='background-color:yellow' title="原文 : We should see the Job complete successfully."><code>Job</code>が正常に完了したことがわかります。</span></p>

</div>
</div>

<h2 id="_extend_clients_external_to_kubernetes"><span class="merged" id="all.3Rwqy9" style='background-color:yellow' title="原文 : Extend Clients External to Kubernetes">外部クライアントをKubernetesに拡張</span></h2>
<div class="section">
<p><span class="merged" id="all.Zhyja.spl1" style='background-color:yellow' title="原文 : The NameService example above will only work if the client is running inside the same Kubernetes cluster as the server.">前述のNameServiceの例は、クライアントがサーバーと同じKubernetesクラスタ内で実行されている場合にのみ機能します。</span> <span class="merged" id="all.Zhyja.spl2" style='background-color:yellow' title="原文 : When the client uses the Coherence NameService to look up the addresses of the Extend proxy service, the cluster only knows its internal IP addresses.">クライアントがCoherence NameServiceを使用してExtendプロキシ・サービスのアドレスを参照する場合、クラスタは内部IPアドレスのみを認識します。</span> <span class="merged" id="all.Zhyja.spl3" style='background-color:yellow' title="原文 : If a client external to Kubernetes tried to use the NameService the addresses returned would be unreachable, as they are internal to the Kubernetes cluster.">Kubernetesの外部のクライアントがNameServiceを使用しようとすると、Kubernetesクラスタの内部にあるため、返されるアドレスにアクセスできなくなります。</span> </p>

<p><span class="merged" id="all.3T616r" style='background-color:yellow' title="原文 : To connect external Extend clients, the proxy must be bound to known ports and those ports exposed to the client via some form of service or ingress.">外部Extendクライアントを接続するには、プロキシが既知のポートおよびクライアントに公開されているポートに、なんらかの形式のサービスまたはイングレスを介してバインドされている必要があります。</span></p>


<h3 id="_proxy_server_configuration_2"><span class="merged" id="all.4TelXp.1"  title="原文:: Proxy Server Configuration">プロキシ・サーバーの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.2kwoCi" style='background-color:yellow' title="原文 : The Extend proxy service on the server must be configured to have a fixed port, so there is a little more configuration than previously.">サーバー上の拡張プロキシ・サービスが固定ポートを持つように構成されている必要があります。そのため、以前よりも少し多くの構成があります。</span></p>

<p><span class="merged" id="all.43Lqvn" style='background-color:yellow' title="原文 : The example server image contains a Coherence configuration file named test-cache-config.xml, which contains an Extend proxy configured to bind to all host addresses (0.0.0.0) on port 20000.">サーバー・イメージの例には、ポート2000上のすべてのホスト・アドレス(<code>0.0.0.0</code>)にバインドするように構成されたExtendプロキシを含む、<code>test-cache-config.xml</code>という名前のCoherence構成ファイルが含まれています。</span></p>

<pre
lang="xml"
title="test-cache-config.xml"
>&lt;proxy-scheme&gt;
  &lt;service-name&gt;Proxy&lt;/service-name&gt;
  &lt;acceptor-config&gt;
    &lt;tcp-acceptor&gt;
      &lt;local-address&gt;
        &lt;!-- The proxy will listen on all local addresses --&gt;
        &lt;address&gt;0.0.0.0&lt;/address&gt;
        &lt;port&gt;20000&lt;/port&gt;
      &lt;/local-address&gt;
    &lt;/tcp-acceptor&gt;
  &lt;/acceptor-config&gt;
  &lt;autostart&gt;true&lt;/autostart&gt;
&lt;/proxy-scheme&gt;</pre>

</div>

<h3 id="_deploy_the_server_2"><span class="merged" id="all.3FfRYe.1" style='background-color:yellow' title="原文 : Deploy the Server">サーバーのデプロイ</span></h3>
<div class="section">
<p><span class="merged" id="all.2HtiNf" style='background-color:yellow' title="原文 : The example contains a yaml file that can be used to deploy a Coherence server with the fixed proxy address, as shown above.">この例では、前述のように固定プロキシ・アドレスを使用してCoherenceサーバーをデプロイするために使用できるyamlファイルが含まれています。</span></p>

<pre
lang="yaml"
title="manifests/fixed-port-server.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  image: simple-coherence:1.0.0
  replicas: 3
  coherence:
    cacheConfig: test-cache-config.xml
  ports:
    - name: extend
      port: 20000</pre>

<p><span class="merged" id="all.3Paoe3" style='background-color:yellow' title="原文 : The yaml above will deploy a three member cluster configured to use the default test-cache-config.xml configuration file and expose the Extend port via a service.">前述のyamlは、デフォルトの<code>test-cache-config.xml</code>構成ファイルを使用するように構成された3つのメンバー・クラスタをデプロイし、サービスを介してExtendポートを公開します。</span></p>

<p><span class="merged" id="all.rkxnR" style='background-color:yellow' title="原文 : The server can be deployed with the following command.">サーバーは次のコマンドを使用してデプロイできます。</span></p>

<pre
lang="bash"

>kubectl apply -f manifests/fixed-port-server.yaml</pre>

<p><span class="merged" id="all.2nTfEx" style='background-color:yellow' title="原文 : The resources created by the Coherence Operator can be listed:">Coherence Operatorによって作成されたリソースをリストできます:</span></p>

<pre
lang="bash"

>kubectl get all</pre>

<pre
lang="bash"

>NAME            READY   STATUS    RESTARTS   AGE
pod/storage-0   1/1     Running   0          61s
pod/storage-1   1/1     Running   0          61s
pod/storage-2   1/1     Running   0          61s

NAME                     TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)     AGE
service/storage-extend   ClusterIP   10.101.99.24   &lt;none&gt;        20000/TCP   61s
service/storage-sts      ClusterIP   None           &lt;none&gt;        7/TCP       61s
service/storage-wka      ClusterIP   None           &lt;none&gt;        7/TCP       61s

NAME                       READY   AGE
statefulset.apps/storage   3/3     61s</pre>

<p><span class="merged" id="all.472tYG" style='background-color:yellow' title="原文 : As well as the Pods and Services created in the previous example, there is now a Service named storage-extend, which exposes the Extend port.">前の例で作成した<code>Pods</code>および<code>Services</code>に加えて、拡張ポートを公開する<code>storage-extend</code>という名前の<code>Service</code>があります。</span></p>

</div>

<h3 id="_configure_the_extend_client"><span class="merged" id="all.2tv0yo" style='background-color:yellow' title="原文 : Configure the Extend Client">拡張クライアントの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.3L6Vos.spl1" style='background-color:yellow' title="原文 : An external client needs to be configured with a remote scheme that connects to a known address and port.">外部クライアントは、既知のアドレスおよびポートに接続するリモート・スキームで構成する必要があります。</span> <span class="merged" id="all.3L6Vos.spl2" style='background-color:yellow' title="原文 : The example contains a cache configuration file named src/main/resources/fixed-address-cache-config.xml that has this configuration.">この例には、この構成を持つ<code>src/main/resources/fixed-address-cache-config.xml</code>という名前のキャッシュ構成ファイルが含まれています。</span> </p>

<pre
lang="xml"
title="src/main/resources/fixed-address-cache-config.xml"
>&lt;remote-cache-scheme&gt;
  &lt;scheme-name&gt;remote&lt;/scheme-name&gt;
  &lt;service-name&gt;RemoteCache&lt;/service-name&gt;
  &lt;proxy-service-name&gt;Proxy&lt;/proxy-service-name&gt;
  &lt;initiator-config&gt;
    &lt;tcp-initiator&gt;
      &lt;remote-addresses&gt;
        &lt;socket-address&gt;
            &lt;!-- the 127.0.0.1 loop back address will only work in local dev testing --&gt;
            &lt;address system-property="coherence.extend.address"&gt;127.0.0.1&lt;/address&gt;
            &lt;port system-property="coherence.extend.port"&gt;20000&lt;/port&gt;
        &lt;/socket-address&gt;
      &lt;/remote-addresses&gt;
    &lt;/tcp-initiator&gt;
  &lt;/initiator-config&gt;
&lt;/remote-cache-scheme&gt;</pre>

<p><span class="merged" id="all.4fczgU.spl1" style='background-color:yellow' title="原文 : When the client runs using the configuration above it will attempt to connect to an Extend proxy on 127.0.0.1:20000.">上記の構成を使用してクライアントを実行すると、<code>127.0.0.1:20000</code>のExtendプロキシに接続しようとします。</span> <span class="merged" id="all.4fczgU.spl2" style='background-color:yellow' title="原文 : The address to connect to can be overridden by setting the coherence.extend.address system property.">接続先のアドレスは、<code>coherence.extend.address</code>システム・プロパティを設定することでオーバーライドできます。</span> <span class="merged" id="all.4fczgU.spl3" style='background-color:yellow' title="原文 : The port to connect to can be overridden by setting the coherence.extend.port system property.">接続先のポートは、<code>coherence.extend.port</code>システム・プロパティを設定することでオーバーライドできます。</span> </p>

</div>

<h3 id="_run_the_extend_client"><span class="merged" id="all.11vsgY" style='background-color:yellow' title="原文 : Run the Extend Client">拡張クライアントの実行</span></h3>
<div class="section">
<p><span class="merged" id="all.qFEzw" style='background-color:yellow' title="原文 : This example assumes that you are running Kubernetes on a development machine, for example with KinD, of Minikube or in Docker, etc. In this case the Service created is of type ClusterIP, so it is not actually exposed outside of Kubernetes as most development Kubernetes clusters do not support services of type LoadBalancer.">この例では、<code>KinD</code>、<code>Minikube</code>、Dockerなどで開発マシン上でKubernetesを実行していることを前提としています。この場合、作成される<code>Service</code>は<code>ClusterIP</code>タイプであるため、ほとんどの開発Kubernetesクラスタは<code>LoadBalancer</code>タイプのサービスをサポートしていないため、Kubernetesの外部では実際には公開されません。</span></p>

<p><span class="merged" id="all.2Td0G.spl1" style='background-color:yellow' title="原文 : This means that to test the external client we will need to use port forwarding.">つまり、外部クライアントをテストするには、ポート転送を使用する必要があります。</span> <span class="merged" id="all.2Td0G.spl2" style='background-color:yellow' title="原文 : In a console start the port forwarder using kubectl as follows">コンソールで、次のように<code>kubectl</code>を使用してポート・フォワーダを起動</span> </p>

<pre
lang="bash"

>kubectl port-forward svc/storage-extend 20000:20000</pre>

<p><span class="merged" id="all.2ePRKh" style='background-color:yellow' title="原文 : The example client can not connect to the Extend proxy via the host machine on port 20000.">例クライアントは、ポート<code>20000</code>のホスト・マシンを介してExtendプロキシに接続できません。</span></p>

<p><span class="merged" id="all.3JV7g9.spl1" style='background-color:yellow' title="原文 : The simplest way to run the Extend client locally is to use either Maven or Gradle.">Extendクライアントをローカルで実行する最も簡単な方法は、MavenまたはGradleを使用することです。</span> <span class="merged" id="all.3JV7g9.spl2" style='background-color:yellow' title="原文 : The Maven pom.xml file uses the Maven Exec plugin to run the client.">Maven <code>pom.xml</code>ファイルは、Maven Execプラグインを使用してクライアントを実行します。</span> <span class="merged" id="all.3JV7g9.spl3" style='background-color:yellow' title="原文 : The Gradle build.gradle file configures a run task to execute the client.">Gradle <code>build.gradle</code>ファイルは、クライアントを実行するために実行タスクを構成します。</span> </p>

<p><span class="merged" id="all.1hB2m5" style='background-color:yellow' title="原文 : With Maven:">Mavenの場合:</span></p>

<pre
lang="bash"

>./mvnw compile exec:java</pre>

<p><span class="merged" id="all.3FwFBp" style='background-color:yellow' title="原文 : With Gradle:">Gradleの場合:</span></p>

<pre
lang="bash"

>./gradlew runClient</pre>

<p><span class="merged" id="all.arvH" style='background-color:yellow' title="原文 : Both of the above commands run successfully and the final line of output should be the line printed by the client showing the result of the put.">前述のコマンドは両方とも正常に実行され、出力の最終行は、クライアントによって出力された、putの結果を示す行である必要があります。</span></p>

<pre
lang="bash"

>Put key=key-1 value=0.5274436018741687 previous=null</pre>

<p><span class="merged" id="all.3CvAMP" style='background-color:yellow' title="原文 : Clean-up"><strong>Clean-up</strong></span></p>

<p><span class="merged" id="all.tc3va" style='background-color:yellow' title="原文 : We can now delete the server.">これで、サーバーを削除できます。</span></p>

<pre
lang="bash"

>kubectl delete -f manifests/fixed-port-server.yaml</pre>

</div>
</div>

<h2 id="_mixing_internal_and_external_extend_clients"><span class="merged" id="all.12GUAu" style='background-color:yellow' title="原文 : Mixing Internal and External Extend Clients">内部および外部拡張クライアントの混在</span></h2>
<div class="section">
<p><span class="merged" id="all.1EXYBE.spl1" style='background-color:yellow' title="原文 : The example server configuration used for connecting external clients can also be used for internal Extend clients, which is useful for use-cases where some clients are inside Kubernetes and some outside.">外部クライアントの接続に使用するサーバー構成の例は、内部Extendクライアントにも使用できます。これは、一部のクライアントがKubernetes内および一部の外部にあるユースケースに役立ちます。</span> <span class="merged" id="all.1EXYBE.spl2" style='background-color:yellow' title="原文 : An Extend client running inside Kubernetes then has the choice of using the NameService configuration from the first example, or using the fixed address and port configuration of the second example.">Kubernetes内で実行中のExtendクライアントでは、最初の例からNameService構成を使用するか、2番目の例の固定アドレスおよびポート構成を使用するかを選択できます。</span> </p>

<p><span class="merged" id="all.3w3wci" style='background-color:yellow' title="原文 : If an internal Extend client is configured to use a fixed address then the host name of the proxy can be set to the service used to expose the server’s extend port.">内部拡張クライアントが固定アドレスを使用するように構成されている場合、プロキシのホスト名をサーバーの拡張ポートの公開に使用するサービスに設定できます。</span></p>

<p><span class="merged" id="all.1eL1v8" style='background-color:yellow' title="原文 : For example, if the client’s cache configuration file contains a remote scheme like the external example above:">たとえば、クライアントのキャッシュ構成ファイルに、前述の外部の例のようなリモート・スキームが含まれている場合:</span></p>

<pre
lang="xml"
title="src/main/resources/fixed-address-cache-config.xml"
>&lt;remote-cache-scheme&gt;
  &lt;scheme-name&gt;remote&lt;/scheme-name&gt;
  &lt;service-name&gt;RemoteCache&lt;/service-name&gt;
  &lt;proxy-service-name&gt;Proxy&lt;/proxy-service-name&gt;
  &lt;initiator-config&gt;
    &lt;tcp-initiator&gt;
      &lt;remote-addresses&gt;
        &lt;socket-address&gt;
            &lt;!-- the 127.0.0.1 loopback address will only work in local dev testing --&gt;
            &lt;address system-property="coherence.extend.address"&gt;127.0.0.1&lt;/address&gt;
            &lt;port system-property="coherence.extend.port"&gt;20000&lt;/port&gt;
        &lt;/socket-address&gt;
      &lt;/remote-addresses&gt;
    &lt;/tcp-initiator&gt;
  &lt;/initiator-config&gt;
&lt;/remote-cache-scheme&gt;</pre>

<p><span class="merged" id="all.mkOqI" style='background-color:yellow' title="原文 : The client would be run with the coherence.extend.address system property, (or COHERENCE_EXTEND_ADDRESS environment variable) set to the fully qualified name of the Extend service, in the case of our example server running in the default namespace, this would be -Dcoherence.extend.address=storage-extend.default.svc">クライアントは、<code>coherence.extend.address</code>システム・プロパティ(または<code>COHERENCE_EXTEND_ADDRESS</code>環境変数)をExtendサービスの完全修飾名に設定して実行されます(デフォルト・ネームスペースで実行されているサンプル・サーバーの場合、これは<code>-Dcoherence.extend.address=storage-extend.default.svc</code>になります)</span></p>

</div>

<h2 id="_external_client_in_the_real_world"><span class="merged" id="all.CrkzX" style='background-color:yellow' title="原文 : External Client in the Real World">実世界の外部クライアント</span></h2>
<div class="section">
<p><span class="merged" id="all.3RWJtw.spl1" style='background-color:yellow' title="原文 : The example above used port-forward to connect the external Extend client to the cluster.">前述の例では、外部Extendクライアントをクラスタに接続するためにport-forwardを使用しました。</span> <span class="merged" id="all.3RWJtw.spl2" style='background-color:yellow' title="原文 : This showed how to configure the client and server but is not how a real world application would work.">これは、クライアントとサーバーの構成方法を示していますが、実世界アプリケーションがどのように機能するかではありません。</span> <span class="merged" id="all.3RWJtw.spl3" style='background-color:yellow' title="原文 : In a real deployment the server would typically be deployed with the Extend service behind a load balancer or some other form of ingress, such as Istio.">実際のデプロイメントでは、通常、サーバーはロード・バランサの背後にあるExtendサービス、またはIstioなどのその他の形式のイングレスを使用してデプロイされます。</span> <span class="merged" id="all.3RWJtw.spl4" style='background-color:yellow' title="原文 : The Extend client would then be configured to connect to the external ingress address and port.">その後、Extendクライアントは外部のイングレス・アドレスおよびポートに接続するように構成されます。</span> <span class="merged" id="all.3RWJtw.spl5" style='background-color:yellow' title="原文 : Some ingress, such as Istio, can also be configured to add TLS security, which Extend will work with.">Istioなどの一部のイングレスは、Extendが機能するTLSセキュリティを追加するように構成することもできます。</span> </p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.6"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.XeeHH.spl1" style='background-color:yellow' title="原文 : There is an open source project named MetalLB that can easily be deployed into development environment Kubernetes clusters and provides support for load balancer services."><a href="https://metallb.universe.tf" id="" target="_blank" >MetalLB</a>という名前のオープン・ソース・プロジェクトがあり、開発環境のKubernetesクラスタに簡単にデプロイでき、ロード・バランサ・サービスのサポートが提供されます。</span> <span class="merged" id="all.XeeHH.spl2" style='background-color:yellow' title="原文 : This is a simple way to test and try out load balancers in development Kubernetes.">これは、開発Kubernetesでロード・バランサをテストして試す簡単な方法です。</span> </p>

<p><span class="merged" id="all.1YXkt9" style='background-color:yellow' title="原文 : If MetalLB was installed (or your cluster supports LoadBalancer services) the yaml for deploying the cluster can be altered to make the Extend service a load balancer.">MetalLBがインストールされている場合(またはクラスタでLoadBalancerサービスがサポートされている場合)、クラスタをデプロイするためのyamlを変更して、Extendサービスをロード・バランサにできます。</span></p>

<pre
lang="yaml"
title="manifests/fixed-port-lb-server.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  image: simple-coherence:1.0.0
  replicas: 3
  coherence:
    cacheConfig: test-cache-config.xml
  ports:
    - name: extend
      port: 20000
      service:
        type: LoadBalancer</pre>

<p><span class="merged" id="all.Xt7U0" style='background-color:yellow' title="原文 : This can be deployed using:">これは、次のものを使用してデプロイできます:</span></p>

<pre
lang="bash"

>kubectl apply -f manifests/fixed-port-lb-server.yaml</pre>

<p><span class="merged" id="all.8KPuB" style='background-color:yellow' title="原文 : Now if we look at the Extend service, we see it is a load balancer">Extendサービスを調べると、ロード・バランサであることがわかります</span></p>

<pre
lang="bash"

>kubectl get svc storage-extend</pre>

<pre
lang="bash"

>NAME             TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)           AGE
storage-extend   LoadBalancer   10.110.84.229   127.0.0.240   20000:30710/TCP   2m20s</pre>

<p><span class="merged" id="all.2b0iSG" style='background-color:yellow' title="原文 : Exactly how you connect to the MetalLB load balancer, and on which address, varies depending on where your Kubernetes cluster is running.">MetalLBロード・バランサへの接続方法と、どのアドレスで、Kubernetesクラスタが実行されている場所に応じて異なります。</span></p>
</p>
</div>
</div>
</doc-view>
<!-- pages/examples/090_tls/README.js -->
<doc-view>

<h2 id="_secure_coherence_with_tls"><span class="merged" id="all.3CiJMt" style='background-color:yellow' title="原文 : Secure Coherence with TLS">TLSによるセキュアなCoherence</span></h2>
<div class="section">
<p><span class="merged" id="all.3NVsIr.spl1" style='background-color:yellow' title="原文 : This example is going to show how to use TLS (or SSL) to secure communication between different parts of a Coherence cluster and applications.">この例では、TLS (またはSSL)を使用してCoherenceクラスタの様々な部分とアプリケーション間の通信を保護する方法を示します。</span> <span class="merged" id="all.3NVsIr.spl2" style='background-color:yellow' title="原文 : This is quite a long guide as there are a number of things that can be secured wth TLS.">これは非常に長いガイドです。TLSで保護できるものがたくさんあります。</span> </p>

<p><span class="merged" id="all.1hBKX5" style='background-color:yellow' title="原文 : This example shows how to secure various parts of Coherence clusters using TLS.">この例では、TLSを使用してCoherenceクラスタの様々な部分を保護する方法を示します。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.7"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.1Lrg8m" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/090_tls" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>
<p><span class="merged" id="all.3fLMNA.spl1" style='background-color:yellow' title="原文 : In this example we are going to use Cert Manager to manage the keys and certs for our Coherence server and clients.">この例では、<a href="https://cert-manager.io" id="" target="_blank" >「証明書マネージャ」</a>を使用して、Coherenceサーバーおよびクライアントのキーおよび証明書を管理します。</span> <span class="merged" id="all.3fLMNA.spl2" style='background-color:yellow' title="原文 : Cert Manage makes managing certificates in Kubernetes very simple, but it isn’t the only solution.">証明書管理により、Kubernetesの証明書の管理が非常に簡単になりますが、唯一の解決策ではありません。</span> </p>

<p><span class="merged" id="all.1vLaU6" style='background-color:yellow' title="原文 : Although securing clusters with TLS is a common request, if running in a secure isolated Kubernetes cluster, you need to weigh up the pros and cons regarding the performance impact TLS will give over the additional security.">TLSを使用してクラスタを保護することは一般的なリクエストですが、セキュアな分離されたKubernetesクラスタで実行する場合、TLSがセキュリティを強化するパフォーマンスへの影響に関して、長所と短所を比較検討する必要があります。</span></p>

<p><span class="merged" id="all.HyCDg" style='background-color:yellow' title="原文 : Using Cert Manager we will ultimately end up with four k8s Secrets:">Cert Managerを使用すると、最終的に4つのk8s <code>Secrets</code>で終了します:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1r62mj" style='background-color:yellow' title="原文 : A Secret containing the server keys, certs, keystore and truststore">サーバー・キー、証明書、キーストアおよびトラスト・ストアを含む<code>Secret</code></span></p>

</li>
<li>
<p><span class="merged" id="all.3qZCdi" style='background-color:yellow' title="原文 : A Secret containing a single file containing the server keystore, truststore and key password">サーバー・キーストア、トラスト・ストアおよびキー・パスワードを含む単一ファイルを含む<code>Secret</code></span></p>

</li>
<li>
<p><span class="merged" id="all.2Hqhj2" style='background-color:yellow' title="原文 : A Secret containing the client keys, certs, keystore and truststore">クライアント・キー、証明書、キーストアおよびトラスト・ストアを含む<code>Secret</code></span></p>

</li>
<li>
<p><span class="merged" id="all.3NiK17" style='background-color:yellow' title="原文 : A Secret containing a single file containing the client keystore, truststore and key password">クライアント・キーストア、トラスト・ストアおよびキー・パスワードを含む単一ファイルを含む<code>Secret</code></span></p>

</li>
</ul>
<p><span class="merged" id="all.14TiMU" style='background-color:yellow' title="原文 : If you do not want to use Cert Manager to try this example then a long as you have a way to create the required Secrets containing the keys and passwords above then you can skip to the section on Securing Coherence.">上記のキーとパスワードを含む必要な<code>Secrets</code>を作成できるかぎり、証明書マネージャを使用してこの例を試行しない場合は、<router-link @click.native="this.scrollFix('#coherence')" to="#coherence">「Coherenceの保護」</router-link>のセクションにスキップできます。</span></p>


<h3 id="_what_the_example_will_cover"><span class="merged" id="all.2Qjxxs" style='background-color:yellow' title="原文 : What the Example will Cover">例でカバーされる内容</span></h3>
<div class="section">
<ul class="ulist">
<li>
<p><span class="merged" id="all.4CKimw" style='background-color:yellow' title="原文 : Install the Operator"><router-link @click.native="this.scrollFix('#install_operator')" to="#install_operator">オペレータをインストール</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2td7cc" style='background-color:yellow' title="原文 : Setting Up Cert-Manager"><router-link @click.native="this.scrollFix('#setup_cert_manager')" to="#setup_cert_manager">証明書マネージャの設定</router-link></span></p>
<ul class="ulist">
<li>
<p><span class="merged" id="all.3tLJHP" style='background-color:yellow' title="原文 : Create the SelfSigned Issuer"><router-link @click.native="this.scrollFix('#create_self_signed_issuer')" to="#create_self_signed_issuer">SelfSigned発行者の作成</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1uHMXj" style='background-color:yellow' title="原文 : Create the CA Certificate"><router-link @click.native="this.scrollFix('#create_ce_cert')" to="#create_ce_cert">CA証明書の作成</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.QFcNh" style='background-color:yellow' title="原文 : Create the CA issuer"><router-link @click.native="this.scrollFix('#create_ca_issuer')" to="#create_ca_issuer">CA発行者の作成</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1xRc0F" style='background-color:yellow' title="原文 : Create the Coherence Keys, Certs and KeyStores"><router-link @click.native="this.scrollFix('#create_coherence_keystores')" to="#create_coherence_keystores">Coherenceキー、証明書およびKeyStoresの作成</router-link></span></p>
<ul class="ulist">
<li>
<p><span class="merged" id="all.2agTo6" style='background-color:yellow' title="原文 : Create the Server Keystore Password Secret"><router-link @click.native="this.scrollFix('#server_password_secret')" to="#server_password_secret">サーバー・キーストアのパスワード・シークレットの作成</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2Lf3Nz" style='background-color:yellow' title="原文 : Create the Server Certificate"><router-link @click.native="this.scrollFix('#server_cert')" to="#server_cert">サーバー証明書の作成</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1f2fSc" style='background-color:yellow' title="原文 : Create the Client Certificate"><router-link @click.native="this.scrollFix('#client_certs')" to="#client_certs">クライアント証明書の作成</router-link></span></p>

</li>
</ul>
</li>
</ul>
</li>
<li>
<p><span class="merged" id="all.1t746b" style='background-color:yellow' title="原文 : Securing Coherence Clusters"><router-link @click.native="this.scrollFix('#coherence')" to="#coherence">Coherenceクラスタの保護</router-link></span></p>
<ul class="ulist">
<li>
<p><span class="merged" id="all.2JNPvI" style='background-color:yellow' title="原文 : Build the Example Images"><router-link @click.native="this.scrollFix('#images')" to="#images">サンプル・イメージの作成</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4DVs3u" style='background-color:yellow' title="原文 : Configure a Socket Provider"><router-link @click.native="this.scrollFix('#socket_provider')" to="#socket_provider">ソケット・プロバイダの構成</router-link></span></p>

</li>
</ul>
</li>
<li>
<p><span class="merged" id="all.45YDlx" style='background-color:yellow' title="原文 : Secure Cluster Membership"><router-link @click.native="this.scrollFix('#tcmp')" to="#tcmp">セキュアなクラスタ・メンバーシップ</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.4GZJxz" style='background-color:yellow' title="原文 : Secure Extend"><router-link @click.native="this.scrollFix('#extend')" to="#extend">セキュアな拡張</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3XVgoZ" style='background-color:yellow' title="原文 : Secure gRPC"><router-link @click.native="this.scrollFix('#grpc')" to="#grpc">セキュアgRPC</router-link></span></p>

</li>
</ul>
</div>

<h3 id="install_operator"><span class="merged" id="all.3Uw9Iy.2" style='background-color:yellow' title="原文 : Install the Operator">オペレータのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.3qj9CL" style='background-color:yellow' title="原文 : To run the examples below, you will need to have installed the Coherence Operator, do this using whatever method you prefer from the Installation Guide">次の例を実行するには、Coherence Operatorをインストールし、<a href="https://oracle.github.io/coherence-operator/docs/latest/#/docs/installation/01_installation" id="" target="_blank" >「インストール・ガイド」</a>から必要なメソッドでインストールする必要があります</span></p>

</div>

<h3 id="setup_cert_manager"><span class="merged" id="all.37zSlJ" style='background-color:yellow' title="原文 : Setting Up Cert-Manager">証明書マネージャの設定</span></h3>
<div class="section">
<p><span class="merged" id="all.3pSqRZ.spl1" style='background-color:yellow' title="原文 : In this example we will use self-signed certs as this makes everything easy to get going.">この例では、すべてが簡単に実行できるように、自己署名証明書を使用します。</span> <span class="merged" id="all.3pSqRZ.spl2" style='background-color:yellow' title="原文 : Cert Manager has a number of ways to configure real certificates for production use.">Cert Managerには、本番で使用するために実際の証明書を構成する様々な方法があります。</span> <span class="merged" id="all.3pSqRZ.spl3" style='background-color:yellow' title="原文 : Assuming that you’ve installed Cert Manager using one of the methods in its Install Guide we can proceed to created all of the required resources."><a href="https://cert-manager.io/docs/installation/" id="" target="_blank" >「インストール・ガイド」</a>のメソッドのいずれかを使用して証明書マネージャをインストールした場合、必要なすべてのリソースの作成に進むことができます。</span> </p>


<h4 id="create_self_signed_issuer"><span class="merged" id="all.9ZOsm" style='background-color:yellow' title="原文 : Create the SelfSigned Issuer">SelfSigned発行者の作成</span></h4>
<div class="section">
<p><span class="merged" id="all.15kSj1.spl1" style='background-color:yellow' title="原文 : This is used to generate a root CA for use with the CA Issuer.">これは、CA発行者で使用するルートCAを生成するために使用されます。</span> <span class="merged" id="all.15kSj1.spl2" style='background-color:yellow' title="原文 : Here we are using a ClusterIssuer so that we can use a single self-signed issuer across all namespaces.">ここでは、すべてのネームスペースで1つの自己署名発行者を使用できるように、<code>ClusterIssuer</code>を使用しています。</span> <span class="merged" id="all.15kSj1.spl3" style='background-color:yellow' title="原文 : We could have instead created an Issuer in a single namespace.">かわりに、単一のネームスペースに<code>Issuer</code>を作成することもできます。</span> </p>

<pre
lang="yaml"
title="manifests/selfsigned-issuer.yaml"
>apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: selfsigned-issuer
spec:
  selfSigned: {}</pre>

<p><span class="merged" id="all.2aHeuy.spl1" style='background-color:yellow' title="原文 : Create the ClusterIssuer with the following command.">次のコマンドを使用して<code>ClusterIssuer</code>を作成します。</span> <span class="merged" id="all.2aHeuy.spl2" style='background-color:yellow' title="原文 : As this is a ClusterIssuer, is does not require a namespace.">これは<code>ClusterIssuer</code>であるため、ネームスペースは必要ありません。</span> </p>

<pre
lang="bash"

>kubectl apply -f manifests/selfsigned-issuer.yaml</pre>

<p><span class="merged" id="all.EnBTD" style='background-color:yellow' title="原文 : We can list the ClusterIssuers in the cluster:">クラスタ内の<code>ClusterIssuers</code>をリストできます:</span></p>

<pre
lang="bash"

>kubectl get clusterissuer</pre>

<p><span class="merged" id="all.1TJv5c" style='background-color:yellow' title="原文 : We should see that the selfsigned-issuer is present and is ready."><code>selfsigned-issuer</code>が存在し、準備ができていることがわかります。</span></p>

<pre
lang="bash"

>NAME                READY   AGE
selfsigned-issuer   True    14m</pre>

</div>
</div>

<h3 id="create_ce_cert"><span class="merged" id="all.42zhtH" style='background-color:yellow' title="原文 : Create the CA Certificate">CA証明書の作成</span></h3>
<div class="section">
<p><span class="merged" id="all.47LsYs.spl1" style='background-color:yellow' title="原文 : We’re going to create an internal CA that will be used to sign our certificate requests for the Coherence server and clients that we will run later.">後で実行するCoherenceサーバーおよびクライアントに対する証明書リクエストの署名に使用される内部CAを作成します。</span> <span class="merged" id="all.47LsYs.spl2" style='background-color:yellow' title="原文 : Both the server and client will use the CA to validate a connection.">サーバーとクライアントの両方がCAを使用して接続をバリデートします。</span> </p>

<p><span class="merged" id="all.2tCkt0" style='background-color:yellow' title="原文 : To create the CA issuer, first create a self-signed CA certificate.">CA発行者を作成するには、最初に自己署名CA証明書を作成します。</span></p>

<pre
lang="yaml"
title="manifests/ca-cert.yaml"
>apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: ca-certificate
spec:
  issuerRef:
    name: selfsigned-issuer   <span class="conum" data-value="1" />
    kind: ClusterIssuer
    group: cert-manager.io
  secretName: ca-cert        <span class="conum" data-value="2" />
  duration: 2880h # 120d
  renewBefore: 360h # 15d
  commonName: Cert Admin
  isCA: true                 <span class="conum" data-value="3" />
  privateKey:
    size: 2048
  usages:
    - digital signature
    - key encipherment</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4UZcMn" style='background-color:yellow' title="原文 : The certificate will use the selfsigned-issuer cluster issuer we created above.">証明書は、上で作成した<code>selfsigned-issuer</code>クラスタ発行者を使用します。</span></li>
<li data-value="2"><span class="merged" id="all.1S7X7t" style='background-color:yellow' title="原文 : There will be a secret named ca-cert created containing the key and certificate">キーおよび証明書を含む<code>ca-cert</code>という名前のシークレットが作成されます</span></li>
<li data-value="3"><span class="merged" id="all.3gQYIn" style='background-color:yellow' title="原文 : Note that the isCA field is set to true in the body of the spec."><code>isCA</code>フィールドは、仕様の本文で<code>true</code>に設定されています。</span></li>
</ul>
<p><span class="merged" id="all.wmhtr" style='background-color:yellow' title="原文 : The CA issuer that we will create later will also be a ClusterIssuer, so in order for the issuer to find the Certificate above we will create the certificate in the cert-manager namespace, which is where Cert Manager is running.">後で作成するCA発行者も<code>ClusterIssuer</code>であるため、発行者が前述の<code>Certificate</code>を見つけるために、証明書を<code>cert-manager</code>ネームスペース(証明書マネージャが実行されている場所)に作成します。</span></p>

<pre
lang="bash"

>kubectl -n cert-manager apply -f manifests/ca-cert.yaml</pre>

<p><span class="merged" id="all.2ukpDS" style='background-color:yellow' title="原文 : We can see that the certificate was created and should be ready:">証明書が作成され、準備が完了していることがわかります:</span></p>

<pre
lang="bash"

>kubectl -n cert-manager get certificate</pre>

<pre
lang="bash"

>NAME             READY   SECRET    AGE
ca-certificate   True    ca-cert   12m</pre>

<p><span class="merged" id="all.DaCoy.spl1" style='background-color:yellow' title="原文 : There will also be a secret named ca-secret created in the cert-manager namespace."><code>cert-manager</code>ネームスペースには、<code>ca-secret</code>という名前のシークレットも作成されます。</span> <span class="merged" id="all.DaCoy.spl2" style='background-color:yellow' title="原文 : The Secret will contain the certificate and signing key, this will be created when the CA certificate is deployed, and the CA issuer will reference that secret.">シークレットには証明書と署名キーが含まれ、CA証明書がデプロイされたときに作成され、CA発行者がそのシークレットを参照します。</span> </p>

</div>

<h3 id="create_ca_issuer"><span class="merged" id="all.1lcjz8" style='background-color:yellow' title="原文 : Create the CA issuer.">CA発行者の作成。</span></h3>
<div class="section">
<p><span class="merged" id="all.1kUzO7" style='background-color:yellow' title="原文 : As with the self-signed issuer above, we will create a ClusterIssuer for the CA issuer.">前述の自己署名発行者と同様に、CA発行者の<code>ClusterIssuer</code>を作成します。</span></p>

<pre
lang="bash"
title="manifests/ca-cert.yaml"
>apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: ca-issuer
spec:
  ca:
    secretName: ca-cert  <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3qCgZ9" style='background-color:yellow' title="原文 : The ca-issuer will use the ca-cert secret created by the ca-certificate Certificate we created above."><code>ca-issuer</code>では、前述の<code>ca-certificate</code> <code>Certificate</code>によって作成された<code>ca-cert</code>シークレットを使用します。</span></li>
</ul>
<p><span class="merged" id="all.4MFMGs.spl1" style='background-color:yellow' title="原文 : Create the CA issuer with the following command.">次のコマンドを使用してCA発行者を作成します。</span> <span class="merged" id="all.4MFMGs.spl2" style='background-color:yellow' title="原文 : As this is a ClusterIssuer, is does not require a namespace.">これは<code>ClusterIssuer</code>であるため、ネームスペースは必要ありません。</span> </p>

<pre
lang="bash"

>kubectl apply -f manifests/ca-issuer.yaml</pre>

<p><span class="merged" id="all.27uSYR" style='background-color:yellow' title="原文 : You can then check that the issuer have been successfully configured by checking the status.">その後、ステータスをチェックして発行者が正常に構成されていることを確認できます。</span></p>

<pre
lang="bash"

>kubectl get clusterissuer</pre>

<p><span class="merged" id="all.4bxPUu" style='background-color:yellow' title="原文 : We should see that both ClusterIssuers we created are present and is ready.">作成した<code>ClusterIssuers</code>は両方存在し、準備ができていることがわかります。</span></p>

<pre
lang="bash"

>NAME                READY   AGE
ca-issuer           True    22m
selfsigned-issuer   True    31m</pre>

</div>

<h3 id="create_coherence_keystores"><span class="merged" id="all.2gzGHH" style='background-color:yellow' title="原文 : Create the Coherence Keys, Certs and KeyStores">Coherenceキー、証明書およびKeyStoresの作成</span></h3>
<div class="section">
<p><span class="merged" id="all.1XuG2Y.spl1" style='background-color:yellow' title="原文 : As the Coherence server, and client in this example, are Java applications they will require Java keystores to hold the certificates.">この例のCoherenceサーバーおよびクライアントは、証明書を保持するためにJavaキーストアを必要とするJavaアプリケーションです。</span> <span class="merged" id="all.1XuG2Y.spl2" style='background-color:yellow' title="原文 : We can use Cert-Manager to create these for us.">Cert-Managerを使用してこれを作成できます。</span> </p>


<h4 id="_create_a_namespace"><span class="merged" id="all.1R5Et7" style='background-color:yellow' title="原文 : Create a Namespace">ネームスペースの作成</span></h4>
<div class="section">
<p><span class="merged" id="all.3fyfXh" style='background-color:yellow' title="原文 : We will run the Coherence cluster in a namespace called coherence-test, so we will first create this:">Coherenceクラスタは、<code>coherence-test</code>というネームスペースで実行するため、最初にこれを作成します:</span></p>

<pre
lang="bash"

>kubectl create ns coherence-test</pre>

</div>

<h4 id="server_password_secret"><span class="merged" id="all.9CXJG" style='background-color:yellow' title="原文 : Create the Server Keystore Password Secret">サーバー・キーストアのパスワード・シークレットの作成</span></h4>
<div class="section">
<p><span class="merged" id="all.15i08z.spl1" style='background-color:yellow' title="原文 : The keystore will be secured with a password.">キーストアはパスワードで保護されます。</span> <span class="merged" id="all.15i08z.spl2" style='background-color:yellow' title="原文 : We will create this password in a Secret so that Cert-Manager can find and use it.">このパスワードを<code>Secret</code>に作成して、証明書マネージャがそのパスワードを検索して使用できるようにします。</span> <span class="merged" id="all.15i08z.spl3" style='background-color:yellow' title="原文 : The simplest way to create this secret is with kubectl:">このシークレットを作成する最も簡単な方法は、kubectlです:</span> </p>

<pre
lang="bash"

>kubectl -n coherence-test create secret generic \
    server-keystore-secret --from-literal=password-key=[your-password]</pre>

<p><span class="merged" id="all.CkuqY.spl1" style='background-color:yellow' title="原文 : …​replacing [your-password] with the actual password you want to use.">… <code>[your-password]</code>を、使用する実際のパスワードに置き換えます。</span> <span class="merged" id="all.CkuqY.spl2" style='background-color:yellow' title="原文 : Resulting in a Secret similar to this:">次のような<code>Secret</code>になります:</span> </p>

<pre
lang="bash"
title="manifests/ca-cert.yaml"
>apiVersion: v1
kind: Secret
metadata:
  name: server-keystore-secret
data:
  password-key: "cGFzc3dvcmQ=" <span class="conum" data-value="1" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2ZStvg" style='background-color:yellow' title="原文 : In this example the password used is password">この例では、使用されるパスワードは<code>password</code>です</span></li>
</ul>
</div>

<h4 id="server_cert"><span class="merged" id="all.4KMkse" style='background-color:yellow' title="原文 : Create the Server Certificate">サーバー証明書の作成</span></h4>
<div class="section">
<p><span class="merged" id="all.11Rb2l" style='background-color:yellow' title="原文 : We can now create the server certificate and keystore.">これで、サーバー証明書およびキーストアを作成できます。</span></p>

<pre
lang="yaml"
title="manifests/server-keystore.yaml"
>apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: server-keystore
spec:
  issuerRef:
    name: ca-issuer                   <span class="conum" data-value="1" />
    kind: ClusterIssuer
    group: cert-manager.io
  secretName: coherence-server-certs  <span class="conum" data-value="2" />
  keystores:
    jks:
      create: true
      passwordSecretRef:
        key: password-key
        name: server-keystore-secret  <span class="conum" data-value="3" />
  duration: 2160h # 90d
  renewBefore: 360h # 15d
  privateKey:
    size: 2048
    algorithm: RSA
    encoding: PKCS1
  usages:
    - digital signature
    - key encipherment
    - client auth
    - server auth
  commonName: Coherence Certs</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2Ovs13" style='background-color:yellow' title="原文 : The issuer will the ClusterIssuer named ca-issuer that we created above.">発行者は、前述の<code>ca-issuer</code>という名前の<code>ClusterIssuer</code>を作成します。</span></li>
<li data-value="2"><span class="merged" id="all.JCiXo" style='background-color:yellow' title="原文 : The keys, certs and keystores will be created in a secret named coherence-server-certs">キー、証明書およびキーストアは、<code>coherence-server-certs</code>という名前のシークレットに作成されます</span></li>
<li data-value="3"><span class="merged" id="all.12uqSA" style='background-color:yellow' title="原文 : The keystore password secret is the Secret named server-keystore-secret we created above">キーストア・パスワード・シークレットは、前述の<code>server-keystore-secret</code>という名前の<code>Secret</code>です</span></li>
</ul>
<p><span class="merged" id="all.hp5rA" style='background-color:yellow' title="原文 : We can create the certificate in the coherence-test namespace with the following command:">次のコマンドを使用して、<code>coherence-test</code>ネームスペースに証明書を作成できます:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test apply -f manifests/server-keystore.yaml</pre>

<p><span class="merged" id="all.1V2EPu" style='background-color:yellow' title="原文 : If we list the certificate in the coherence-test namespace we should see the new certificate and that it is ready."><code>coherence-test</code>ネームスペースに証明書をリストすると、新しい証明書が表示され、準備が完了していることがわかります。</span></p>

<pre
lang="bash"

>kubectl -n coherence-test get certificate</pre>

<pre
lang="bash"

>NAME              READY   SECRET                   AGE
server-keystore   True    coherence-server-certs   4s</pre>

<p><span class="merged" id="all.4FMjG0" style='background-color:yellow' title="原文 : If we list the secrets in the coherence-test namespace we should see both the password secret and the keystore secret:"><code>coherence-test</code>ネームスペースにシークレットをリストする場合、パスワード・シークレットとキーストア・シークレットの両方が表示されます:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test get secret</pre>

<pre
lang="bash"

>NAME                     TYPE                 DATA   AGE
coherence-server-certs   kubernetes.io/tls    5      117s
server-keystore-secret   Opaque               1      2m9s</pre>

</div>

<h4 id="client_certs"><span class="merged" id="all.31sAJY" style='background-color:yellow' title="原文 : Create the Client Certificate">クライアント証明書の作成</span></h4>
<div class="section">
<p><span class="merged" id="all.tBbhC" style='background-color:yellow' title="原文 : We can create the certificates and keystores for the client in exactly the same way we did for the server.">クライアントの証明書およびキーストアは、サーバーに対して行った方法とまったく同じ方法で作成できます。</span></p>

<p><span class="merged" id="all.ybHSd" style='background-color:yellow' title="原文 : Create a password secret for the client keystore:">クライアント・キーストアのパスワード・シークレットを作成します:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test create secret generic \
    client-keystore-secret --from-literal=password-key=[your-password]</pre>

<p><span class="merged" id="all.1MPijl" style='background-color:yellow' title="原文 : Create the client certificate and keystore.">クライアント証明書およびキーストアを作成します。</span></p>

<pre
lang="yaml"
title="manifests/client-keystore.yaml"
>apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: client-keystore
spec:
  issuerRef:
    name: ca-issuer                   <span class="conum" data-value="1" />
    kind: ClusterIssuer
    group: cert-manager.io
  secretName: coherence-client-certs  <span class="conum" data-value="2" />
  keystores:
    jks:
      create: true
      passwordSecretRef:
        key: password-key
        name: client-keystore-secret  <span class="conum" data-value="3" />
  duration: 2160h # 90d
  renewBefore: 360h # 15d
  privateKey:
    size: 2048
    algorithm: RSA
    encoding: PKCS1
  usages:
    - digital signature
    - key encipherment
    - client auth
  commonName: Coherence Certs</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3KR3SU" style='background-color:yellow' title="原文 : The issuer is the same cluster-wide ca-issuer that we used for the server.">発行者は、サーバーに使用したクラスタ全体の<code>ca-issuer</code>と同じです。</span></li>
<li data-value="2"><span class="merged" id="all.3EaJl6" style='background-color:yellow' title="原文 : The keys, certs and keystores will be created in a secret named coherence-client-certs">キー、証明書およびキーストアは、<code>coherence-client-certs</code>という名前のシークレットに作成されます</span></li>
<li data-value="3"><span class="merged" id="all.1oeEBn" style='background-color:yellow' title="原文 : The keystore password secret is the Secret named client-keystore-secret we created above">キーストア・パスワード・シークレットは、前述の<code>client-keystore-secret</code>という名前の<code>Secret</code>です</span></li>
</ul>
<pre
lang="bash"

>kubectl -n coherence-test apply -f manifests/client-keystore.yaml</pre>

<p><span class="merged" id="all.1VHfOH" style='background-color:yellow' title="原文 : If we list the certificate in the coherence-test namespace we should see the new client certificate and that it is ready."><code>coherence-test</code>ネームスペースに証明書をリストすると、新しいクライアント証明書が表示され、準備が完了していることがわかります。</span></p>

<pre
lang="bash"

>kubectl -n coherence-test get certificate</pre>

<pre


>NAME              READY   SECRET                   AGE
client-keystore   True    coherence-client-certs   12s
server-keystore   True    coherence-server-certs   2m13s</pre>

</div>
</div>
</div>

<h2 id="coherence"><span class="merged" id="all.2J4qIX"  title="原文:: Securing Coherence">Coherenceの保護</span></h2>
<div class="section">
<p><span class="merged" id="all.8cNCL.spl1" style='background-color:yellow' title="原文 : By this point, you should have installed the Operator and have the four Secrets required, either created by Cert Manager, or manually.">この時点で、オペレータをインストールし、4つの<code>Secrets</code>が必要(証明書マネージャによって作成するか、手動で作成する必要があります)。</span> <span class="merged" id="all.8cNCL.spl2" style='background-color:yellow' title="原文 : Now we can secure Coherence clusters.">これで、Coherenceクラスタを保護できます。</span> </p>


<h3 id="images"><span class="merged" id="all.1Weftp" style='background-color:yellow' title="原文 : Build the Test Images">テスト・イメージのビルド</span></h3>
<div class="section">
<p><span class="merged" id="all.3fidND.spl1" style='background-color:yellow' title="原文 : This example includes a Maven project that will build a Coherence server and client images with configuration files that allow us to easily demonstrate TLS.">この例には、TLSを簡単にデモンストレーションできる構成ファイルを含むCoherenceサーバーおよびクライアント・イメージをビルドするMavenプロジェクトが含まれます。</span> <span class="merged" id="all.3fidND.spl2" style='background-color:yellow' title="原文 : To build the images run the following command:">イメージをビルドするには、次のコマンドを実行します:</span> </p>

<pre
lang="bash"

>./mvnw clean package jib:dockerBuild</pre>

<p><span class="merged" id="all.rJkQp" style='background-color:yellow' title="原文 : This will produce two images:">これにより、次の2つのイメージが生成されます:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.4OTvIy"  title="原文: tls-example-server:1.0.0"><code>tls-example-server:1.0.0</code></span></p>

</li>
<li>
<p><span class="merged" id="all.1SXwmG"  title="原文: tls-example-client:1.0.0"><code>tls-example-client:1.0.0</code></span></p>

</li>
</ul>
<p><span class="merged" id="all.2nVJWc" style='background-color:yellow' title="原文 : These images can run secure or insecure depending on various system properties passed in at runtime.">これらのイメージは、実行時に渡される様々なシステム・プロパティに応じて、セキュアまたは安全ではありません。</span></p>

</div>

<h3 id="socket_provider"><span class="merged" id="all.4BLccy" style='background-color:yellow' title="原文 : Configure a Socket Provider">ソケット・プロバイダの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.2c3QKF.spl1" style='background-color:yellow' title="原文 : When configuring Coherence to use TLS, we need to configure a socket provider that Coherence can use to create secure socket.">TLSを使用するようにCoherenceを構成する場合、Coherenceがセキュアなソケットの作成に使用できるソケット・プロバイダを構成する必要があります。</span> <span class="merged" id="all.2c3QKF.spl2" style='background-color:yellow' title="原文 : We then tell Coherence to use this provider in various places, such as Extend connections, cluster member TCMP connections etc. This configuration is typically done by adding the provider configuration to the Coherence operational configuration override file.">次に、接続の拡張、クラスタ・メンバーのTCMP接続など、このプロバイダを様々な場所で使用するようにCoherenceに指示します。この構成は、通常、プロバイダ構成をCoherence操作構成オーバーライド・ファイルに追加することによって行われます。</span> </p>

<p><span class="merged" id="all.v006E" style='background-color:yellow' title="原文 : The Coherence documentation has a lot of details on configuring socket providers in the section on Using SSL Secure Communication">Coherenceドキュメントには、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/secure/using-ssl-secure-communication.html#GUID-21CBAF48-BA78-4373-AC90-BF668CF31776" id="" target="_blank" >「SSLセキュア通信の使用」</a>のセクションにあるソケット・プロバイダの構成に関する多くの詳細があります</span></p>

<p><span class="merged" id="all.vsj9J" style='background-color:yellow' title="原文 : Below is an example that we will use on the server cluster members">次に、サーバー・クラスタ・メンバーで使用する例を示します</span></p>

<pre
lang="xml"
title="src/main/resources/tls-coherence-override.xml"
>&lt;coherence xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://xmlns.oracle.com/coherence/coherence-operational-config"
    xsi:schemaLocation="http://xmlns.oracle.com/coherence/coherence-operational-config coherence-operational-config.xsd"&gt;
  &lt;cluster-config&gt;
    &lt;socket-providers&gt;
      &lt;socket-provider id="tls"&gt;
        &lt;ssl&gt;
          &lt;protocol&gt;TLS&lt;/protocol&gt;
          &lt;identity-manager&gt;
            &lt;key-store&gt;
              &lt;url system-property="coherence.tls.keystore"/&gt;
              &lt;password-provider&gt;
                &lt;class-name&gt;com.oracle.coherence.k8s.FileBasedPasswordProvider&lt;/class-name&gt;
                  &lt;init-params&gt;
                    &lt;init-param&gt;
                      &lt;param-type&gt;String&lt;/param-type&gt;
                      &lt;param-value system-property="coherence.tls.keystore.password"&gt;/empty.txt&lt;/param-value&gt;
                    &lt;/init-param&gt;
                &lt;/init-params&gt;
              &lt;/password-provider&gt;
            &lt;/key-store&gt;
            &lt;password-provider&gt;
              &lt;class-name&gt;com.oracle.coherence.k8s.FileBasedPasswordProvider&lt;/class-name&gt;
              &lt;init-params&gt;
                &lt;init-param&gt;
                  &lt;param-type&gt;String&lt;/param-type&gt;
                  &lt;param-value system-property="coherence.tls.key.password"&gt;/empty.txt&lt;/param-value&gt;
              &lt;/init-param&gt;
            &lt;/init-params&gt;
          &lt;/password-provider&gt;
          &lt;/identity-manager&gt;
          &lt;trust-manager&gt;
            &lt;key-store&gt;
              &lt;url system-property="coherence.tls.truststore"/&gt;
              &lt;password-provider&gt;
                &lt;class-name&gt;com.oracle.coherence.k8s.FileBasedPasswordProvider&lt;/class-name&gt;
                &lt;init-params&gt;
                  &lt;init-param&gt;
                    &lt;param-type&gt;String&lt;/param-type&gt;
                    &lt;param-value system-property="coherence.tls.truststore.password"&gt;/empty.txt&lt;/param-value&gt;
                  &lt;/init-param&gt;
                &lt;/init-params&gt;
              &lt;/password-provider&gt;
            &lt;/key-store&gt;
          &lt;/trust-manager&gt;
        &lt;/ssl&gt;
      &lt;/socket-provider&gt;
    &lt;/socket-providers&gt;
  &lt;/cluster-config&gt;
&lt;/coherence&gt;</pre>

<p><span class="merged" id="all.4UjGM3" style='background-color:yellow' title="原文 : The file above has a number of key parts.">上のファイルにはいくつかの重要な部分があります。</span></p>

<p><span class="merged" id="all.1xQl9f.spl1" style='background-color:yellow' title="原文 : We must give the provider a name so that we can refer to it in other configuration.">他の構成で参照できるように、プロバイダに名前を指定する必要があります。</span> <span class="merged" id="all.1xQl9f.spl2" style='background-color:yellow' title="原文 : This is done by setting the id attribute of the &lt;socket-provider&gt; element.">これは、<code>&lt;socket-provider></code>要素の<code>id</code>属性を設定を設定します。</span> <span class="merged" id="all.1xQl9f.spl3" style='background-color:yellow' title="原文 : In this case we name the provider &quot;tls&quot; in &lt;socket-provider id=&quot;tls&quot;&gt;.">この場合、プロバイダに<code>&lt;socket-provider id="tls"></code>の"tls"という名前を付けます。</span> </p>

<p><span class="merged" id="all.4N6xgl" style='background-color:yellow' title="原文 : We set the &lt;protocol&gt; element to TLS to tell Coherence that this is a TLS socket."><code>&lt;protocol></code>要素をTLSに設定して、これがTLSソケットであることをCoherenceに通知します。</span></p>

<p><span class="merged" id="all.1lhjlx.spl1" style='background-color:yellow' title="原文 : We need to set the keystore URL.">キーストアURLを設定する必要があります。</span> <span class="merged" id="all.1lhjlx.spl2" style='background-color:yellow' title="原文 : If we always used a common location, we could hard code it in the configuration.">常に一般的なロケーションを使用した場合は、構成でハードコードできます。</span> <span class="merged" id="all.1lhjlx.spl3" style='background-color:yellow' title="原文 : In this case we will configure the &lt;keystore&gt;&lt;url&gt; element to be injected from a system property which we will configure at runtime &lt;url system-property=&quot;coherence.tls.keystore&quot;/&gt;.">この場合、実行時<code>&lt;url system-property="coherence.tls.keystore"/></code>で構成するシステム・プロパティからインジェクトされる<code>&lt;keystore>&lt;url></code>要素を構成します。</span> </p>

<p><span class="merged" id="all.JJHrf.spl1" style='background-color:yellow' title="原文 : We obviously do not want hard-coded passwords in our configuration.">実際の構成では、ハードコードされたパスワードは望ましくありません。</span> <span class="merged" id="all.JJHrf.spl2" style='background-color:yellow' title="原文 : In this example we will use a password provider, which is a class implementing the com.tangosol.net.PasswordProvider interface, that can provide the password by reading file.">この例では、<code>com.tangosol.net.PasswordProvider</code>インタフェースを実装するクラスであるパスワード・プロバイダを使用します。このクラスは、ファイルを読み取ってパスワードを提供できます。</span> <span class="merged" id="all.JJHrf.spl3" style='background-color:yellow' title="原文 : In this case the file will be the one from the password secret created above that we will mount into the container.">この場合、ファイルは上で作成されたパスワード・シークレットからコンテナにマウントされます。</span> </p>

<pre
lang="xml"
title="src/main/resources/server-cache-config.xml"
>&lt;password-provider&gt;
  &lt;class-name&gt;com.oracle.coherence.k8s.FileBasedPasswordProvider&lt;/class-name&gt;
    &lt;init-params&gt;
      &lt;init-param&gt;
        &lt;param-type&gt;String&lt;/param-type&gt;
        &lt;param-value system-property="coherence.tls.keystore.password"/&gt;
      &lt;/init-param&gt;
  &lt;/init-params&gt;
&lt;/password-provider&gt;</pre>

<p><span class="merged" id="all.35AFHv" style='background-color:yellow' title="原文 : In the snippet above the password file location will be passed in using the coherence.tls.keystore.password system property.">パスワード・ファイルのロケーションの上のスニペットは、<code>coherence.tls.keystore.password</code>システム・プロパティを使用して渡されます。</span></p>

<p><span class="merged" id="all.eGI2C" style='background-color:yellow' title="原文 : We declare another password provider for the private key password.">秘密キーのパスワードとして別のパスワード・プロバイダを宣言します。</span></p>

<p><span class="merged" id="all.4GRFgy" style='background-color:yellow' title="原文 : We then declare the configuration for the truststore, which follows the same pattern as the keystore.">次に、キーストアと同じパターンに続くトラスト・ストアの構成を宣言します。</span></p>

<p><span class="merged" id="all.2eLqIZ" style='background-color:yellow' title="原文 : The configuration above is included in both of the example images that we built above.">前述の構成は、前述のイメージの両方に組み込まれています。</span></p>

</div>
</div>

<h2 id="tcmp"><span class="merged" id="all.3EHaiP" style='background-color:yellow' title="原文 : Secure Cluster Membership">セキュアなクラスタ・メンバーシップ</span></h2>
<div class="section">
<p><span class="merged" id="all.4N1sW2.spl1" style='background-color:yellow' title="原文 : Now we have a &quot;tls&quot; socket provider we can use it to secure Coherence.">これで、"tls"ソケット・プロバイダを使用してCoherenceを保護できるようになりました。</span> <span class="merged" id="all.4N1sW2.spl2" style='background-color:yellow' title="原文 : The Coherence documentation has a section on Securing Coherence TCMP with TLS.">Coherenceのドキュメントには、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/secure/using-ssl-secure-communication.html#GUID-21CBAF48-BA78-4373-AC90-BF668CF31776" id="" target="_blank" >「TLSによるCoherence TCMPの保護」</a>に関するセクションがあります。</span> <span class="merged" id="all.4N1sW2.spl3" style='background-color:yellow' title="原文 : Securing communication between cluster members is very simple, we just set the coherence.socketprovider system property to the name of the socket provider we want to use.">クラスタ・メンバー間の通信の保護は非常に簡単です。<code>coherence.socketprovider</code>システム・プロパティを、使用するソケット・プロバイダの名前に設定します。</span> <span class="merged" id="all.4N1sW2.spl4" style='background-color:yellow' title="原文 : In our case this will be the &quot;tls&quot; provider we configured above, so we would use -Dcoherence.socketprovider=tls">この場合、これは上で構成した"tls"プロバイダであるため、<code>-Dcoherence.socketprovider=tls</code>を使用</span> </p>

<p><span class="merged" id="all.qGoh5" style='background-color:yellow' title="原文 : The yaml below is a Coherence resource that will cause the Operator to create a three member Coherence cluster.">次のyamlは、オペレータが3つのメンバーCoherenceクラスタを作成する<code>Coherence</code>リソースです。</span></p>

<pre
lang="yaml"
title="manifests/coherence-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: tls-cluster
spec:
  replicas: 3
  image: tls-example-server:1.0.0    <span class="conum" data-value="1" />
  cluster: test-cluster              <span class="conum" data-value="2" />
  coherence:
    overrideConfig: tls-coherence-override.xml  <span class="conum" data-value="3" />
    cacheConfig: server-cache-config.xml        <span class="conum" data-value="4" />
  jvm:
    args:
      - -Dcoherence.socketprovider=tls  <span class="conum" data-value="5" />
      - -Dcoherence.tls.keystore=file:/coherence/certs/keystore.jks
      - -Dcoherence.tls.keystore.password=file:/coherence/certs/credentials/password-key
      - -Dcoherence.tls.key.password=file:/coherence/certs/credentials/password-key
      - -Dcoherence.tls.truststore=file:/coherence/certs/truststore.jks
      - -Dcoherence.tls.truststore.password=file:/coherence/certs/credentials/password-key
  secretVolumes:
    - mountPath: coherence/certs             <span class="conum" data-value="6" />
      name: coherence-server-certs
    - mountPath: coherence/certs/credentials
      name: server-keystore-secret
  ports:
    - name: extend  <span class="conum" data-value="7" />
      port: 20000
    - name: grpc
      port: 1408
    - name: management
      port: 30000
    - name: metrics
      port: 9612</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.gD6VN" style='background-color:yellow' title="原文 : The image name is the server image built from this example project">イメージ名は、このサンプル・プロジェクトから作成されたサーバー・イメージです</span></li>
<li data-value="2"><span class="merged" id="all.2epKtO" style='background-color:yellow' title="原文 : We specify a cluster name because we want to be able to demonstrate other Coherence deployments can or cannot join this cluster, so their yaml files will use this same cluster name.">他のCoherenceデプロイメントがこのクラスタに参加できるか、またはこのクラスタに参加できないことを示すことができるため、クラスタ名を指定するため、yamlファイルはこの同じクラスタ名を使用します。</span></li>
<li data-value="3"><span class="merged" id="all.3yNXT5" style='background-color:yellow' title="原文 : We set the Coherence override file to the file containing the &quot;tls&quot; socket provider configuration.">Coherenceオーバーライド・ファイルは、"tls"ソケット・プロバイダ構成を含むファイルに設定します。</span></li>
<li data-value="4"><span class="merged" id="all.3eGGGh" style='background-color:yellow' title="原文 : We use a custom cache configuration file that has an Extend proxy that we can secure later.">拡張プロキシを持つカスタム・キャッシュ構成ファイルを使用して、後で保護できます。</span></li>
<li data-value="5"><span class="merged" id="all.1XexWB" style='background-color:yellow' title="原文 : We set the coherence.socketprovider system property to use the &quot;tls&quot; provider, we also set a number of other properties that will set the locations of the keystores and password files to map to the secret volume mounts."><code>coherence.socketprovider</code>システム・プロパティを設定して"tls"プロバイダを使用します。また、シークレット・ボリューム・マウントにマップするキーストアおよびパスワード・ファイルのロケーションを設定するその他のいくつかのプロパティも設定します。</span></li>
<li data-value="6"><span class="merged" id="all.2H4ZUE" style='background-color:yellow' title="原文 : We mount the certificate and password secrets to volumes">証明書とパスワード・シークレットをボリュームにマウント</span></li>
<li data-value="7"><span class="merged" id="all.1Bryt5" style='background-color:yellow' title="原文 : We expose some ports for clients which we will use later, and for management, so we can enquire on the cluster state using REST.">後で使用するクライアントのためにいくつかのポートを公開し、管理のために、RESTを使用してクラスタ状態をクエリーできます。</span></li>
</ul>
<p><span class="merged" id="all.2mpWUc" style='background-color:yellow' title="原文 : Install the yaml above into the coherence-test namespace:">前述のyamlを<code>coherence-test</code>ネームスペースにインストールします:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test apply -f manifests/coherence-cluster.yaml</pre>

<p><span class="merged" id="all.1y3TPZ" style='background-color:yellow' title="原文 : If we list the Pods in the coherence-test namespace then after a minute or so there should be three ready Pods."><code>coherence-test</code>ネームスペースのポッドをリストする場合は、1分後または3つの準備ができたポッドが必要です。</span></p>

<pre
lang="bash"

>kubectl -n coherence-test get pods</pre>

<pre
lang="bash"

>NAME             READY   STATUS    RESTARTS   AGE
tls-cluster-0    1/1     Running   0          88s
tls-cluster-1    1/1     Running   0          88s
tls-cluster-2    1/1     Running   0          88s</pre>


<h3 id="_port_forward_to_the_rest_management_port"><span class="merged" id="all.1PVNuN" style='background-color:yellow' title="原文 : Port Forward to the REST Management Port">REST管理ポートへのポート転送</span></h3>
<div class="section">
<p><span class="merged" id="all.MMV8Z.spl1" style='background-color:yellow' title="原文 : Remember that we exposed a number of ports in our Coherence cluster, one of these was REST management on port 30000.">Coherenceクラスタで多数のポートを公開しましたが、そのうちの1つはポート<code>30000</code>でのREST管理でした。</span> <span class="merged" id="all.MMV8Z.spl2" style='background-color:yellow' title="原文 : We can use this along with curl to enquire about the cluster state.">これを<code>curl</code>とともに使用して、クラスタの状態を照会できます。</span> <span class="merged" id="all.MMV8Z.spl3" style='background-color:yellow' title="原文 : We need to use kubectl to forward a local port to one of the Coherence Pods."><code>kubectl</code>を使用して、ローカル・ポートをいずれかのCoherenceポッドに転送する必要があります。</span> </p>

<p><span class="merged" id="all.2397pn" style='background-color:yellow' title="原文 : Open another terminal session and run the following command:">別の端末セッションを開き、次のコマンドを実行します:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test port-forward tls-cluster-0 30000:30000</pre>

<p><span class="merged" id="all.2QPate" style='background-color:yellow' title="原文 : This will forward port 30000 on the local machine (e.g. your dev laptop) to the tls-cluster-0 Pod.">これにより、ローカル・マシン上のポート<code>30000</code> (例、開発ノート・パソコン)が<code>tls-cluster-0</code>ポッドに転送されます。</span></p>

<p><span class="merged" id="all.2TQw1q" style='background-color:yellow' title="原文 : We can now obtain the cluster state from the REST endpoint with the following command:">次のコマンドを使用して、RESTエンドポイントからクラスタ状態を取得できるようになりました:</span></p>

<pre
lang="bash"

>curl -X GET http://127.0.0.1:30000/management/coherence/cluster</pre>

<p><span class="merged" id="all.1K7N9D" style='background-color:yellow' title="原文 : or if you have the jq utility we can pretty print the json output:">または、<a href="https://stedolan.github.io/jq/" id="" target="_blank" >jq</a>ユーティリティがある場合は、json出力をかなり印刷できます:</span></p>

<pre
lang="bash"

>curl -X GET http://127.0.0.1:30000/management/coherence/cluster | jq</pre>

<p><span class="merged" id="all.2aXp3x" style='background-color:yellow' title="原文 : We will see json something like this:">jsonは次のように表示されます:</span></p>

<pre
lang="json"

>{
  "links": [
  ],
  "clusterSize": 3,      <span class="conum" data-value="1" />
  "membersDeparted": [],
  "memberIds": [
    1,
    2,
    3
  ],
  "oldestMemberId": 1,
  "refreshTime": "2021-03-07T12:27:20.193Z",
  "licenseMode": "Development",
  "localMemberId": 1,
  "version": "22.06",
  "running": true,
  "clusterName": "test-cluster",
  "membersDepartureCount": 0,
  "members": [                     <span class="conum" data-value="2" />
    "Member(Id=1, Timestamp=2021-03-07 12:24:32.982, Address=10.244.1.6:38271, MachineId=17483, Location=site:zone-two,rack:two,machine:operator-worker2,process:33,member:tls-cluster-1, Role=tls-cluster)",
    "Member(Id=2, Timestamp=2021-03-07 12:24:36.572, Address=10.244.2.5:36139, MachineId=21703, Location=site:zone-one,rack:one,machine:operator-worker,process:35,member:tls-cluster-0, Role=tls-cluster)",
    "Member(Id=3, Timestamp=2021-03-07 12:24:36.822, Address=10.244.1.7:40357, MachineId=17483, Location=site:zone-two,rack:two,machine:operator-worker2,process:34,member:tls-cluster-2, Role=tls-cluster)"
  ],
  "type": "Cluster"
}</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.3AUTKr" style='background-color:yellow' title="原文 : We can see that the cluster size is three.">クラスタ・サイズが3であることがわかります。</span></li>
<li data-value="2"><span class="merged" id="all.2YkiAz" style='background-color:yellow' title="原文 : The member list shows details of the three Pods in the cluster">メンバー・リストには、クラスタ内の3つのポッドの詳細が表示されます</span></li>
</ul>
</div>

<h3 id="_start_non_tls_cluster_members"><span class="merged" id="all.2Kadf4" style='background-color:yellow' title="原文 : Start Non-TLS Cluster Members">TLS以外のクラスタ・メンバーの開始</span></h3>
<div class="section">
<p><span class="merged" id="all.4Xeykv" style='background-color:yellow' title="原文 : To demonstrate that the cluster is secure we can start another cluster with yaml that does not enable TLS.">クラスタがセキュアであることを示すために、TLSを有効にしないyamlを使用して別のクラスタを起動できます。</span></p>

<pre
lang="yaml"
title="manifests/coherence-cluster-no-tls.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: no-tls-cluster
spec:
  replicas: 3
  image: tls-example-server:1.0.0     <span class="conum" data-value="1" />
  cluster: test-cluster               <span class="conum" data-value="2" />
  coherence:
    cacheConfig: server-cache-config.xml
  ports:
    - name: extend
      port: 20000
    - name: grpc
      port: 1408
    - name: management
      port: 30000
    - name: metrics
      port: 9612</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2cgicS" style='background-color:yellow' title="原文 : This Coherence resource uses the same server image as the secure cluster">この<code>Coherence</code>リソースは、セキュア・クラスタと同じサーバー・イメージを使用</span></li>
<li data-value="2"><span class="merged" id="all.2wIpfO.spl1" style='background-color:yellow' title="原文 : This Coherence resource also uses the same cluster name as the secure cluster, test-cluster, so it should attempt to join with the secure cluster.">この<code>Coherence</code>リソースは、セキュア・クラスタ<code>test-cluster</code>と同じクラスタ名を使用するため、セキュア・クラスタとの結合を試みます。</span> <span class="merged" id="all.2wIpfO.spl2" style='background-color:yellow' title="原文 : If the existing cluster is not secure, we will end up with a cluster of six members.">既存のクラスタがセキュアでない場合、6つのメンバーのクラスタで終わります。</span> </li>
</ul>
<p><span class="merged" id="all.2mpWUc.1" style='background-color:yellow' title="原文 : Install the yaml above into the coherence-test namespace:">前述のyamlを<code>coherence-test</code>ネームスペースにインストールします:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test apply -f manifests/coherence-cluster-no-tls.yaml</pre>

<p><span class="merged" id="all.1y3TPZ.1" style='background-color:yellow' title="原文 : If we list the Pods in the coherence-test namespace then after a minute or so there should be three ready Pods."><code>coherence-test</code>ネームスペースのポッドをリストする場合は、1分後または3つの準備ができたポッドが必要です。</span></p>

<pre
lang="bash"

>kubectl -n coherence-test get pods</pre>

<pre
lang="bash"

>NAME                READY   STATUS    RESTARTS   AGE
tls-cluster-0       1/1     Running   0          15m
tls-cluster-1       1/1     Running   0          15m
tls-cluster-2       1/1     Running   0          15m
no-tls-cluster-0    1/1     Running   0          78s
no-tls-cluster-1    1/1     Running   0          78s
no-tls-cluster-2    1/1     Running   0          78s</pre>

<p><span class="merged" id="all.fxfbP.spl1" style='background-color:yellow' title="原文 : There are six pods running, but they have not formed a six member cluster.">6つのポッドが実行されていますが、6つのメンバー・クラスタを作成していません。</span> <span class="merged" id="all.fxfbP.spl2" style='background-color:yellow' title="原文 : If we re-run the curl command to query the REST management endpoint of the secure cluster we will see that the cluster size is still three:">curlコマンドを再実行してセキュア・クラスタのREST管理エンドポイントをクエリーすると、クラスタ・サイズが3のままであることがわかります:</span> </p>

<pre
lang="bash"

>curl -X GET http://127.0.0.1:30000/management/coherence/cluster -s | jq '.clusterSize'</pre>

<p><span class="merged" id="all.16CCy9" style='background-color:yellow' title="原文 : What happens is that the non-TLS members have effectively formed their own cluster of three members, but have not been able to form a cluster with the TLS enabled members.">TLS以外のメンバーは、3つのメンバーの独自のクラスタを効果的に形成しましたが、TLSが有効なメンバーを持つクラスタを形成できませんでした。</span></p>

</div>

<h3 id="_cleanup"><span class="merged" id="all.6lMSz"  title="原文:: Cleanup">クリーンアップ</span></h3>
<div class="section">
<p><span class="merged" id="all.2NxwAY" style='background-color:yellow' title="原文 : After trying the example, remove both clusters with the corresponding kubectl delete commands so that they do not interfere with the next example.">例を試行した後、対応する<code>kubectl delete</code>コマンドを使用して両方のクラスタを削除し、次の例を妨げないようにします。</span></p>

<pre
lang="bash"

>kubectl -n coherence-test delete -f manifests/coherence-cluster-no-tls.yaml

kubectl -n coherence-test delete -f manifests/coherence-cluster.yaml</pre>

</div>

<h3 id="extend"><span class="merged" id="all.1ZKmTp" style='background-color:yellow' title="原文 : Secure Extend Connections">安全な拡張接続</span></h3>
<div class="section">
<p><span class="merged" id="all.4dZVMg.spl1" style='background-color:yellow' title="原文 : A common connection type to secure are client connections into the cluster from Coherence Extend clients.">セキュアにする一般的な接続タイプは、Coherence Extendクライアントからのクラスタへのクライアント接続です。</span> <span class="merged" id="all.4dZVMg.spl2" style='background-color:yellow' title="原文 : The Coherence documentation contains details on Using SSL to Secure Extend Client Communication for more in-depth details.">Coherenceドキュメントには、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/secure/using-ssl-secure-communication.html#GUID-0F636928-8731-4228-909C-8B8AB09613DB" id="" target="_blank" >「SSLを使用したクライアント通信の拡張の保護」</a>の詳細が含まれています。</span> </p>

<p><span class="merged" id="all.YhB0u.spl1" style='background-color:yellow' title="原文 : As with securing TCMP, we can specify a socket provider in the Extend proxy configuration in the server’s cache configuration file and also in the remote scheme in the client’s cache configuration.">TCMPのセキュリティ保護と同様に、サーバーのキャッシュ構成ファイルおよびクライアントのキャッシュ構成のリモート・スキームで、拡張プロキシ構成にソケット・プロバイダを指定できます。</span> <span class="merged" id="all.YhB0u.spl2" style='background-color:yellow' title="原文 : In this example we will use exactly the same TLS socket provider configuration that we created above.">この例では、前述のものと同じTLSソケット・プロバイダ構成を使用します。</span> <span class="merged" id="all.YhB0u.spl3" style='background-color:yellow' title="原文 : The only difference being the name of the PasswordProvider class used by the client.">唯一の違いは、クライアントで使用される<code>PasswordProvider</code>クラスの名前です。</span> <span class="merged" id="all.YhB0u.spl4" style='background-color:yellow' title="原文 : At the time of writing this, Coherence does not include an implementation of PasswordProvider that reads from a file.">これを作成するときに、Coherenceには、ファイルから読み取る<code>PasswordProvider</code>の実装は含まれません。</span> <span class="merged" id="all.YhB0u.spl5" style='background-color:yellow' title="原文 : The Coherence Operator injects one into the classpath of the server, but our simple client is not managed by the Operator.">Coherence Operatorは1つをサーバーのクラスパスにインジェクトしますが、単純なクライアントはオペレータによって管理されません。</span> <span class="merged" id="all.YhB0u.spl6" style='background-color:yellow' title="原文 : We have added a simple FileBasedPasswordProvider class to the client code in this example.">この例では、単純な<code>FileBasedPasswordProvider</code>クラスをクライアント・コードに追加しました。</span> </p>


<h4 id="_secure_the_proxy"><span class="merged" id="all.2WIsSx" style='background-color:yellow' title="原文 : Secure the Proxy">プロキシの保護</span></h4>
<div class="section">
<p><span class="merged" id="all.4Cu8Ng" style='background-color:yellow' title="原文 : To enable TLS for an Extend proxy, we can just specify the name of the socket provider that we want to use in the &lt;proxy-scheme&gt; in the server’s cache configuration file.">拡張プロキシに対してTLSを有効にするには、サーバーのキャッシュ構成ファイル内の<code>&lt;proxy-scheme></code>で使用するソケット・プロバイダの名前のみを指定できます。</span></p>

<p><span class="merged" id="all.3tuKe9" style='background-color:yellow' title="原文 : The snippet of configuration below is taken from the server-cache-config.xml file in the example source.">次の構成のスニペットは、サンプル・ソースの<code>server-cache-config.xml</code>ファイルから取得されます。</span></p>

<pre
lang="xml"
title="src/main/resources/server-cache-config.xml"
>&lt;proxy-scheme&gt;
    &lt;service-name&gt;Proxy&lt;/service-name&gt;
    &lt;acceptor-config&gt;
        &lt;tcp-acceptor&gt;
            &lt;socket-provider system-property="coherence.extend.socket.provider"/&gt;       <span class="conum" data-value="1" />
            &lt;local-address&gt;
                &lt;address system-property="coherence.extend.address"&gt;0.0.0.0&lt;/address&gt;   <span class="conum" data-value="2" />
                &lt;port system-property="coherence.extend.port"&gt;20000&lt;/port&gt;              <span class="conum" data-value="3" />
            &lt;/local-address&gt;
        &lt;/tcp-acceptor&gt;
    &lt;/acceptor-config&gt;
    &lt;load-balancer&gt;client&lt;/load-balancer&gt;
    &lt;autostart&gt;true&lt;/autostart&gt;
&lt;/proxy-scheme&gt;</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.Mw0gC.spl1" style='background-color:yellow' title="原文 : The &lt;socket-provider&gt; element is empty by default, but is configured to be set from the system property named coherence.extend.socket.provider."><code>&lt;socket-provider></code>要素はデフォルトで空ですが、<code>coherence.extend.socket.provider</code>という名前のシステム・プロパティから設定されるように構成されています。</span> <span class="merged" id="all.Mw0gC.spl2" style='background-color:yellow' title="原文 : This means that by default, Extend will run without TLS.">つまり、デフォルトでは、ExtendはTLSなしで実行されます。</span> <span class="merged" id="all.Mw0gC.spl3" style='background-color:yellow' title="原文 : If we start the server with the system property set to &quot;tls&quot;, the name of our socket provider, then the proxy will use TLS.">システム・プロパティをTLS(ソケット・プロバイダの名前)に設定してサーバーを起動すると、プロキシはTLSを使用します。</span> </li>
<li data-value="2"><span class="merged" id="all.2uVn8s" style='background-color:yellow' title="原文 : The Extend proxy will bind to all local addresses.">Extendプロキシは、すべてのローカル・アドレスにバインドされます。</span></li>
<li data-value="3"><span class="merged" id="all.1mZGVT" style='background-color:yellow' title="原文 : The Extend proxy service will bind to port 20000.">Extendプロキシ・サービスはポート20000にバインドされます。</span></li>
</ul>
<p><span class="merged" id="all.8NPPT.spl1" style='background-color:yellow' title="原文 : We add the additional coherence.extend.socket.provider system property to the spec.jvm.args section of the Coherence resource yaml we will use to deploy the server.">追加の<code>coherence.extend.socket.provider</code>システム・プロパティを、サーバーのデプロイに使用するCoherenceリソースyamlの<code>spec.jvm.args</code>セクションに追加します。</span> <span class="merged" id="all.8NPPT.spl2" style='background-color:yellow' title="原文 : The yaml below is identical to the yaml we used above to secure TCMP, but with the addition of the coherence.extend.socket.provider property.">次のyamlは、上でTCMPを保護するために使用したyamlと同じですが、<code>coherence.extend.socket.provider</code>プロパティが追加されています。</span> </p>

<pre
lang="yaml"
title="coherence-cluster-extend.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: tls-cluster
spec:
  replicas: 3
  image: tls-example-server:1.0.0
  cluster: test-cluster
  coherence:
    cacheConfig: server-cache-config.xml
    overrideConfig: tls-coherence-override.xml
  jvm:
    args:
      - -Dcoherence.socketprovider=tls
      - -Dcoherence.extend.socket.provider=tls    <span class="conum" data-value="1" />
      - -Dcoherence.tls.keystore=file:/coherence/certs/keystore.jks
      - -Dcoherence.tls.keystore.password=file:/coherence/certs/credentials/password-key
      - -Dcoherence.tls.key.password=file:/coherence/certs/credentials/password-key
      - -Dcoherence.tls.truststore=file:/coherence/certs/truststore.jks
      - -Dcoherence.tls.truststore.password=file:/coherence/certs/credentials/password-key
  secretVolumes:
    - mountPath: coherence/certs
      name: coherence-server-certs
    - mountPath: coherence/certs/credentials
      name: server-keystore-secret
  ports:
    - name: extend
      port: 20000
    - name: grpc
      port: 1408</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.LDhQM" style='background-color:yellow' title="原文 : The -Dcoherence.extend.socket.provider=tls has been added to enable TLS for the Extend proxy."><code>-Dcoherence.extend.socket.provider=tls</code>が追加され、Extendプロキシに対してTLSが有効になりました。</span></li>
</ul>
<p><span class="merged" id="all.N6NDD" style='background-color:yellow' title="原文 : Installing the yaml above will give us a Coherence cluster that uses TLS for both TCMP inter-cluster communication and for Extend connections.">前述のyamlをインストールすると、TCMPクラスタ間通信とExtend接続の両方にTLSを使用するCoherenceクラスタが提供されます。</span></p>

</div>

<h4 id="_install_the_cluster"><span class="merged" id="all.2bJn8Q" style='background-color:yellow' title="原文 : Install the Cluster">クラスタのインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.3skkmH" style='background-color:yellow' title="原文 : We can install the Coherence cluster defined in the yaml above using kubectl:">前述のyamlで定義されたCoherenceクラスタは、<code>kubectl</code>を使用してインストールできます:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test apply -f manifests/coherence-cluster-extend.yaml</pre>

<p><span class="merged" id="all.2cyUR7.spl1" style='background-color:yellow' title="原文 : After a minute or two the three Pods should be ready, which can be confirmed with kubectl.">1分または2分後に3つのポッドの準備ができ、これは<code>kubectl</code>で確認できます。</span> <span class="merged" id="all.2cyUR7.spl2" style='background-color:yellow' title="原文 : Because the yaml above declares a port named extend on port 20000, the Coherence Operator will create a k8s Service to expose this port.">前述のyamlはポート<code>20000</code>で<code>extend</code>という名前のポートを宣言するため、Coherence Operatorはk8s <code>Service</code>を作成してこのポートを公開します。</span> <span class="merged" id="all.2cyUR7.spl3" style='background-color:yellow' title="原文 : The service name will be the Coherence resource name suffixed with the port name, so in this case tls-cluster-extend.">サービス名は、ポート名にサフィクスが付いたCoherenceリソース名になるため、この場合は<code>tls-cluster-extend</code>になります。</span> <span class="merged" id="all.2cyUR7.spl4" style='background-color:yellow' title="原文 : As a Service in k8s can be looked up by DNS, we can use this service name as the host name for the client to connect to.">k8sの<code>Service</code>はDNSで検索できるため、このサービス名を接続先のクライアントのホスト名として使用できます。</span> </p>

</div>

<h4 id="_configure_the_extend_client"><span class="merged" id="all.2tv0yo.1" style='background-color:yellow' title="原文 : Configure the Extend Client">拡張クライアントの構成</span></h4>
<div class="section">
<p><span class="merged" id="all.4VApPZ.spl1" style='background-color:yellow' title="原文 : Just like the server, we can include a socket provider configuration in the override file and configure the name of the socket provider that the client should use in the client’s cache configuration file.">サーバーと同様に、オーバーライド・ファイルにソケット・プロバイダ構成を含め、クライアントがクライアントのキャッシュ構成ファイルで使用するソケット・プロバイダの名前を構成できます。</span> <span class="merged" id="all.4VApPZ.spl2" style='background-color:yellow' title="原文 : The socket provider configuration is identical to that shown already above (with the different FileBasedPasswordProvider class name).">ソケット・プロバイダの構成は、すでに上に示した構成と同じです(異なる<code>FileBasedPasswordProvider</code>クラス名)。</span> </p>

<p><span class="merged" id="all.1vdeVZ.spl1" style='background-color:yellow' title="原文 : The Extend client code used in the src/main/java/com/oracle/coherence/examples/k8s/client/Main.java file in this example just starts a Coherence client, then obtains a NamedMap, and in a very long loop just puts data into the map, logging out the keys added.">この例の<code>src/main/java/com/oracle/coherence/examples/k8s/client/Main.java</code>ファイルで使用されるExtendクライアント・コードは、Coherenceクライアントを起動してから、<code>NamedMap</code>を取得し、非常に長いループでデータをマップに入れ、追加されたキーをログアウトします。</span> <span class="merged" id="all.1vdeVZ.spl2" style='background-color:yellow' title="原文 : This is very trivial but allows us to see that the client is connected and working (or not).">これは非常に簡単ですが、クライアントが接続され動作している(または動作していない)ことがわかります。</span> </p>

<p><span class="merged" id="all.2yezPu" style='background-color:yellow' title="原文 : The snippet of xml below is from the client’s cache configuration file.">次のxmlのスニペットは、クライアントのキャッシュ構成ファイルからのものです。</span></p>

<pre
lang="xml"
title="src/main/resources/client-cache-config.xml"
>&lt;remote-cache-scheme&gt;
    &lt;scheme-name&gt;remote&lt;/scheme-name&gt;
    &lt;service-name&gt;Proxy&lt;/service-name&gt;
    &lt;initiator-config&gt;
        &lt;tcp-initiator&gt;
            &lt;socket-provider system-property="coherence.extend.socket.provider"/&gt;           <span class="conum" data-value="1" />
            &lt;remote-addresses&gt;
                &lt;socket-address&gt;
                    &lt;address system-property="coherence.extend.address"&gt;127.0.0.1&lt;/address&gt; <span class="conum" data-value="2" />
                    &lt;port system-property="coherence.extend.port"&gt;20000&lt;/port&gt;              <span class="conum" data-value="3" />
                &lt;/socket-address&gt;
            &lt;/remote-addresses&gt;
        &lt;/tcp-initiator&gt;
    &lt;/initiator-config&gt;
&lt;/remote-cache-scheme&gt;</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.Za0kg.spl1" style='background-color:yellow' title="原文 : The &lt;socket-provider&gt; element is empty by default, but is configured to be set from the system property named coherence.extend.socket.provider."><code>&lt;socket-provider></code>要素はデフォルトで空ですが、<code>coherence.extend.socket.provider</code>という名前のシステム・プロパティから設定されるように構成されています。</span> <span class="merged" id="all.Za0kg.spl2" style='background-color:yellow' title="原文 : This means that by default, the Extend client will connect without TLS.">つまり、デフォルトでは、ExtendクライアントはTLSなしで接続されます。</span> <span class="merged" id="all.Za0kg.spl3" style='background-color:yellow' title="原文 : If we start the client with the system property set to &quot;tls&quot;, the name of our socket provider, then the client will use TLS.">システム・プロパティを「TLS」に設定してクライアントを起動すると、クライアントはTLSを使用します。</span> </li>
<li data-value="2"><span class="merged" id="all.4QHcvQ.spl1" style='background-color:yellow' title="原文 : By default, the Extend client will connect loopback, on 127.0.0.1 but this can be overridden by setting the coherence.extend.address system property.">デフォルトでは、Extendクライアントは<code>127.0.0.1</code>のループバックを接続しますが、これは<code>coherence.extend.address</code>システム・プロパティを設定することでオーバーライドできます。</span> <span class="merged" id="all.4QHcvQ.spl2" style='background-color:yellow' title="原文 : We will use this when we deploy the client to specify the name of the Service that is used to expose the server’s Extend port.">これは、クライアントのデプロイ時に、サーバーのExtendポートを公開するために使用される<code>Service</code>の名前を指定する場合に使用します。</span> </li>
<li data-value="3"><span class="merged" id="all.42v4NX.spl1" style='background-color:yellow' title="原文 : The Extend client will connect to port 20000.">Extendクライアントはポート20000に接続します。</span> <span class="merged" id="all.42v4NX.spl2" style='background-color:yellow' title="原文 : Although this can be overridden with a system property, port 20000 is also the default port used by the server, so there is no need to override it.">これはシステム・プロパティでオーバーライドできますが、ポート20000はサーバーで使用されるデフォルト・ポートでもあるため、オーバーライドする必要はありません。</span> </li>
</ul>
</div>

<h4 id="_start_an_insecure_client"><span class="merged" id="all.40Pyic" style='background-color:yellow' title="原文 : Start an Insecure Client">安全でないクライアントの起動</span></h4>
<div class="section">
<p><span class="merged" id="all.yuHhQ.spl1" style='background-color:yellow' title="原文 : As a demonstration we can first start a non-TLS client and see what happens.">デモンストレーションとして、最初に非TLSクライアントを起動して何が起きるかを確認できます。</span> <span class="merged" id="all.yuHhQ.spl2" style='background-color:yellow' title="原文 : We can create a simple Pod that will run the client image using the yaml below.">次のyamlを使用してクライアント・イメージを実行する単純な<code>Pod</code>を作成できます。</span> </p>

<p><span class="merged" id="all.35QdXo.spl1" style='background-color:yellow' title="原文 : One of the features of newer Coherence CE versions is that configuration set via system properties prefixed with coherence. can also be set with corresponding environment variable names.">新しいCoherence CEバージョンの機能の1つは、プレフィクス<code>coherence.</code>が付いたシステム・プロパティを介して設定された構成も、対応する環境変数名で設定できることです。</span> <span class="merged" id="all.35QdXo.spl2" style='background-color:yellow' title="原文 : The convention used for the environment variable name is to convert the system property name to uppercase and convert &quot;.&quot; characters to &quot;_&quot;, so setting the cache configuration file with the coherence.cacheconfig system property can be done using the COHERENCE_CACHECONFIG environment variable.">環境変数名に使用される規則は、システム・プロパティ名を大文字に変換し、"."文字を"_"に変換するため、<code>coherence.cacheconfig</code>システム・プロパティを持つキャッシュ構成ファイルを<code>COHERENCE_CACHECONFIG</code>環境変数を使用して設定できます。</span> <span class="merged" id="all.35QdXo.spl3" style='background-color:yellow' title="原文 : This makes it simple to set Coherence configuration properties in a Pod yaml using environment variables instead of having to build a custom Java command line.">これにより、カスタムJavaコマンドラインをビルドするのではなく、環境変数を使用してPod yamlにCoherence構成プロパティを設定するのが簡単になります。</span> </p>

<pre
lang="yaml"
title="manifests/client-no-tls.yaml"
>apiVersion: v1
kind: Pod
metadata:
  name: client
spec:
  containers:
    - name: client
      image: tls-example-client:1.0.0
      env:
        - name: COHERENCE_CACHECONFIG       <span class="conum" data-value="1" />
          value: client-cache-config.xml
        - name: COHERENCE_EXTEND_ADDRESS    <span class="conum" data-value="2" />
          value: tls-cluster-extend</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2wBqsU" style='background-color:yellow' title="原文 : The client will use the client-cache-config.xml cache configuration file.">クライアントは<code>client-cache-config.xml</code>キャッシュ構成ファイルを使用します。</span></li>
<li data-value="2"><span class="merged" id="all.4fT2m3" style='background-color:yellow' title="原文 : The COHERENCE_EXTEND_ADDRESS is set to tls-cluster-extend, which is the name of the service exposing the server’s Extend port and which will be injected into the client’s cache configuration file, as explained above."><code>COHERENCE_EXTEND_ADDRESS</code>は<code>tls-cluster-extend</code>に設定されます。これは、サーバーのExtendポートを公開するサービスの名前で、前述のようにクライアントのキャッシュ構成ファイルにインジェクトされます。</span></li>
</ul>
<p><span class="merged" id="all.VbkkF" style='background-color:yellow' title="原文 : We can run the client Pod with the following command:">次のコマンドを使用してクライアント・ポッドを実行できます:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test apply -f manifests/client-no-tls.yaml</pre>

<p><span class="merged" id="all.Oaieb" style='background-color:yellow' title="原文 : If we look at the Pods now in the coherence-test namespace we will see the client running:"><code>coherence-test</code>ネームスペースでポッドを表示すると、実行中のクライアントが表示されます:</span></p>

<pre
lang="bash"

>$ kubectl -n coherence-test get pod</pre>

<pre
lang="bash"

>NAME            READY   STATUS    RESTARTS   AGE
client          1/1     Running   0          3s
tls-cluster-0   1/1     Running   0          2m8s
tls-cluster-1   1/1     Running   0          2m8s
tls-cluster-2   1/1     Running   0          2m8s</pre>

<p><span class="merged" id="all.3VuEmJ" style='background-color:yellow' title="原文 : If we look at the log of the client Pod though we will see a stack trace with the cause:">クライアント・ポッドのログを見ると、原因のスタック・トレースが表示されます:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test logs client</pre>

<pre


>2021-03-07 12:53:13.481/1.992 Oracle Coherence CE 22.06 &lt;Error&gt; (thread=main, member=n/a): Error while starting service "Proxy": com.tangosol.net.messaging.ConnectionException: could not establish a connection to one of the following addresses: []</pre>

<p><span class="merged" id="all.38jwfU" style='background-color:yellow' title="原文 : This tells us that the client failed to connect to the cluster, because the client is not using TLS.">クライアントがTLSを使用していないため、クラスタへの接続に失敗したことがわかります。</span></p>

<p><span class="merged" id="all.21HmfR" style='background-color:yellow' title="原文 : We can remove the non-TLS client:">TLS以外のクライアントを削除できます:</span></p>

<pre


>kubectl -n coherence-test delete -f manifests/client-no-tls.yaml</pre>

</div>

<h4 id="_start_a_tls_enabled_client"><span class="merged" id="all.4DA24X" style='background-color:yellow' title="原文 : Start a TLS Enabled Client">TLS対応クライアントの起動</span></h4>
<div class="section">
<p><span class="merged" id="all.3fBAPq.spl1" style='background-color:yellow' title="原文 : We can now modify the client yaml to run the client with TLS enabled.">クライアントyamlを変更して、TLSが有効なクライアントを実行できるようになりました。</span> <span class="merged" id="all.3fBAPq.spl2" style='background-color:yellow' title="原文 : The client image already contains the tls-coherence-override.xml file with the configuration for the TLS socket provider.">クライアント・イメージには、TLSソケット・プロバイダの構成を含む<code>tls-coherence-override.xml</code>ファイルがすでに含まれています。</span> <span class="merged" id="all.3fBAPq.spl3" style='background-color:yellow' title="原文 : We need to set the relevant environment variables to inject the location of the keystores and tell Coherence to use the &quot;tls&quot; socket provider for the Extend connection.">キーストアのロケーションをインジェクトし、Extend接続の"tls"ソケット・プロバイダを使用するようにCoherenceに指示するには、関連する環境変数を設定する必要があります。</span> </p>

<pre
lang="yaml"
title="manifests/client.yaml"
>apiVersion: v1
kind: Pod
metadata:
  name: client
spec:
  containers:
    - name: client
      image: tls-example-client:1.0.0
      env:
        - name: COHERENCE_CACHECONFIG
          value: client-cache-config.xml
        - name: COHERENCE_EXTEND_ADDRESS
          value: tls-cluster-extend
        - name: COHERENCE_OVERRIDE
          value: tls-coherence-override.xml                 <span class="conum" data-value="1" />
        - name: COHERENCE_EXTEND_SOCKET_PROVIDER
          value: tls
        - name: COHERENCE_TLS_KEYSTORE
          value: file:/coherence/certs/keystore.jks
        - name: COHERENCE_TLS_KEYSTORE_PASSWORD
          value: /coherence/certs/credentials/password-key
        - name: COHERENCE_TLS_KEY_PASSWORD
          value: /coherence/certs/credentials/password-key
        - name: COHERENCE_TLS_TRUSTSTORE
          value: file:/coherence/certs/truststore.jks
        - name: COHERENCE_TLS_TRUSTSTORE_PASSWORD
          value: /coherence/certs/credentials/password-key
      volumeMounts:                                         <span class="conum" data-value="2" />
        - name: coherence-client-certs
          mountPath: coherence/certs
        - name: keystore-credentials
          mountPath: coherence/certs/credentials
  volumes:                                                  <span class="conum" data-value="3" />
    - name: coherence-client-certs
      secret:
        defaultMode: 420
        secretName: coherence-client-certs
    - name: keystore-credentials
      secret:
        defaultMode: 420
        secretName: client-keystore-secret</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1e0191" style='background-color:yellow' title="原文 : The yaml is identical to the non-TLS client with the addition of the environment variables to configure TLS.">yamlは、TLSを構成するための環境変数が追加された非TLSクライアントと同じです。</span></li>
<li data-value="2"><span class="merged" id="all.2fBHhN" style='background-color:yellow' title="原文 : We create volume mount points to map the Secret volumes containing the keystores and password to directories in the container">ボリューム・マウント・ポイントを作成して、キーストアとパスワードを含むシークレット・ボリュームをコンテナ内のディレクトリにマップ</span></li>
<li data-value="3"><span class="merged" id="all.1xWNgP" style='background-color:yellow' title="原文 : We mount the Secrets as volumes">シークレットをボリュームとしてマウント</span></li>
</ul>
<p><span class="merged" id="all.VbkkF.1" style='background-color:yellow' title="原文 : We can run the client Pod with the following command:">次のコマンドを使用してクライアント・ポッドを実行できます:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test apply -f manifests/client.yaml</pre>

<p><span class="merged" id="all.3i0YJq" style='background-color:yellow' title="原文 : If we now look at the client’s logs:">クライアントのログを確認する場合:</span></p>

<pre
lang="bash"

>kubectl -n coherence-test logs client</pre>

<p><span class="merged" id="all.3NPwTV" style='background-color:yellow' title="原文 : The end of the log should show the messages from the client as it puts each entry into a NamedMap.">ログの終わりには、クライアントからのメッセージが表示され、各エントリが<code>NamedMap</code>になります。</span></p>

<pre


>Put 0
Put 1
Put 2
Put 3
Put 4
Put 5</pre>

<p><span class="merged" id="all.1m0sBQ.spl1" style='background-color:yellow' title="原文 : So now we have a TLS secured Extend proxy and client.">このため、TLSで保護されたExtendプロキシおよびクライアントがあります。</span> <span class="merged" id="all.1m0sBQ.spl2" style='background-color:yellow' title="原文 : We can remove the client and test cluster:">クライアントおよびテスト・クラスタを削除できます:</span> </p>

<pre
lang="bash"

>kubectl -n coherence-test delete -f manifests/client.yaml

kubectl -n coherence-test delete -f manifests/coherence-cluster-extend.yaml</pre>

</div>
</div>
</div>
</doc-view>
<!-- pages/examples/095_network_policies/README.js -->
<doc-view>

<h2 id="_using_network_policies"><span class="merged" id="all.3HggH2" style='background-color:yellow' title="原文 : Using Network Policies">ネットワーク・ポリシーの使用</span></h2>
<div class="section">
<p><span class="merged" id="all.3qAAFk.spl1" style='background-color:yellow' title="原文 : This example covers running the Coherence Operator and Coherence clusters in Kubernetes with network policies.">この例では、ネットワーク・ポリシーを使用してKubernetesでCoherence OperatorおよびCoherenceクラスタを実行する方法について説明します。</span> <span class="merged" id="all.3qAAFk.spl2" style='background-color:yellow' title="原文 : In Kubernetes, a Network Policy is an application-centric construct which allow you to specify how a pod is allowed to communicate with various network &quot;entities&quot; (we use the word &quot;entity&quot; here to avoid overloading the more common terms such as &quot;endpoints&quot; and &quot;services&quot;, which have specific Kubernetes connotations) over the network.">Kubernetesでは、<a href="https://kubernetes.io/docs/concepts/services-networking/network-policies/" id="" target="_blank" >「ネットワーク・ポリシー」</a>はアプリケーション中心のコンストラクトであり、これによって、ポッドが様々なネットワーク・エンティティと通信する方法を指定できます(ここでは「エンティティ」という語を使用して、特定のKubernetes接続を持つ「エンドポイント」や「サービス」より一般的な用語のオーバーロードを回避します)。</span> </p>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.13"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.3hLfz5.spl1" style='background-color:yellow' title="原文 : Network policies in Kubernetes are easy to get wrong if you are not careful.">注意しないと、Kubernetesのネットワーク・ポリシーが間違ってしまうことがよくあります。</span> <span class="merged" id="all.3hLfz5.spl2" style='background-color:yellow' title="原文 : In this case a policy will either block traffic it should not, in which case your application will not work, or it will let traffic through it should block, which will be an invisible security hole.">この場合、ポリシーによってトラフィックがブロックされる(この場合、アプリケーションが動作しない)か、ポリシーによってトラフィックがブロックされる(不可視のセキュリティ・ホールになる)かのいずれかになります。</span> </p>

<p><span class="merged" id="all.363qVI" style='background-color:yellow' title="原文 : It is obviously important to test your policies, but Kubernetes offers next to zero visibility into what the policies are actually doing, as it is typically the network CNI extensions that are providing the policy implementation and each of these may work in a different way.">ポリシーをテストすることは明らかに重要ですが、Kubernetesは、ポリシー実装を提供しているネットワークCNI拡張機能であり、これらのそれぞれが異なる方法で機能する可能性があるため、ポリシーが実際に行っていることはゼロの可視性に近くなります。</span></p>
</p>
</div>

<h3 id="_introduction"><span class="merged" id="all.4LJMHk"  title="原文:: Introduction">導入</span></h3>
<div class="section">
<p><span class="merged" id="all.3dATRc.spl1" style='background-color:yellow' title="原文 : Kubernetes network policies specify the access permissions for groups of pods, similar to security groups in the cloud are used to control access to VM instances and similar to firewalls.">Kubernetesネットワーク・ポリシーでは、ポッド・グループのアクセス権限を指定します。これは、クラウド内のセキュリティ・グループと同様で、VMインスタンスへのアクセスを制御するために使用され、ファイアウォールと同様です。</span> <span class="merged" id="all.3dATRc.spl2" style='background-color:yellow' title="原文 : The default behaviour of a Kubernetes cluster is to allow all Pods to freely talk to each other.">Kubernetesクラスタのデフォルト動作は、すべてのポッドが相互に自由に通信できるようにすることです。</span> <span class="merged" id="all.3dATRc.spl3" style='background-color:yellow' title="原文 : Whilst this sounds insecure, originally Kubernetes was designed to orchestrate services that communicated with each other, it was only later that network policies were added.">この音は安全ではありませんが、当初、Kubernetesは相互に通信するサービスを調整するように設計されていましたが、ネットワーク・ポリシーが追加されたのは後ほどでした。</span> </p>

<p><span class="merged" id="all.1UDcSJ.spl1" style='background-color:yellow' title="原文 : A network policy is applied to a Kubernetes namespace and controls ingress into and egress out of Pods in that namespace.">ネットワーク・ポリシーはKubernetesネームスペースに適用され、そのネームスペースのポッドへのイングレスおよびポッドからのエグレスを制御します。</span> <span class="merged" id="all.1UDcSJ.spl2" style='background-color:yellow' title="原文 : The ports specified in a NetworkPolicy are the ports exposed by the Pods, they are not any ports that may be exposed by any Service that exposes the Pod ports."><code>NetworkPolicy</code>で指定されたポートは、<code>Pods</code>によって公開されるポートであり、<code>Pod</code>ポートを公開する<code>Service</code>によって公開されるポートではありません。</span> <span class="merged" id="all.1UDcSJ.spl3" style='background-color:yellow' title="原文 : For example, if a Pod exposed port 8080 and a Service exposing the Pod mapped port 80 in the Service to port 8080 in the Pod, the NetworkPolicy ingress rule would be for the Pod port 8080.">たとえば、<code>Pod</code>がポート8080を公開し、<code>Service</code>の<code>Pod</code>マップされたポート80を<code>Pod</code>のポート<code>8080</code>に公開する<code>Service</code>の場合、<code>NetworkPolicy</code>イングレス・ルールは<code>Pod</code>ポート8080用です。</span> </p>

<p><span class="merged" id="all.9Q42x.spl1" style='background-color:yellow' title="原文 : Network polices would typically end up being dictated by corporate security standards where different companies may apply stricter or looser rules than others.">ネットワーク・ポリシーは通常、企業のセキュリティ標準によって決定され、様々な会社が他社より厳格なルールや緩やかなルールを適用する可能性があります。</span> <span class="merged" id="all.9Q42x.spl2" style='background-color:yellow' title="原文 : The examples in this document start from the premise that everything will be blocked by a &quot;deny all&quot; policy and then opened up as needed.">このドキュメントの例では、すべてが「すべて拒否」ポリシーによってブロックされ、必要に応じて開くという前提から開始されています。</span> <span class="merged" id="all.9Q42x.spl3" style='background-color:yellow' title="原文 : This is the most secure use of network policies, and hence the examples can easily be tweaked if looser rules are applied.">これはネットワーク・ポリシーの最も安全な使用であるため、緩やかなルールを適用すると簡単に例を微調整できます。</span> </p>

<p><span class="merged" id="all.4DGEvS" style='background-color:yellow' title="原文 : This example has the following sections:">この例の内容は、次のとおりです:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1uFwDS" style='background-color:yellow' title="原文 : Deny All Policy - denying all ingress and egress"><router-link @click.native="this.scrollFix('#deny')" to="#deny">「すべてのポリシーを拒否」</router-link> - すべてのイングレスとエグレスを拒否</span></p>

</li>
<li>
<p><span class="merged" id="all.NGAUn" style='background-color:yellow' title="原文 : Allow DNS - almost every use case will require egress to DNS"><router-link @click.native="this.scrollFix('#dns')" to="#dns">「DNSを許可」</router-link> - ほぼすべてのユース・ケースでDNSへのエグレスが必要になる</span></p>

</li>
<li>
<p><span class="merged" id="all.2qofFf" style='background-color:yellow' title="原文 : Coherence Operator Policies - the network policies required to run the Coherence Operator"><router-link @click.native="this.scrollFix('#operator')" to="#operator">「Coherence Operatorポリシー」</router-link> - Coherence Operatorの実行に必要なネットワーク・ポリシー</span></p>
<ul class="ulist">
<li>
<p><span class="merged" id="all.kbAcW" style='background-color:yellow' title="原文 : Kubernetes API Server - allow the Operator egress to the Kubernetes API server"><router-link @click.native="this.scrollFix('#k8sapi')" to="#k8sapi">「Kubernetes APIサーバー」</router-link> - Kubernetes APIサーバーへのオペレータ・エグレスを許可</span></p>

</li>
<li>
<p><span class="merged" id="all.1VLwOl" style='background-color:yellow' title="原文 : Coherence Clusters Pods - allow the Operator egress to the Coherence cluster Pods"><router-link @click.native="this.scrollFix('#cluster-access')" to="#cluster-access">「Coherenceクラスタ・ポッド」</router-link> - オペレータをCoherenceクラスタ・ポッドにエグレスできるようにします</span></p>

</li>
<li>
<p><span class="merged" id="all.17KIYo" style='background-color:yellow' title="原文 : Web Hooks - allow ingress to the Operator’s web hook port"><router-link @click.native="this.scrollFix('#webhook')" to="#webhook">「Webフック」</router-link> - オペレータwebフック・ポートへのイングレスを許可</span></p>

</li>
</ul>
</li>
<li>
<p><span class="merged" id="all.4XvjDE" style='background-color:yellow' title="原文 : Coherence Cluster Policies - the network policies required to run Coherence clusters"><router-link @click.native="this.scrollFix('#coherence')" to="#coherence">「Coherenceクラスタ・ポリシー」</router-link> - Coherenceクラスタの実行に必要なネットワーク・ポリシー</span></p>
<ul class="ulist">
<li>
<p><span class="merged" id="all.4WTbAW" style='background-color:yellow' title="原文 : Inter-Cluster Access - allow Coherence cluster Pods to communicate"><router-link @click.native="this.scrollFix('#inter-cluster')" to="#inter-cluster">「クラスタ間アクセス」</router-link> -Coherenceクラスタ・ポッドの通信を許可</span></p>

</li>
<li>
<p><span class="merged" id="all.2Eqf2v" style='background-color:yellow' title="原文 : Coherence Operator - allow Coherence cluster Pods to communicate with the Operator"><router-link @click.native="this.scrollFix('#cluster-to-operator')" to="#cluster-to-operator">Coherence Operator</router-link> - Coherenceクラスタ・ポッドがオペレータと通信することを許可</span></p>

</li>
<li>
<p><span class="merged" id="all.4OQSLs" style='background-color:yellow' title="原文 : Clients - allows access by Extend and gRPC clients"><router-link @click.native="this.scrollFix('#client')" to="#client">「クライアント」</router-link> - ExtendおよびgRPCクライアントによるアクセスを許可</span></p>

</li>
<li>
<p><span class="merged" id="all.3EB0Ri" style='background-color:yellow' title="原文 : Metrics - allow Coherence cluster member metrics to be scraped"><router-link @click.native="this.scrollFix('#metrics')" to="#metrics">「メトリクス」</router-link> - Coherenceクラスタ・メンバー・メトリクスの廃棄を許可</span></p>

</li>
</ul>
</li>
<li>
<p><span class="merged" id="all.1I4CD8" style='background-color:yellow' title="原文 : Testing Connectivity - using the Operator’s network connectivity test utility to test policies"><router-link @click.native="this.scrollFix('#testing')" to="#testing">「接続のテスト」</router-link> - オペレータのネットワーク接続テスト・ユーティリティを使用したポリシーのテスト</span></p>

</li>
</ul>

<h4 id="deny"><span class="merged" id="all.2fDxx6" style='background-color:yellow' title="原文 : Deny All Policy">すべてのポリシーを拒否</span></h4>
<div class="section">
<p><span class="merged" id="all.3kTyIh.spl1" style='background-color:yellow' title="原文 : Kubernetes does not have a “deny all” policy, but this can be achieved with a regular network policy that specifies a policyTypes of both &apos;Ingress` and Egress but omits any definitions.">Kubernetesには"deny all"ポリシーはありませんが、これは'Ingress`と<code>Egress</code>の両方の<code>policyTypes</code>を指定する通常のネットワーク・ポリシーで実現できますが、定義は省略できます。</span> <span class="merged" id="all.3kTyIh.spl2" style='background-color:yellow' title="原文 : A wild-card podSelector: {} applies the policy to all Pods in the namespace.">ワイルドカード<code>podSelector: {}</code>は、ネームスペース内のすべてのポッドにポリシーを適用します。</span> </p>

<pre
lang="yaml"
title="manifests/deny-all.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: deny-all
spec:
  podSelector: {}
  policyTypes:
    - Ingress
    - Egress
  ingress: []
  egress: []</pre>

<p><span class="merged" id="all.2X5nny" style='background-color:yellow' title="原文 : The policy above can be installed into the coherence namespace with the following command:">前述のポリシーは、次のコマンドを使用して<code>coherence</code>ネームスペースにインストールできます:</span></p>

<pre
lang="bash"

>kubectl -n coherence apply -f manifests/deny-all.yaml</pre>

<p><span class="merged" id="all.4P4BeP.spl1" style='background-color:yellow' title="原文 : After installing the deny-all policy, any Pod in the coherence namespace will not be allowed either ingress, nor egress."><code>deny-all</code>ポリシーのインストール後、<code>coherence</code>ネームスペース内の<code>Pod</code>は、イングレスもエグレスも許可されません。</span> <span class="merged" id="all.4P4BeP.spl2" style='background-color:yellow' title="原文 : Very secure, but probably impractical for almost all use cases.">非常に安全ですが、ほとんどすべてのユース・ケースでは実用的ではありません。</span> <span class="merged" id="all.4P4BeP.spl3" style='background-color:yellow' title="原文 : After applying the deny-all policy more polices can be added to gradually open up the required access to run the Coherence Operator and Coherence clusters."><code>deny-all</code>ポリシーの適用後、Coherence OperatorおよびCoherenceクラスタを実行するために必要なアクセスを徐々にオープンするために、より多くのポリシーを追加できます。</span> </p>

</div>

<h4 id="dns"><span class="merged" id="all.XtxOa" style='background-color:yellow' title="原文 : Allow DNS">DNSを許可</span></h4>
<div class="section">
<p><span class="merged" id="all.2jHeTN" style='background-color:yellow' title="原文 : When enforcing egress, such as with the deny-all policy above, it is important to remember that virtually every Pod needs to communicate with other Pods or Services, and will therefore need to access DNS.">上記の<code>deny-all</code>ポリシーなどでエグレスを適用する場合は、事実上すべてのポッドが他のポッドまたはサービスと通信する必要があるため、DNSにアクセスする必要があることに注意してください。</span></p>

<p><span class="merged" id="all.3yD9h3" style='background-color:yellow' title="原文 : The policy below allows all Pods (using podSelector: {}) egress to both TCP and UDP on port 53 in all namespaces.">次のポリシーは、すべてのネームスペースのポート53でTCPとUDPの両方に対して(<code>podSelector: {}</code>を使用して)すべてのポッド・エグレスを許可します。</span></p>

<pre
lang="yaml"
title="manifests/allow-dns.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-dns
spec:
  podSelector: { }
  policyTypes:
    - Egress
  egress:
    - to:
        - namespaceSelector: { }
      ports:
        - protocol: UDP
          port: 53
#        - protocol: TCP
#          port: 53</pre>

<p><span class="merged" id="all.34zCyk.spl1" style='background-color:yellow' title="原文 : If allowing DNS egress to all namespaces is overly permissive, DNS could be further restricted to just the kube-system namespace, therefore restricting DNS lookups to only Kubernetes internal DNS.">すべてのネームスペースへのDNSエグレスの許可が過度に許容される場合、DNSは<code>kube-system</code>ネームスペースのみにさらに制限できるため、DNSルックアップはKubernetes内部DNSのみに制限されます。</span> <span class="merged" id="all.34zCyk.spl2" style='background-color:yellow' title="原文 : Kubernetes applies the kubernetes.io/metadata.name label to namespaces, and sets its value to the namespace name, so this can be used in label matchers.">Kubernetesは、ネームスペースに<code>kubernetes.io/metadata.name</code>ラベルを適用し、その値をネームスペース名に設定して、ラベル・マッチャで使用できます。</span> </p>

<p><span class="merged" id="all.3dzfE7" style='background-color:yellow' title="原文 : With the policy below, Pods will be able to use internal Kubernetes DNS only.">次のポリシーでは、ポッドは内部のKubernetes DNSのみを使用できます。</span></p>

<pre
lang="yaml"
title="manifests/allow-dns-kube-system.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-dns
spec:
  podSelector: { }
  policyTypes:
    - Egress
  egress:
    - to:
        - namespaceSelector:
            matchLabels:
              kubernetes.io/metadata.name: kube-system
      ports:
        - protocol: UDP
          port: 53
#        - protocol: TCP
#          port: 53</pre>

<p><span class="merged" id="all.2X5nny.1" style='background-color:yellow' title="原文 : The policy above can be installed into the coherence namespace with the following command:">前述のポリシーは、次のコマンドを使用して<code>coherence</code>ネームスペースにインストールできます:</span></p>

<pre
lang="bash"

>kubectl -n coherence apply -f manifests/allow-dns-kube-system.yaml</pre>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.8"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.1cUiOj.spl1" style='background-color:yellow' title="原文 : Some documentation regarding allowing DNS with Kubernetes network policies only shows opening up UDP connections.">Kubernetesネットワーク・ポリシーによるDNSの許可に関する一部のドキュメントでは、UDP接続の開放のみが示されます。</span> <span class="merged" id="all.1cUiOj.spl2" style='background-color:yellow' title="原文 : During our testing with network policies, we discovered that with only UDP allowed any lookup for a fully qualified name would fail.">ネットワーク・ポリシーを使用したテストでは、UDPのみで完全修飾名のルックアップが許可されていると失敗することがわかりました。</span> <span class="merged" id="all.1cUiOj.spl3" style='background-color:yellow' title="原文 : For example nslookup my-service.my-namespace.svc would work, but the fully qualified nslookup my-service.my-namespace.svc.cluster.local would not.">たとえば、<code>nslookup my-service.my-namespace.svc</code>は機能しますが、完全修飾<code>nslookup my-service.my-namespace.svc.cluster.local</code>は機能しません。</span> <span class="merged" id="all.1cUiOj.spl4" style='background-color:yellow' title="原文 : Adding TCP to the DNS policy allowed DNS lookups with .cluster.local to also work.">DNSポリシーにTCPを追加すると、<code>.cluster.local</code>を使用したDNSルックアップも機能します。</span> </p>

<p><span class="merged" id="all.34PZHY.spl1" style='background-color:yellow' title="原文 : Neither the Coherence Operator, nor Coherence itself use a fully qualified service name for a DNS lookup.">Coherence OperatorもCoherence自体も、DNSルックアップに完全修飾サービス名を使用しません。</span> <span class="merged" id="all.34PZHY.spl2" style='background-color:yellow' title="原文 : It appears that Java’s InetAddress.findAllByName() method still works only with UDP, albeit extremely slowly.">Javaの<code>InetAddress.findAllByName()</code>メソッドは、UDPでのみ動作し、非常に低速であるように見えます。</span> <span class="merged" id="all.34PZHY.spl3" style='background-color:yellow' title="原文 : By default, the service name used for the Coherence WKA setting uses just the .svc suffix.">デフォルトでは、Coherence WKA設定に使用されるサービス名は、<code>.svc</code>サフィクスのみを使用します。</span> </p>
</p>
</div>
</div>
</div>

<h3 id="operator"><span class="merged" id="all.6N8zA" style='background-color:yellow' title="原文 : Coherence Operator Policies">Coherence Operatorポリシー</span></h3>
<div class="section">
<p><span class="merged" id="all.3Z0Bn8.spl1" style='background-color:yellow' title="原文 : Assuming the coherence namespace exists, and the deny-all and allow-dns policies described above have been applied, if the Coherence Operator is installed, it wil fail to start as it has no access to endpoints it needs to operate."><code>coherence</code>ネームスペースが存在し、前述した<code>deny-all</code>および<code>allow-dns</code>ポリシーが適用されていると仮定すると、Coherence Operatorがインストールされている場合、操作する必要があるエンドポイントへのアクセス権がないため起動に失敗します。</span> <span class="merged" id="all.3Z0Bn8.spl2" style='background-color:yellow' title="原文 : The following sections will add network polices to allow the Coherence Operator to access Kubernetes services and Pods it requires.">次のセクションでは、Coherence Operatorが必要なKubernetesサービスおよびポッドにアクセスできるように、ネットワーク・ポリシーを追加します。</span> </p>


<h4 id="k8sapi"><span class="merged" id="all.2bPg05" style='background-color:yellow' title="原文 : Access the Kubernetes API Server">Kubernetes APIサーバーへのアクセス</span></h4>
<div class="section">
<p><span class="merged" id="all.3Fhr4k.spl1" style='background-color:yellow' title="原文 : The Coherence Operator uses Kubernetes APIs to manage various resources in the Kubernetes cluster.">Coherence Operatorは、Kubernetes APIを使用して、Kubernetesクラスタ内の様々なリソースを管理します。</span> <span class="merged" id="all.3Fhr4k.spl2" style='background-color:yellow' title="原文 : For this to work, the Operator Pod must be allowed egress to the Kubernetes API server.">これが機能するには、オペレータ・ポッドがKubernetes APIサーバーへのエグレスを許可されている必要があります。</span> <span class="merged" id="all.3Fhr4k.spl3" style='background-color:yellow' title="原文 : Configuring access to the API server is not as straight forward as other network policies.">APIサーバーへのアクセスの構成は、他のネットワーク・ポリシーほど単純ではありません。</span> <span class="merged" id="all.3Fhr4k.spl4" style='background-color:yellow' title="原文 : The reason for this is that there is no Pod available with labels that can be used in the configuration, instead, the IP address of the API server itself must be used.">これは、構成で使用できるラベルでポッドを使用できないためです。かわりに、APIサーバー自体のIPアドレスを使用する必要があります。</span> </p>

<p><span class="merged" id="all.Oq4sL.spl1" style='background-color:yellow' title="原文 : There are various methods to find the IP address of the API server.">APIサーバーのIPアドレスを見つけるには様々なメソッドがあります。</span> <span class="merged" id="all.Oq4sL.spl2" style='background-color:yellow' title="原文 : The exact method required may vary depending on the type of Kubernetes cluster being used, for example a simple development cluster running in KinD on a laptop may differ from a cluster running in a cloud provider’s infrastructure.">必要なメソッドは、使用するKubernetesクラスタのタイプによって異なる場合があります。たとえば、ラップトップでKinDで実行されている単純な開発クラスタは、クラウド・プロバイダのインフラストラクチャで実行されているクラスタとは異なる場合があります。</span> </p>

<p><span class="merged" id="all.1Hh4Rh" style='background-color:yellow' title="原文 : The common way to find the API server’s IP address is to use kubectl cluster-info as follows:">APIサーバーのIPアドレスを見つける一般的な方法は、次のように<code>kubectl cluster-info</code>を使用することです:</span></p>

<pre
lang="bash"

>$ kubectl cluster-info
Kubernetes master is running at https://192.168.99.100:8443</pre>

<p><span class="merged" id="all.48t9ss" style='background-color:yellow' title="原文 : In the above case the IP address of the API server would be 192.168.99.100 and the port is 8443.">前述の場合、APIサーバーのIPアドレスは<code>192.168.99.100</code>で、ポートは<code>8443</code>です。</span></p>

<p><span class="merged" id="all.RN8Hj" style='background-color:yellow' title="原文 : In a simple KinD development cluster, the API server IP address can be obtained using kubectl as shown below:">単純なKinD開発クラスタでは、次に示すように、<code>kubectl</code>を使用してAPIサーバーのIPアドレスを取得できます:</span></p>

<pre
lang="bash"

>$ kubectl -n default get endpoints kubernetes -o json
{
    "apiVersion": "v1",
    "kind": "Endpoints",
    "metadata": {
        "creationTimestamp": "2023-02-08T10:31:26Z",
        "labels": {
            "endpointslice.kubernetes.io/skip-mirror": "true"
        },
        "name": "kubernetes",
        "namespace": "default",
        "resourceVersion": "196",
        "uid": "68b0a7de-c0db-4524-a1a2-9d29eb137f28"
    },
    "subsets": [
        {
            "addresses": [
                {
                    "ip": "192.168.49.2"
                }
            ],
            "ports": [
                {
                    "name": "https",
                    "port": 8443,
                    "protocol": "TCP"
                }
            ]
        }
    ]
}</pre>

<p><span class="merged" id="all.192jRm" style='background-color:yellow' title="原文 : In the above case the IP address of the API server would be 192.168.49.2 and the port is 8443.">前述の場合、APIサーバーのIPアドレスは<code>192.168.49.2</code>で、ポートは<code>8443</code>です。</span></p>

<p><span class="merged" id="all.33czMf.spl1" style='background-color:yellow' title="原文 : The IP address displayed for the API server can then be used in the network policy.">その後、APIサーバーに対して表示されるIPアドレスをネットワーク・ポリシーで使用できます。</span> <span class="merged" id="all.33czMf.spl2" style='background-color:yellow' title="原文 : The policy shown below allows Pods with the app.kubernetes.io/name: coherence-operator label (which the Operator has) egress access to the API server.">次に示すポリシーでは、<code>app.kubernetes.io/name: coherence-operator</code>ラベル(Operatorが持つ)でAPIサーバーへのエグレス・アクセスをポッドに許可します。</span> </p>

<pre
lang="yaml"
title="manifests/allow-k8s-api-server.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: operator-to-apiserver-egress
spec:
  podSelector:
    matchLabels:
      app.kubernetes.io/name: coherence-operator
  policyTypes:
    - Egress
    - Ingress
  egress:
    - to:
        - ipBlock:
            cidr: 172.18.0.2/24
        - ipBlock:
            cidr: 10.96.0.1/24
      ports:
        - port: 6443
          protocol: TCP
        - port: 443
          protocol: TCP</pre>

<p><span class="merged" id="all.yhs3n" style='background-color:yellow' title="原文 : The allow-k8s-api-server.yaml policy can be installed into the coherence namespace to allow the Operator to communicate with the API server."><code>allow-k8s-api-server.yaml</code>ポリシーを<code>coherence</code>ネームスペースにインストールして、オペレータがAPIサーバーと通信できるようにします。</span></p>

<pre
lang="bash"

>kubectl -n coherence apply -f manifests/allow-k8s-api-server.yaml</pre>

<p><span class="merged" id="all.BaaEU" style='background-color:yellow' title="原文 : With the allow-k8s-api-server.yaml policy applied, the Coherence Operator should now start correctly and its Pods should reach the &quot;ready&quot; state."><code>allow-k8s-api-server.yaml</code>ポリシーが適用されると、Coherence Operatorが正しく起動し、そのポッドは「ready」状態になります。</span></p>

</div>

<h4 id="cluster-access"><span class="merged" id="all.2gKKHA" style='background-color:yellow' title="原文 : Ingress From and Egress Into Coherence Cluster Member Pods">Coherenceクラスタ・メンバー・ポッドへのイングレスおよびエグレス</span></h4>
<div class="section">
<p><span class="merged" id="all.1R3D8B.spl1" style='background-color:yellow' title="原文 : When a Coherence cluster is deployed, on start-up of a Pod the cluster member will connect to the Operator’s REST endpoint to query the site name and rack name, based on the Node the Coherence member is running on.">Coherenceクラスタがデプロイされると、ポッドの起動時にクラスタ・メンバーがオペレータのRESTエンドポイントに接続し、Coherenceメンバーが実行されているノードに基づいてサイト名とラック名をクエリーします。</span> <span class="merged" id="all.1R3D8B.spl2" style='background-color:yellow' title="原文 : To allow this to happen the Operator needs to be configured with the relevant ingress policy.">これを実行するには、オペレータを関連するイングレス・ポリシーで構成する必要があります。</span> </p>

<p><span class="merged" id="all.4gM2Ri.spl1" style='background-color:yellow' title="原文 : The coherence-operator-rest-ingress policy applies to the Operator Pod, as it has a podSelector label of app.kubernetes.io/name: coherence-operator, which is a label applied to the Operator Pod."><code>coherence-operator-rest-ingress</code>ポリシーは、Operator Podに適用されるラベルである<code>app.kubernetes.io/name: coherence-operator</code>という<code>podSelector</code>ラベルがあるため、Operator Podに適用されます。</span> <span class="merged" id="all.4gM2Ri.spl2" style='background-color:yellow' title="原文 : The policy allows any Pod with the label coherenceComponent: coherencePod ingress into the operator REST port.">ポリシーでは、ラベル<code>coherenceComponent: coherencePod</code>のポッドを<code>operator</code> RESTポートにイングレスできます。</span> <span class="merged" id="all.4gM2Ri.spl3" style='background-color:yellow' title="原文 : When the Operator creates a Coherence cluster, it applies the label coherenceComponent: coherencePod to all the Coherence cluster Pods.">オペレータがCoherenceクラスタを作成すると、ラベル<code>coherenceComponent: coherencePod</code>がすべてのCoherenceクラスタ・ポッドに適用されます。</span> <span class="merged" id="all.4gM2Ri.spl4" style='background-color:yellow' title="原文 : The policy below allows access from all namespaces using namespaceSelector: { } but it could be tightened up to specific namespaces if required.">次のポリシーでは、<code>namespaceSelector: { }</code>を使用してすべてのネームスペースからのアクセスが許可されますが、必要に応じて特定のネームスペースまで絞り込むことができます。</span> </p>

<pre
lang="yaml"
title="manifests/allow-operator-rest-ingress.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: coherence-operator-rest-ingress
spec:
  podSelector:
    matchLabels:
      app.kubernetes.io/name: coherence-operator
  policyTypes:
    - Ingress
  ingress:
    - from:
        - namespaceSelector: { }
          podSelector:
            matchLabels:
              coherenceComponent: coherencePod
      ports:
        - port: operator
          protocol: TCP</pre>

<p><span class="merged" id="all.3lawko" style='background-color:yellow' title="原文 : During operations such as scaling and shutting down of a Coherence cluster, the Operator needs to connect to the health endpoint of the Coherence cluster Pods.">Coherenceクラスタのスケーリングや停止などの操作中に、オペレータはCoherenceクラスタ・ポッドのヘルス・エンドポイントに接続する必要があります。</span></p>

<p><span class="merged" id="all.2fYqzX.spl1" style='background-color:yellow' title="原文 : The coherence-operator-cluster-member-egress policy below applies to the Operator Pod, as it has a podSelector label of app.kubernetes.io/name: coherence-operator, which is a label applied to the Operator Pod.">次の<code>coherence-operator-cluster-member-egress</code>ポリシーは、オペレータ・ポッドに適用されます。<code>podSelector</code>ラベルが<code>app.kubernetes.io/name: coherence-operator</code>で、オペレータ・ポッドに適用されるラベルです。</span> <span class="merged" id="all.2fYqzX.spl2" style='background-color:yellow' title="原文 : The policy allows egress to the health port in any Pod with the label coherenceComponent: coherencePod.">ポリシーでは、ラベル<code>coherenceComponent: coherencePod</code>を持つ任意のポッドの<code>health</code>ポートにエグレスを許可します。</span> <span class="merged" id="all.2fYqzX.spl3" style='background-color:yellow' title="原文 : When the Operator creates a Coherence cluster, it applies the label coherenceComponent: coherencePod to all the Coherence cluster Pods.">オペレータがCoherenceクラスタを作成すると、ラベル<code>coherenceComponent: coherencePod</code>がすべてのCoherenceクラスタ・ポッドに適用されます。</span> <span class="merged" id="all.2fYqzX.spl4" style='background-color:yellow' title="原文 : The policy below allows egress to Coherence Pods in all namespaces using namespaceSelector: { } but it could be tightened up to specific namespaces if required.">次のポリシーでは、<code>namespaceSelector: { }</code>を使用してすべてのネームスペースでCoherenceポッドにエグレスを実行できますが、必要に応じて特定のネームスペースに絞り込むことができます。</span> </p>

<pre
lang="yaml"
title="manifests/allow-operator-cluster-member-egress.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: coherence-operator-cluster-member-egress
spec:
  podSelector:
    matchLabels:
      app.kubernetes.io/name: coherence-operator
  policyTypes:
    - Egress
  egress:
    - to:
        - namespaceSelector: { }
          podSelector:
            matchLabels:
              coherenceComponent: coherencePod
      ports:
        - port: health
          protocol: TCP</pre>

<p><span class="merged" id="all.1tdWE2" style='background-color:yellow' title="原文 : The two policies can be applied to the coherence namespace.">2つのポリシーを<code>coherence</code>ネームスペースに適用できます。</span></p>

<pre
lang="bash"

>kubectl -n coherence apply -f manifests/allow-operator-rest-ingress.yaml
kubectl -n coherence apply -f manifests/allow-operator-cluster-member-egress.yaml</pre>

</div>

<h4 id="webhook"><span class="merged" id="all.3aboYw" style='background-color:yellow' title="原文 : Webhook Ingress">Webフック・イングレス</span></h4>
<div class="section">
<p><span class="merged" id="all.2lZkDM" style='background-color:yellow' title="原文 : With all the above policies in place, the Operator is able to work correctly, but if a Coherence resource is now created Kubernetes will be unable to call the Operator’s webhook without the correct ingress policy.">前述のポリシーをすべて設定すると、オペレータは正しく動作できますが、<code>Coherence</code>リソースが作成された場合、Kubernetesは、正しいイングレス・ポリシーなしでオペレータのwebフックをコールできません。</span></p>

<p><span class="merged" id="all.3IVnXi.spl1"  title="原文: The following example demonstrates this.">次の例でこれを説明します。</span> <span class="merged" id="all.3IVnXi.spl2" style='background-color:yellow' title="原文 : Assume there is a minimal`Coherence` yaml file named minimal.yaml that will create a single member Coherence cluster.">単一のメンバーCoherenceクラスタを作成する最小限の`Coherence` yaml file name <code>minimal.yaml</code>があるとします。</span> </p>

<pre
lang="yaml"
title="minimal.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  replicas: 1</pre>

<p><span class="merged" id="all.4R7hTh" style='background-color:yellow' title="原文 : If minimal.yaml is applied using kubectl with a small timeout of 10 seconds, the creation of the resource will fail due to Kubernetes not having access to the Coherence Operator webhook."><code>minimal.yaml</code>が10秒の短いタイムアウトで<code>kubectl</code>を使用して適用された場合、KubernetesがCoherence Operator webフックにアクセスできないため、リソースの作成は失敗します。</span></p>

<pre
lang="bash"

>$ kubectl apply --timeout=10s -f minimal.yaml
Error from server (InternalError): error when creating "minimal.yaml": Internal error occurred: failed calling webhook "coherence.oracle.com": failed to call webhook: Post "https://coherence-operator-webhook.operator-test.svc:443/mutate-coherence-oracle-com-v1-coherence?timeout=10s": context deadline exceeded</pre>

<p><span class="merged" id="all.4VccZQ.spl1" style='background-color:yellow' title="原文 : The simplest solution is to allow ingress from any IP address to the webhook on port, with a policy like that shown below.">最もシンプルなソリューションは、次に示すようなポリシーを使用して、任意のIPアドレスからポートのwebフックへのイングレスを許可することです。</span> <span class="merged" id="all.4VccZQ.spl2" style='background-color:yellow' title="原文 : This policy uses and empty from: [] attribute, which allows access from anywhere to the webhook-server port in the Pod.">このポリシーでは空の<code>from: []</code>属性が使用され、ポッド内の任意の場所から<code>webhook-server</code>ポートへのアクセスが許可されます。</span> </p>

<pre
lang="yaml"
title="manifests/allow-webhook-ingress-from-all.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: apiserver-to-operator-webhook-ingress
spec:
  podSelector:
    matchLabels:
      app.kubernetes.io/name: coherence-operator
  policyTypes:
    - Ingress
  ingress:
    - from: []
      ports:
        - port: webhook-server
          protocol: TCP</pre>

<p><span class="merged" id="all.1GN57f.spl1" style='background-color:yellow' title="原文 : Allowing access to the webhook from anywhere is not very secure, so a more restrictive from attribute could be used to limit access to the IP address (or addresses) of the Kubernetes API server.">どこからでもwebフックにアクセスできるようにすることは、あまり安全ではないため、より制限の厳しい<code>from</code>属性を使用して、Kubernetes APIサーバーのIPアドレス(またはアドレス)へのアクセスを制限できます。</span> <span class="merged" id="all.1GN57f.spl2" style='background-color:yellow' title="原文 : As with the API server policy above, the trick here is knowing the API server addresses to use.">前述のAPIサーバー・ポリシーと同様に、ここでは、使用するAPIサーバー・アドレスを把握しています。</span> </p>

<p><span class="merged" id="all.1XBLFl" style='background-color:yellow' title="原文 : The policy below only allows access from specific addresses:">次のポリシーでは、特定のアドレスからのアクセスのみが許可されます:</span></p>

<pre
lang="yaml"
title="manifests/allow-webhook-ingress-from-all.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: apiserver-to-operator-webhook-ingress
spec:
  podSelector:
    matchLabels:
      app.kubernetes.io/name: coherence-operator
  policyTypes:
    - Ingress
  ingress:
    - from:
        - ipBlock:
            cidr: 172.18.0.2/24
        - ipBlock:
            cidr: 10.96.0.1/24
      ports:
        - port: webhook-server
          protocol: TCP
        - port: 443
          protocol: TCP</pre>

</div>
</div>

<h3 id="coherence"><span class="merged" id="all.40q48V" style='background-color:yellow' title="原文 : Coherence Cluster Member Policies">Coherenceクラスタ・メンバー・ポリシー</span></h3>
<div class="section">
<p><span class="merged" id="all.3Uj0WB.spl1" style='background-color:yellow' title="原文 : Once the policies are in place to allow the Coherence Operator to work, the policies to allow Coherence clusters to run can be put in place.">Coherence Operatorが機能できるようにポリシーが配置されると、Coherenceクラスタを実行できるようにするポリシーを配置できます。</span> <span class="merged" id="all.3Uj0WB.spl2" style='background-color:yellow' title="原文 : The exact set of policies requires will vary depending on the Coherence functionality being used.">ポリシーの正確なセットは、使用されるCoherence機能によって異なります。</span> <span class="merged" id="all.3Uj0WB.spl3" style='background-color:yellow' title="原文 : If Coherence is embedded in another application, such as a web-server, then additional policies may also be needed to allow ingress to other endpoints.">Coherenceがwebサーバーなどの別のアプリケーションに埋め込まれている場合、他のエンドポイントへのイングレスを許可するために追加のポリシーが必要になる場合があります。</span> <span class="merged" id="all.3Uj0WB.spl4" style='background-color:yellow' title="原文 : Conversely, if the Coherence application needs access to other services, for example a database, then additional egress policies may need to be created.">逆に、Coherenceアプリケーションがデータベースなどの他のサービスにアクセスする必要がある場合は、追加のエグレス・ポリシーを作成する必要があります。</span> </p>

<p><span class="merged" id="all.265lRd" style='background-color:yellow' title="原文 : This example is only going to cover Coherence use cases, but it should be simple enough to apply the same techniques to policies for other applications.">この例は、Coherenceのユース・ケースのみを対象としていますが、他のアプリケーションのポリシーに同じテクニックを適用するには単純である必要があります。</span></p>


<h4 id="inter-cluster"><span class="merged" id="all.2kCa0r" style='background-color:yellow' title="原文 : Access Other Cluster Members">他のクラスタ・メンバーへのアクセス</span></h4>
<div class="section">
<p><span class="merged" id="all.1ZpdVt.spl1" style='background-color:yellow' title="原文 : All Pods in a Coherence cluster must be able to talk to each other (otherwise they wouldn’t be a cluster).">Coherenceクラスタ内のすべてのポッドは、相互に通信できる必要があります(そうしないとクラスタになりません)。</span> <span class="merged" id="all.1ZpdVt.spl2" style='background-color:yellow' title="原文 : This means that there needs to be ingress and egress policies to allow this.">つまり、これを許可するにはイングレスおよびエグレス・ポリシーが必要です。</span> </p>

<p><span class="merged" id="all.4gYgAv" style='background-color:yellow' title="原文 : Cluster port: The default cluster port is 7574, and there is almost never any need to change this, especially in a containerised environment where there is little chance of port conflicts."><strong>クラスタ・ポート</strong>: デフォルトのクラスタ・ポートは7574であり、特にポートが競合する可能性がほとんどないコンテナ化された環境で、これを変更する必要はありません。</span></p>

<p><span class="merged" id="all.3qEEhx.spl1" style='background-color:yellow' title="原文 : Unicast ports: Unicast uses TMB (default) and UDP."><strong>ユニキャスト・ポート</strong>: ユニキャストではTMB (デフォルト)とUDPを使用します。</span> <span class="merged" id="all.3qEEhx.spl2" style='background-color:yellow' title="原文 : Each cluster member listens on one UDP and one TCP port and both ports need to be opened in the network policy.">各クラスタ・メンバーは、1つのUDPと1つのTCPポートをリスニングし、両方のポートをネットワーク・ポリシーでオープンする必要があります。</span> <span class="merged" id="all.3qEEhx.spl3" style='background-color:yellow' title="原文 : The default behaviour of Coherence is for the unicast ports to be automatically assigned from the operating system’s available ephemeral port range.">Coherenceのデフォルトの動作は、オペレーティング・システムの使用可能なエフェメラル・ポート範囲から自動的に割り当てられるユニキャスト・ポート用です。</span> <span class="merged" id="all.3qEEhx.spl4" style='background-color:yellow' title="原文 : When securing Coherence with network policies, the use of ephemeral ports will not work, so a range of ports can be specified for coherence to operate within.">ネットワーク・ポリシーでCoherenceを保護する場合、エフェメラル・ポートの使用は機能しないため、内部で動作するようにポートの範囲を指定できます。</span> <span class="merged" id="all.3qEEhx.spl5" style='background-color:yellow' title="原文 : The Coherence Operator sets values for both unicast ports so that ephemeral ports will not be used.">Coherence Operatorは、エフェメラル・ポートが使用されないように、両方のユニキャスト・ポートの値を設定します。</span> <span class="merged" id="all.3qEEhx.spl6" style='background-color:yellow' title="原文 : The default values are 7575 and 7576.">デフォルト値は、<code>7575</code>および<code>7576</code>です。</span> </p>

<p><span class="merged" id="all.2QlCLR" style='background-color:yellow' title="原文 : The two unicast ports can be changed in the Coherence spec by setting the spec.coherence.localPort field, and the spec.coherence.localPortAdjust field for example:"><code>spec.coherence.localPort</code>フィールドおよび<code>spec.coherence.localPortAdjust</code>フィールドを設定して、<code>Coherence</code>仕様で2つのユニキャスト・ポートを変更できます。次に例を示します:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    localPort: 9000
    localPortAdjust: 9001</pre>

<p><span class="merged" id="all.sTAIS" style='background-color:yellow' title="原文 : Alternatively the values can also be configured using environment variables">または、環境変数を使用して値を構成することもできます</span></p>

<pre
lang="yaml"

>env:
  - name: COHERENCE_LOCALPORT
    value: "9000"
  - name: COHERENCE_LOCALPORT_ADJUST
    value: "9001"</pre>

<p><span class="merged" id="all.3RXOZi.spl1" style='background-color:yellow' title="原文 : Echo port 7: The default TCP port of the IpMonitor component that is used for detecting hardware failure of cluster members."><strong>エコー・ポート<code>7</code></strong>: クラスタ・メンバーのハードウェア障害の検出に使用されるIpMonitorコンポーネントのデフォルトのTCPポート。</span> <span class="merged" id="all.3RXOZi.spl2" style='background-color:yellow' title="原文 : Coherence doesn’t bind to this port, it only tries to connect to it as a means of pinging remote machines, or in this case Pods.">Coherenceはこのポートにバインドされません。リモート・マシンをpingする手段として、またはこの場合はPodsに接続しようとするのみです。</span> </p>

<p><span class="merged" id="all.20aNdB" style='background-color:yellow' title="原文 : The Coherence Operator applies the coherenceComponent: coherencePod label to all Coherence Pods, so this can be used in the network policy podSelector, to apply the policy to only the Coherence Pods.">Coherence Operatorは、すべてのCoherenceポッドに<code>coherenceComponent: coherencePod</code>ラベルを適用するため、これはネットワーク・ポリシー<code>podSelector</code>で使用して、Coherenceポッドにのみポリシーを適用できます。</span></p>

<p><span class="merged" id="all.1nOMWg" style='background-color:yellow' title="原文 : The policy below works with the default ports configured by the Operator.">次のポリシーは、オペレータによって構成されたデフォルトのポートと連携します。</span></p>

<pre
lang="yaml"
title="manifests/allow-cluster-member-access.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-coherence-cluster
spec:
  podSelector:
    matchLabels:
      coherenceComponent: coherencePod
  policyTypes:
    - Ingress
    - Egress
  ingress:
    - from:
        - podSelector:
            matchLabels:
              coherenceComponent: coherencePod
      ports:
        - port: 7574
          endPort: 7576
          protocol: TCP
        - port: 7574
          endPort: 7576
          protocol: UDP
        - port: 7
          protocol: TCP
  egress:
    - to:
        - podSelector:
            matchLabels:
              coherenceComponent: coherencePod
      ports:
        - port: 7574
          endPort: 7576
          protocol: TCP
        - port: 7574
          endPort: 7576
          protocol: UDP
        - port: 7
          protocol: TCP</pre>

<p><span class="merged" id="all.SINAm.spl1" style='background-color:yellow' title="原文 : If the Coherence local port and local port adjust values are changed, then the policy would need to be amended.">Coherenceローカル・ポートおよびローカル・ポートの調整値を変更した場合、ポリシーを修正する必要があります。</span> <span class="merged" id="all.SINAm.spl2" style='background-color:yellow' title="原文 : For example, if COHERENCE_LOCALPORT=9000 and COHERENCE_LOCALPORT_ADJUST=9100">たとえば、<code>COHERENCE_LOCALPORT=9000</code>および<code>COHERENCE_LOCALPORT_ADJUST=9100</code>の場合</span> </p>

<pre
lang="yaml"
title="manifests/allow-cluster-member-access-non-default.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-coherence-cluster
spec:
  podSelector:
    matchLabels:
      coherenceComponent: coherencePod
  policyTypes:
    - Ingress
    - Egress
  ingress:
    - from:
        - podSelector:
            matchLabels:
              coherenceComponent: coherencePod
      ports:
        - port: 7574
          protocol: TCP
        - port: 7574
          protocol: UDP
        - port: 9000
          endPort: 9100
          protocol: TCP
        - port: 9000
          endPort: 9100
          protocol: UDP
        - port: 7
          protocol: TCP
  egress:
    - to:
        - podSelector:
            matchLabels:
              coherenceComponent: coherencePod
      ports:
        - port: 7574
          protocol: TCP
        - port: 7574
          protocol: UDP
        - port: 9000
          endPort: 9100
          protocol: TCP
        - port: 9000
          endPort: 9100
          protocol: UDP
        - port: 7
          protocol: TCP</pre>

<p><span class="merged" id="all.2rRL3C.spl1" style='background-color:yellow' title="原文 : Both of the policies above should be applied to the namespace where the Coherence cluster will be deployed.">前述のポリシーの両方を、Coherenceクラスタがデプロイされるネームスペースに適用する必要があります。</span> <span class="merged" id="all.2rRL3C.spl2" style='background-color:yellow' title="原文 : With the two policies above in place, the Coherence Pods will be able to communicate.">前述の2つのポリシーによって、Coherenceポッドは通信できるようになります。</span> </p>

</div>

<h4 id="cluster-to-operator"><span class="merged" id="all.9pZCO" style='background-color:yellow' title="原文 : Egress to and Ingress From the Coherence Operator">Coherence Operatorからのエグレスとイングレス</span></h4>
<div class="section">
<p><span class="merged" id="all.4Ey2nj.spl1" style='background-color:yellow' title="原文 : When a Coherence Pod starts Coherence calls back to the Operator to obtain the site name and rack name based on the Node the Pod is scheduled onto.">Coherenceポッドがオペレータにコールバックし、ポッドがスケジュールされているノードに基づいてサイト名とラック名を取得します。</span> <span class="merged" id="all.4Ey2nj.spl2" style='background-color:yellow' title="原文 : For this to work, there needs to be an egress policy to allow Coherence Pods to access the Operator.">これが機能するには、Coherenceポッドがオペレータにアクセスできるようにするエグレス・ポリシーが必要です。</span> </p>

<p><span class="merged" id="all.19jW7Y.spl1" style='background-color:yellow' title="原文 : During certain operations the Operator needs to call the Coherence members health endpoint to check health and status.">特定の操作中に、オペレータは、ヘルスおよびステータスをチェックするためにCoherenceメンバーのヘルス・エンドポイントを呼び出す必要があります。</span> <span class="merged" id="all.19jW7Y.spl2" style='background-color:yellow' title="原文 : For this to work there needs to be an ingress policy to allow the Operator access to the health endpoint in the Coherence Pods">これを行うには、Coherenceポッド内のヘルス・エンドポイントへのオペレータ・アクセスを許可するイングレス・ポリシーが必要です</span> </p>

<p><span class="merged" id="all.4atcyT.spl1" style='background-color:yellow' title="原文 : The policy below applies to Pods with the coherenceComponent: coherencePod label, which will match Coherence cluster member Pods.">次のポリシーは、<code>coherenceComponent: coherencePod</code>ラベルのポッドに適用されます。これは、Coherenceクラスタ・メンバーのポッドと一致します。</span> <span class="merged" id="all.4atcyT.spl2" style='background-color:yellow' title="原文 : The policy allows ingress from the Operator to the Coherence Pod health port from namespace coherence using the namespace selector label kubernetes.io/metadata.name: coherence and Pod selector label app.kubernetes.io/name: coherence-operator The policy allows egress from the Coherence pods to the Operator’s REST server operator port.">ポリシーでは、ネームスペース・セレクタ・ラベル<code>kubernetes.io/metadata.name: coherence</code>およびポッド・セレクタ・ラベル<code>app.kubernetes.io/name: coherence-operator</code>を使用して、オペレータからネームスペース<code>coherence</code>のCoherenceポッド・ヘルス・ポートへのイングレスを許可します。このポリシーでは、CoherenceポッドからオペレータのRESTサーバーの<code>operator</code>ポートへのエグレスが可能です。</span> </p>

<pre
lang="yaml"
title="manifests/allow-cluster-member-operator-access.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: coherence-operator-cluster-member-access
spec:
  podSelector:
    matchLabels:
      coherenceComponent: coherencePod
  policyTypes:
    - Ingress
    - Egress
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              kubernetes.io/metadata.name: coherence
          podSelector:
            matchLabels:
              app.kubernetes.io/name: coherence-operator
      ports:
        - port: health
          protocol: TCP
  egress:
    - to:
        - namespaceSelector:
            matchLabels:
              kubernetes.io/metadata.name: coherence
          podSelector:
            matchLabels:
              app.kubernetes.io/name: coherence-operator
      ports:
        - port: operator
          protocol: TCP</pre>

<p><span class="merged" id="all.2mnvTk.spl1" style='background-color:yellow' title="原文 : If the Operator is not running in the coherence namespace then the namespace match label can be changed to the required value.">オペレータが<code>coherence</code>ネームスペースで実行されていない場合、ネームスペース一致ラベルを必要な値に変更できます。</span> <span class="merged" id="all.2mnvTk.spl2" style='background-color:yellow' title="原文 : The policy above should be applied to the namespace where the Coherence cluster will be deployed.">前述のポリシーは、Coherenceクラスタがデプロイされるネームスペースに適用する必要があります。</span> </p>

</div>

<h4 id="client"><span class="merged" id="all.1FfHrW" style='background-color:yellow' title="原文 : Client Access (Coherence*Extend and gRPC)">クライアント・アクセス(Coherence*ExtendおよびgRPC)</span></h4>
<div class="section">
<p><span class="merged" id="all.1cHE0c.spl1" style='background-color:yellow' title="原文 : A typical Coherence cluster does not run in isolation but as part of a larger application.">通常のCoherenceクラスタは分離では実行されず、大規模なアプリケーションの一部として実行されます。</span> <span class="merged" id="all.1cHE0c.spl2" style='background-color:yellow' title="原文 : If the application has other Pods that are Coherence clients, then they will need access to the Coherence cluster.">アプリケーションにCoherenceクライアントである他のポッドがある場合は、Coherenceクラスタにアクセスする必要があります。</span> <span class="merged" id="all.1cHE0c.spl3" style='background-color:yellow' title="原文 : This would usually mean creating ingress and egress policies for the Coherence Extend port and gRPC port, depending on which Coherence APIs are being used.">これは通常、使用されるCoherence APIに応じて、Coherence ExtendポートおよびgRPCポートのイングレス・ポリシーおよびエグレス・ポリシーを作成することを意味します。</span> </p>

<p><span class="merged" id="all.2fMlvX.spl1" style='background-color:yellow' title="原文 : Instead of using actual port numbers, a NetworkPolicy can be made more flexible by using port names.">実際のポート番号を使用するかわりに、ポート名を使用して<code>NetworkPolicy</code>の柔軟性を高めることができます。</span> <span class="merged" id="all.2fMlvX.spl2" style='background-color:yellow' title="原文 : When ports are defined in a container spec of a Pod, they are usually named.">ポートがポッドのコンテナ仕様で定義されている場合、通常は名前が付けられます。</span> <span class="merged" id="all.2fMlvX.spl3" style='background-color:yellow' title="原文 : By using the names of the ports in the NetworkPolicy instead of port numbers, the real port numbers can be changed without affecting the network policy.">ポート番号ではなく<code>NetworkPolicy</code>のポート名を使用することで、ネットワーク・ポリシーに影響を与えずに実際のポート番号を変更できます。</span> </p>


<h5 id="_coherence_extend_access"><span class="merged" id="all.9FDQ8" style='background-color:yellow' title="原文 : Coherence Extend Access">Coherenceアクセスの拡張</span></h5>
<div class="section">
<p><span class="merged" id="all.28oDvs.spl1" style='background-color:yellow' title="原文 : If Coherence Extend is being used, then first the Extend Proxy must be configured to use a fixed port.">Coherence Extendを使用する場合、最初にExtend Proxyを固定ポートを使用するように構成する必要があります。</span> <span class="merged" id="all.28oDvs.spl2" style='background-color:yellow' title="原文 : The default behaviour of Coherence is to bind the Extend proxy to an ephemeral port and clients use the Coherence NameService to look up the port to use.">Coherenceのデフォルトの動作では、Extendプロキシをエフェメラル・ポートにバインドし、クライアントはCoherence NameServiceを使用して使用するポートを検索します。</span> </p>

<p><span class="merged" id="all.2uKY4g.spl1" style='background-color:yellow' title="原文 : When using the default Coherence images, for example ghcr.io/oracle/coherence-ce:22.06 the Extend proxy is already configured to run on a fixed port 20000.">デフォルトのCoherenceイメージを使用する場合(たとえば、<code>ghcr.io/oracle/coherence-ce:22.06</code>)、Extendプロキシはすでに固定ポート<code>20000</code>で実行されるように構成されています。</span> <span class="merged" id="all.2uKY4g.spl2" style='background-color:yellow' title="原文 : When using this image, or any image that uses the default Coherence cache configuration file, this port can be changed by setting the COHERENCE_EXTEND_PORT environment variable.">このイメージ、またはデフォルトのCoherenceキャッシュ構成ファイルを使用するイメージを使用する場合、<code>COHERENCE_EXTEND_PORT</code>環境変数を設定してこのポートを変更できます。</span> </p>

<p><span class="merged" id="all.14x9rV.spl1" style='background-color:yellow' title="原文 : When using the Coherence Concurrent extensions over Extend, the Concurrent Extend proxy also needs to be configured with a fixed port.">拡張を介してCoherenceコンカレント拡張を使用する場合、コンカレント拡張プロキシも固定ポートで構成する必要があります。</span> <span class="merged" id="all.14x9rV.spl2" style='background-color:yellow' title="原文 : When using the default Coherence images, for example ghcr.io/oracle/coherence-ce:22.06 the Concurrent Extend proxy is already configured to run on a fixed port 20001.">デフォルトのCoherenceイメージを使用する場合(たとえば、<code>ghcr.io/oracle/coherence-ce:22.06</code>)、コンカレント拡張プロキシはすでに固定ポート<code>20001</code>で実行するように構成されています。</span> <span class="merged" id="all.14x9rV.spl3" style='background-color:yellow' title="原文 : When using this image, or any image that uses the default Coherence cache configuration file, this port can be changed by setting the COHERENCE_CONCURRENT_EXTEND_PORT environment variable.">このイメージ、またはデフォルトのCoherenceキャッシュ構成ファイルを使用するイメージを使用する場合、<code>COHERENCE_CONCURRENT_EXTEND_PORT</code>環境変数を設定してこのポートを変更できます。</span> </p>

<p><span class="merged" id="all.168l9j.spl1" style='background-color:yellow' title="原文 : For the examples below, a Coherence deployment has the following configuration.">次の例では、<code>Coherence</code>デプロイメントに次の構成があります。</span> <span class="merged" id="all.168l9j.spl2" style='background-color:yellow' title="原文 : This will expose Extend on a port named extend with a port number of 20000, and a port named extend-atomics with a port number of 20001.">これにより、ポート番号が<code>20000</code>の<code>extend</code>という名前のポートと、ポート番号が<code>20001</code>の<code>extend-atomics</code>という名前のポートでExtendが公開されます。</span> <span class="merged" id="all.168l9j.spl3" style='background-color:yellow' title="原文 : The polices described below will then use the port names, so if required the port number could be changed and the policies would still work.">次に、次に示すポリシーではポート名が使用されるため、必要に応じてポート番号を変更でき、ポリシーは引き続き機能します。</span> </p>

<pre
lang="yaml"
title="coherence-cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  ports:
    - name: extend
      port: 20000
    - name: extend-atomics
      port: 20001</pre>

<p><span class="merged" id="all.2PQVaa.spl1" style='background-color:yellow' title="原文 : The ingress policy below will work with the default Coherence image and allow ingress into the Coherence Pods to both the default Extend port and Coherence Concurrent Extend port.">次のイングレス・ポリシーは、デフォルトのCoherenceイメージと連携し、デフォルトのExtendポートとCoherenceコンカレント拡張ポートの両方に対するCoherenceポッドへのイングレスを許可します。</span> <span class="merged" id="all.2PQVaa.spl2" style='background-color:yellow' title="原文 : The policy allows ingress from Pods that have the coherence.oracle.com/extendClient: true label, from any namespace.">ポリシーでは、任意のネームスペースから<code>coherence.oracle.com/extendClient: true</code>ラベルを持つポッドからのイングレスを許可します。</span> <span class="merged" id="all.2PQVaa.spl3" style='background-color:yellow' title="原文 : It could be tightened further by using a more specific namespace selector.">より具体的なネームスペース・セレクタを使用してさらに絞り込むことができます。</span> </p>

<pre
lang="yaml"
title="manifests/allow-extend-ingress.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: coherence-extend-ingress
spec:
  podSelector:
    matchLabels:
      coherenceComponent: coherencePod
  policyTypes:
    - Ingress
  ingress:
    - from:
        - namespaceSelector: {}
          podSelector:
            matchLabels:
              coherence.oracle.com/extendClient: "true"
      ports:
        - port: extend
          protocol: TCP
        - port: extend-atomics
          protocol: TCP</pre>

<p><span class="merged" id="all.2fajPY" style='background-color:yellow' title="原文 : The policy above should be applied to the namespace where the Coherence cluster is running.">前述のポリシーは、Coherenceクラスタが実行されているネームスペースに適用する必要があります。</span></p>

<p><span class="merged" id="all.4MFqJx" style='background-color:yellow' title="原文 : Instead of using fixed port numbers in the">固定ポート番号を使用する代わりに</span></p>

<p><span class="merged" id="all.4fpkCF" style='background-color:yellow' title="原文 : The egress policy below will work with the default Coherence image and allow egress from Pods with the coherence.oracle.com/extendClient: true label to Coherence Pods with the label coherenceComponent: coherencePod. on both the default Extend port and Coherence Concurrent Extend port.">次のエグレス・ポリシーは、デフォルトのCoherenceイメージで機能し、<code>coherence.oracle.com/extendClient: true</code>ラベルのポッドから、デフォルトのExtendポートとCoherenceコンカレント拡張ポートの両方でラベル<code>coherenceComponent: coherencePod</code>のCoherenceポッドへのエグレスを許可します。</span></p>

<pre
lang="yaml"
title="manifests/allow-extend-egress.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: coherence-extend-egress
spec:
  podSelector:
    matchLabels:
      coherence.oracle.com/extendClient: "true"
  policyTypes:
    - Ingress
  egress:
    - to:
      - namespaceSelector: { }
        podSelector:
          matchLabels:
            coherenceComponent: coherencePod
      ports:
        - port: extend
          protocol: TCP
        - port: extend-atomics
          protocol: TCP</pre>

<p><span class="merged" id="all.3cpSHF.spl1" style='background-color:yellow' title="原文 : The policy above allows egress to Coherence Pods in any namespace.">前述のポリシーにより、任意のネームスペースでCoherenceポッドへのエグレスが可能になります。</span> <span class="merged" id="all.3cpSHF.spl2" style='background-color:yellow' title="原文 : This would ideally be tightened up to the specific namespace that the Coherence cluster is deployed in.">これが理想的には、Coherenceクラスタがデプロイされる特定のネームスペースまで強化されます。</span> <span class="merged" id="all.3cpSHF.spl3" style='background-color:yellow' title="原文 : For example, if the Coherence cluster is deployed in the datastore namespace, then the to section of policy could be changed as follows:">たとえば、Coherenceクラスタが<code>datastore</code>ネームスペースにデプロイされている場合、ポリシーの<code>to</code>セクションは次のように変更できます:</span> </p>

<pre
lang="yaml"
title="manifests/allow-extend-egress.yaml"
>- to:
  - namespaceSelector:
      matchLabels:
        kubernetes.io/metadata.name: datastore
    podSelector:
      matchLabels:
        coherenceComponent: coherencePod</pre>

<p><span class="merged" id="all.3NeBXJ" style='background-color:yellow' title="原文 : This policy must be applied to the namespace where the client Pods will be deployed.">このポリシーは、ネームスペース<em>「クライアント・ポッドがデプロイされる場所」</em>に適用する必要があります。</span></p>

</div>

<h5 id="_coherence_grpc_access"><span class="merged" id="all.yC4Lk" style='background-color:yellow' title="原文 : Coherence gRPC Access">Coherence gRPCアクセス</span></h5>
<div class="section">
<p><span class="merged" id="all.2DCyj6" style='background-color:yellow' title="原文 : If Coherence gRPC is being used, then first the gRPC Proxy must be configured to use a fixed port.">Coherence gRPCが使用されている場合は、まず固定ポートを使用するようにgRPCプロキシを構成する必要があります。</span></p>

<p><span class="merged" id="all.RKdQt.spl1" style='background-color:yellow' title="原文 : When using the default Coherence images, for example ghcr.io/oracle/coherence-ce:22.06 the gRPC proxy is already configured to run on a fixed port 1408.">デフォルトのCoherenceイメージ(<code>ghcr.io/oracle/coherence-ce:22.06</code>など)を使用する場合、gRPCプロキシは固定ポート<code>1408</code>で実行するようにすでに構成されています。</span> <span class="merged" id="all.RKdQt.spl2" style='background-color:yellow' title="原文 : The gRPC proxy port can be changed by setting the COHERENCE_GRPC_PORT environment variable.">gRPCプロキシ・ポートは、<code>COHERENCE_GRPC_PORT</code>環境変数を設定することによって変更できます。</span> </p>

<p><span class="merged" id="all.sdDoE.spl1" style='background-color:yellow' title="原文 : The ingress policy below will allow ingress into the Coherence Pods gRPC port.">次のイングレス・ポリシーでは、Coherence Pods gRPCポートへのイングレスが許可されます。</span> <span class="merged" id="all.sdDoE.spl2" style='background-color:yellow' title="原文 : The policy allows ingress from Pods that have the coherence.oracle.com/grpcClient: true label, from any namespace.">ポリシーでは、任意のネームスペースから<code>coherence.oracle.com/grpcClient: true</code>ラベルを持つポッドからのイングレスを許可します。</span> <span class="merged" id="all.sdDoE.spl3" style='background-color:yellow' title="原文 : It could be tightened further by using a more specific namespace selector.">より具体的なネームスペース・セレクタを使用してさらに絞り込むことができます。</span> </p>

<pre
lang="yaml"
title="manifests/allow-grpc-ingress.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: coherence-grpc-ingress
spec:
  podSelector:
    matchLabels:
      coherenceComponent: coherencePod
  policyTypes:
    - Ingress
  ingress:
    - from:
        - namespaceSelector: {}
          podSelector:
            matchLabels:
              coherence.oracle.com/grpcClient: "true"
      ports:
        - port: grpc
          protocol: TCP</pre>

<p><span class="merged" id="all.2fajPY.1" style='background-color:yellow' title="原文 : The policy above should be applied to the namespace where the Coherence cluster is running.">前述のポリシーは、Coherenceクラスタが実行されているネームスペースに適用する必要があります。</span></p>

<p><span class="merged" id="all.2YvV45" style='background-color:yellow' title="原文 : The egress policy below will allow egress to the gRPC port from Pods with the coherence.oracle.com/grpcClient: true label to Coherence Pods with the label coherenceComponent: coherencePod.">次のエグレス・ポリシーでは、<code>coherence.oracle.com/grpcClient: true</code>ラベルのポッドから<code>coherenceComponent: coherencePod</code>ラベルのCoherenceポッドへのgRPCポートへのエグレスが可能になります。</span></p>

<pre
lang="yaml"
title="manifests/allow-extend-egress.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: coherence-extend-egress
spec:
  podSelector:
    matchLabels:
      coherence.oracle.com/extendClient: "true"
  policyTypes:
    - Ingress
  egress:
    - to:
      - namespaceSelector: { }
        podSelector:
          matchLabels:
            coherenceComponent: coherencePod
      ports:
        - port: extend
          protocol: TCP
        - port: extend-atomics
          protocol: TCP</pre>

<p><span class="merged" id="all.3cpSHF.1.spl1" style='background-color:yellow' title="原文 : The policy above allows egress to Coherence Pods in any namespace.">前述のポリシーにより、任意のネームスペースでCoherenceポッドへのエグレスが可能になります。</span> <span class="merged" id="all.3cpSHF.1.spl2" style='background-color:yellow' title="原文 : This would ideally be tightened up to the specific namespace that the Coherence cluster is deployed in.">これが理想的には、Coherenceクラスタがデプロイされる特定のネームスペースまで強化されます。</span> <span class="merged" id="all.3cpSHF.1.spl3" style='background-color:yellow' title="原文 : For example, if the Coherence cluster is deployed in the datastore namespace, then the to section of policy could be changed as follows:">たとえば、Coherenceクラスタが<code>datastore</code>ネームスペースにデプロイされている場合、ポリシーの<code>to</code>セクションは次のように変更できます:</span> </p>

<pre
lang="yaml"
title="manifests/allow-extend-egress.yaml"
>- to:
  - namespaceSelector:
      matchLabels:
        kubernetes.io/metadata.name: datastore
    podSelector:
      matchLabels:
        coherenceComponent: coherencePod</pre>

<p><span class="merged" id="all.3NeBXJ.1" style='background-color:yellow' title="原文 : This policy must be applied to the namespace where the client Pods will be deployed.">このポリシーは、ネームスペース<em>「クライアント・ポッドがデプロイされる場所」</em>に適用する必要があります。</span></p>

</div>
</div>

<h4 id="metrics"><span class="merged" id="all.12J63u"  title="原文:: Coherence Metrics">Coherenceメトリック</span></h4>
<div class="section">
<p><span class="merged" id="all.3o31Pe.spl1" style='background-color:yellow' title="原文 : If Coherence metrics is enabled there will need to be an ingress policy to allow connections from metrics clients.">Coherenceメトリクスが有効になっている場合、メトリクス・クライアントからの接続を許可するイングレス・ポリシーが必要です。</span> <span class="merged" id="all.3o31Pe.spl2" style='background-color:yellow' title="原文 : There would also need to be a similar egress policy in the metrics client’s namespace to allow it to access the Coherence metrics endpoints.">また、メトリクス・クライアントのネームスペースには、Coherenceメトリクス・エンドポイントにアクセスできるように、同様のエグレス・ポリシーが必要です。</span> </p>

<p><span class="merged" id="all.2Xrzuz.spl1" style='background-color:yellow' title="原文 : A simple Coherence resource that will create a cluster with metrics enabled is shown below.">メトリクスを有効にしてクラスタを作成する単純な<code>Coherence</code>リソースを次に示します。</span> <span class="merged" id="all.2Xrzuz.spl2" style='background-color:yellow' title="原文 : This yaml will create a Coherence cluster with a port names metrics that maps to the default metrics port of &apos;9612`.">このyamlは、デフォルトのメトリクス・ポート'9612'にマップするポート名<code>metrics</code>を持つCoherenceクラスタを作成します。</span> </p>

<pre
lang="yaml"
title="manifests/coherence-cluster-with-metrics.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  coherence:
    metrics:
      enabled: true
  ports:
    - name: metrics
      serviceMonitor:
        enabled: true</pre>

<p><span class="merged" id="all.3pVpdI.spl1" style='background-color:yellow' title="原文 : The example below will assume that metrics will be scraped by Prometheus, and that Prometheus is installed into a namespace called monitoring.">次の例では、メトリクスがPrometheusによってスクレイプされ、Prometheusが<code>monitoring</code>というネームスペースにインストールされていると想定します。</span> <span class="merged" id="all.3pVpdI.spl2" style='background-color:yellow' title="原文 : An ingress policy must be created in the namespace where the Coherence cluster is deployed allowing ingress to the metrics port from the Prometheus Pods.">イングレス・ポリシーは、Coherenceクラスタがデプロイされるネームスペースに作成され、Prometheusポッドからメトリクス・ポートへのイングレスが可能になります。</span> <span class="merged" id="all.3pVpdI.spl3" style='background-color:yellow' title="原文 : The Pods running Prometheus have a label app.kubernetes.io/name: prometheus so this can be used in the policy’s Pod selector.">Prometheusを実行しているポッドにはラベル<code>app.kubernetes.io/name: prometheus</code>があるため、ポリシーのポッド・セレクタで使用できます。</span> <span class="merged" id="all.3pVpdI.spl4" style='background-color:yellow' title="原文 : This policy should be applied to the namespace where the Coherence cluster is running.">このポリシーは、Coherenceクラスタが実行されているネームスペースに適用する必要があります。</span> </p>

<pre
lang="yaml"
title="manifests/allow-metrics-ingress.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: coherence-metrics-ingress
spec:
  podSelector:
    matchLabels:
      coherenceComponent: coherencePod
  policyTypes:
    - Ingress
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              kubernetes.io/metadata.name: monitoring
          podSelector:
            matchLabels:
              app.kubernetes.io/name: prometheus
      ports:
        - port: metrics
          protocol: TCP</pre>

<p><span class="merged" id="all.4NvbwY" style='background-color:yellow' title="原文 : If the monitoring namespace also has a &quot;deny-all&quot; policy and needs egress opening up for Prometheus to scrape metrics then an egress policy will need to be added to the monitoring namespace."><code>monitoring</code>ネームスペースにも"deny-all"ポリシーがあり、メトリクスをスクレイプするためにPrometheusに対してエグレス・オープニングが必要な場合は、<code>monitoring</code>ネームスペースにエグレス・ポリシーを追加する必要があります。</span></p>

<p><span class="merged" id="all.109XLP.spl1" style='background-color:yellow' title="原文 : The policy below will allow Pods with the label app.kubernetes.io/name: prometheus egress to Pods with the coherenceComponent: coherencePod label in any namespace.">次のポリシーでは、任意のネームスペースで<code>coherenceComponent: coherencePod</code>ラベルのポッドへの<code>app.kubernetes.io/name: prometheus</code>エグレス・ラベルのポッドを許可します。</span> <span class="merged" id="all.109XLP.spl2" style='background-color:yellow' title="原文 : The policy could be further tightened up by adding a namespace selector to restrict egress to the specific namespace where the Coherence cluster is running.">ポリシーをさらに強化するには、ネームスペース・セレクタを追加して、Coherenceクラスタが実行されている特定のネームスペースにエグレスを制限します。</span> </p>

<pre
lang="yaml"
title="manifests/allow-metrics-egress.yaml"
>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: coherence-metrics-egress
spec:
  podSelector:
    matchLabels:
      app.kubernetes.io/name: prometheus
  policyTypes:
    - Egress
  egress:
    - to:
        - namespaceSelector: { }
          podSelector:
            matchLabels:
              coherenceComponent: coherencePod
      ports:
        - port: metrics
          protocol: TCP</pre>

</div>
</div>

<h3 id="testing"><span class="merged" id="all.2U5C0Z" style='background-color:yellow' title="原文 : Testing Network Policies">ネットワーク・ポリシーのテスト</span></h3>
<div class="section">
<p><span class="merged" id="all.2iXkb8.spl1" style='background-color:yellow' title="原文 : At the time of writing this documentation, Kubernetes provides no way to verify the correctness of network policies.">このドキュメントの記述時点で、Kubernetesは、ネットワーク・ポリシーの正確性を検証する方法を提供しません。</span> <span class="merged" id="all.2iXkb8.spl2" style='background-color:yellow' title="原文 : It is easy to mess up a policy, in which case policies will either block too much traffic, in which case your application will work, or worse they will not be blocking access and leave a security hole.">ポリシーを混乱させるのは簡単です。その場合、ポリシーは大量のトラフィックをブロックし、その場合はアプリケーションが動作するか、さらに悪い場合はアクセスをブロックせず、セキュリティ・ホールを残します。</span> </p>

<p><span class="merged" id="all.3toRfX.spl1" style='background-color:yellow' title="原文 : As we have had various requests for help from customers who cannot get Coherence to work with network policies enabled, the Operator has a simple utility to test connectivity outside of Coherence.">Coherenceを有効にしてネットワーク・ポリシーを使用できない顧客からの支援を求める様々なリクエストがあったため、オペレータはCoherence外部の接続をテストする簡単なユーティリティを備えています。</span> <span class="merged" id="all.3toRfX.spl2" style='background-color:yellow' title="原文 : This will allow testing pf policies without the complications of having to start a Coherence server.">これにより、Coherenceサーバーを起動する必要がなくなり、PFポリシーをテストできます。</span> </p>

<p><span class="merged" id="all.3YrYAx.spl1" style='background-color:yellow' title="原文 : This example includes some simple yaml files that will create simulator Pods that listen on all the ports used by the Operator and by a Coherence cluster member.">この例には、オペレータおよびCoherenceクラスタ・メンバーによって使用されるすべてのポートをリスニングするシミュレータ・ポッドを作成する単純なyamlファイルが含まれています。</span> <span class="merged" id="all.3YrYAx.spl2" style='background-color:yellow' title="原文 : These simulator Pods are configured with the same labels that the real Operator and Coherence Pods would have and the same labels used by the network policies in this example.">これらのシミュレータ・ポッドは、実際のオペレータおよびCoherenceポッドと同じラベルと、この例のネットワーク・ポリシーで使用される同じラベルで構成されます。</span> <span class="merged" id="all.3YrYAx.spl3" style='background-color:yellow' title="原文 : Also included are some yaml files that start a test client, that simulates either the Operator connecting to Coherence Pods or a Coherence Pod connecting to the Operator and to other Coherence Pods.">また、テスト・クライアントを起動するYAMLファイルの一部も含まれており、オペレータとその他のCoherenceポッドに接続するオペレータまたはCoherenceポッドをシミュレートします。</span> </p>

<p><span class="merged" id="all.33GvUO" style='background-color:yellow' title="原文 : To run these tests, the Operator does not have to be installed.">これらのテストを実行するには、オペレータをインストールする必要はありません。</span></p>


<h4 id="_create_the_test_namespaces"><span class="merged" id="all.41Xp6z" style='background-color:yellow' title="原文 : Create the Test Namespaces">テスト・ネームスペースの作成</span></h4>
<div class="section">
<p><span class="merged" id="all.EA4iW.spl1" style='background-color:yellow' title="原文 : In this example we will assume the Operator will eventually be running in a namespace called coherence and the Coherence cluster will run in a namespace called coh-test.">この例では、オペレータが最終的に<code>coherence</code>というネームスペースで実行され、Coherenceクラスタが<code>coh-test</code>というネームスペースで実行されると想定しています。</span> <span class="merged" id="all.EA4iW.spl2" style='background-color:yellow' title="原文 : We can create the namespaces using kubectl"><code>kubectl</code>を使用してネームスペースを作成できます</span> </p>

<pre
lang="bash"

>kubectl create ns coherence</pre>

<pre
lang="bash"

>kubectl create ns coh-test</pre>

<p><span class="merged" id="all.Pq3hW" style='background-color:yellow' title="原文 : At this point there are no network policies installed, this will allow us to confirm the connectivity tests work.">この時点でネットワーク・ポリシーがインストールされていないため、接続テストの動作を確認できます。</span></p>

</div>

<h4 id="_start_the_operator_simulator"><span class="merged" id="all.1iNGLo" style='background-color:yellow' title="原文 : Start the Operator Simulator">オペレータ・シミュレータの起動</span></h4>
<div class="section">
<p><span class="merged" id="all.3Hq6Jh.spl1" style='background-color:yellow' title="原文 : The Operator simulator server should run in the coherence namespace.">オペレータ・シミュレータ・サーバーは、<code>coherence</code>ネームスペースで実行する必要があります。</span> <span class="merged" id="all.3Hq6Jh.spl2" style='background-color:yellow' title="原文 : It can be created using the following command:">これは、次のコマンドを使用して作成できます:</span> </p>

<pre
lang="bash"

>kubectl -n coherence apply -f examples/095_network_policies/manifests/net-test-operator-server.yaml</pre>

</div>

<h4 id="_start_the_coherence_cluster_simulator"><span class="merged" id="all.1vi68j" style='background-color:yellow' title="原文 : Start the Coherence Cluster Simulator">Coherenceクラスタ・シミュレータの起動</span></h4>
<div class="section">
<p><span class="merged" id="all.iZW8D.spl1" style='background-color:yellow' title="原文 : The Coherence cluster member simulator server should run in the coh-test namespace.">Coherenceクラスタ・メンバー・シミュレータ・サーバーは、<code>coh-test</code>ネームスペースで実行する必要があります。</span> <span class="merged" id="all.iZW8D.spl2" style='background-color:yellow' title="原文 : It can be created using the following command:">これは、次のコマンドを使用して作成できます:</span> </p>

<pre
lang="bash"

>kubectl -n coh-test apply -f examples/095_network_policies/manifests/net-test-coherence-server.yaml</pre>

</div>

<h4 id="_run_the_operator_test"><span class="merged" id="all.IaX7G" style='background-color:yellow' title="原文 : Run the Operator Test">オペレータ・テストの実行</span></h4>
<div class="section">
<p><span class="merged" id="all.1YAcAS.spl1" style='background-color:yellow' title="原文 : We can now run the Operator test Job.">これで、オペレータ・テスト・ジョブを実行できます。</span> <span class="merged" id="all.1YAcAS.spl2" style='background-color:yellow' title="原文 : This wil run a Kubernetes Job that simulates the Operator connecting to the Kubernetes API server and to the Operator Pods.">これは、Kubernetes APIサーバーおよびオペレータ・ポッドに接続するオペレータをシミュレートするKubernetesジョブを実行します。</span> </p>

<pre
lang="bash"

>kubectl -n coherence apply -f examples/095_network_policies/manifests/net-test-operator.yaml</pre>

<p><span class="merged" id="all.dSpay.spl1" style='background-color:yellow' title="原文 : The test Job should complete very quickly as it is only testing connectivity to various ports.">テスト・ジョブは、様々なポートへの接続のテストのみであるため、非常に迅速に完了する必要があります。</span> <span class="merged" id="all.dSpay.spl2" style='background-color:yellow' title="原文 : The results of the test can be seen by looking at the Pod log.">テストの結果は、ポッド・ログを参照することで確認できます。</span> <span class="merged" id="all.dSpay.spl3" style='background-color:yellow' title="原文 : The command below will display the log:">次のコマンドを実行すると、ログが表示されます:</span> </p>

<pre
lang="bash"

>kubectl -n coherence logs $(kubectl -n coherence get pod -l 'coherenceNetTest=operator-client' -o name)</pre>

<p><span class="merged" id="all.bSUmn" style='background-color:yellow' title="原文 : The output from a successful test will look like this:">成功したテストの出力は、次のようになります:</span></p>

<pre


>1.6727606592497227e+09	INFO	runner	Operator Version: 3.3.2
1.6727606592497835e+09	INFO	runner	Operator Build Date: 2023-01-03T12:25:58Z
1.6727606592500978e+09	INFO	runner	Operator Built By: jonathanknight
1.6727606592501197e+09	INFO	runner	Operator Git Commit: c8118585b8f3d72b083ab1209211bcea364c85c5
1.6727606592501485e+09	INFO	runner	Go Version: go1.19.2
1.6727606592501757e+09	INFO	runner	Go OS/Arch: linux/amd64
1.6727606592504115e+09	INFO	net-test	Starting test	{"Name": "Operator Simulator"}
1.6727606592504556e+09	INFO	net-test	Testing connectivity	{"PortName": "K8s API Server"}
1.6727606592664087e+09	INFO	net-test	Testing connectivity PASSED	{"PortName": "K8s API Server", "Version": "v1.24.7"}
1.6727606592674055e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Health", "Port": 6676}
1.6727606592770455e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Health", "Port": 6676}</pre>

<p><span class="merged" id="all.32c9Xz" style='background-color:yellow' title="原文 : We can see that the test has connected to the Kubernetes API server and has connected to the health port on the Coherence cluster test server in the coh-test namespace.">テストがKubernetes APIサーバーに接続され、<code>coh-test</code>ネームスペースでCoherenceクラスタ・テスト・サーバーのヘルス・ポートに接続していることがわかります。</span></p>

<p><span class="merged" id="all.hhJWb" style='background-color:yellow' title="原文 : The test Job can then be deleted:">その後、テスト・ジョブを削除できます:</span></p>

<pre
lang="bash"

>kubectl -n coherence delete -f examples/095_network_policies/manifests/net-test-operator.yaml</pre>

</div>

<h4 id="_run_the_cluster_member_test"><span class="merged" id="all.2Y78fQ" style='background-color:yellow' title="原文 : Run the Cluster Member Test">クラスタ・メンバー・テストの実行</span></h4>
<div class="section">
<p><span class="merged" id="all.3SzK7Q" style='background-color:yellow' title="原文 : The cluster member test simulates a Coherence cluster member connecting to other cluster members in the same namespace and also making calls to the Operator’s REST endpoint.">クラスタ・メンバー・テストは、同じネームスペース内の他のクラスタ・メンバーに接続し、オペレータのRESTエンドポイントへのコールも行うCoherenceクラスタ・メンバーをシミュレートします。</span></p>

<pre
lang="bash"

>kubectl -n coh-test apply -f examples/095_network_policies/manifests/net-test-coherence.yaml</pre>

<p><span class="merged" id="all.2kqnZ1.spl1" style='background-color:yellow' title="原文 : Again, the test should complete quickly as it is just connecting to various ports.">この場合も、テストは様々なポートに接続するだけで、すぐに完了します。</span> <span class="merged" id="all.2kqnZ1.spl2" style='background-color:yellow' title="原文 : The results of the test can be seen by looking at the Pod log.">テストの結果は、ポッド・ログを参照することで確認できます。</span> <span class="merged" id="all.2kqnZ1.spl3" style='background-color:yellow' title="原文 : The command below will display the log:">次のコマンドを実行すると、ログが表示されます:</span> </p>

<pre
lang="bash"

>kubectl -n coh-test logs $(kubectl -n coh-test get pod -l 'coherenceNetTest=coherence-client' -o name)</pre>

<p><span class="merged" id="all.bSUmn.1" style='background-color:yellow' title="原文 : The output from a successful test will look like this:">成功したテストの出力は、次のようになります:</span></p>

<pre


>1.6727631152848177e+09	INFO	runner	Operator Version: 3.3.2
1.6727631152849226e+09	INFO	runner	Operator Build Date: 2023-01-03T12:25:58Z
1.6727631152849536e+09	INFO	runner	Operator Built By: jonathanknight
1.6727631152849755e+09	INFO	runner	Operator Git Commit: c8118585b8f3d72b083ab1209211bcea364c85c5
1.6727631152849965e+09	INFO	runner	Go Version: go1.19.2
1.6727631152850187e+09	INFO	runner	Go OS/Arch: linux/amd64
1.6727631152852216e+09	INFO	net-test	Starting test	{"Name": "Cluster Member Simulator"}
1.6727631152852666e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "UnicastPort1", "Port": 7575}
1.6727631152997334e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "UnicastPort1", "Port": 7575}
1.6727631152998908e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "UnicastPort2", "Port": 7576}
1.6727631153059115e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "UnicastPort2", "Port": 7576}
1.6727631153063197e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Management", "Port": 30000}
1.6727631153116117e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Management", "Port": 30000}
1.6727631153119817e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Metrics", "Port": 9612}
1.6727631153187876e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Metrics", "Port": 9612}
1.6727631153189638e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-operator-server.coherence.svc", "PortName": "OperatorRest", "Port": 8000}
1.6727631153265746e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-operator-server.coherence.svc", "PortName": "OperatorRest", "Port": 8000}
1.6727631153267298e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Echo", "Port": 7}
1.6727631153340726e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Echo", "Port": 7}
1.6727631153342876e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "ClusterPort", "Port": 7574}
1.6727631153406997e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "ClusterPort", "Port": 7574}</pre>

<p><span class="merged" id="all.1IJvBY" style='background-color:yellow' title="原文 : The test client successfully connected to the Coherence cluster port (7475), the two unicast ports (7575 and 7576), the Coherence management port (30000), the Coherence metrics port (9612), the Operator REST port (8000), and the echo port (7).">テスト・クライアントは、Coherenceクラスタ・ポート(7475)、2つのユニキャスト・ポート(7575および7576)、Coherence管理ポート(30000)、Coherenceメトリクス・ポート(9612)、オペレータのRESTポート(8000)およびエコー・ポート(7)に正常に接続されました。</span></p>

<p><span class="merged" id="all.hhJWb.1" style='background-color:yellow' title="原文 : The test Job can then be deleted:">その後、テスト・ジョブを削除できます:</span></p>

<pre
lang="bash"

>kubectl -n coh-test delete -f examples/095_network_policies/manifests/net-test-coherence.yaml</pre>

</div>

<h4 id="_testing_the_operator_web_hook"><span class="merged" id="all.3wdLF3" style='background-color:yellow' title="原文 : Testing the Operator Web Hook">オペレータWebフックのテスト</span></h4>
<div class="section">
<p><span class="merged" id="all.Cx97g.spl1" style='background-color:yellow' title="原文 : The Operator has a web-hook that k8s calls to validate Coherence resource configurations and to provide default values.">オペレータには、k8sがCoherenceリソース構成をバリデートし、デフォルト値を提供するためにコールするwebフックがあります。</span> <span class="merged" id="all.Cx97g.spl2" style='background-color:yellow' title="原文 : Web hooks in Kubernetes use TLS by default and listen on port 443.">KubernetesのWebフックは、デフォルトでTLSを使用し、ポート443でリスニングします。</span> <span class="merged" id="all.Cx97g.spl3" style='background-color:yellow' title="原文 : The Operator server simulator also listens on port 443 to allow this connectivity to be tested.">オペレータ・サーバー・シミュレータは、この接続をテストできるようにポート443でも待機します。</span> </p>

<p><span class="merged" id="all.1EekDL.spl1" style='background-color:yellow' title="原文 : The network policy in this example that allows ingress to the web-hook allows any client to connect.">この例のネットワーク・ポリシーで、webフックへのイングレスを許可すると、すべてのクライアントが接続できるようになります。</span> <span class="merged" id="all.1EekDL.spl2" style='background-color:yellow' title="原文 : This is because it is not always simple to work out the IP address that the API server will connect to the web-hook from.">これは、APIサーバーがwebフックに接続するIPアドレスを簡単に操作できるとは限らないためです。</span> </p>

<p><span class="merged" id="all.3UKoKj.spl1" style='background-color:yellow' title="原文 : We can use the network tester to simulate this by running a Job that will connect to the web hook port.">ネットワーク・テスターを使用して、webフック・ポートに接続するジョブを実行することで、これをシミュレートできます。</span> <span class="merged" id="all.3UKoKj.spl2" style='background-color:yellow' title="原文 : The web-hook test job in this example does not label the Pod and can be run from the default namespace to simulate a random external connection.">この例のwebフック・テスト・ジョブはポッドにラベルを付けず、デフォルトのネームスペースから実行してランダムな外部接続をシミュレートできます。</span> </p>

<pre
lang="bash"

>kubectl -n default apply -f examples/095_network_policies/manifests/net-test-webhook.yaml</pre>

<p><span class="merged" id="all.2scWZt" style='background-color:yellow' title="原文 : We can then check the results of the Job by looking at the Pod log.">その後、ポッド・ログを参照してジョブの結果を確認できます。</span></p>

<pre
lang="bash"

>kubectl -n default logs $(kubectl -n default get pod -l 'coherenceNetTest=webhook-client' -o name)</pre>

<p><span class="merged" id="all.bSUmn.2" style='background-color:yellow' title="原文 : The output from a successful test will look like this:">成功したテストの出力は、次のようになります:</span></p>

<pre


>1.6727639834559627e+09	INFO	runner	Operator Version: 3.3.2
1.6727639834562948e+09	INFO	runner	Operator Build Date: 2023-01-03T12:25:58Z
1.6727639834563956e+09	INFO	runner	Operator Built By: jonathanknight
1.6727639834565024e+09	INFO	runner	Operator Git Commit: c8118585b8f3d72b083ab1209211bcea364c85c5
1.6727639834566057e+09	INFO	runner	Go Version: go1.19.2
1.6727639834567096e+09	INFO	runner	Go OS/Arch: linux/amd64
1.6727639834570327e+09	INFO	net-test	Starting test	{"Name": "Web-Hook Client"}
1.6727639834571698e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-operator-server.coherence.svc", "PortName": "WebHook", "Port": 443}
1.6727639834791095e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-operator-server.coherence.svc", "PortName": "WebHook", "Port": 443}</pre>

<p><span class="merged" id="all.3774Ny" style='background-color:yellow' title="原文 : We can see that the client successfully connected to port 443.">クライアントがポート443に正常に接続されたことがわかります。</span></p>

<p><span class="merged" id="all.hhJWb.2" style='background-color:yellow' title="原文 : The test Job can then be deleted:">その後、テスト・ジョブを削除できます:</span></p>

<pre
lang="bash"

>kubectl -n default delete -f examples/095_network_policies/manifests/net-test-webhook.yaml</pre>

</div>

<h4 id="_testing_ad_hoc_ports"><span class="merged" id="all.1MDXVL" style='background-color:yellow' title="原文 : Testing Ad-Hoc Ports">アドホック・ポートのテスト</span></h4>
<div class="section">
<p><span class="merged" id="all.2XYDr7.spl1" style='background-color:yellow' title="原文 : The test client is able to test connectivity to any host and port.">テスト・クライアントは、任意のホストおよびポートへの接続をテストできます。</span> <span class="merged" id="all.2XYDr7.spl2" style='background-color:yellow' title="原文 : For example suppose we want to simulate a Prometheus Pod connecting to the metrics port of a Coherence cluster.">たとえば、Coherenceクラスタのメトリクス・ポートに接続するPrometheusポッドをシミュレートするとします。</span> <span class="merged" id="all.2XYDr7.spl3" style='background-color:yellow' title="原文 : The server simulator is listening on port 9612, so we need to run the client to connect to that port.">サーバー・シミュレータはポート9612でリスニングしているため、クライアントを実行してそのポートに接続する必要があります。</span> </p>

<p><span class="merged" id="all.A3oiu.spl1" style='background-color:yellow' title="原文 : We can create a Job yaml file to run the test client.">テスト・クライアントを実行するJob yamlファイルを作成できます。</span> <span class="merged" id="all.A3oiu.spl2" style='background-color:yellow' title="原文 : As the test will simulate a Prometheus client we add the labels that a standard Prometheus Pod would have and that we also use in the network policies in this example.">テストはPrometheusクライアントをシミュレートするため、標準のPrometheusポッドが持つラベルと、この例のネットワーク・ポリシーでも使用するラベルを追加します。</span> </p>

<p><span class="merged" id="all.3L0vNH.spl1" style='background-color:yellow' title="原文 : In the Job yaml, we need to set the HOST, PORT and optionally the PROTOCOL environment variables.">ジョブyamlでは、<code>HOST</code>、<code>PORT</code>およびオプションで<code>PROTOCOL</code>環境変数を設定する必要があります。</span> <span class="merged" id="all.3L0vNH.spl2" style='background-color:yellow' title="原文 : In this test, the host is the DNS name for the Service created for the Coherence server simulator net-test-coherence-server.coh-test.svc, the port is the metrics port 9612 and the protocol is tcp.">このテストでは、ホストはCoherenceサーバー・シミュレータ<code>net-test-coherence-server.coh-test.svc</code>用に作成されたサービスのDNS名、ポートはメトリクス・ポート<code>9612</code>、プロトコルは<code>tcp</code>です。</span> </p>

<pre
lang="yaml"
title="manifests/net-test-client.yaml"
>apiVersion: batch/v1
kind: Job
metadata:
  name: test-client
  labels:
    app.kubernetes.io/name: prometheus
    coherenceNetTest: client
spec:
  template:
    metadata:
      labels:
        app.kubernetes.io/name: prometheus
        coherenceNetTest: client
    spec:
      containers:
      - name: net-test
        image: ghcr.io/oracle/coherence-operator:3.4.0
        env:
          - name: HOST
            value: net-test-coherence-server.coh-test.svc
          - name: PORT
            value: "9612"
          - name: PROTOCOL
            value: tcp
        command:
          - /files/runner
        args:
          - net-test
          - client
      restartPolicy: Never
  backoffLimit: 4</pre>

<p><span class="merged" id="all.SYL5L" style='background-color:yellow' title="原文 : We need to run the test Job in the monitoring namespace, which is the same namespace that Prometheus is usually deployed into."><code>monitoring</code>ネームスペースでテスト・ジョブを実行する必要があります。このネームスペースは通常、Prometheusがデプロイされるのと同じネームスペースです。</span></p>

<pre
lang="bash"

>kubectl -n monitoring apply -f examples/095_network_policies/manifests/net-test-client.yaml</pre>

<p><span class="merged" id="all.2scWZt.1" style='background-color:yellow' title="原文 : We can then check the results of the Job by looking at the Pod log.">その後、ポッド・ログを参照してジョブの結果を確認できます。</span></p>

<pre
lang="bash"

>kubectl -n monitoring logs $(kubectl -n monitoring get pod -l 'coherenceNetTest=client' -o name)</pre>

<p><span class="merged" id="all.bSUmn.3" style='background-color:yellow' title="原文 : The output from a successful test will look like this:">成功したテストの出力は、次のようになります:</span></p>

<pre


>1.6727665901488597e+09	INFO	runner	Operator Version: 3.3.2
1.6727665901497366e+09	INFO	runner	Operator Build Date: 2023-01-03T12:25:58Z
1.6727665901498337e+09	INFO	runner	Operator Built By: jonathanknight
1.6727665901498716e+09	INFO	runner	Operator Git Commit: c8118585b8f3d72b083ab1209211bcea364c85c5
1.6727665901498966e+09	INFO	runner	Go Version: go1.19.2
1.6727665901499205e+09	INFO	runner	Go OS/Arch: linux/amd64
1.6727665901501486e+09	INFO	net-test	Starting test	{"Name": "Simple Client"}
1.6727665901501985e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "net-test-coherence-server.coh-test.svc-9612", "Port": 9612}
1.6727665901573336e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "net-test-coherence-server.coh-test.svc-9612", "Port": 9612}</pre>

<p><span class="merged" id="all.4FigtH" style='background-color:yellow' title="原文 : We can see that the test client successfully connected to the Coherence cluster member simulator on port 9612.">テスト・クライアントがポート9612でCoherenceクラスタ・メンバー・シミュレータに正常に接続されたことがわかります。</span></p>

<p><span class="merged" id="all.hhJWb.3" style='background-color:yellow' title="原文 : The test Job can then be deleted:">その後、テスト・ジョブを削除できます:</span></p>

<pre
lang="bash"

>kubectl -n monitoring delete -f examples/095_network_policies/manifests/net-test-client.yaml</pre>

</div>

<h4 id="_test_with_network_policies"><span class="merged" id="all.2AaWQU" style='background-color:yellow' title="原文 : Test with Network Policies">ネットワーク・ポリシーを使用したテスト</span></h4>
<div class="section">
<p><span class="merged" id="all.49kMSM.spl1" style='background-color:yellow' title="原文 : All the above tests ran successfully without any network policies.">前述のすべてのテストは、ネットワーク・ポリシーなしで正常に実行されました。</span> <span class="merged" id="all.49kMSM.spl2" style='background-color:yellow' title="原文 : We can now start to apply policies and re-run the tests to see what happens.">ポリシーの適用を開始し、テストを再実行して何が起きるかを確認できます。</span> </p>

<p><span class="merged" id="all.2iqhy.spl1" style='background-color:yellow' title="原文 : In a secure environment we would start with a policy that blocks all access and then gradually open up required ports.">セキュアな環境では、すべてのアクセスをブロックし、必要なポートを徐々に開けるポリシーから始めます。</span> <span class="merged" id="all.2iqhy.spl2" style='background-color:yellow' title="原文 : We can apply the deny-all.yaml policy and then re-run the tests."><code>deny-all.yaml</code>ポリシーを適用してから、テストを再実行できます。</span> <span class="merged" id="all.2iqhy.spl3" style='background-color:yellow' title="原文 : We should apply the policy to both of the namespaces we are using in this example:">この例で使用している両方のネームスペースにポリシーを適用する必要があります:</span> </p>

<pre
lang="bash"

>kubectl -n coherence apply -f examples/095_network_policies/manifests/deny-all.yaml
kubectl -n coh-test apply -f examples/095_network_policies/manifests/deny-all.yaml</pre>

<p><span class="merged" id="all.3VSUaq" style='background-color:yellow' title="原文 : Now, re-run the Operator test client:">次に、オペレータ・テスト・クライアントを再実行します:</span></p>

<pre
lang="bash"

>kubectl -n coherence apply -f examples/095_network_policies/manifests/net-test-operator.yaml</pre>

<p><span class="merged" id="all.aO2Bn" style='background-color:yellow' title="原文 : and check the result:">結果を確認します:</span></p>

<pre
lang="bash"

>kubectl -n coherence logs $(kubectl -n coherence get pod -l 'coherenceNetTest=operator-client' -o name)</pre>

<pre


>1.6727671834237397e+09	INFO	runner	Operator Version: 3.3.2
1.6727671834238796e+09	INFO	runner	Operator Build Date: 2023-01-03T12:25:58Z
1.6727671834239576e+09	INFO	runner	Operator Built By: jonathanknight
1.6727671834240365e+09	INFO	runner	Operator Git Commit: c8118585b8f3d72b083ab1209211bcea364c85c5
1.6727671834240875e+09	INFO	runner	Go Version: go1.19.2
1.6727671834241736e+09	INFO	runner	Go OS/Arch: linux/amd64
1.6727671834244306e+09	INFO	net-test	Starting test	{"Name": "Operator Simulator"}
1.6727671834245417e+09	INFO	net-test	Testing connectivity	{"PortName": "K8s API Server"}
1.6727672134268515e+09	INFO	net-test	Testing connectivity FAILED	{"PortName": "K8s API Server", "Error": "Get \"https://10.96.0.1:443/version?timeout=32s\": dial tcp 10.96.0.1:443: i/o timeout"}
1.6727672134269848e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Health", "Port": 6676}
1.6727672234281697e+09	INFO	net-test	Testing connectivity FAILED	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Health", "Port": 6676, "Error": "dial tcp: lookup net-test-coherence-server.coh-test.svc: i/o timeout"}</pre>

<p><span class="merged" id="all.2Vs4oV.spl1" style='background-color:yellow' title="原文 : We can see that the test client failed to connect to the Kubernetes API server and failed to connect to the Coherence cluster health port.">テスト・クライアントがKubernetes APIサーバーへの接続に失敗したこと、およびCoherenceクラスタ・ヘルス・ポートへの接続に失敗したことがわかります。</span> <span class="merged" id="all.2Vs4oV.spl2" style='background-color:yellow' title="原文 : This means the deny-all policy is working.">これは、すべての拒否ポリシーが機能していることを意味します。</span> </p>

<p><span class="merged" id="all.HZyTc" style='background-color:yellow' title="原文 : We can now apply the various polices to fix the test">様々なポリシーを適用してテストを修正できます</span></p>

<pre
lang="bash"

>kubectl -n coherence apply -f examples/095_network_policies/manifests/allow-dns.yaml
kubectl -n coherence apply -f examples/095_network_policies/manifests/allow-k8s-api-server.yaml
kubectl -n coherence apply -f examples/095_network_policies/manifests/allow-operator-cluster-member-egress.yaml
kubectl -n coherence apply -f examples/095_network_policies/manifests/allow-operator-rest-ingress.yaml
kubectl -n coherence apply -f examples/095_network_policies/manifests/allow-webhook-ingress-from-all.yaml

kubectl -n coh-test apply -f examples/095_network_policies/manifests/allow-dns.yaml
kubectl -n coh-test apply -f examples/095_network_policies/manifests/allow-cluster-member-access.yaml
kubectl -n coh-test apply -f examples/095_network_policies/manifests/allow-cluster-member-operator-access.yaml
kubectl -n coh-test apply -f examples/095_network_policies/manifests/allow-metrics-ingress.yaml</pre>

<p><span class="merged" id="all.R45lW" style='background-color:yellow' title="原文 : Now, delete and re-run the Operator test client:">次に、Operatorテスト・クライアントを削除して再実行します:</span></p>

<pre
lang="bash"

>kubectl -n coherence delete -f examples/095_network_policies/manifests/net-test-operator.yaml
kubectl -n coherence apply -f examples/095_network_policies/manifests/net-test-operator.yaml</pre>

<p><span class="merged" id="all.aO2Bn.1" style='background-color:yellow' title="原文 : and check the result:">結果を確認します:</span></p>

<pre
lang="bash"

>kubectl -n coherence logs $(kubectl -n coherence get pod -l 'coherenceNetTest=operator-client' -o name)</pre>

<p><span class="merged" id="all.3SKjdi" style='background-color:yellow' title="原文 : Now with the policies applied the test should have passed.">ポリシーを適用すると、テストに合格したはずです。</span></p>

<pre


>1.6727691273634596e+09	INFO	runner	Operator Version: 3.3.2
1.6727691273635025e+09	INFO	runner	Operator Build Date: 2023-01-03T12:25:58Z
1.6727691273635256e+09	INFO	runner	Operator Built By: jonathanknight
1.6727691273635616e+09	INFO	runner	Operator Git Commit: c8118585b8f3d72b083ab1209211bcea364c85c5
1.6727691273637156e+09	INFO	runner	Go Version: go1.19.2
1.6727691273637407e+09	INFO	runner	Go OS/Arch: linux/amd64
1.6727691273639407e+09	INFO	net-test	Starting test	{"Name": "Operator Simulator"}
1.6727691273639877e+09	INFO	net-test	Testing connectivity	{"PortName": "K8s API Server"}
1.6727691273857167e+09	INFO	net-test	Testing connectivity PASSED	{"PortName": "K8s API Server", "Version": "v1.24.7"}
1.6727691273858056e+09	INFO	net-test	Testing connectivity	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Health", "Port": 6676}
1.6727691273933685e+09	INFO	net-test	Testing connectivity PASSED	{"Host": "net-test-coherence-server.coh-test.svc", "PortName": "Health", "Port": 6676}</pre>

<p><span class="merged" id="all.gKL3y" style='background-color:yellow' title="原文 : The other tests can also be re-run and should also pass.">他のテストも再実行でき、合格する必要があります。</span></p>

</div>

<h4 id="_clean_up"><span class="merged" id="all.GvSAu" style='background-color:yellow' title="原文 : Clean-Up">クリーンアップ</span></h4>
<div class="section">
<p><span class="merged" id="all.2qUwy0" style='background-color:yellow' title="原文 : Once the tests are completed, the test servers and Jobs can be deleted.">テストが完了したら、テスト・サーバーおよびジョブを削除できます。</span></p>

<pre
lang="bash"

>kubectl -n coherence delete -f examples/095_network_policies/manifests/net-test-operator-server.yaml
kubectl -n coh-test delete -f examples/095_network_policies/manifests/net-test-coherence-server.yaml</pre>

</div>
</div>
</div>
</doc-view>
<!-- pages/examples/100_federation/README.js -->
<doc-view>

<h2 id="_coherence_federation"><span class="merged" id="all.bI7fe"  title="原文:: Coherence Federation">Coherenceフェデレーション</span></h2>
<div class="section">
<p><span class="merged" id="all.3nec9n.spl1" style='background-color:yellow' title="原文 : This simple example demonstrates the Coherence federation feature.">この単純な例は、Coherenceフェデレーション機能を示しています。</span> <span class="merged" id="all.3nec9n.spl2" style='background-color:yellow' title="原文 : It shows how to deploy two Coherence clusters that federating data between them using the Coherence Operator.">Coherence Operatorを使用して、データ間にデータをフェデレートする2つのCoherenceクラスタをデプロイする方法を示します。</span> <span class="merged" id="all.3nec9n.spl3" style='background-color:yellow' title="原文 : The Coherence federation feature requires Coherence Grid Edition.">Coherenceフェデレーション機能には、Coherence Grid Editionが必要です。</span> <span class="merged" id="all.3nec9n.spl4" style='background-color:yellow' title="原文 : See Obtain Coherence Images on how to get a commercial Coherence image.">商用Coherenceイメージの取得方法は、<a href="https://oracle.github.io/coherence-operator/docs/latest/#/docs/installation/04_obtain_coherence_images" id="" target="_blank" >「Coherenceイメージの取得」</a>を参照してください。</span> </p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.9"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.3IZ9uF" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/100_federation" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>

<h3 id="_what_the_example_will_cover"><span class="merged" id="all.2Qjxxs.1" style='background-color:yellow' title="原文 : What the Example will Cover">例でカバーされる内容</span></h3>
<div class="section">
<ul class="ulist">
<li>
<p><span class="merged" id="all.OLysA.1" style='background-color:yellow' title="原文 : Install the Coherence Operator"><router-link @click.native="this.scrollFix('#install-operator')" to="#install-operator">Coherence Operatorのインストール</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.3bRBBu.1" style='background-color:yellow' title="原文 : Create the example namespace"><router-link @click.native="this.scrollFix('#create-the-example-namespace')" to="#create-the-example-namespace">サンプルのネームスペースの作成</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.1dYCOx" style='background-color:yellow' title="原文 : Create image pull and config store secrets"><router-link @click.native="this.scrollFix('#create-secret')" to="#create-secret">イメージ・プルおよび構成ストア・シークレットの作成</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.eItcR" style='background-color:yellow' title="原文 : Run the Example"><router-link @click.native="this.scrollFix('#example')" to="#example">例の実行</router-link></span></p>

</li>
<li>
<p><span class="merged" id="all.2b7AjH" style='background-color:yellow' title="原文 : Cleaning Up"><router-link @click.native="this.scrollFix('#cleanup')" to="#cleanup">クリーン・アップしています</router-link></span></p>

</li>
</ul>
</div>

<h3 id="install-operator"><span class="merged" id="all.LO8kI.1" style='background-color:yellow' title="原文 : Install the Coherence Operator">Coherence Operatorのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.2UE6k0" style='background-color:yellow' title="原文 : To run the examples below, you will need to have installed the Coherence Operator, do this using whatever method you prefer from the Installation Guide.">次の例では、Coherence Operatorをインストールし、<a href="https://oracle.github.io/coherence-operator/docs/latest/#/docs/installation/01_installation" id="" target="_blank" >「インストール・ガイド」</a>から必要なメソッドを使用してインストールする必要があります。</span></p>

<p><span class="merged" id="all.2R6fzo" style='background-color:yellow' title="原文 : Once you complete, confirm the operator is running, for example:">完了したら、次のようにオペレータが実行中であることを確認します:</span></p>

<pre
lang="bash"

>kubectl get pods -n coherence

NAME                                                     READY   STATUS    RESTARTS   AGE
coherence-operator-controller-manager-74d49cd9f9-sgzjr   1/1     Running   1          27s</pre>

</div>
</div>

<h2 id="create-the-example-namespace"><span class="merged" id="all.3ezoGY.1" style='background-color:yellow' title="原文 : Create the example namespace">サンプルのネームスペースの作成</span></h2>
<div class="section">
<p><span class="merged" id="all.3GQp8e" style='background-color:yellow' title="原文 : First, run the following command to create the namespace, coherence-example, for the example:">まず、次のコマンドを実行して、例のようにネームスペース、coherence-exampleを作成します:</span></p>

<pre
lang="bash"

>kubectl create namespace coherence-example

namespace/coherence-example created</pre>


<h3 id="create-secret"><span class="merged" id="all.8nkYf" style='background-color:yellow' title="原文 : Create image pull and configure store secrets">イメージ・プルを作成し、ストア・シークレットを構成</span></h3>
<div class="section">
<p><span class="merged" id="all.DAAGv" style='background-color:yellow' title="原文 : This example reqires two secrets:">この例では、2つのシークレットが必要です:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.7PGAw" style='background-color:yellow' title="原文 : An image pull secret named ocr-pull-secret containing your OCR credentials to be used by the example.">例で使用するOCR資格証明を含むocr-pull-secretという名前のイメージ・プル・シークレット。</span></p>

</li>
</ul>
<p><span class="merged" id="all.2EBCmf" style='background-color:yellow' title="原文 : Use a command similar to the following to create the image pull secret:">イメージ・プル・シークレットを作成するには、次のようなコマンドを使用します:</span></p>

<pre
lang="bash"

>kubectl create secret docker-registry ocr-pull-secret \
    --docker-server=container-registry.oracle.com \
    --docker-username="&lt;username&gt;" --docker-password="&lt;password&gt;" \
    --docker-email="&lt;email&gt;" -n coherence-example</pre>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3ZhtZc" style='background-color:yellow' title="原文 : A configure store secret named storage-config to store the Coherence configuration files.">Coherence構成ファイルをストレージするためにstorage-configという名前の構成ストア・シークレット。</span></p>

</li>
</ul>
<p><span class="merged" id="all.8kZj3" style='background-color:yellow' title="原文 : Run the following command to create the configure store secret:">構成ストア・シークレットを作成するには、次のコマンドを実行します:</span></p>

<pre
lang="bash"

>kubectl create secret generic storage-config -n coherence-example \
    --from-file=src/main/resources/tangosol-coherence-override.xml \
    --from-file=src/main/resources/storage-cache-config.xml</pre>

</div>

<h3 id="example"><span class="merged" id="all.oJSYR"  title="原文:: Run the Example"> 例の実行</span></h3>
<div class="section">
<p><span class="merged" id="all.4AEqDK.spl1" style='background-color:yellow' title="原文 : Ensure you are in the examples/federation directory to run the example.">例を実行するには、<code>examples/federation</code>ディレクトリにいることを確認します。</span> <span class="merged" id="all.4AEqDK.spl2" style='background-color:yellow' title="原文 : This example uses the yaml files src/main/yaml/primary-cluster.yaml and src/main/yaml/secondary-cluster.yaml, which define a primary cluster and a secondary cluster.">この例では、プライマリ・クラスタおよびセカンダリ・クラスタを定義するyamlファイル<code>src/main/yaml/primary-cluster.yaml</code>および<code>src/main/yaml/secondary-cluster.yaml</code>を使用します。</span> </p>


<h4 id="_1_install_the_coherence_clusters"><span class="merged" id="all.3PWXms" style='background-color:yellow' title="原文 : 1. Install the Coherence clusters">1. Coherenceクラスタのインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.496Ttw" style='background-color:yellow' title="原文 : Run the following commands to create the primary and secondary clusters:">次のコマンドを実行して、プライマリ・クラスタおよびセカンダリ・クラスタを作成します:</span></p>

<pre
lang="bash"

>kubectl -n coherence-example create -f src/main/yaml/primary-cluster.yaml

coherence.coherence.oracle.com/primary-cluster created</pre>

<pre
lang="bash"

>kubectl -n coherence-example create -f src/main/yaml/secondary-cluster.yaml

coherence.coherence.oracle.com/secondary-cluster created</pre>

</div>

<h4 id="_2_list_the_created_coherence_clusters"><span class="merged" id="all.4bBJrk" style='background-color:yellow' title="原文 : 2. List the created Coherence clusters">2.作成されたCoherenceクラスタのリスト</span></h4>
<div class="section">
<p><span class="merged" id="all.1krzcf" style='background-color:yellow' title="原文 : Run the following command to list the clusters:">クラスタをリストするには、次のコマンドを実行します:</span></p>

<pre
lang="bash"

>kubectl -n coherence-example get coherence

NAME                CLUSTER             ROLE                REPLICAS   READY   PHASE
primary-cluster     primary-cluster     primary-cluster     2          2       Ready
secondary-cluster   secondary-cluster   secondary-cluster   2          2       Ready</pre>

<p><span class="merged" id="all.8tMnX" style='background-color:yellow' title="原文 : To see the Coherence cache configuration file loaded from the secret volumn we defined, run the following command:">定義したシークレットvolumnからロードされたCoherenceキャッシュ構成ファイルを表示するには、次のコマンドを実行します:</span></p>

<pre
lang="bash"

>kubectl logs -n coherence-example primary-cluster-0 | grep "Loaded cache"

... Oracle Coherence GE 14.1.1.0.0 &lt;Info&gt; (thread=main, member=n/a): Loaded cache configuration from "file:/config/storage-cache-config.xml"</pre>

</div>

<h4 id="_3_view_the_running_pods"><span class="merged" id="all.3pgoei.1" style='background-color:yellow' title="原文 : 3. View the running pods">3.実行中のポッドの表示</span></h4>
<div class="section">
<p><span class="merged" id="all.iH5zh.1" style='background-color:yellow' title="原文 : Run the following command to view the Pods:">次のコマンドを実行してポッドを表示します:</span></p>

<pre
lang="bash"

>kubectl -n coherence-example get pods</pre>

<pre
lang="bash"

>NAME                  READY   STATUS    RESTARTS   AGE
primary-cluster-0     1/1     Running   0          83s
primary-cluster-1     1/1     Running   0          83s
secondary-cluster-0   1/1     Running   0          74s
secondary-cluster-1   1/1     Running   0          73s</pre>

</div>

<h4 id="_4_connect_to_the_coherence_console_inside_the_primary_cluster_to_add_data"><span class="merged" id="all.1KNz6R" style='background-color:yellow' title="原文 : 4. Connect to the Coherence Console inside the primary cluster to add data">4.プライマリ・クラスタ内のCoherenceコンソールに接続してデータを追加</span></h4>
<div class="section">
<p><span class="merged" id="all.4OOCaP" style='background-color:yellow' title="原文 : We will connect via Coherence console to add some data using the following commands:">Coherenceコンソールを介して接続し、次のコマンドを使用してデータを追加します:</span></p>

<pre
lang="bash"

>kubectl exec -it -n coherence-example primary-cluster-0 /coherence-operator/utils/runner console</pre>

<p><span class="merged" id="all.3iSYDh.3" style='background-color:yellow' title="原文 : At the prompt type the following to create a cache called test:">プロンプトで、次のように入力して<code>test</code>というキャッシュを作成します:</span></p>

<pre
lang="bash"

>cache test</pre>

<p><span class="merged" id="all.2zK9Z2" style='background-color:yellow' title="原文 : Use the following to add an entry with &quot;primarykey&quot; and &quot;primaryvalue&quot;:">「primarykey」および「primaryvalue」を含むエントリを追加するには、次を使用します:</span></p>

<pre
lang="bash"

>put "primarykey" "primaryvalue"</pre>

<p><span class="merged" id="all.1zTHPk.2" style='background-color:yellow' title="原文 : Use the following to create 10,000 entries of 100 bytes:">100バイトの10,000エントリを作成するには、次を使用します:</span></p>

<pre
lang="bash"

>bulkput 10000 100 0 100</pre>

<p><span class="merged" id="all.4I6SLd.spl1" style='background-color:yellow' title="原文 : Lastly issue the command size to verify the cache entry count.">最後に、コマンド<code>size</code>を発行して、キャッシュ・エントリ数を確認します。</span> <span class="merged" id="all.4I6SLd.spl2" style='background-color:yellow' title="原文 : It should be 10001.">10001になります。</span> </p>

<p><span class="merged" id="all.3VxTSz.3" style='background-color:yellow' title="原文 : Type bye to exit the console."><code>bye</code>と入力してコンソールを終了します。</span></p>

</div>

<h4 id="_6_connect_to_the_coherence_console_inside_the_secondary_cluster_to_verify_that_data_is_federated_from_primary_cluster"><span class="merged" id="all.2MtwT3" style='background-color:yellow' title="原文 : 6. Connect to the Coherence Console inside the secondary cluster to verify that data is federated from primary cluster">6.セカンダリ・クラスタ内のCoherenceコンソールに接続して、データがプライマリ・クラスタからフェデレートされていることを確認</span></h4>
<div class="section">
<p><span class="merged" id="all.27QuPy" style='background-color:yellow' title="原文 : We will connect via Coherence console to confirm that the data we added to the primary cluster is federated to the secondary cluster.">Coherenceコンソールを使用して接続し、プライマリ・クラスタに追加したデータがセカンダリ・クラスタにフェデレートされていることを確認します。</span></p>

<pre
lang="bash"

>kubectl exec -it -n coherence-example secondary-cluster-0 /coherence-operator/utils/runner console</pre>

<p><span class="merged" id="all.1vEHfM" style='background-color:yellow' title="原文 : At the prompt type the following to set the cache to test:">プロンプトで、次のように入力してキャッシュを<code>test</code>に設定します:</span></p>

<pre
lang="bash"

>cache test</pre>

<p><span class="merged" id="all.2kB1r1" style='background-color:yellow' title="原文 : Use the following to get entry with &quot;primarykey&quot;:">"primarykey"のエントリを取得するには、次を使用します:</span></p>

<pre
lang="bash"

>get "primarykey"
primaryvalue</pre>

<p><span class="merged" id="all.I38XE.spl1" style='background-color:yellow' title="原文 : Issue the command size to verify the cache entry count.">コマンド<code>size</code>を発行して、キャッシュ・エントリ数を確認します。</span> <span class="merged" id="all.I38XE.spl2" style='background-color:yellow' title="原文 : It should be 10001.">10001になります。</span> </p>

<p><span class="merged" id="all.2VP1oa.spl1" style='background-color:yellow' title="原文 : Our federation has Active/Active topology.">フェデレーションにはアクティブ/アクティブ・トポロジがあります。</span> <span class="merged" id="all.2VP1oa.spl2" style='background-color:yellow' title="原文 : So, the data changes in both primary and secondary clusters are federated between the clusters.">そのため、プライマリ・クラスタとセカンダリ・クラスタの両方のデータ変更がクラスタ間でフェデレートされます。</span> <span class="merged" id="all.2VP1oa.spl3" style='background-color:yellow' title="原文 : Use the following to add an entry with &quot;secondarykey&quot; and &quot;secondaryvalue&quot;:">"secondarykey"および"secondaryvalue"を含むエントリを追加するには、次を使用します:</span> </p>

<pre
lang="bash"

>put "secondarykey" "secondaryvalue"</pre>

</div>

<h4 id="_7_confirm_the_primary_cluster_also_received_secondarykey_secondaryvalue_entry"><span class="merged" id="all.43ZSnM" style='background-color:yellow' title="原文 : 7. Confirm the primary cluster also received &quot;secondarykey&quot;, &quot;secondaryvalue&quot; entry">7.プライマリ・クラスタが"secondarykey"、"secondaryvalue"エントリも受信したことを確認</span></h4>
<div class="section">
<p><span class="merged" id="all.3JZNF2" style='background-color:yellow' title="原文 : Follow the command in the previous section to connect to the Coherence Console inside the primary cluster.">前のセクションのコマンドに従って、プライマリ・クラスタ内のCoherenceコンソールに接続します。</span></p>

<p><span class="merged" id="all.QpwAQ" style='background-color:yellow' title="原文 : Use the following command to confirm that entry with &quot;secondarykey&quot; is federated to primary cluster:">次のコマンドを使用して、「secondarykey」を含むエントリがプライマリ・クラスタにフェデレートされていることを確認します:</span></p>

<pre
lang="bash"

>get "secondarykey"
secondaryvalue</pre>

</div>
</div>

<h3 id="cleanup"><span class="merged" id="all.3918q1"  title="原文:: Cleaning up">クリーンアップ</span></h3>
<div class="section">
<p><span class="merged" id="all.35Kt3C" style='background-color:yellow' title="原文 : Use the following commands to delete the primary and secondary clusters:">プライマリおよびセカンダリ・クラスタを削除するには、次のコマンドを使用します:</span></p>

<pre
lang="bash"

>kubectl -n coherence-example delete -f src/main/yaml/primary-cluster.yaml

kubectl -n coherence-example delete -f src/main/yaml/secondary-cluster.yaml</pre>

<p><span class="merged" id="all.1IfmoJ.1" style='background-color:yellow' title="原文 : Uninstall the Coherence operator using the undeploy commands for whichever method you chose to install it.">インストールするために選択したメソッドに対してアンデプロイ・コマンドを使用して、Coherenceオペレータをアンインストールします。</span></p>

</div>
</div>
</doc-view>
<!-- pages/examples/200_autoscaler/README.js -->
<doc-view>

<h2 id="_kubernetes_horizontal_pod_autoscaler_example"><span class="merged" id="all.4S0GCZ" style='background-color:yellow' title="原文 : Kubernetes Horizontal Pod autoscaler Example">Kubernetes水平ポッド自動スケーラの例</span></h2>
<div class="section">
<p><span class="merged" id="all.2NUJzS.1" style='background-color:yellow' title="原文 : This example shows how to use the Kubernetes Horizontal Pod Autoscaler to scale Coherence clusters.">この例では、Kubernetes Horizontal Pod Autoscalerを使用してCoherenceクラスタをスケーリングする方法を示します。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.10"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.37f75q" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/200_autoscaler" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>
</div>

<h2 id="_how_does_the_horizontal_pod_autoscaler_work"><span class="merged" id="all.3ikH0K" style='background-color:yellow' title="原文 : How Does the Horizontal Pod autoscaler Work">水平ポッド自動スケーラの仕組み</span></h2>
<div class="section">
<p><span class="merged" id="all.1zRMiS" style='background-color:yellow' title="原文 : There is a lot of good documentation on the HPA, particularly the Kubernetes documentation.">HPAには、特に<a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/" id="" target="_blank" >「Kubernetesドキュメント」</a>に関する多くの優れたドキュメントがあります。</span></p>

<p><span class="merged" id="all.3Um8dr.spl1" style='background-color:yellow' title="原文 : The HPA uses metrics, which it obtains from one of the Kubernetes metrics APIs.">HPAは、KubernetesメトリクスAPIのいずれかから取得するメトリクスを使用します。</span> <span class="merged" id="all.3Um8dr.spl2" style='background-color:yellow' title="原文 : Many cloud providers and custom Kubernetes installations have metrics features that may be able to expose those metrics to the custom/metrics.k8s.io API.">多くのクラウド・プロバイダおよびカスタムKubernetesインストールには、メトリクスを<code>custom/metrics.k8s.io</code> APIに公開できる可能性のあるメトリクス機能があります。</span> <span class="merged" id="all.3Um8dr.spl3" style='background-color:yellow' title="原文 : It is possible to even do everything yourself and build a custom REST endpoint that serves custom metrics to the HPA.">すべてを自分で行い、HPAにカスタム・メトリクスを提供するカスタムRESTエンドポイントをビルドすることもできます。</span> <span class="merged" id="all.3Um8dr.spl4" style='background-color:yellow' title="原文 : Those alternatives are beyond the scope of this example though so to keep things simple we will use Prometheus.">これらの代替方法は、この例の範囲を超えているため、簡単にPrometheusを使用します。</span> <span class="merged" id="all.3Um8dr.spl5" style='background-color:yellow' title="原文 : The diagram below shows, at a high level, how this works.">次の図は、この動作の概要を示しています。</span> </p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="autoscaler" src="./images/images/autoscaler.png" /> </v-card-text> </v-card>

<p><span class="merged" id="all.1DrLL7.spl1" style='background-color:yellow' title="原文 : Prometheus will obtain metrics from the Coherence Pod’s metrics endpoints.">Prometheusは、Coherenceポッドのメトリクス・エンドポイントからメトリクスを取得します。</span> <span class="merged" id="all.1DrLL7.spl2" style='background-color:yellow' title="原文 : The Prometheus Adapter exposes certain configured metrics polled from Prometheus as custom Kubernetes metrics.">Prometheusアダプタは、Prometheusからポーリングされた特定の構成済メトリクスをカスタムKubernetesメトリクスとして公開します。</span> <span class="merged" id="all.1DrLL7.spl3" style='background-color:yellow' title="原文 : The HPA is configured to poll the custom metrics and use those to scale the Coherence resource (which will in turn cause the Coherence Operator to scale the StatefulSet).">HPAは、カスタム・メトリクスをポーリングし、それを使用して<code>Coherence</code>リソースをスケーリングするように構成されています(これにより、Coherence Operatorは<code>StatefulSet</code>をスケーリングします)。</span> </p>

</div>

<h2 id="_autoscaling_coherence_clusters"><span class="merged" id="all.3GcPV7" style='background-color:yellow' title="原文 : Autoscaling Coherence Clusters">Coherenceクラスタの自動スケーリング</span></h2>
<div class="section">
<p><span class="merged" id="all.1nZPEP.spl1" style='background-color:yellow' title="原文 : This example will show how to configure the HPA to scale Coherence clusters based on heap usage metrics.">この例では、ヒープ使用状況メトリクスに基づいてCoherenceクラスタをスケーリングするようにHPAを構成する方法を示します。</span> <span class="merged" id="all.1nZPEP.spl2" style='background-color:yellow' title="原文 : As Coherence stores data in memory, monitoring heap usage and using it to scale seems a sensible approach.">Coherenceではデータがメモリーに格納されるため、ヒープ使用状況をモニタリングし、それを使用してスケーリングすると、適切なアプローチになります。</span> </p>

<p><span class="merged" id="all.2YpAyC.spl1" style='background-color:yellow' title="原文 : The Coherence CRD supports the scale sub-resource, which means that the Kubernetes HPA can be used to scale a Coherence deployment."><code>Coherence</code> CRDは<code>scale</code>サブリソースをサポートします。つまり、Kubernetes HPAを使用して<code>Coherence</code>デプロイメントをスケーリングできます。</span> <span class="merged" id="all.2YpAyC.spl2" style='background-color:yellow' title="原文 : In this example we are going to use heap usage as the metric - or to be more specific the amount of heap in use after the last garbage collection.">この例では、メトリックとしてヒープ使用量を使用 - または、最後のガベージ・コレクション<em>「後に」</em>使用されているヒープの量をより詳細にします。</span> <span class="merged" id="all.2YpAyC.spl3" style='background-color:yellow' title="原文 : This is an important point, plain heap usage is a poor metric to use for scaling decisions because the heap may be very full at a given point in time, but most of that memory may be garbage so scaling on the plain heap usage figure may cause the cluster to scale up needlessly as a milli-second later a GC could run, and the heap use shrinks down to acceptable levels.">これは重要なポイントであり、プレーン・ヒープ使用量は、特定の時点でヒープが非常にいっぱいになる可能性があり、そのメモリーの大部分が大きいため、スケーリングのディシジョンに使用するメトリックが不十分です。プレーン・ヒープ使用率の数値を大きくすると、ミリ秒後にGCを実行できるため、クラスタが不要にスケール・アップし、ヒープの使用は許容レベルに縮小されることがあります。</span> </p>

<p><span class="merged" id="all.24jLgY.spl1" style='background-color:yellow' title="原文 : The problem is that there is no single metric in a JVM that gives heap usage after garbage collection.">問題は、ガベージ・コレクション後にヒープ使用量を与えるJVMに単一メトリックがないことです。</span> <span class="merged" id="all.24jLgY.spl2" style='background-color:yellow' title="原文 : Coherence has some metrics that report this value, but they are taken from the MemoryPool MBeans and this is not reliable for scaling.">Coherenceには、この値をレポートするメトリクスがありますが、<code>MemoryPool</code> MBeansから取得されるため、スケーリングには信頼できません。</span> <span class="merged" id="all.24jLgY.spl3" style='background-color:yellow' title="原文 : For example, if the JVM is using the G1 collector the G1 Old Gen memory pool value for heap use after garbage collection will be zero unless a full GC has run.">たとえば、JVMがG1コレクタを使用している場合、ガベージ・コレクション後のヒープ使用に対する<code>G1 Old Gen</code>メモリー・プール値は、完全なGCが実行されていないかぎりゼロになります。</span> <span class="merged" id="all.24jLgY.spl4" style='background-color:yellow' title="原文 : It is quite possible to almost fill the heap without running a full GC so this figure could remain zero or be wildly inaccurate.">完全なGCを実行せずにヒープをほぼ満たすことができるため、この数値はゼロのままか、不正確である可能性があります。</span> </p>

<p><span class="merged" id="all.c040V.spl1" style='background-color:yellow' title="原文 : A more reliable way to work out the heap usage is to obtain the values for the different heap memory pools from the Garbage Collector MBeans.">ヒープ使用率をより信頼性の高い方法で処理するには、ガベージ・コレクタMBeansから様々なヒープ・メモリー・プールの値を取得することです。</span> <span class="merged" id="all.c040V.spl2" style='background-color:yellow' title="原文 : There could be multiple of these MBeans with different names depending on which collector has been configured for the JVM.">JVMにどのコレクタが構成されているかに応じて、異なる名前を持つこれらのMBeansの複数が存在する可能性があります。</span> <span class="merged" id="all.c040V.spl3" style='background-color:yellow' title="原文 : The Garbage Collector Mbeans have a LastGCcInfo attribute, which is a composite attribute containing information about the last garbage collection that ran on this collector.">ガベージ・コレクタMbeanには<code>LastGCcInfo</code>属性があります。この属性は、このコレクタで実行された最後のガベージ・コレクションに関する情報を含むコンポジット属性です。</span> <span class="merged" id="all.c040V.spl4" style='background-color:yellow' title="原文 : One of the attributes is the endTime, which we can use to determine which collector’s LastGCcInfo is the most recent.">属性の1つは<code>endTime</code>で、どのコレクタの<code>LastGCcInfo</code>が最新であるかを判断するために使用できます。</span> <span class="merged" id="all.c040V.spl5" style='background-color:yellow' title="原文 : Once we have this we can obtain the memoryUsageAfterGc attribute for the last gc, which is a map of memory pool name to heap use data after the GC.">これを取得すると、最後のGCの<code>memoryUsageAfterGc</code>属性を取得できます。これは、メモリー・プール名のマップであり、GCの後にデータをヒープで使用します。</span> <span class="merged" id="all.c040V.spl6" style='background-color:yellow' title="原文 : We can use this to then sum up the usages for the different heap memory pools.">これを使用して、様々なヒープ・メモリー・プールの使用量を合計できます。</span> </p>

<p><span class="merged" id="all.1ado9m.spl1" style='background-color:yellow' title="原文 : The Java code in this example contains a simple MBean class HeapUsage and corresponding MBean interface HeapUsageMBean that obtain heap use metrics in the way detailed above.">この例のJavaコードには、単純なMBeanクラス<code>HeapUsage</code>と、前述の方法でヒープ使用メトリクスを取得する対応するMBeanインタフェース<code>HeapUsageMBean</code>が含まれています。</span> <span class="merged" id="all.1ado9m.spl2" style='background-color:yellow' title="原文 : There is also a configuration file custom-mbeans.xml that Coherence will use to automatically add the custom MBean to Coherence management and metrics.">CoherenceがカスタムMBeanをCoherence管理およびメトリクスに自動的に追加するために使用する構成ファイル<code>custom-mbeans.xml</code>もあります。</span> <span class="merged" id="all.1ado9m.spl3" style='background-color:yellow' title="原文 : There is Coherence documentation on how to add custom metrics and how to register custom MBeans."><a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/manage/using-coherence-metrics.html#GUID-CFC31D23-06B8-49AF-8996-ADBA806E0DD9" id="" target="_blank" >「カスタム・メトリクスの追加方法」</a>および<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/manage/registering-custom-mbeans.html#GUID-1EE749C5-BC0D-4353-B5FE-1C5DCDEAE48C" id="" target="_blank" >「カスタムMBeansを登録する方法」</a>にCoherenceドキュメントがあります。</span> </p>

<p><span class="merged" id="all.4VrEGv.spl1" style='background-color:yellow' title="原文 : The custom heap use MBean will be added with an ObjectName of Coherence:type=HeapUsage,nodeId=1 where nodeId will change to match the Coherence member id for the specific JVM.">カスタム・ヒープ使用MBeanは、<code>Coherence:type=HeapUsage,nodeId=1</code>のObjectNameとともに追加されます。<code>nodeId</code>は、特定のJVMのCoherenceメンバーIDと一致するように変更されます。</span> <span class="merged" id="all.4VrEGv.spl2" style='background-color:yellow' title="原文 : There will be one heap usage MBean for each cluster member.">クラスタ・メンバーごとに1つのヒープ使用量MBeanがあります。</span> </p>

<p><span class="merged" id="all.4Eg0Lq.spl1" style='background-color:yellow' title="原文 : The Coherence metrics framework will expose the custom metrics with metric names made up from the MBean domain name, type, and the attribute name.">Coherenceメトリクス・フレームワークは、MBeanドメイン名、タイプおよび属性名から作成されたメトリック名を使用してカスタム・メトリクスを公開します。</span> <span class="merged" id="all.4Eg0Lq.spl2" style='background-color:yellow' title="原文 : The MBean has attribute names Used and PercentageUsed, so the metric names will be:">MBeanには属性名<code>Used</code>および<code>PercentageUsed</code>があるため、メトリック名は次のようになります:</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2iWPmR"  title="原文: Coherence.HeapUsage.Used"><code>Coherence.HeapUsage.Used</code></span></p>

</li>
<li>
<p><span class="merged" id="all.2LolzE"  title="原文: Coherence.HeapUsage.PercentageUsed"><code>Coherence.HeapUsage.PercentageUsed</code></span></p>

</li>
</ul>
<p><span class="merged" id="all.3WCSJt.spl1" style='background-color:yellow' title="原文 : These metrics will be scoped as application metrics, as opposed to Coherence standard metrics that are vendor scoped.">これらのメトリクスは、ベンダー・スコープのCoherence標準メトリクスではなく、アプリケーション・メトリクスとしてスコープ指定されます。</span> <span class="merged" id="all.3WCSJt.spl2" style='background-color:yellow' title="原文 : This means that in Prometheus the names will be converted to:">つまり、Prometheusでは、名前は次のように変換されます:</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2EGa2l"  title="原文: application:coherence_heap_usage_used"><code>application:coherence_heap_usage_used</code></span></p>

</li>
<li>
<p><span class="merged" id="all.4GeXGv"  title="原文: application:coherence_heap_usage_percentage_used"><code>application:coherence_heap_usage_percentage_used</code></span></p>

</li>
</ul>
<p><span class="merged" id="all.2pyEYg" style='background-color:yellow' title="原文 : The metrics will have corresponding tags to identify which cluster member (Pod) they relate to.">メトリクスには、関連するクラスタ・メンバー(<code>Pod</code>)を識別する対応するタグがあります。</span></p>

</div>

<h2 id="_building_the_example"><span class="merged" id="all.4CD4mF" style='background-color:yellow' title="原文 : Building the Example">例のビルド</span></h2>
<div class="section">

<h3 id="_clone_the_coherence_operator_repository"><span class="merged" id="all.1EfVIm" style='background-color:yellow' title="原文 : Clone the Coherence Operator Repository:">Coherence Operatorリポジトリをクローニングします:</span></h3>
<div class="section">
<p><span class="merged" id="all.3xVBeR" style='background-color:yellow' title="原文 : To build the examples, you first need to clone the Operator GitHub repository to your development machine.">例をビルドするには、最初にオペレータGitHubリポジトリを開発マシンにクローニングする必要があります。</span></p>

<pre
lang="bash"

>git clone https://github.com/oracle/coherence-operator

cd coherence-operator/examples</pre>

</div>

<h3 id="_build_the_examples"><span class="merged" id="all.KkREp" style='background-color:yellow' title="原文 : Build the Examples">例の作成</span></h3>
<div class="section">

<h4 id="_prerequisites"><span class="merged" id="all.2LZvWc.4"  title="原文:: Prerequisites">前提条件</span></h4>
<div class="section">
<ul class="ulist">
<li>
<p><span class="merged" id="all.2ZKytW" style='background-color:yellow' title="原文 : Java 11+ JDK either OpenJDK or Oracle JDK">Java 11+ JDK <a href="https://adoptopenjdk.net/" id="" target="_blank" >OpenJDK</a>または<a href="https://www.oracle.com/java/technologies/javase-downloads.html" id="" target="_blank" >Oracle JDK</a></span></p>

</li>
<li>
<p><span class="merged" id="all.j38oP.1" style='background-color:yellow' title="原文 : Docker version 17.03+."><a href="https://docs.docker.com/install/" id="" target="_blank" >Docker</a>バージョン17.03+。</span></p>

</li>
<li>
<p><span class="merged" id="all.2U5Gf2" style='background-color:yellow' title="原文 : kubectl version v1.13.0+ ."><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" id="" target="_blank" >kubectl</a>バージョンv1.13.0+。</span></p>

</li>
<li>
<p><span class="merged" id="all.4dbHBC.1" style='background-color:yellow' title="原文 : Access to a Kubernetes v1.14.0+ cluster.">Kubernetes v1.14.0+クラスタにアクセスします。</span></p>

</li>
<li>
<p><span class="merged" id="all.37lroG" style='background-color:yellow' title="原文 : Helm version 3.2.4+"><a href="https://helm.sh/docs/intro/install/" id="" target="_blank" >Helm</a>バージョン3.2.4+</span></p>

</li>
</ul>
<p><span class="merged" id="all.u7vtk.spl1" style='background-color:yellow' title="原文 : Building the project requires Maven version 3.6.0+.">プロジェクトをビルドするには、<a href="https://maven.apache.org" id="" target="_blank" >Maven</a>バージョン3.6.0+が必要です。</span> <span class="merged" id="all.u7vtk.spl2" style='background-color:yellow' title="原文 : The commands below use the Maven Wrapper to run the commands, which will install Maven if it is not already on the development machine.">次のコマンドは、Mavenラッパーを使用してコマンドを実行します。コマンドがまだ開発マシン上にない場合は、Mavenをインストールします。</span> <span class="merged" id="all.u7vtk.spl3" style='background-color:yellow' title="原文 : If you already have a suitable version of Maven installed feel free to replace the use of ./mvnw in the examples with your normal Maven command (typically just mvn).">適切なバージョンのMavenがすでにインストールされている場合は、例での<code>./mvnw</code>の使用を通常のMavenコマンド(通常は<code>mvn</code>のみ)に置き換えることができます。</span> </p>


<h5 id="_corporate_proxies"><span class="merged" id="all.LW0uM" style='background-color:yellow' title="原文 : Corporate Proxies">企業プロキシ</span></h5>
<div class="section">
<p><span class="merged" id="all.el5gh" style='background-color:yellow' title="原文 : If building inside a corporate proxy (or any machine that requires http and https proxies to be configured) then the build will require the MAVEN_OPTS environment variable to be properly set, for example:">企業プロキシ(またはhttpおよびhttpsプロキシを構成する必要があるマシン)内にビルドする場合、ビルドには<code>MAVEN_OPTS</code>環境変数が正しく設定されている必要があります。次に例を示します:</span></p>

<pre
lang="bash"

>export MAVEN_OPTS="-Dhttps.proxyHost=host -Dhttps.proxyPort=80 -Dhttp.proxyHost=host -Dhttp.proxyPort=80"</pre>

<p><span class="merged" id="all.4QgOEp" style='background-color:yellow' title="原文 : replacing host with the required proxy hostname and 80 with the proxy’s port."><code>host</code>を必要なプロキシ・ホスト名に置き換え、<code>80</code>をプロキシのポートに置き換えます。</span></p>

</div>
</div>

<h4 id="_build_instructions"><span class="merged" id="all.2BOTDg"  title="原文:: Build Instructions">ビルド手順</span></h4>
<div class="section">
<p><span class="merged" id="all.1ELgQ4.spl1" style='background-color:yellow' title="原文 : The autoscaler example uses the JIB Maven plugin to build the example image.">autoscalerの例では、<a href="https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin#build-your-image" id="" target="_blank" >「JIB Mavenプラグイン」</a>を使用してサンプル・イメージをビルドしています。</span> <span class="merged" id="all.1ELgQ4.spl2" style='background-color:yellow' title="原文 : To build the image run the following command from the examples/autoscaler directory:">イメージをビルドするには、<code>examples/autoscaler</code>ディレクトリから次のコマンドを実行します:</span> </p>

<pre
lang="bash"

>./mvnw package jib:dockerBuild</pre>

<p><span class="merged" id="all.2e5sLn" style='background-color:yellow' title="原文 : The build will produce various example images, for the autoscaler example we will be using the autoscaler-example:latest image.">ビルドでは様々なサンプル・イメージが生成されます。autoscalerの例では、<code>autoscaler-example:latest</code>イメージを使用します。</span></p>

</div>
</div>
</div>

<h2 id="_run_the_example"><span class="merged" id="all.oJSYR.1"  title="原文:: Run the Example"> 例の実行</span></h2>
<div class="section">
<p><span class="merged" id="all.1RTqzx.spl1" style='background-color:yellow' title="原文 : Running the example requires a number of components to be installed.">この例を実行するには、多数のコンポーネントをインストールする必要があります。</span> <span class="merged" id="all.1RTqzx.spl2" style='background-color:yellow' title="原文 : The example will use Prometheus as a custom metrics source, which requires installation of Prometheus and the Prometheus Adapter custom metrics source.">この例では、Prometheusをカスタム・メトリクス・ソースとして使用します。これには、PrometheusおよびPrometheusアダプタ・カスタム・メトリクス・ソースのインストールが必要です。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.2SIvEd.spl1" style='background-color:yellow' title="原文 : To simplify the example commands none of the examples below use a Kubernetes namespace.">サンプル・コマンドを簡略化するために、次のいずれの例もKubernetesネームスペースを使用しません。</span> <span class="merged" id="all.2SIvEd.spl2" style='background-color:yellow' title="原文 : If you wish to install the components below into a namespace other than default, then use the required kubectl and Helm namespace options.">下のコンポーネントを<code>default</code>以外のネームスペースにインストールする場合は、必要なkubectlおよびHelmネームスペース・オプションを使用します。</span> </p>
</div>

<h3 id="_install_the_coherence_operator"><span class="merged" id="all.LO8kI.2" style='background-color:yellow' title="原文 : Install the Coherence Operator">Coherence Operatorのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.3AJ9nf" style='background-color:yellow' title="原文 : First install the Coherence Operator, TBD…​">最初にCoherence Operatorをインストールしてください、TBD…</span></p>

</div>

<h3 id="_install_coherence_cluster"><span class="merged" id="all.2VfhMG" style='background-color:yellow' title="原文 : Install Coherence cluster">Coherenceクラスタのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.2OVmza.spl1" style='background-color:yellow' title="原文 : With the Coherence Operator running we can now install a simple Coherence cluster.">Coherence Operatorを実行することで、単純なCoherenceクラスタをインストールできるようになりました。</span> <span class="merged" id="all.2OVmza.spl2" style='background-color:yellow' title="原文 : An example of the yaml required is below:">必要なyamlの例を次に示します:</span> </p>

<pre
lang="yaml"
title="cluster.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test-cluster
spec:
  image: autoscaler-example:latest  <span class="conum" data-value="1" />
  imagePullPolicy: IfNotPresent
  replicas: 2                       <span class="conum" data-value="2" />
  coherence:
    metrics:
      enabled: true                 <span class="conum" data-value="3" />
  jvm:
    memory:
      heapSize: 500m                <span class="conum" data-value="4" />
  ports:
    - name: metrics                 <span class="conum" data-value="5" />
      serviceMonitor:
        enabled: true               <span class="conum" data-value="6" />
    - name: extend                  <span class="conum" data-value="7" />
      port: 20000</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.W1nm5" style='background-color:yellow' title="原文 : The image used for the application will be the autoscaler-example:latest image we built above.">アプリケーションに使用されるイメージは、前述の<code>autoscaler-example:latest</code>イメージになります。</span></li>
<li data-value="2"><span class="merged" id="all.1IFu87" style='background-color:yellow' title="原文 : The deployment will initially have 2 replicas.">デプロイメントには最初は2つのレプリカが含まれます。</span></li>
<li data-value="3"><span class="merged" id="all.yB33U" style='background-color:yellow' title="原文 : Coherence metrics must be enabled to publish the metrics we require for scaling.">スケーリングに必要なメトリクスを公開するには、Coherenceメトリクスを有効にする必要があります。</span></li>
<li data-value="4"><span class="merged" id="all.1fGmy7" style='background-color:yellow' title="原文 : In this example the JVM heap has been fixed to 500m, which is quite small but this means we do not need to add a lot of data to cause excessive heap usage when we run the example.">この例では、JVMヒープは<code>500m</code>に固定されています。これはかなり小さいですが、これは、例の実行時に、ヒープ使用量が過剰になるために多くのデータを追加する必要がないことを意味します。</span></li>
<li data-value="5"><span class="merged" id="all.1oIv5l" style='background-color:yellow' title="原文 : The metrics port must also be exposed on a Service.">メトリクス・ポートは、<code>Service</code>でも公開する必要があります。</span></li>
<li data-value="6"><span class="merged" id="all.33Gziw" style='background-color:yellow' title="原文 : A Prometheus ServiceMonitor must also be enabled for the metrics service so that Prometheus can find the Coherence Pods and poll metrics from them.">PrometheusがCoherence <code>Pods</code>を検索してメトリクスをポーリングできるように、メトリクス・サービスに対してPrometheus <code>ServiceMonitor</code>も有効にする必要があります。</span></li>
<li data-value="7"><span class="merged" id="all.2K2UGA" style='background-color:yellow' title="原文 : This example also exposes a Coherence Extend port so that test data can easily be loaded into the caches.">この例では、テスト・データをキャッシュに簡単にロードできるように、Coherence Extendポートも公開します。</span></li>
</ul>
<p><span class="merged" id="all.1Cj2sT" style='background-color:yellow' title="原文 : The autoscaler example includes a suitable yaml file named cluster.yaml in the manifests/ directory that can be used to create a Coherence deployment.">autoscalerの例には、<code>cluster.yaml</code>という名前の適切なyamlファイルが<code>manifests/</code>ディレクトリに含まれており、これを使用してCoherenceデプロイメントを作成できます。</span></p>

<pre
lang="bash"

>kubectl create -f manifests/cluster.yaml</pre>

<p><span class="merged" id="all.19F47U.spl1" style='background-color:yellow' title="原文 : The Pods that are part of the Coherence cluster can be listed with kubectl.">Coherenceクラスタの一部である<code>Pods</code>は、<code>kubectl</code>を使用してリストできます。</span> <span class="merged" id="all.19F47U.spl2" style='background-color:yellow' title="原文 : All the Pods have a label coherenceCluster set by the Coherence Operator to match the name of the Coherence resource that they belong to, which makes it easier to list Pods for a specific deployment using kubectl:">すべての<code>Pods</code>には、Coherence Operatorによって設定されたラベル<code>coherenceCluster</code>が、それが属する<code>Coherence</code>リソースの名前と一致するように設定されているため、<code>kubectl</code>を使用して特定のデプロイメントの<code>Pods</code>を簡単にリストできます:</span> </p>

<pre
lang="bash"

>kubectl get pod -l coherenceCluster=test-cluster</pre>

<p><span class="merged" id="all.3zf6DQ" style='background-color:yellow' title="原文 : In a short time the Pods should both be ready.">少しの間、<code>Pods</code>の両方の準備ができているはずです。</span></p>

<pre
lang="bash"

>NAME             READY   STATUS    RESTARTS   AGE
test-cluster-0   1/1     Running   0          2m52s
test-cluster-1   1/1     Running   0          2m52s</pre>


<h4 id="_test_the_custom_heap_metrics"><span class="merged" id="all.2rBIbY" style='background-color:yellow' title="原文 : Test the Custom Heap Metrics">カスタム・ヒープ・メトリクスのテスト</span></h4>
<div class="section">
<p><span class="merged" id="all.1Zyb1g.spl1" style='background-color:yellow' title="原文 : The Metrics endpoint will be exposed on port 9612 on each Pod, so it is possible to query the metrics endpoints for the custom heap metrics.">メトリクス・エンドポイントは、各<code>Pod</code>のポート9612で公開されるため、カスタム・ヒープ・メトリクスのメトリクス・エンドポイントをクエリーできます。</span> <span class="merged" id="all.1Zyb1g.spl2" style='background-color:yellow' title="原文 : The simplest way to test the metrics is to use the kubectl port-forward command and curl.">メトリクスをテストする最も簡単な方法は、<code>kubectl</code> <code>port-forward</code>コマンドおよび<code>curl</code>を使用することです。</span> </p>

<p><span class="merged" id="all.3yHuRy" style='background-color:yellow' title="原文 : In one terminal session start the port forwarder to the first Pod, test-cluster-0:">1つのターミナル・セッションで、最初の<code>Pod</code>、<code>test-cluster-0</code>へのポート・フォワーダを起動します:</span></p>

<pre
lang="bash"

>kubectl port-forward pod/test-cluster-0 9612:9612</pre>

<p><span class="merged" id="all.1J2GAO" style='background-color:yellow' title="原文 : metrics from Pod, test-cluster-0 can be queried on http://127.0.0.1:9612/metrics"><code>Pod</code>のメトリクス、<code>test-cluster-0</code>は<code><a href="http://127.0.0.1:9612/metrics" id="" target="_blank" >http://127.0.0.1:9612/metrics</a></code>でクエリーできます</span></p>

<p><span class="merged" id="all.2Q70Fq.spl1" style='background-color:yellow' title="原文 : In a second terminal we can use curl to query the metrics.">2つ目の端末では、curlを使用してメトリクスをクエリーできます。</span> <span class="merged" id="all.2Q70Fq.spl2" style='background-color:yellow' title="原文 : The Coherence metrics endpoint serves metrics in two formats, plain text compatible with Prometheus and JSON.">Coherenceメトリクス・エンドポイントは、PrometheusおよびJSONと互換性のあるプレーン・テキストという2つの形式のメトリクスを提供します。</span> <span class="merged" id="all.2Q70Fq.spl3" style='background-color:yellow' title="原文 : If the required content type has not been specified in the curl command it could be either that is returned.">必要なコンテンツ・タイプがcurlコマンドで指定されていない場合、いずれかが返される可能性があります。</span> <span class="merged" id="all.2Q70Fq.spl4" style='background-color:yellow' title="原文 : To specify a content type set the accepted type in the header, for example --header &quot;Accept: text/plain&quot; or --header &quot;Accept: application/json&quot;.">コンテンツ・タイプを指定するには、ヘッダーで受け入れられるタイプを設定します(たとえば<code>--header "Accept: text/plain"</code>または<code>--header "Accept: application/json"</code>)。</span> </p>

<p><span class="merged" id="all.34G8Tn" style='background-color:yellow' title="原文 : This command will retrieve metrics from test-cluster-0 in the same format that Prometheus would.">このコマンドは、Prometheusと同じ形式で<code>test-cluster-0</code>からメトリクスを取得します。</span></p>

<pre
lang="bash"

>curl -s --header "Accept: text/plain" -X GET http://127.0.0.1:9612/metrics</pre>

<p><span class="merged" id="all.253j1u.spl1" style='background-color:yellow' title="原文 : This will return quite a lot of metrics, somewhere in that output is the custom application metrics for heap usage.">これにより、大量のメトリクスが返されます。その出力のどこかにヒープ使用状況のカスタム・アプリケーション・メトリクスがあります。</span> <span class="merged" id="all.253j1u.spl2" style='background-color:yellow' title="原文 : The simplest way to isolate them would be to use grep, for example:">それらを分離する最も簡単な方法は、<code>grep</code>を使用することです。次に例を示します:</span> </p>

<pre
lang="bash"

>curl -s --header "Accept: text/plain" -X GET http://127.0.0.1:9612/metrics | grep application</pre>

<p><span class="merged" id="all.3cWG2" style='background-color:yellow' title="原文 : which should show something like:">次のようなものが表示されます:</span></p>

<pre
lang="bash"

>application:coherence_heap_usage_percentage_used{cluster="test-cluster", machine="docker-desktop", member="test-cluster-0", node_id="2", role="test-cluster", site="test-cluster-sts.operator-test.svc"} 3.09
application:coherence_heap_usage_used{cluster="test-cluster", machine="docker-desktop", member="test-cluster-0", node_id="2", role="test-cluster", site="test-cluster-sts.operator-test.svc"} 16177976</pre>

<p><span class="merged" id="all.27BC9L.spl1" style='background-color:yellow' title="原文 : The first metric application:coherence_heap_usage_percentage_used shows the heap was 3.09% full after the last gc.">最初のメトリック<code>application:coherence_heap_usage_percentage_used</code>は、最後のgcの後にヒープが<code>3.09%</code>フルだったことを示しています。</span> <span class="merged" id="all.27BC9L.spl2" style='background-color:yellow' title="原文 : The second metric application:coherence_heap_usage_used shows that the in-use heap after the last gc was 16177976 bytes, or around 16 MB.">2番目のメトリック<code>application:coherence_heap_usage_used</code>は、最後のgcの後の使用中ヒープが16177976バイトまたは約16 MBであったことを示しています。</span> </p>

<p><span class="merged" id="all.1rQIuW" style='background-color:yellow' title="原文 : The port forwarder can be changed to connect to the second Pod test-cluster-1, and the same curl command will retrieve metrics from the second Pod, which should show different heap use values.">ポート・フォワーダを変更して2番目の<code>Pod</code> <code>test-cluster-1</code>に接続でき、同じcurlコマンドによって2番目の<code>Pod</code>からメトリクスが取得され、異なるヒープ使用値が表示されます。</span></p>

</div>
</div>

<h3 id="_install_prometheus"><span class="merged" id="all.3NplFl" style='background-color:yellow' title="原文 : Install Prometheus">Prometheusのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.2D7Aj9" style='background-color:yellow' title="原文 : The simplest way to install Prometheus as part of an example or demo is to use the Prometheus Operator, which can be installed using a Helm chart.">例またはデモの一部としてPrometheusをインストールする最も簡単な方法は、Helmチャートを使用してインストールできる<a href="https://github.com/prometheus-operator/prometheus-operator" id="" target="_blank" >「Prometheusオペレータ」</a>を使用することです。</span></p>


<h4 id="_setup_the_helm_repo"><span class="merged" id="all.2Jef6E" style='background-color:yellow' title="原文 : Setup the Helm Repo">Helmリポジトリの設定</span></h4>
<div class="section">
<p><span class="merged" id="all.4dTk9F" style='background-color:yellow' title="原文 : Make sure the stable helm repository has been added to Helm if it isn’t already present in your local Helm repositories."><code>stable</code> helmリポジトリがローカルのHelmリポジトリに存在しない場合は、Helmに追加されていることを確認します。</span></p>

<pre
lang="bash"

>helm repo add stable https://kubernetes-charts.storage.googleapis.com/</pre>

<p><span class="merged" id="all.hYwoZ" style='background-color:yellow' title="原文 : Make sure the local Helm repository is up to date.">ローカルHelmリポジトリが最新であることを確認してください。</span></p>

<pre
lang="bash"

>helm repo update</pre>

</div>

<h4 id="_configure_prometheus_rbac"><span class="merged" id="all.3vO3pm" style='background-color:yellow' title="原文 : Configure Prometheus RBAC">Prometheus RBACの構成</span></h4>
<div class="section">
<p><span class="merged" id="all.2TGL7p.spl1" style='background-color:yellow' title="原文 : If you are using a Kubernetes cluster with RBAC enabled then the rules required by Prometheus need to be added.">RBACが有効なKubernetesクラスタを使用している場合は、Prometheusに必要なルールを追加する必要があります。</span> <span class="merged" id="all.2TGL7p.spl2" style='background-color:yellow' title="原文 : The autoscale example contains a yaml file with the required RBAC rules in it in the manifests/ directory.">自動スケールの例には、<code>manifests/</code>ディレクトリに必要なRBACルールを含むyamlファイルが含まれています。</span> </p>

<p><span class="merged" id="all.3kH4bU" style='background-color:yellow' title="原文 : The manifests/prometheus-rbac.yaml uses a namespace coherence-example which may need to be changed if you are installing into a different namespace."><code>manifests/prometheus-rbac.yaml</code>はネームスペース<code>coherence-example</code>を使用します。別のネームスペースにインストールする場合は、変更が必要になる場合があります。</span></p>

<p><span class="merged" id="all.4ArECM" style='background-color:yellow' title="原文 : The following commands use sed to replace coherence-example with default and pipe the result to kubectl to create the RBAC rules in the default Kubernetes namespace.">次のコマンドは、<code>sed</code>を使用して<code>coherence-example</code>を<code>default</code>に置き換え、結果を<code>kubectl</code>にパイプして、<code>default</code> KubernetesネームスペースにRBACルールを作成します。</span></p>

<pre
lang="bash"

>sed "s/coherence-example/default/g"  manifests/prometheus-rbac.yaml | kubectl create -f -</pre>

</div>

<h4 id="_install_the_prometheus_operator"><span class="merged" id="all.3wqp7h" style='background-color:yellow' title="原文 : Install the Prometheus Operator">Prometheusオペレータのインストール</span></h4>
<div class="section">
<p><span class="merged" id="all.3W9Sj2.spl1" style='background-color:yellow' title="原文 : The Prometheus Operator can now be installed using Helm.">Prometheusオペレータは、Helmを使用してインストールできるようになりました。</span> <span class="merged" id="all.3W9Sj2.spl2" style='background-color:yellow' title="原文 : The autoscaler example contains a simple values files that can be used when installing the chart in the manifests/ directory.">autoscalerの例には、<code>manifests/</code>ディレクトリにチャートをインストールするときに使用できる単純な値ファイルが含まれています。</span> </p>

<pre
lang="bash"

>helm install --atomic --version 8.13.9 --wait \
    --set prometheus.service.type=NodePort \
    --values manifests/prometheus-values.yaml prometheus stable/prometheus-operator</pre>

<p><span class="merged" id="all.3p7cv3" style='background-color:yellow' title="原文 : The --wait parameter makes Helm block until all the installed resources are ready."><code>--wait</code>パラメータは、インストールされているすべてのリソースの準備が完了するまでHelmブロックを作成します。</span></p>

<p><span class="merged" id="all.1bKNAG.spl1" style='background-color:yellow' title="原文 : The command above sets the prometheus.service.type value to NodePort so that the Prometheus UI will be exposed on a port on the Kubernetes node.">前述のコマンドは、<code>prometheus.service.type</code>値を<code>NodePort</code>に設定して、Prometheus UIがKubernetesノードのポートで公開されるようにします。</span> <span class="merged" id="all.1bKNAG.spl2" style='background-color:yellow' title="原文 : This is particularly useful when testing with a local Kubernetes cluster, such as in Docker on a laptop because the UI can be reached on localhost at that port.">これは、ローカルKubernetesクラスタ(ラップトップのDockerなど)でテストする場合に特に便利です。これは、そのポートのlocalhostでUIにアクセスできるためです。</span> <span class="merged" id="all.1bKNAG.spl3" style='background-color:yellow' title="原文 : The default node port is 30090, this can be changed by setting a different port, e.g: --set prometheus.service.nodePort=9090.">デフォルトのノード・ポートは<code>30090</code>です。これは、別のポートを設定することで変更できます、例、: <code>--set prometheus.service.nodePort=9090</code>。</span> </p>

<p><span class="merged" id="all.3aGBZW" style='background-color:yellow' title="原文 : Assuming the default port of 30090 is used the UI can be reached on http://127.0.0.1:30090."><code>30090</code>のデフォルト・ポートが使用されている場合、UIは<a href="http://127.0.0.1:30090" id="" target="_blank" >http:// 127.0.0.1 :30090</a>でアクセスできます。</span></p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="prometheus ui empty" src="./images/images/prometheus-ui-empty.png" /> </v-card-text> </v-card>

<p><span class="merged" id="all.2rK5lb.spl1" style='background-color:yellow' title="原文 : After Prometheus has started up and is scraping metrics we should be able to see our custom metrics in the UI.">Prometheusが起動し、メトリクスがスクレイピングされた後、UIでカスタム・メトリクスを表示できます。</span> <span class="merged" id="all.2rK5lb.spl2" style='background-color:yellow' title="原文 : Type the metric name application:coherence_heap_usage_percentage_used in the expression box and click Execute and Prometheus should show two values for the metric, one for each Pod.">式ボックスにメトリック名<code>application:coherence_heap_usage_percentage_used</code>を入力し、<code>Execute</code>をクリックすると、Prometheusによってメトリックに2つの値が表示されます(<code>Pod</code>ごとに1つ)。</span> </p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="prometheus UIメトリクス" src="./images/images/prometheus-ui-metrics.png" /> </v-card-text> </v-card>

<p><span class="merged" id="all.VC70F" style='background-color:yellow' title="原文 : Prometheus is scraping many more Coherence metrics that can also be queried in the UI.">Prometheusは、UIでクエリーできる多くのCoherenceメトリクスをスクレイピングしています。</span></p>

</div>
</div>

<h3 id="_install_prometheus_adapter"><span class="merged" id="all.2Z7Szp" style='background-color:yellow' title="原文 : Install Prometheus Adapter">Prometheusアダプタのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.2DlPDi.spl1" style='background-color:yellow' title="原文 : The next step in the example is to install the Prometheus Adapter.">例の次のステップは、Prometheusアダプタをインストールすることです。</span> <span class="merged" id="all.2DlPDi.spl2" style='background-color:yellow' title="原文 : This is a custom metrics server that published metrics using the Kubernetes custom/metrics.k8s.io API.">これは、Kubernetes <code>custom/metrics.k8s.io</code> APIを使用してメトリクスを公開するカスタム・メトリクス・サーバーです。</span> <span class="merged" id="all.2DlPDi.spl3" style='background-color:yellow' title="原文 : This is required because the HPA cannot query metrics directly from Prometheus, only from standard Kubernetes metrics APIs.">これは、HPAが標準のKubernetesメトリクスAPIからのみ、Prometheusからメトリクスを直接クエリーできるため必要です。</span> <span class="merged" id="all.2DlPDi.spl4" style='background-color:yellow' title="原文 : As with Prometheus the simplest way to install the adapter is by using the Helm chart.">Prometheusと同様に、アダプタをインストールする最も簡単な方法は、Helmチャートを使用することです。</span> <span class="merged" id="all.2DlPDi.spl5" style='background-color:yellow' title="原文 : Before installing though we need to create the adapter configuration so that it can publish our custom metrics.">インストールする前に、カスタム・メトリクスを公開できるようにアダプタ構成を作成する必要があります。</span> </p>

<p><span class="merged" id="all.3Y7ZfR.spl1" style='background-color:yellow' title="原文 : The documentation for the adapter configuration is not the simplest to understand quickly.">アダプタ構成のドキュメントは、理解しやすいほど簡単ではありません。</span> <span class="merged" id="all.3Y7ZfR.spl2" style='background-color:yellow' title="原文 : On top of that the adapter documentation shows how to configure the adapter using a ConfigMap whereas the Helm chart adds the configuration to the Helm values file.">その最上部には、<code>ConfigMap</code>を使用してアダプタを構成する方法が示され、HelmチャートではHelm値ファイルに構成が追加されます。</span> </p>

<p><span class="merged" id="all.1gad1G" style='background-color:yellow' title="原文 : The basic format for configuring a metric in the adapter is as follows:">アダプタでメトリックを構成するための基本的な形式は次のとおりです:</span></p>

<pre
lang="yaml"

>- seriesQuery: 'application:coherence_heap_usage_percentage_used'   <span class="conum" data-value="1" />
  resources:
    overrides:   <span class="conum" data-value="2" />
      namespace: <span class="conum" data-value="3" />
        resource: "namespace"
      pod:   <span class="conum" data-value="4" />
        resource: "pod"
      role:  <span class="conum" data-value="5" />
        group: "coherence.oracle.com"
        resource: "coherence"
  name:
    matches: ""
    as: "heap_memory_usage_after_gc_pct"  <span class="conum" data-value="6" />
  metricsQuery: sum(&lt;&lt;.Series&gt;&gt;{&lt;&lt;.LabelMatchers&gt;&gt;}) by (&lt;&lt;.GroupBy&gt;&gt;)  <span class="conum" data-value="7" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.45zMIj.spl1" style='background-color:yellow' title="原文 : The seriesQuery is the name of the metric to be retrieved from Prometheus."><code>seriesQuery</code>は、Prometheusから取得されるメトリックの名前です。</span> <span class="merged" id="all.45zMIj.spl2" style='background-color:yellow' title="原文 : This is the same name used when querying in the UI.">これは、UIでのクエリー時に使用される名前と同じです。</span> <span class="merged" id="all.45zMIj.spl3" style='background-color:yellow' title="原文 : The name can be qualified further with tags/labels but in our case just the metric name is sufficient.">名前はタグ/ラベルでさらに修飾できますが、ここではメトリック名だけで十分です。</span> </li>
<li data-value="2"><span class="merged" id="all.3wYs7N" style='background-color:yellow' title="原文 : The overrides section matches metric labels to Kubernetes resources, which can be used in queries (more about this below)."><code>overrides</code>セクションは、メトリック・ラベルをKubernetesリソースと照合し、問合せで使用できます(詳細は、次のとおりです)。</span></li>
<li data-value="3"><span class="merged" id="all.2t9vIX" style='background-color:yellow' title="原文 : The metrics have a namespace label (as can be seen in the UI above) and this maps to a Kubernetes Namespace resource.">メトリクスには<code>namespace</code>ラベルがあり(前述のUIで表示可能)、これはKubernetes <code>Namespace</code>リソースにマップされます。</span></li>
<li data-value="4"><span class="merged" id="all.3rtew6" style='background-color:yellow' title="原文 : The metrics have a pod label (as can be seen in the UI above) and this maps to a Kubernetes Pod resource.">メトリクスには<code>pod</code>ラベルがあり(前述のUIで表示可能)、これはKubernetes <code>Pod</code>リソースにマップされます。</span></li>
<li data-value="5"><span class="merged" id="all.1LueQ7" style='background-color:yellow' title="原文 : The metrics have a role label (as can be seen in the UI above) and this maps to a Kubernetes coherence.coherence.oracle.com resource.">メトリクスには<code>role</code>ラベルがあり(前述のUIで表示可能)、これはKubernetes <code>coherence.coherence.oracle.com</code>リソースにマップされます。</span></li>
<li data-value="6"><span class="merged" id="all.3Wpqqd" style='background-color:yellow' title="原文 : The name.as field gives the name of the metric in the metrics API."><code>name.as</code>フィールドには、メトリクスAPIのメトリックの名前が表示されます。</span></li>
<li data-value="7"><span class="merged" id="all.2hIMiD" style='background-color:yellow' title="原文 : The metricsQuery determines how a specific metric will be fetched, in this case we are summing the values."><code>metricsQuery</code>は、特定のメトリックのフェッチ方法を決定します。この場合、値を合計します。</span></li>
</ul>
<p><span class="merged" id="all.1IG2BY.spl1" style='background-color:yellow' title="原文 : The configuration above will create a metric in the custom/metrics.k8s.io API named heap_memory_usage_after_gc_pct.">前述の構成では、heap_memory_usage_after_gc_pctという名前の<code>custom/metrics.k8s.io</code> APIにメトリックが作成されます。</span> <span class="merged" id="all.1IG2BY.spl2" style='background-color:yellow' title="原文 : This metric can be retrieved from the API for a namespace, for a Pod or for a Coherence deployment (the coherence.coherence.oracle.com resource).">このメトリックは、ポッドまたはCoherenceデプロイメント(<code>coherence.coherence.oracle.com</code>リソース)のネームスペースのAPIから取得できます。</span> <span class="merged" id="all.1IG2BY.spl3" style='background-color:yellow' title="原文 : This is why the metricsQuery uses sum, so that when querying for a metric at the namespace level we see the total summed up for the namespace.">このため、<code>metricsQuery</code>では<code>sum</code>が使用されるため、ネームスペース・レベルでメトリックをクエリーすると、ネームスペースの合計合計が表示されます。</span> </p>

<p><span class="merged" id="all.1hr6rp.spl1" style='background-color:yellow' title="原文 : Summing up the metric might not be the best approach.">メトリックの合計が最適ではない可能性があります。</span> <span class="merged" id="all.1hr6rp.spl2" style='background-color:yellow' title="原文 : Imagine that we want to scale when the heap after gc usage exceeds 80%.">gcの使用率が80%を超えた場合、ヒープをスケーリングする必要があるとします。</span> <span class="merged" id="all.1hr6rp.spl3" style='background-color:yellow' title="原文 : Ideally this is when any JVM heap in use after garbage collection exceeds 80%.">これは、ガベージ・コレクション後に使用されているJVMヒープが80%を超える場合に理想的です。</span> <span class="merged" id="all.1hr6rp.spl4" style='background-color:yellow' title="原文 : Whilst Coherence will distribute data evenly across the cluster so that each member holds a similar amount of data and has similar heap usage, there could be an occasion where one member for whatever reason is processing extra load and exceeds 80% before other members.">Coherenceでは、クラスタ間でデータを均等に分散して、各メンバーが同様の量のデータを保持し、ヒープ使用量が類似しているため、なんらかの理由で1つのメンバーが追加の負荷を処理し、他のメンバーより80%を超える場合があります。</span> </p>

<p><span class="merged" id="all.1fDUVC.spl1" style='background-color:yellow' title="原文 : One way to approach this issue is instead of summing the metric value for a namespace or coherence.coherence.oracle.com resource we can fetch the maximum value.">この問題へのアプローチの1つの方法は、ネームスペースまたは<code>coherence.coherence.oracle.com</code>リソースのメトリック値を合計するかわりに、最大値をフェッチできます。</span> <span class="merged" id="all.1fDUVC.spl2" style='background-color:yellow' title="原文 : We do this by changing the metricsQuery to use max as shown below:">これを行うには、<code>metricsQuery</code>を次のように<code>max</code>を使用するように変更します:</span> </p>

<pre
lang="yaml"

>- seriesQuery: 'application:coherence_heap_usage_percentage_used'
  resources:
    overrides:
      namespace:
        resource: "namespace"
      pod:
        resource: "pod"
      role:
        group: "coherence.oracle.com"
        resource: "coherence"
  name:
    matches: ""
    as: "heap_memory_usage_after_gc_max_pct"
  metricsQuery: max(&lt;&lt;.Series&gt;&gt;{&lt;&lt;.LabelMatchers&gt;&gt;}) by (&lt;&lt;.GroupBy&gt;&gt;)</pre>

<p><span class="merged" id="all.32lv0t" style='background-color:yellow' title="原文 : This is the same configuration as previously but now the metricsQuery uses the max function, and the metric name has been changed to heap_memory_usage_after_gc_max_pct so that it is obvious it is a maximum value.">これは以前と同じ構成ですが、<code>metricsQuery</code>では<code>max</code>関数が使用され、メトリック名が<code>heap_memory_usage_after_gc_max_pct</code>に変更されて、それが最大値であることが明らかになりました。</span></p>

<p><span class="merged" id="all.4B19gO" style='background-color:yellow' title="原文 : We can repeat the configuration above for the application:coherence_heap_usage_used metric too so that we will end up with four metrics in the custom/metrics.k8s.io API:"><code>application:coherence_heap_usage_used</code>メトリックについても前述の構成を繰り返して、<code>custom/metrics.k8s.io</code> APIで4つのメトリクスに終わります:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.1waqFW"  title="原文: heap_memory_usage_after_gc_max_pct"><code>heap_memory_usage_after_gc_max_pct</code></span></p>

</li>
<li>
<p><span class="merged" id="all.3VJiK0"  title="原文: heap_memory_usage_after_gc_pct"><code>heap_memory_usage_after_gc_pct</code></span></p>

</li>
<li>
<p><span class="merged" id="all.3CnLg4"  title="原文: heap_memory_usage_after_gc"><code>heap_memory_usage_after_gc</code></span></p>

</li>
<li>
<p><span class="merged" id="all.NCV6H"  title="原文: heap_memory_usage_after_gc_max"><code>heap_memory_usage_after_gc_max</code></span></p>

</li>
</ul>
<p><span class="merged" id="all.2sP7vq.spl1" style='background-color:yellow' title="原文 : The autoscaler example has a Prometheus Adapter Helm chart values file that contains the configuration for the four metrics.">autoscalerの例には、4つのメトリクスの構成を含むPrometheusアダプタHelmチャート値ファイルがあります。</span> <span class="merged" id="all.2sP7vq.spl2" style='background-color:yellow' title="原文 : This can be used to install the adapter Helm chart:">これを使用して、アダプタ<a href="https://hub.helm.sh/charts/prometheus-com/prometheus-adapter" id="" target="_blank" >Helmチャート</a>をインストールできます:</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.w4IIO.spl1" style='background-color:yellow' title="原文 : In the command below the --set prometheus.url=http://prometheus-prometheus-oper-prometheus.default.svc parameter tells the adapter how to connect to Prometheus."><code>--set prometheus.url=http://prometheus-prometheus-oper-prometheus.default.svc</code>パラメータの下のコマンドで、Prometheusへの接続方法をアダプタに指示します。</span> <span class="merged" id="all.w4IIO.spl2" style='background-color:yellow' title="原文 : The Prometheus Operator creates a Service named prometheus-prometheus-oper-prometheus to expose Prometheus.">Prometheusオペレータは、<code>prometheus-prometheus-oper-prometheus</code>という名前の<code>Service</code>を作成し、Prometheusを公開します。</span> <span class="merged" id="all.w4IIO.spl3" style='background-color:yellow' title="原文 : In this case the command assumes Prometheus is installed in the default namespace.">この場合、コマンドはPrometheusが<code>default</code>ネームスペースにインストールされていると想定します。</span> <span class="merged" id="all.w4IIO.spl4" style='background-color:yellow' title="原文 : If you installed Prometheus into a different namespace change the default part of prometheus-prometheus-oper-prometheus.default.svc to the actual namespace name.">Prometheusを別のネームスペースにインストールした場合は、<code>prometheus-prometheus-oper-prometheus.<strong>default</strong>.svc</code>の<code>default</code>部分を実際のネームスペース名に変更します。</span> </p>
</div>
<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.4BoM3x.spl1" style='background-color:yellow' title="原文 : The manifests/prometheus-adapter-values.yaml contains the configurations for metrics that the adapter will publish."><code>manifests/prometheus-adapter-values.yaml</code>には、アダプタが公開するメトリクスの構成が含まれます。</span> <span class="merged" id="all.4BoM3x.spl2" style='background-color:yellow' title="原文 : These work with Coherence Operator 3.1.0 and above.">これらは、Coherence Operator 3.1.0以上で動作します。</span> <span class="merged" id="all.4BoM3x.spl3" style='background-color:yellow' title="原文 : If using an earlier 3.0.x version the values file must first be edited to change all occurrences of resource: &quot;coherence&quot; to resource: &quot;coherence&quot; (to make the resource name singular).">以前の3.0.xバージョンを使用する場合、(リソース名を単数にするために)<code>resource: "coherence"</code>のすべての出現を<code>resource: "coherence"</code>に変更するには、最初に値ファイルを編集する必要があります。</span> </p>
</div>
<pre
lang="bash"

>helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
helm repo update

helm install --atomic --wait \
    --set prometheus.url=http://prometheus-prometheus-oper-prometheus.default.svc \
    --values manifests/prometheus-adapter-values.yaml \
    prometheus-adapter prometheus-community/prometheus-adapter</pre>


<h4 id="_query_custom_metrics"><span class="merged" id="all.1EXFFb" style='background-color:yellow' title="原文 : Query Custom Metrics">カスタム・メトリクスのクエリー</span></h4>
<div class="section">
<p><span class="merged" id="all.4KGNzK.spl1" style='background-color:yellow' title="原文 : Now the Prometheus adapter is running we can query metrics from the custom/metrics.k8s.io API using kubectl raw API access.">Prometheusアダプタが実行されているので、<code>kubectl</code> raw APIアクセスを使用して<code>custom/metrics.k8s.io</code> APIからメトリクスをクエリーできます。</span> <span class="merged" id="all.4KGNzK.spl2" style='background-color:yellow' title="原文 : This is the same API that the HPA will use to obtain metrics.">これは、HPAがメトリクスの取得に使用するAPIと同じです。</span> </p>

<p><span class="merged" id="all.3Dhbhd" style='background-color:yellow' title="原文 : If a Coherence cluster had been installed into the default namespace, then metrics could be fetched for all Pods in that specific namespace, for example to obtain the heap_memory_usage_after_gc_pct metric:">Coherenceクラスタが<code>default</code>ネームスペースにインストールされている場合、<code>heap_memory_usage_after_gc_pct</code>メトリックの取得など、その特定のネームスペース内のすべての<code>Pods</code>のメトリクスをフェッチできます:</span></p>

<pre
lang="bash"

>kubectl get --raw /apis/custom.metrics.k8s.io/v1beta1/namespaces/default/pods/*/heap_memory_usage_after_gc_pct</pre>

<p><span class="merged" id="all.21TVHz.spl1" style='background-color:yellow' title="原文 : The * after pods/ tells the adapter to fetch metrics for all Pods in the namespace."><code>pods/</code>の後の<code>*</code>は、ネームスペース内のすべての<code>Pods</code>のメトリクスをフェッチするようにアダプタに指示します。</span> <span class="merged" id="all.21TVHz.spl2" style='background-color:yellow' title="原文 : To fetch the metric for pods in another namespace change the default part of the URL to the namespace name.">別のネームスペースのポッドのメトリックをフェッチするには、URLの<code>default</code>部分をネームスペース名に変更します。</span> </p>

<p><span class="merged" id="all.20uw6r" style='background-color:yellow' title="原文 : If you have the jq utility installed that formats json then piping the output to jq will make it prettier.">jsonをフォーマットする<code>jq</code>ユーティリティがインストールされている場合、出力を<code>jq</code>にパイプすると、より適切になります。</span></p>

<pre
lang="bash"

>kubectl get --raw /apis/custom.metrics.k8s.io/v1beta1/namespaces/default/pods/*/heap_memory_usage_after_gc_pct | jq</pre>

<p><span class="merged" id="all.22Nilv" style='background-color:yellow' title="原文 : We could fetch a metric for a specific Pod in the default namespace, for example a Pod named test-cluster-1 as follows:">次のように、<code>test-cluster-1</code>という名前の<code>Pod</code>など、<code>default</code>ネームスペース内の特定の<code>Pod</code>のメトリックをフェッチできます:</span></p>

<pre
lang="bash"

>kubectl get --raw /apis/custom.metrics.k8s.io/v1beta1/namespaces/default/pods/test-cluster-1/heap_memory_usage_after_gc_pct</pre>

<p><span class="merged" id="all.3ACRQl" style='background-color:yellow' title="原文 : which might display something like:">次のように表示されます:</span></p>

<pre
lang="json"

>{
  "kind": "MetricValueList",
  "apiVersion": "custom.metrics.k8s.io/v1beta1",
  "metadata": {
    "selfLink": "/apis/custom.metrics.k8s.io/v1beta1/namespaces/coherence-test/pods/test-cluster-1/heap_memory_usage_after_gc_pct"
  },
  "items": [
    {
      "describedObject": {
        "kind": "Pod",
        "namespace": "operator-test",
        "name": "test-cluster-1",
        "apiVersion": "/v1"
      },
      "metricName": "heap_memory_usage_after_gc_pct",
      "timestamp": "2020-09-02T12:12:01Z",
      "value": "1300m",
      "selector": null
    }
  ]
}</pre>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.2C8ooU.spl1" style='background-color:yellow' title="原文 : The format of the value field above might look a little strange.">前述の<code>value</code>フィールドの書式は、少し奇妙に見える場合があります。</span> <span class="merged" id="all.2C8ooU.spl2" style='background-color:yellow' title="原文 : This is because it is a Kubernetes Quantity format, in this case it is 1300m where the m stand for millis.">これはKubernetes <code>Quantity</code>形式であるためで、この場合、<code>m</code>はmillisを表す<code>1300m</code>です。</span> <span class="merged" id="all.2C8ooU.spl3" style='background-color:yellow' title="原文 : So in this case 1300 millis is 1.3% heap usage.">したがって、この場合、1300ミリは1.3 %ヒープ使用量です。</span> <span class="merged" id="all.2C8ooU.spl4" style='background-color:yellow' title="原文 : This is to get around the poor support in yaml and json for accurate floating-point numbers.">これは、正確な浮動小数点数を得るために、yamlおよびjsonでの不十分なサポートを回避することです。</span> </p>
</div>
<p><span class="merged" id="all.424k39.spl1" style='background-color:yellow' title="原文 : In our case for auto-scaling we are interested in the maximum heap for a specific Coherence resource.">自動スケーリングの場合、特定の<code>Coherence</code>リソースの最大ヒープに関心があります。</span> <span class="merged" id="all.424k39.spl2" style='background-color:yellow' title="原文 : Remember in the Prometheus Adapter configuration we configured the role metric tag to map to coherence.coherence.oracle.com resources.">Prometheusアダプタ構成では、<code>coherence.coherence.oracle.com</code>リソースにマップするために<code>role</code>メトリック・タグを構成しました。</span> <span class="merged" id="all.424k39.spl3" style='background-color:yellow' title="原文 : We also configured a query that will give back the maximum heap usage value for a query.">クエリーの最大ヒープ使用量値を戻すクエリーも構成しました。</span> </p>

<p><span class="merged" id="all.3Qcn06.spl1" style='background-color:yellow' title="原文 : The example yaml used to deploy the Coherence resource above will create a resource named test-cluster.">前述の<code>Coherence</code>リソースのデプロイに使用される例yamlでは、<code>test-cluster</code>というリソースが作成されます。</span> <span class="merged" id="all.3Qcn06.spl2" style='background-color:yellow' title="原文 : If we installed this into the default Kubernetes namespace then we can fetch the maximum heap use after gc for the Pods in that Coherence deployment as follows:">これを<code>default</code> Kubernetesネームスペースにインストールした場合、その<code>Coherence</code>デプロイメントの<code>Pods</code>のgc以降の最大ヒープ使用量を次のようにフェッチできます:</span> </p>

<pre
lang="bash"

>kubectl get --raw /apis/custom.metrics.k8s.io/v1beta1/namespaces/default/coherence.coherence.oracle.com/test-cluster/heap_memory_usage_after_gc_max_pct</pre>

<p><span class="merged" id="all.3ACRQl.1" style='background-color:yellow' title="原文 : which might display something like:">次のように表示されます:</span></p>

<pre
lang="json"

>{
  "kind": "MetricValueList",
  "apiVersion": "custom.metrics.k8s.io/v1beta1",
  "metadata": {
    "selfLink": "/apis/custom.metrics.k8s.io/v1beta1/namespaces/operator-test/coherence.coherence.oracle.com/test-cluster/heap_memory_usage_after_gc_max_pct"
  },
  "items": [
    {
      "describedObject": {
        "kind": "Coherence",
        "namespace": "operator-test",
        "name": "test-cluster",
        "apiVersion": "coherence.oracle.com/v1"
      },
      "metricName": "heap_memory_usage_after_gc_max_pct",
      "timestamp": "2020-09-02T12:21:02Z",
      "value": "3300m",
      "selector": null
    }
  ]
}</pre>

</div>
</div>

<h3 id="_configure_the_horizontal_pod_autoscaler"><span class="merged" id="all.34zN9v" style='background-color:yellow' title="原文 : Configure The Horizontal Pod autoscaler">水平ポッド自動スケーラの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.BroZd.spl1" style='background-color:yellow' title="原文 : Now that we have custom metrics in the Kubernets custom.metrics.k8s.io API, the final piece is to add the HPA configuration for the Coherence deployment that we want to scale.">Kubernets <code>custom.metrics.k8s.io</code> APIにカスタム・メトリクスが含まれるようになったため、最後の部分は、スケーリングするCoherenceデプロイメントのHPA構成を追加することです。</span> <span class="merged" id="all.BroZd.spl2" style='background-color:yellow' title="原文 : To configure the HPA we need to create a HorizontalPodautoscaler resource for each Coherence deployment in the same namespace as we deployed the Coherence deployment to.">HPAを構成するには、Coherenceデプロイメントのデプロイ先と同じネームスペースで、Coherenceデプロイメントごとに<code>HorizontalPodautoscaler</code>リソースを作成する必要があります。</span> </p>

<p><span class="merged" id="all.1AKAA7" style='background-color:yellow' title="原文 : Below is an example HorizontalPodautoscaler resource that will scale our example Coherence deployment:">次に、サンプルのCoherenceデプロイメントをスケーリングする<code>HorizontalPodautoscaler</code>リソースの例を示します:</span></p>

<pre
lang="yaml"
title="hpa.yaml"
>apiVersion: autoscaling/v2beta2
kind: HorizontalPodautoscaler
metadata:
  name: test-cluster-hpa
spec:
  scaleTargetRef:                         <span class="conum" data-value="1" />
    apiVersion: coherence.oracle.com/v1
    kind: Coherence
    name: test-cluster
  minReplicas: 2         <span class="conum" data-value="2" />
  maxReplicas: 5
  metrics:               <span class="conum" data-value="3" />
  - type: Object
    object:
      describedObject:
        apiVersion: coherence.oracle.com/v1
        kind: Coherence
        name: test-cluster
      metric:
        name: heap_memory_usage_after_gc_max_pct  <span class="conum" data-value="4" />
      target:
        type: Value       <span class="conum" data-value="5" />
        value: 80
  behavior:                             <span class="conum" data-value="6" />
    scaleUp:
      stabilizationWindowSeconds: 120
    scaleDown:
      stabilizationWindowSeconds: 120</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.1lWu6r.spl1" style='background-color:yellow' title="原文 : The scaleTargetRef points to the resource that the HPA will scale."><code>scaleTargetRef</code>は、HPAがスケーリングするリソースを指します。</span> <span class="merged" id="all.1lWu6r.spl2" style='background-color:yellow' title="原文 : In this case it is our Coherence deployment which is named test-cluster.">この場合、<code>test-cluster</code>という名前の<code>Coherence</code>デプロイメントです。</span> <span class="merged" id="all.1lWu6r.spl3" style='background-color:yellow' title="原文 : The apiVersion and kind fields match those in the Coherence resource."><code>apiVersion</code>および<code>kind</code>フィールドは、<code>Coherence</code>リソースのフィールドと一致します。</span> </li>
<li data-value="2"><span class="merged" id="all.1o38R0" style='background-color:yellow' title="原文 : For this example, the Coherence deployment will have a minimum of 2 replicas and a maximum of 5, so the HPA will not scale up too much.">この例では、Coherenceデプロイメントには最低2つのレプリカと最大5のレプリカがあるため、HPAはスケール・アップしすぎません。</span></li>
<li data-value="3"><span class="merged" id="all.e7bFu.spl1" style='background-color:yellow' title="原文 : The metrics section in the yaml above tells the HPA how to query our custom metric.">前述のyamlの<code>metrics</code>セクションは、カスタム・メトリックのクエリー方法をHPAに伝えます。</span> <span class="merged" id="all.e7bFu.spl2" style='background-color:yellow' title="原文 : In this case we want to query the single max usage value metric for the Coherence deployment (like we did manually when using kubectl above).">この場合、<code>Coherence</code>デプロイメントの単一の最大使用値メトリックをクエリーします(前述のkubectlの使用時に手動で行ったように)。</span> <span class="merged" id="all.e7bFu.spl3" style='background-color:yellow' title="原文 : To do this we add a metric with a type of Object.">これを行うには、<code>type</code>が<code>Object</code>のメトリックを追加します。</span> <span class="merged" id="all.e7bFu.spl4" style='background-color:yellow' title="原文 : The describedObject section describes the resource to query, in this case kind Coherence in resource group coherence.oracle.com with the name test-cluster."><code>describedObject</code>セクションでは、クエリー対象のリソースについて説明します。この場合、リソース・グループ<code>coherence.oracle.com</code>の<code>Coherence</code>は<code>test-cluster</code>という名前です。</span> </li>
<li data-value="4"><span class="merged" id="all.RZPL6" style='background-color:yellow' title="原文 : The metric name to query is our custom max heap usage percentage metric heap_memory_usage_after_gc_max_pct.">クエリーするメトリック名は、カスタムの最大ヒープ使用率メトリック<code>heap_memory_usage_after_gc_max_pct</code>です。</span></li>
<li data-value="5"><span class="merged" id="all.2oX8a2" style='background-color:yellow' title="原文 : The target section describes the target value for the metric, in this case 80 thousand millis - which is 80%."><code>target</code>セクションには、メトリックのターゲット値(この場合は80千ミリ)が説明されています - 80%です。</span></li>
<li data-value="6"><span class="merged" id="all.2312zO.spl1" style='background-color:yellow' title="原文 : The behavior section sets a window of 120 seconds so that the HAP will wait at least 120 seconds after scaling up or down before re-evaluating the metric."><code>behavior</code>セクションは、120秒のウィンドウを設定して、HAPがスケール・アップまたはスケール・ダウンしてからメトリックを再評価するまで、少なくとも120秒待つようにします。</span> <span class="merged" id="all.2312zO.spl2" style='background-color:yellow' title="原文 : This gives Coherence enough time to scale the deployment and for the data to redistribute and gc to occur.">これにより、Coherenceではデプロイメントのスケーリングに十分な時間がかかり、データの再分散とgcの実行に十分な時間がかかります。</span> <span class="merged" id="all.2312zO.spl3" style='background-color:yellow' title="原文 : In real life this value would need to be adjusted to work correctly on your actual cluster.">実際には、実際のクラスタで正しく動作するようにこの値を調整する必要があります。</span> </li>
</ul>
<p><span class="merged" id="all.salzU" style='background-color:yellow' title="原文 : The autoscaler example contains yaml to create the HorizontalPodautoscaler resource in the manifests/ directory.">autoscalerの例には、<code>manifests/</code>ディレクトリに<code>HorizontalPodautoscaler</code>リソースを作成するためのyamlが含まれています。</span></p>

<pre
lang="bash"

>kubectl create -f manifests/hpa.yaml</pre>

<p><span class="merged" id="all.28goWH.spl1" style='background-color:yellow' title="原文 : The hpa.yaml file will create a HorizontalPodautoscaler resource named test-cluster-hpa."><code>hpa.yaml</code>ファイルは、<code>test-cluster-hpa</code>という名前の<code>HorizontalPodautoscaler</code>リソースを作成します。</span> <span class="merged" id="all.28goWH.spl2" style='background-color:yellow' title="原文 : After waiting a minute or two for the HPA to get around to polling our new HorizontalPodautoscaler resource we can check its status.">HPAが新しい<code>HorizontalPodautoscaler</code>リソースをポーリングするまで1分または2分待った後、ステータスを確認できます。</span> </p>

<pre
lang="bash"

>kubectl describe horizontalpodautoscaler.autoscaling/test-cluster-hpa</pre>

<p><span class="merged" id="all.1yRZSh" style='background-color:yellow' title="原文 : Which should show something like:">次のようなものが表示されます:</span></p>

<pre
lang="bash"

>Name:                                                                             test-cluster-hpa
Namespace:                                                                        operator-test
Labels:                                                                           &lt;none&gt;
Annotations:                                                                      &lt;none&gt;
CreationTimestamp:                                                                Wed, 02 Sep 2020 15:58:26 +0300
Reference:                                                                        Coherence/test-cluster
Metrics:                                                                          ( current / target )
  "heap_memory_usage_after_gc_max_pct" on Coherence/test-cluster (target value):  3300m / 80
Min replicas:                                                                     2
Max replicas:                                                                     10
Coherence pods:                                                                   2 current / 2 desired
Conditions:
  Type            Status  Reason               Message
  ----            ------  ------               -------
  AbleToScale     True    ScaleDownStabilized  recent recommendations were higher than current one, applying the highest recent recommendation
  ScalingActive   True    ValidMetricFound     the HPA was able to successfully calculate a replica count from Coherence metric heap_memory_usage_after_gc_max_pct
  ScalingLimited  False   DesiredWithinRange   the desired count is within the acceptable range
Events:           &lt;none&gt;</pre>

<p><span class="merged" id="all.3IR4Ps" style='background-color:yellow' title="原文 : We can see that the HPA has successfully polled the metric and obtained a value of 3300m (so 3.3%) and has decided that it does not need to scale.">HPAがメトリックを正常にポーリングし、<code>3300m</code>の値(3.3 %)を取得したことがわかります。また、スケーリングする必要がないと判断しました。</span></p>

</div>

<h3 id="_add_data_scale_up"><span class="merged" id="all.2qkNzT" style='background-color:yellow' title="原文 : Add Data - Scale Up!">データの追加 - スケール・アップ!</span></h3>
<div class="section">
<p><span class="merged" id="all.412zl.spl1" style='background-color:yellow' title="原文 : The HPA is now monitoring our Coherence deployment so we can now add data to the cluster and see the HPA scale up when heap use grows.">HPAは現在、Coherenceデプロイメントをモニタリングしているため、クラスタにデータを追加し、ヒープ使用量が増加するとHPAスケール・アップすることができるようになりました。</span> <span class="merged" id="all.412zl.spl2" style='background-color:yellow' title="原文 : The autoscaler example Maven pom file has been configured to use the Maven exec plugin to execute a Coherence command line client that will connect over Coherence Extend to the demo cluster that we have deployed.">autoscaler例のMaven pomファイルは、Maven execプラグインを使用して、Coherence Extendを介してデプロイしたデモ・クラスタに接続するCoherenceコマンドライン・クライアントを実行するように構成されています。</span> </p>

<p><span class="merged" id="all.15ws0F.spl1" style='background-color:yellow' title="原文 : First we need to create a port forwarder to expose the Coherence Extend port locally.">最初に、Coherence Extendポートをローカルに公開するポート・フォワーダを作成する必要があります。</span> <span class="merged" id="all.15ws0F.spl2" style='background-color:yellow' title="原文 : Extend is bound to port 20000 in the Pods in our example.">拡張は、この例では<code>Pods</code>のポート20000にバインドされています。</span> </p>

<pre
lang="bash"

>kubectl port-forward pod/test-cluster-0 20000:20000</pre>

<p><span class="merged" id="all.3nIv3z" style='background-color:yellow' title="原文 : The command above forwards port 20000 in the Pod test-cluster-0 to the local port 20000.">上のコマンドは、<code>Pod</code> <code>test-cluster-0</code>のポート20000をローカル・ポート20000に転送します。</span></p>

<p><span class="merged" id="all.brIzT" style='background-color:yellow' title="原文 : To start the client, run the following command in a terminal:">クライアントを起動するには、端末で次のコマンドを実行します:</span></p>

<pre
lang="bash"

>./mvnw exec:java -pl autoscaler/</pre>

<p><span class="merged" id="all.10sVpB" style='background-color:yellow' title="原文 : The command above will start the console client and eventually display a Map (?): prompt.">前述のコマンドはコンソール・クライアントを起動し、最終的に<code>Map (?):</code>プロンプトを表示します。</span></p>

<p><span class="merged" id="all.36Dv0k" style='background-color:yellow' title="原文 : At the map prompt, first create a cache named test with the cache command, type cache test and hit enter:">マップ・プロンプトで、最初に<code>cache</code>コマンドで<code>test</code>という名前のキャッシュを作成し、<code>cache test</code>と入力してEnterを押します:</span></p>

<pre
lang="bash"

>Map (?): cache test</pre>

<p><span class="merged" id="all.2jiXcm.spl1" style='background-color:yellow' title="原文 : There will now be a cache created in the cluster named test, and the map prompt will change to Map (test):.">クラスタに<code>test</code>というキャッシュが作成され、マップ・プロンプトが<code>Map (test):</code>に変更されます。</span> <span class="merged" id="all.2jiXcm.spl2" style='background-color:yellow' title="原文 : We can add random data to this with the bulkput command."><code>bulkput</code>コマンドを使用して、ランダム・データをこれに追加できます。</span> <span class="merged" id="all.2jiXcm.spl3" style='background-color:yellow' title="原文 : The format of the bulkput command is:"><code>bulkput</code>コマンドの書式は次のとおりです:</span> </p>

<pre
lang="bash"

>bulkput &lt;# of iterations&gt; &lt;block size&gt; &lt;start key&gt; [&lt;batch size&gt; | all]</pre>

<p><span class="merged" id="all.462iXk" style='background-color:yellow' title="原文 : So to add 20,000 entries of 10k bytes each starting at key 1 adding in batches of 1000 we can run the bulkput 20000 10000 1 1000 command at the map prompt:">そのため、キー<code>1</code>から開始する10kバイトの20,000エントリを追加し、1000のバッチで追加するには、マップ・プロンプトで<code>bulkput 20000 10000 1 1000</code>コマンドを実行できます:</span></p>

<pre
lang="bash"

>Map (test): bulkput 20000 10000 1 1000</pre>

<p><span class="merged" id="all.4ZYgh9" style='background-color:yellow' title="原文 : We can now look at the HorizontalPodautoscaler resource we create earlier with the command:">前に作成した<code>HorizontalPodautoscaler</code>リソースをコマンドで確認できます:</span></p>

<pre
lang="bash"

>kubectl get horizontalpodautoscaler.autoscaling/test-cluster-hpa</pre>

<p><span class="merged" id="all.3iiwry" style='background-color:yellow' title="原文 : Which will display something like:">次のように表示されます:</span></p>

<pre
lang="bash"

>NAME               REFERENCE                TARGETS     MINPODS   MAXPODS   REPLICAS   AGE
test-cluster-hpa   Coherence/test-cluster   43700m/80   2         10        2          41m</pre>

<p><span class="merged" id="all.2wSsXj.spl1" style='background-color:yellow' title="原文 : The HPA is now saying that the value of our heap use metric is 43.7%, so we can add a bit more data.">HPAは、ヒープ使用メトリックの値が43.7 %であるため、もう少しデータを追加できます。</span> <span class="merged" id="all.2wSsXj.spl2" style='background-color:yellow' title="原文 : It may take a minute or two for the heap to increase and stabilise as different garbage collections happen across the Pods.">ポッド間で異なるガベージ・コレクションが発生したときにヒープが増加および安定するには、1分または2分かかる場合があります。</span> <span class="merged" id="all.2wSsXj.spl3" style='background-color:yellow' title="原文 : We should be able to safely add another 20000 entries putting the heap above 80% and hopefully scaling our deployment.">ヒープが80%を超え、デプロイメントを適切に拡張できる別の2000エントリを追加できるはずです。</span> </p>

<p><span class="merged" id="all.3oE1OP" style='background-color:yellow' title="原文 : We need to change the third parameter to bulk put to 20000 otherwise the put will start again at key 1 and just overwrite the previous entries, not really adding to the heap.">3番目のパラメータを一括して20000に変更する必要があります。変更しない場合、putはキー<code>1</code>で再度開始し、単に以前のエントリを上書きします。ヒープには実際に追加しません。</span></p>

<pre
lang="bash"

>Map (test): bulkput 20000 10000 20000 1000</pre>

<p><span class="merged" id="all.3eVlGd.spl1" style='background-color:yellow' title="原文 : Now run the kubectl describe command on the HorizontalPodautoscaler resource again, and we should see that it has scaled our cluster."><code>HorizontalPodautoscaler</code>リソースで<code>kubectl describe</code>コマンドを再度実行すると、クラスタがスケーリングされたことがわかります。</span> <span class="merged" id="all.3eVlGd.spl2" style='background-color:yellow' title="原文 : If another 20,000 entries does not cause the heap to exceed 80% then you may need to run the bulkput command once or twice more with a smaller number of entries to push the heap over 80%.">別の20,000エントリによってヒープが80%を超えない場合、<code>bulkput</code>コマンドを1回または2回以上実行して、ヒープを80%以上プッシュする必要があります。</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.4Rlbu.spl1" style='background-color:yellow' title="原文 : As previously mentioned, everything with HPA is slightly delayed due to the different components polling, and stabilization times.">前述したように、HPAのすべてが、様々なコンポーネントのポーリングおよび安定化時間が原因で若干遅れています。</span> <span class="merged" id="all.4Rlbu.spl2" style='background-color:yellow' title="原文 : It could take a few minutes for the HPA to actually scale the cluster.">HPAが実際にクラスタをスケーリングするには、数分かかる場合があります。</span> </p>
</div>
<pre
lang="bash"

>kubectl describe horizontalpodautoscaler.autoscaling/test-cluster-hpa</pre>

<p><span class="merged" id="all.3JU24O" style='background-color:yellow' title="原文 : The output of the kubectl describe command should now be something like this:"><code>kubectl describe</code>コマンドの出力は次のようになります:</span></p>

<pre
lang="bash"

>Name:                                                                             test-cluster-hpa
Namespace:                                                                        operator-test
Labels:                                                                           &lt;none&gt;
Annotations:                                                                      &lt;none&gt;
CreationTimestamp:                                                                Wed, 02 Sep 2020 15:58:26 +0300
Reference:                                                                        Coherence/test-cluster
Metrics:                                                                          ( current / target )
  "heap_memory_usage_after_gc_max_pct" on Coherence/test-cluster (target value):  88300m / 80
Min replicas:                                                                     2
Max replicas:                                                                     10
Coherence pods:                                                                   2 current / 3 desired
Conditions:
  Type            Status  Reason              Message
  ----            ------  ------              -------
  AbleToScale     True    SucceededRescale    the HPA controller was able to update the target scale to 3
  ScalingActive   True    ValidMetricFound    the HPA was able to successfully calculate a replica count from Coherence metric heap_memory_usage_after_gc_max_pct
  ScalingLimited  False   DesiredWithinRange  the desired count is within the acceptable range
Events:
  Type    Reason             Age   From                       Message
  ----    ------             ----  ----                       -------
  Normal  SuccessfulRescale  1s    horizontal-pod-autoscaler  New size: 3; reason: Coherence metric heap_memory_usage_after_gc_max_pct above target</pre>

<p><span class="merged" id="all.4Xm02M.spl1" style='background-color:yellow' title="原文 : We can see that the heap use value is now 88300m or 88.3% and the events section shows that the HPA has scaled the Coherence deployment to 3.">ヒープ使用値が<code>88300m</code>または88.3 %になったことがわかります。また、イベント・セクションには、HPAが<code>Coherence</code>デプロイメントを<code>3</code>にスケーリングしたことが示されます。</span> <span class="merged" id="all.4Xm02M.spl2" style='background-color:yellow' title="原文 : We can list the Pods and there should be three:"><code>Pods</code>をリストでき、次の3つがあります:</span> </p>

<pre
lang="bash"

>kubectl get pod -l coherenceCluster=test-cluster</pre>

<pre
lang="bash"

>NAME             READY   STATUS    RESTARTS   AGE
test-cluster-0   1/1     Running   0          3h14m
test-cluster-1   1/1     Running   0          3h14m
test-cluster-2   1/1     Running   0          1m10s</pre>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.29gOt1.spl1" style='background-color:yellow' title="原文 : At this point Coherence will redistribute data to balance it over the three members of the cluster.">この時点で、Coherenceはデータの再分散を行い、クラスタの3つのメンバーに分散します。</span> <span class="merged" id="all.29gOt1.spl2" style='background-color:yellow' title="原文 : It may be that it takes considerable time for this to affect the heap usage as a lot of the cache data will be in the old generation of the heap and not be immediately collected.">多数のキャッシュ・データが古い世代のヒープに存在し、すぐに収集されないため、ヒープ使用量に影響を与えるにはかなりの時間がかかる場合があります。</span> <span class="merged" id="all.29gOt1.spl3" style='background-color:yellow' title="原文 : This may then trigger another scale after the 120 second stabilization period that we configured in the HorizontalPodautoscaler.">これにより、<code>HorizontalPodautoscaler</code>で構成した120秒の安定化期間後に別のスケールがトリガーされる場合があります。</span> </p>
</div>
</div>

<h3 id="_clean_up"><span class="merged" id="all.GvSAu.1" style='background-color:yellow' title="原文 : Clean-Up">クリーンアップ</span></h3>
<div class="section">
<p><span class="merged" id="all.3AWF56" style='background-color:yellow' title="原文 : To clean-up after running the example just uninstall everything in the reverse order:">例の実行後にクリーンアップするには、逆順ですべてをアンインストールします:</span></p>

<pre
lang="bash"

>kubectl delete -f manifests/hpa.yaml
helm delete prometheus-adapter
helm delete prometheus
kubectl delete -f manifests/cluster.yaml</pre>

<p><span class="merged" id="all.1Zc3CV" style='background-color:yellow' title="原文 : Remove the Prometheus RBAC rules, remembering to change the namespace name.">Prometheus RBACルールを削除します。ネームスペース名を変更することを忘れないでください。</span></p>

<pre
lang="bash"

>sed "s/coherence-example/default/g"  manifests/prometheus-rbac.yaml | kubectl delete -f -</pre>

<p><span class="merged" id="all.3OUUA3" style='background-color:yellow' title="原文 : Delete the Coherence deployment.">Coherenceデプロイメントを削除します。</span></p>

<pre
lang="bash"

>kubectl delete manifests/cluster.yaml</pre>

<p><span class="merged" id="all.2uFs7s.spl1" style='background-color:yellow' title="原文 : Undeploy the Operator.">オペレータをアンデプロイします。</span> <span class="merged" id="all.2uFs7s.spl2" style='background-color:yellow' title="原文 : TBD…​">TBD…​</span> </p>

</div>
</div>

<h2 id="_conclusions"><span class="merged" id="all.1TDrwk"  title="原文:: Conclusions">結論</span></h2>
<div class="section">
<p><span class="merged" id="all.2fB6Ox.spl1" style='background-color:yellow' title="原文 : As we’ve shown, it is possible to use the HPA to scale a Coherence cluster based on metrics published by Coherence or custom metrics, but there are some obvious caveats due to how HPA works.">ここに示すとおり、HPAを使用して、Coherenceまたはカスタム・メトリクスによって公開されたメトリクスに基づいてCoherenceクラスタをスケーリングすることは可能ですが、HPAの動作が原因で明らかな注意事項があります。</span> <span class="merged" id="all.2fB6Ox.spl2" style='background-color:yellow' title="原文 : There are inherent delays in the scaling process, the HPA only polls metrics periodically, which themselves have been polled by Prometheus periodically and hence there can be some delay after reaching a given heap size before the scale command actually reaches the Coherence Operator.">スケーリング・プロセスには本質的な遅延があり、HPAはメトリクスを定期的にポーリングするのみであり、それ自体はPrometheusによって定期的にポーリングされるため、scaleコマンドが実際にCoherence Operatorに到達する前に、特定のヒープ・サイズに達すると少し遅くなる可能性があります。</span> <span class="merged" id="all.2fB6Ox.spl3" style='background-color:yellow' title="原文 : This will be obvious when running the example below.">これは、次の例を実行するときに明らかになります。</span> <span class="merged" id="all.2fB6Ox.spl4" style='background-color:yellow' title="原文 : Given a suitable configuration the HPA can be useful to scale as load increases but in no way can it guarantee that an out of memory exception will never happen.">適切な構成の場合、HPAは負荷の増加に応じてスケーリングするのに役立ちますが、メモリー不足例外が発生しないことを保証することはできません。</span> </p>

<p><span class="merged" id="all.3i8p9B" style='background-color:yellow' title="原文 : Using the HPA to scale as Coherence Pod’s heaps become filled is in no way an excuse not to do proper capacity planning and size your Coherence clusters appropriately.">HPAを使用してCoherence Podのヒープがいっぱいになるにつれてスケーリングすることは、適切な容量計画を行わない言い訳でもなく、Coherenceクラスタを適切にサイズ設定してください。</span></p>

</div>
</doc-view>
<!-- pages/examples/300_helm/README.js -->
<doc-view>

<h2 id="_manage_coherence_resources_using_helm"><span class="merged" id="all.2bRZ7e" style='background-color:yellow' title="原文 : Manage Coherence Resources using Helm">Helmを使用したCoherenceリソースの管理</span></h2>
<div class="section">
<p><span class="merged" id="all.3nsup9.spl1" style='background-color:yellow' title="原文 : Occasionally there is a requirement to manage Coherence resources using Helm instead of Kubernetes tools such as kubectl."><code>kubectl</code>などのKubernetesツールのかわりにHelmを使用してCoherenceリソースを管理する必要がある場合があります。</span> <span class="merged" id="all.3nsup9.spl2" style='background-color:yellow' title="原文 : There is no Helm chart for a Coherence resource as it is a single resource and any Helm chart and values file would need to replicate the entire Coherence CRD if it was to be of generic enough use for everyone.">Coherenceリソースは1つのリソースであるため、Helmチャートはありません。Helmチャートおよび値ファイルは、すべてのユーザーにとって十分な汎用的な使用である場合に、Coherence CRD全体をレプリケートする必要があります。</span> <span class="merged" id="all.3nsup9.spl3" style='background-color:yellow' title="原文 : For this reason, anyone wanting to manage Coherence resource using Helm will need to create their own chart, which can then be specific to their needs.">このため、Helmを使用してCoherenceリソースを管理したい人は、独自のチャートを作成する必要があります。チャートは、必要に応じて固有のものにできます。</span> </p>

<p><span class="merged" id="all.Dy8kq" style='background-color:yellow' title="原文 : This example shows some ways that Helm can be used to manage Coherence resources.">この例では、Helmを使用してCoherenceリソースを管理する方法を示します。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.11"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.2H6jHC" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/300_helm" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>

<h3 id="_a_simple_generic_helm_chart"><span class="merged" id="all.4Za4iQ" style='background-color:yellow' title="原文 : A Simple Generic Helm Chart">単純な汎用Helmチャート</span></h3>
<div class="section">
<p><span class="merged" id="all.akQOP.spl1" style='background-color:yellow' title="原文 : This example contains the most basic Helm chart possible to support managing a Coherence resource locate in the chart/ directory.">この例では、<code>chart/</code>ディレクトリでのCoherenceリソース・ロケーションの管理をサポートできる最も基本的なHelmチャートが含まれています。</span> <span class="merged" id="all.akQOP.spl2" style='background-color:yellow' title="原文 : The chart is actually completely generic and would support any configuration of Coherence resource.">チャートは実際には完全に汎用的で、Coherenceリソースの構成をサポートします。</span> </p>

<p><span class="merged" id="all.3zWMbD" style='background-color:yellow' title="原文 : The values file contains a single value spec, which will contain the entire spec of the Coherence resource.">値ファイルには、1つの値<code>spec</code>が含まれており、これにはCoherenceリソースの仕様全体が含まれます。</span></p>

<pre
lang="yaml"
title="chart/values.yaml"
>spec:</pre>

<p><span class="merged" id="all.2cTkl1" style='background-color:yellow' title="原文 : There is a single template file, as we only create a single Coherence resource.">単一のCoherenceリソースのみを作成するため、1つのテンプレート・ファイルがあります。</span></p>

<span v-pre><div class="markup-container"><div class="block-title"><span class="merged" id="all.ic2CV" style='background-color:yellow' title="原文 : test-cluster.yaml"><span>test-cluster.yaml</span></span></div><div data-lang="yaml" class="markup"><pre><code class="yaml hljs makefile">apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: {{ .Release.Name }}
  namespace: {{ .Release.Namespace }}
  labels:
{{- include "coherence-labels" . | indent 4 }}
spec:
{{- if .Values.spec }}
{{ toYaml .Values.spec | indent 2 }}
{{- end }}</code></pre><div class="markup__copy"><span class="merged" id="all.33w43w" style='background-color:yellow' title="原文 : content_copyCopied"><i aria-hidden="true" class="material-icons icon">content_copy</i> <span class="markup__copy__message">「コピー済」</span></span></div></div></div></span>

<p><span class="merged" id="all.3w2GC9" style='background-color:yellow' title="原文 : The first part of the template is fairly standard for a Helm chart, we configure the resource name, namespace and add some labels.">テンプレートの最初の部分は、Helmチャートではかなり標準で、リソース名、ネームスペースを構成し、ラベルを追加します。</span></p>

<p><span class="merged" id="all.Ihyci.spl1" style='background-color:yellow' title="原文 : The generic nature of the chart comes from the fact that the template then just takes the whole spec value from the values file, and if it is not null converts it to yaml under the spec: section of the template.">チャートの一般的な性質は、テンプレートが値ファイルから<code>spec</code>値全体を取得したという事実から得られ、それが<code>null</code>でない場合は、テンプレートの<code>spec:</code>セクションの下のyamlに変換されます。</span> <span class="merged" id="all.Ihyci.spl2" style='background-color:yellow' title="原文 : This means that any yaml that is valid in a Coherence CRD spec section can be used in a values file (or with --set arguments) when installing the chart.">つまり、Coherence CRD <code>spec</code>セクションで有効なyamlは、チャートのインストール時に値ファイル(または<code>--set</code>引数)で使用できます。</span> </p>

</div>

<h3 id="_installing_the_chart"><span class="merged" id="all.3sFavt" style='background-color:yellow' title="原文 : Installing the Chart">チャートのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.2w5M53.spl1" style='background-color:yellow' title="原文 : Installing the example Helm chart is as simple as any other chart.">Helmチャートの例のインストールは、他のチャートと同じくらい簡単です。</span> <span class="merged" id="all.2w5M53.spl2" style='background-color:yellow' title="原文 : One difference here being that the chart is not installed into a chart repository so has to be installed from the char/ directory.">ここで違いは、チャートがチャート・リポジトリにインストールされないため、<code>char/</code>ディレクトリからインストールする必要がある点です。</span> <span class="merged" id="all.2w5M53.spl3" style='background-color:yellow' title="原文 : If you wanted to you could">次の操作を実行</span> </p>

<div class="admonition note">
<p class="admonition-inline"><span class="merged" id="all.YqX4x.spl1" style='background-color:yellow' title="原文 : The following commands are all run from the examples/helm directory so that the chart location is specified as ./chart.">次のコマンドはすべて<code>examples/helm</code>ディレクトリから実行され、チャートのロケーションが<code>./chart</code>として指定されます。</span> <span class="merged" id="all.YqX4x.spl2" style='background-color:yellow' title="原文 : You can run the commands from anywhere, but you would need to specify the full path to the example chart directory.">任意の場所からコマンドを実行できますが、サンプル・チャート・ディレクトリのフルパスを指定する必要があります。</span> </p>
</div>

<h4 id="_a_simple_dry_run"><span class="merged" id="all.22uXpM" style='background-color:yellow' title="原文 : A Simple Dry Run">シンプルなドライ・ラン</span></h4>
<div class="section">
<p><span class="merged" id="all.1NOkQt" style='background-color:yellow' title="原文 : To start with we will do a simple dry-run install that will display the yaml Helm would have created if the install command had been real.">最初に、インストール・コマンドが実在した場合にyaml Helmが作成したことを示す単純なドライ・ラン・インストールを実行します。</span></p>

<pre
lang="bash"

>helm  install test ./chart --dry-run</pre>

<p><span class="merged" id="all.4g58SW" style='background-color:yellow' title="原文 : The above command should result in the following output">前述のコマンドを実行すると、次の出力になります</span></p>

<pre


>NAME: test
LAST DEPLOYED: Sat Aug 28 16:30:53 2021
NAMESPACE: default
STATUS: pending-install
REVISION: 1
TEST SUITE: None
HOOKS:
MANIFEST:
---
# Source: coherence-example/templates/coherence.yaml
apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
  namespace: default
  labels:
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: test
    app.kubernetes.io/version: "1.0.0"
spec:</pre>

<p><span class="merged" id="all.37FPm8.spl1" style='background-color:yellow' title="原文 : We can see at the bottom of the output the simple Coherence resource that would have been created by helm.">出力の下部には、helmによって作成される単純なCoherenceリソースが表示されます。</span> <span class="merged" id="all.37FPm8.spl2" style='background-color:yellow' title="原文 : This is a valid Coherence resource because every field in the spec section is optional.">仕様セクションのすべてのフィールドがオプションであるため、これは有効なCoherenceリソースです。</span> <span class="merged" id="all.37FPm8.spl3" style='background-color:yellow' title="原文 : If the install had been real this would have resulted in a Coherence cluster named &quot;test&quot; with three storage enabled cluster members, as the default replica count is three.">インストールが実在していた場合、デフォルトのレプリカ数は3であるため、3つのストレージが有効なクラスタ・メンバーで"test"という名前のCoherenceクラスタになります。</span> </p>

</div>

<h4 id="_setting_values"><span class="merged" id="all.3oxaxr" style='background-color:yellow' title="原文 : Setting Values">値の設定</span></h4>
<div class="section">
<p><span class="merged" id="all.1Xjplc.spl1" style='background-color:yellow' title="原文 : But how do we set other values in the Coherence resouce.">ただし、Coherenceリソースで他の値を設定する方法はどれですか。</span> <span class="merged" id="all.1Xjplc.spl2" style='background-color:yellow' title="原文 : That is simple because Helm does not validate what we enter as values we can either create a values file with anything we like under the spec secion or we can specify values using the --set Helm argument.">これは簡単です。Helmでは、<code>spec</code>秒で好きなものを使用して値ファイルを作成できる値として入力する値がバリデートされないか、<code>--set</code> Helm引数を使用して値を指定できます。</span> </p>

<p><span class="merged" id="all.38i90C" style='background-color:yellow' title="原文 : For example, if we wanted to set the replica count to six in a Coherence resource we would need to set the spec.replicas field to 6, and we do exactly the same in the helm chart.">たとえば、Coherenceリソースでレプリカ数を6に設定する場合は、<code>spec.replicas</code>フィールドを<code>6</code>に設定し、ヘルム・チャートでまったく同じ操作を行う必要があります。</span></p>

<p><span class="merged" id="all.H81vx" style='background-color:yellow' title="原文 : We could create a values file like this:">次のように値ファイルを作成できます:</span></p>

<pre

title="test-values.yaml"
>spec:
  replicas: 6</pre>

<p><span class="merged" id="all.gsO6x" style='background-color:yellow' title="原文 : Which we can install with">インストールする対象</span></p>

<pre
lang="bash"

>helm  install test ./chart -f test-values.yaml</pre>

<p><span class="merged" id="all.Ukzex" style='background-color:yellow' title="原文 : Which would produce a Coherence resource like this:">これにより、次のようなCoherenceリソースが生成されます:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
  namespace: default
  labels:
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: test
    app.kubernetes.io/version: "1.0.0"
spec:
  replicas: 6</pre>

<p><span class="merged" id="all.2CcCL7" style='background-color:yellow' title="原文 : We could have done the same thing using --set, for example:">たとえば、<code>--set</code>を使用して同じことをを実行できます:</span></p>

<pre
lang="bash"

>helm  install test ./chart -f test-values.yaml --set spec.replicas=6</pre>

<p><span class="merged" id="all.2SJ3O5" style='background-color:yellow' title="原文 : We can even set more deeply nested values, for example the Coherence log level is set in the spec.coherence.logLevel field of the Coherence CRD so we can use the same value in the Helm install command or values file:">また、より深くネストした値を設定することもできます。たとえば、CoherenceのCRDの<code>spec.coherence.logLevel</code>フィールドにCoherenceログ・レベルが設定されているため、Helmインストール・コマンドまたは値ファイルで同じ値を使用できます:</span></p>

<pre
lang="bash"

>helm  install test ./chart -f test-values.yaml --set spec.coherence.logLevel=9</pre>

<p><span class="merged" id="all.5UPQw" style='background-color:yellow' title="原文 : Which would produce the following Coherence resource:">これにより、次のCoherenceリソースが生成されます:</span></p>

<pre
lang="yaml"

>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: test
  namespace: default
  labels:
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: test
    app.kubernetes.io/version: "1.0.0"
spec:
  coherence:
    logLevel: 9</pre>

<p><span class="merged" id="all.3Pyq68.spl1" style='background-color:yellow' title="原文 : Just like any Helm chart, whether you use --set arguments or use a values file depends on how complex the resulting yaml will be.">Helmチャートと同様に、<code>--set</code>引数を使用するか、値ファイルを使用するかは、結果のyamlの複雑さによって異なります。</span> <span class="merged" id="all.3Pyq68.spl2" style='background-color:yellow' title="原文 : Some fields of the Coherence CRD spec would be impractical to try to configure on the command line with --set and would be much simpler in the values file.">Coherence CRD仕様の一部のフィールドは、<code>--set</code>を使用してコマンドラインで構成しようとすることは現実的ではないため、値ファイルではるかに単純になります。</span> </p>

</div>
</div>

<h3 id="_helm_wait_waiting_for_the_install_to_complete"><span class="merged" id="all.4573yU" style='background-color:yellow' title="原文 : Helm Wait - Waiting for the Install to Complete">Helm待機 - インストールの完了を待機中</span></h3>
<div class="section">
<p><span class="merged" id="all.168D3C.spl1" style='background-color:yellow' title="原文 : The Helm install command (and update command) have a --wait argument that tells Helm to wait until the installed resources are ready.">Helm <code>install</code>コマンド(および<code>update</code>コマンド)には、インストール済リソースの準備が完了するまでHelmに待機するように指示する<code>--wait</code>引数があります。</span> <span class="merged" id="all.168D3C.spl2" style='background-color:yellow' title="原文 : This can be very useful if you want to ensure that everything is created and running correctly after and install or upgrade.">これは、インストールまたはアップグレード後にすべてが正しく作成され、実行されていることを確認する場合に非常に役立ちます。</span> <span class="merged" id="all.168D3C.spl3" style='background-color:yellow' title="原文 : If you read the help test for the --wait argument you will see the following:"><code>--wait</code>引数のヘルプ・テストを読むと、次が表示されます:</span> </p>


<p><span class="merged" id="all.3CZRc3.spl1" style='background-color:yellow' title="原文 : The limitation should be obvious, Helm can only wait for a sub-set of al the possible resources that you can create from a Helm chart.">制限は明白です。Helmは、Helmチャートから作成できる可能性のあるリソースのサブセットのみ待機できます。</span> <span class="merged" id="all.3CZRc3.spl2" style='background-color:yellow' title="原文 : It has no idea how to wait for a Coherence resource to be ready."><code>Coherence</code>リソースの準備が完了するまで待機する方法はありません。</span> <span class="merged" id="all.3CZRc3.spl3" style='background-color:yellow' title="原文 : To work around this limitation we can use a Helm chart hook, mre specifically a post-install and post-upgrade hook.">この制限を回避するには、<a href="https://helm.sh/docs/topics/charts_hooks/" id="" target="_blank" >「Helmチャート・フック」</a>(特に、インストール後およびアップグレード後のフック)を使用します。</span> </p>

<p><span class="merged" id="all.2z8dHt" style='background-color:yellow' title="原文 : A hook is typically a k8s Job that Helm will execute, you create the Job spec as part of the Helm chart templates.">フックは通常、Helmが実行するk8sジョブで、Helmチャート・テンプレートの一部としてジョブ仕様を作成します。</span></p>


<h4 id="_the_coherence_operator_utils_runner"><span class="merged" id="all.4fjVOP" style='background-color:yellow' title="原文 : The Coherence Operator Utils Runner">Coherence Operatorユーティリティ・ランナー</span></h4>
<div class="section">
<p><span class="merged" id="all.sBYeo.spl1" style='background-color:yellow' title="原文 : The Coherence Operator has two images, the Operator itself and a second image containing an executable named runner which the Operator uses to run Coherence servers in the Pods it is managing.">Coherence Operatorには、オペレータ自体と、オペレータが管理しているポッドでCoherenceサーバーを実行するために使用する<code>runner</code>という実行可能ファイルを含む2番目のイメージがあります。</span> <span class="merged" id="all.sBYeo.spl2" style='background-color:yellow' title="原文 : One of the other commands that the runner can execute is a status command, which queries the Operator for the current status of a Coherence resource.">ランナーが実行できる他のコマンドの1つは、<code>status</code>コマンドであり、オペレータにCoherenceリソースの現在のステータスを問合せします。</span> <span class="merged" id="all.sBYeo.spl3" style='background-color:yellow' title="原文 : If you pull the image and execute it you can see the help text for the runner CLI.">イメージをプルして実行すると、ランナーCLIのヘルプ・テキストが表示されます。</span> </p>

<p><span class="merged" id="all.lNq0r" style='background-color:yellow' title="原文 : The following commands will pull the Operator utils image and run it to display the help fot eh status command:">次のコマンドは、Operatorのutilsイメージをプルして実行し、help fot eh statusコマンドを表示します:</span></p>

<pre
lang="bash"

>docker pull ${operator.image}
docker run -it --rm ${operator.image} status -h</pre>

<p><span class="merged" id="all.2xJXXp.spl1" style='background-color:yellow' title="原文 : By creating a K8s Job that runs the status command we can query the Operator for the status of the Coherence resource we installed from the Helm chart.">statusコマンドを実行するK8sジョブを作成することで、HelmチャートからインストールしたCoherenceリソースのステータスをオペレータにクエリーできます。</span> <span class="merged" id="all.2xJXXp.spl2" style='background-color:yellow' title="原文 : Of course, we could have written something similar that used kubectl in the Job or similar to query k8s for the state of the Coherence resource, but this becomes more complex in RBAC enabled cluster.">もちろん、ジョブでkubectlを使用した場合も、Coherenceリソースの状態に対してクエリーk8sに類似したものも、RBAC対応クラスタでは複雑になります。</span> <span class="merged" id="all.2xJXXp.spl3" style='background-color:yellow' title="原文 : Querying the simple REST endpoint of the Coherence Operator does not require RBAC rules for the Job to execute.">Coherence Operatorの単純なRESTエンドポイントをクエリーする場合、ジョブの実行にRBACルールは必要ありません。</span> </p>

<p><span class="merged" id="all.1GRoOZ" style='background-color:yellow' title="原文 : To run a simple status check we are only interested in the following parameters for the status command:">単純なステータス・チェックを実行するには、statusコマンドの次のパラメータにのみ関心があります:</span></p>


<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.4TUuwG"  title="原文:: Argument">引数</span></th>
<th><span class="merged" id="all.4JM9z7.45"  title="原文:: Description">説明</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.19PwnP"  title="原文: --operator-url"><code>--operator-url</code></span></td>
<td class=""><span class="merged" id="all.3QaiDq" style='background-color:yellow' title="原文 : The Coherence Operator URL, typically the operator’s REST service (default &quot;http://coherence-operator-rest.coherence.svc.local:8000&quot;">Coherence Operator URL。通常は、オペレータのRESTサービス(デフォルトはhttp://coherence-operator-rest.coherence.svc.local:8000")</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.iE5d5"  title="原文: --namespace"><code>--namespace</code></span></td>
<td class=""><span class="merged" id="all.2F77t8.spl1" style='background-color:yellow' title="原文 : The namespace the Coherence resource is deployed into.">Coherenceリソースがデプロイされるネームスペース。</span> <span class="merged" id="all.2F77t8.spl2" style='background-color:yellow' title="原文 : This will be the namespace our Helm chart was installed into.">これは、Helmチャートがインストールされたネームスペースになります。</span> </td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2Njkt8"  title="原文: --name"><code>--name</code></span></td>
<td class=""><span class="merged" id="all.c5fVW.spl1" style='background-color:yellow' title="原文 : The name of the Coherence resource.">Coherenceリソースの名前。</span> <span class="merged" id="all.c5fVW.spl2" style='background-color:yellow' title="原文 : This will be the name from the Helm chart install">これはHelmチャートのインストールの名前になります</span> </td>
</tr>
<tr>
<td class=""><span class="merged" id="all.1dY1xD"  title="原文: --timeout"><code>--timeout</code></span></td>
<td class=""><span class="merged" id="all.1gQqyv" style='background-color:yellow' title="原文 : The maximum amount of time to wait for the Coherence resource to reach the required condition (default 5m0s)">Coherenceリソースが必要な条件に達するまで待機する最大時間(デフォルトは5m0s)</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3ZXy3k"  title="原文: --interval"><code>--interval</code></span></td>
<td class=""><span class="merged" id="all.1DOO9q" style='background-color:yellow' title="原文 : The status check re-try interval (default 10s)">ステータス・チェックの再試行間隔(デフォルトは10秒)</span></td>
</tr>
</tbody>
</table>
</div>
<p><span class="merged" id="all.43HQAG" style='background-color:yellow' title="原文 : First we can add a few additional default values to our Helm chart values file that will be sensible defaults to pass to the hook Job.">まず、Helmチャート値ファイルにいくつかのデフォルト値を追加できます。これは、フック・ジョブに渡される適切なデフォルトになります。</span></p>

<pre
lang="yaml"
title="chart/values.yaml"
>spec:

operator:
  namespace: coherence
  service: coherence-operator-rest
  port: 8000
  image: ghcr.io/oracle/coherence-operator-utils:3.4.0
  condition: Ready
  timeout: 5m
  interval: 10s</pre>

<p><span class="merged" id="all.1Mezhv" style='background-color:yellow' title="原文 : We have added an operator section to isolate the values for the hook from the spec values used in our Coherence resource."><code>operator</code>セクションを追加して、フックの値をCoherenceリソースで使用される<code>spec</code>値から分離しました。</span></p>

<p><span class="merged" id="all.2ZXuHD" style='background-color:yellow' title="原文 : We can now create the hook template in our Helm chart using the new values in the values file.">値ファイルの新しい値を使用して、Helmチャートにフック・テンプレートを作成できるようになりました。</span></p>

<span v-pre><div class="markup-container"><div class="block-title"><span class="merged" id="all.DD6mt" style='background-color:yellow' title="原文 : chart/templates/hook.yaml"><span>chart/templates/hook.yaml</span></span></div><div data-lang="yaml" class="markup"><pre><code class="yaml hljs makefile">apiVersion: batch/v1
kind: Job
metadata:
  name: "{{ .Release.Name }}-helm-hook"
  namespace: {{ .Release.Namespace }}
  annotations:
    "helm.sh/hook": post-install,post-upgrade
    "helm.sh/hook-delete-policy": hook-succeeded
spec:
  template:
    metadata:
      name: "{{ .Release.Name }}-helm-hook"
    spec:
      restartPolicy: Never
      containers:
      - name: post-install-job
        image: {{ .Values.operator.image }}
        command:
          - "/files/runner"
          - "status"
          - "--namespace"
          -  {{ .Release.Namespace | quote }}
          - "--name"
          - {{ .Release.Name | quote }}
          - "--operator-url"
          - "http://{{ .Values.operator.service | default "coherence-operator-rest" }}.{{ .Values.operator.namespace | default "coherence" }}.svc:{{ .Values.operator.port | default 8000 }}"
          - "--condition"
          - {{ .Values.operator.condition | default "Ready" | quote }}
          - "--timeout"
          - {{ .Values.operator.timeout | default "5m" | quote }}
          - "--interval"
          - {{ .Values.operator.interval | default "10s" | quote }}</code></pre><div class="markup__copy"><span class="merged" id="all.33w43w.1" style='background-color:yellow' title="原文 : content_copyCopied"><i aria-hidden="true" class="material-icons icon">content_copy</i> <span class="markup__copy__message">「コピー済」</span></span></div></div></div></span>

<p><span class="merged" id="all.2nQBQu" style='background-color:yellow' title="原文 : The annotations section is what tells Helm that this is a hook resource:">注釈セクションは、これがフック・リソースであることをHelmに指示するものです:</span></p>

<pre
lang="yaml"

>  annotations:
    "helm.sh/hook": post-install,post-upgrade
    "helm.sh/hook-delete-policy": hook-succeeded</pre>

<p><span class="merged" id="all.3DlDso.spl1" style='background-color:yellow' title="原文 : We define the hook as a post-install and post-update hook, so that it runs on both install and update of the Coherence resource.">フックを<code>post-install</code>および<code>post-update</code>フックとして定義して、Coherenceリソースの<code>install</code>と<code>update</code>の両方で実行します。</span> <span class="merged" id="all.3DlDso.spl2" style='background-color:yellow' title="原文 : The hook job will also be deleted once it has successfully run.">フック・ジョブも正常に実行されると削除されます。</span> <span class="merged" id="all.3DlDso.spl3" style='background-color:yellow' title="原文 : It will not be deleted if it fails, so we can look at the output of the failure in the Jon Pod logs.">失敗しても削除されないため、Jon Podログで失敗の出力を確認できます。</span> </p>

</div>

<h4 id="_installing_with_the_hook"><span class="merged" id="all.2ws26w" style='background-color:yellow' title="原文 : Installing with the Hook">フックによる取り付け</span></h4>
<div class="section">
<p><span class="merged" id="all.1vdc8G" style='background-color:yellow' title="原文 : If we repeat the Helm install command to install a Coherence resource with the hook in the chart we should see Helm wait and not complete until the Coherence resource (and by inference the StatefulSet and Pods) are all ready.">Helmインストール・コマンドを繰り返して、チャートのフックでCoherenceリソースをインストールすると、Helm待機が表示され、Coherenceリソース(およびStatefulSetおよびポッドを推論して)の準備が完了するまで完了しません。</span></p>

<pre
lang="bash"

>helm  install test ./chart</pre>

<p><span class="merged" id="all.4UOmGb.spl1" style='background-color:yellow' title="原文 : If we were installing a large Coherence cluster, or doing a Helm upgrade, which results in a rolling upgrade of the Coherence cluster, this could take a lot longer than the default timeout we used of 5 minutes.">大規模なCoherenceクラスタをインストールする場合、またはHelmのアップグレードを実行した場合、Coherenceクラスタのローリング・アップグレードが発生すると、使用するデフォルトのタイムアウトよりも5分かかることがあります。</span> <span class="merged" id="all.4UOmGb.spl2" style='background-color:yellow' title="原文 : We can alter the timeout and re-try interval using --set arguments."><code>--set</code>引数を使用して、タイムアウトおよび再試行間隔を変更できます。</span> </p>

<pre
lang="bash"

>helm  install test ./chart --set operator.timeout=20m --set operator.interval=1m</pre>

<p><span class="merged" id="all.4WUdvb" style='background-color:yellow' title="原文 : In the above command the timeout is now 20 minutes and the status check will re-try every one minute.">上のコマンドでは、タイムアウトは20分になり、ステータス・チェックは1分ごとに再試行されます。</span></p>

</div>

<h4 id="_skipping_hooks"><span class="merged" id="all.31YIJD" style='background-color:yellow' title="原文 : Skipping Hooks">フックのスキップ</span></h4>
<div class="section">
<p><span class="merged" id="all.2XKL4s.spl1" style='background-color:yellow' title="原文 : Sometime we might want to install the chart and not wait for everything to be ready.">チャートを設置し、準備が完了するまで待つ必要がない場合があります。</span> <span class="merged" id="all.2XKL4s.spl2" style='background-color:yellow' title="原文 : We can use the Helm --no-hooks argument to skip hook execution.">Helmの<code>--no-hooks</code>引数を使用して、フックの実行をスキップできます。</span> </p>

<pre
lang="bash"

>helm  install test ./chart --no-hooks</pre>

<p><span class="merged" id="all.1IWTyb" style='background-color:yellow' title="原文 : Now the Helm install command will return as soon as the Coherence resource has been created.">これで、Helmインストール・コマンドは、Coherenceリソースが作成されるとすぐに返されます。</span></p>

</div>

<h4 id="_other_helm_hooks"><span class="merged" id="all.3tiFzK" style='background-color:yellow' title="原文 : Other Helm Hooks">その他のHelmフック</span></h4>
<div class="section">
<p><span class="merged" id="all.62SU9.spl1" style='background-color:yellow' title="原文 : We saw above how a custom post-install and post-update hook could be used to work aroud the restrictions of Helm’s --wait argument.">Helmの<code>--wait</code>引数の制限を補うために、カスタムの事後インストールおよび事後更新フックを使用する方法が上に示されました。</span> <span class="merged" id="all.62SU9.spl2" style='background-color:yellow' title="原文 : Of course there are other hooks available in Helm that the method above could be used in.">もちろん、Helmでは前述のメソッドを使用できる他のフックがあります。</span> <span class="merged" id="all.62SU9.spl3" style='background-color:yellow' title="原文 : For example, say I had a front end application to be deployed using a Helm chart, but I did not want Helm to start the deployment until the Coherence back-end was ready, I could use the same method above in a pre-install hook.">たとえば、Helmチャートを使用してフロント・エンド・アプリケーションをデプロイしたとしますが、Coherenceバックエンドの準備が完了するまでHelmでデプロイメントを開始したくない場合、インストール前フックで同じメソッドを使用できます。</span> </p>

</div>
</div>
</div>
</doc-view>
<!-- pages/examples/400_Istio/README.js -->
<doc-view>

<h2 id="_using_coherence_with_istio"><span class="merged" id="all.4OqKpf" style='background-color:yellow' title="原文 : Using Coherence with Istio">IstioでのCoherenceの使用</span></h2>
<div class="section">
<p><span class="merged" id="all.3yYtVb.spl1" style='background-color:yellow' title="原文 : You can run the Coherence cluster and manage them using the Coherence Operator alongside Istio.">Coherenceクラスタを実行し、<a href="https://istio.io" id="" target="_blank" >Istio</a>とともにCoherence Operatorを使用して管理できます。</span> <span class="merged" id="all.3yYtVb.spl2" style='background-color:yellow' title="原文 : Coherence clusters managed with the Coherence Operator 3.4.0 and later work with Istio 1.9.1 and later out of the box.">♪Coherence Operator 3.4.0以降で管理されるCoherenceクラスタは、Istio 1.9.1以降をすぐに操作できます。</span> <span class="merged" id="all.3yYtVb.spl3" style='background-color:yellow' title="原文 : Coherence caches can be accessed from outside the Coherence cluster via Coherence*Extend, REST, and other supported Coherence clients.">Coherenceキャッシュには、Coherence*Extend、REST、およびサポートされているその他のCoherenceクライアントを介して、Coherenceクラスタの外部からアクセスできます。</span> <span class="merged" id="all.3yYtVb.spl4" style='background-color:yellow' title="原文 : Using Coherence clusters with Istio does not require the Coherence Operator to also be using Istio (and vice-versa) .">IstioでCoherenceクラスタを使用する場合、Coherence OperatorもIstioを使用する必要はありません(逆も同様)。</span> <span class="merged" id="all.3yYtVb.spl5" style='background-color:yellow' title="原文 : The Coherence Operator can manage Coherence clusters independent of whether those clusters are using Istio or not.">Coherence Operatorは、これらのクラスタがIstioを使用しているかどうかに関係なく、Coherenceクラスタを管理できます。</span> </p>

<p><span class="merged" id="all.13sF9t" style='background-color:yellow' title="原文 : Although Coherence itself can be configured to use TLS, when using Istio Coherence cluster members and clients can just use the default socket configurations and Istio will control and route all the traffic over mTLS.">Coherence自体はTLSを使用するように構成できますが、Istio Coherenceクラスタ・メンバーおよびクライアントを使用する場合、デフォルトのソケット構成のみを使用でき、IstioはmTLSを介してすべてのトラフィックを制御およびルーティングします。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.12"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.M214a.spl1" style='background-color:yellow' title="原文 : Coherence clusters can be manually configured to work with Istio, even if not using the Operator.">Coherenceクラスタは、オペレータを使用していなくても、Istioと連携するように手動で構成できます。</span> <span class="merged" id="all.M214a.spl2" style='background-color:yellow' title="原文 : See the Istio example in the No Operator Examples"><router-link to="/examples/no-operator/04_istio/README">「オペレータなしの例」</router-link>のIstioの例を参照してください</span> </p>
</p>
</div>

<h3 id="_how_does_coherence_work_with_istio"><span class="merged" id="all.2nSZrv" style='background-color:yellow' title="原文 : How Does Coherence Work with Istio?">CoherenceとIstioの連携方法</span></h3>
<div class="section">
<p><span class="merged" id="all.28ymnv.spl1" style='background-color:yellow' title="原文 : Istio is a &quot;Service Mesh&quot; so the clue to how Istio works in Kubernetes is in the name, it relies on the configuration of Kubernetes Services.">Istioは「サービス・メッシュ」であるため、KubernetesでIstioがどのように機能するかの手がかりは名前にあり、Kubernetesサービスの構成に依存します。</span> <span class="merged" id="all.28ymnv.spl2" style='background-color:yellow' title="原文 : This means that any ports than need to be accessed in Pods, including those using in &quot;Pod to Pod&quot; communication must be exposed via a Service.">つまり、PodからPodへの通信を使用するポートを含め、Podでアクセスする必要があるポートは、サービスを介して公開される必要があります。</span> <span class="merged" id="all.28ymnv.spl3" style='background-color:yellow' title="原文 : Usually a Pod can reach any port on another Pod even if it is not exposed in the container spec, but this is not the case when using Istio as only ports exposed by the Envoy proxy are allowed.">通常、ポッドはコンテナ仕様で公開されていない場合でも、別のポッド上の任意のポートに到達できますが、Envoyプロキシによって公開されているポートのみが許可されるため、Istioを使用する場合にはそうではありません。</span> </p>

<p><span class="merged" id="all.UjcnF.spl1" style='background-color:yellow' title="原文 : For Coherence cluster membership, this means the cluster port and the local port must be exposed on a Service.">Coherenceクラスタ・メンバーシップの場合、これはクラスタ・ポートとローカル・ポートをサービスで公開する必要があることを意味します。</span> <span class="merged" id="all.UjcnF.spl2" style='background-color:yellow' title="原文 : To do this the local port must be configured to be a fixed port instead of the default ephemeral port.">これを行うには、デフォルトのエフェメラル・ポートではなく固定ポートとしてローカル・ポートを構成する必要があります。</span> <span class="merged" id="all.UjcnF.spl3" style='background-color:yellow' title="原文 : The Coherence Operator uses the default cluster port of 7574 and there is no reason to ever change this.">Coherence Operatorは、<code>7574</code>のデフォルトのクラスタ・ポートを使用しますが、これを変更する必要はありません。</span> <span class="merged" id="all.UjcnF.spl4" style='background-color:yellow' title="原文 : The Coherence Operator always configures a fixed port for the local port so this works with Istio out of the box.">Coherence Operatorは、ローカル・ポートの固定ポートを常に構成するため、Istioとともに動作します。</span> <span class="merged" id="all.UjcnF.spl5" style='background-color:yellow' title="原文 : In addition, the Operator uses the health check port to determine the status of a cluster, so this needs to be exposed so that the Operator can reach Coherence Pods.">また、オペレータはヘルス・チェック・ポートを使用してクラスタのステータスを判断するため、オペレータがCoherenceポッドに到達できるように、これを公開する必要があります。</span> </p>

<p><span class="merged" id="all.3aC6fM.spl1" style='background-color:yellow' title="原文 : The Coherence localhost property can be set to the name of the Pod.">Coherenceのlocalhostプロパティは、ポッドの名前に設定できます。</span> <span class="merged" id="all.3aC6fM.spl2" style='background-color:yellow' title="原文 : This is easily done using the container environment variables, which the Operator does automatically.">これは、オペレータが自動的に行うコンテナ環境変数を使用して簡単に実行できます。</span> </p>

<p><span class="merged" id="all.v7Dka.spl1" style='background-color:yellow' title="原文 : Coherence clusters are run as a StatefulSet in Kubernetes.">Coherenceクラスタは、KubernetesでStatefulSetとして実行されます。</span> <span class="merged" id="all.v7Dka.spl2" style='background-color:yellow' title="原文 : This means that the Pods are configured with a host name and a subdomain based on the name of the StatefulSet headless service name, and it is this name that should be used to access Pods.">つまり、ポッドは、StatefulSetヘッドレス・サービス名の名前に基づいてホスト名とサブドメインで構成され、この名前はポッドへのアクセスに使用する必要があります。</span> <span class="merged" id="all.v7Dka.spl3" style='background-color:yellow' title="原文 : For example for a Coherence resource named storage the Operator will create a StatefulSet named storgage with a headless service named storage-sts.">たとえば、<code>storage</code>という名前のCoherenceリソースの場合、オペレータは<code>storage-sts</code>という名前のヘッドレス・サービスを使用して、<code>storgage</code>という名前のStatefulSetを作成します。</span> <span class="merged" id="all.v7Dka.spl4" style='background-color:yellow' title="原文 : Each Pod in a StatefulSet is numbered with a fixed identity, so the first Pod in this cluster will be storage-0.">StatefulSet内の各ポッドには固定アイデンティティが付けられているため、このクラスタ内の最初のポッドは<code>storage-0</code>になります。</span> <span class="merged" id="all.v7Dka.spl5" style='background-color:yellow' title="原文 : The Pod has a number of DNS names that it is reachable with, but the fully qualified name using the headless service will be storage-0.storage-sts or storage-0.storage-sts.&lt;namespace&gt;.svc`.">Podには、到達可能なDNS名が多数ありますが、ヘッドレス・サービスを使用する完全修飾名は、<code>storage-0.storage-sts</code>またはstorage-0.storage-sts.&lt;namespace>.svc`になります。</span> </p>

<p><span class="merged" id="all.1wch35.spl1" style='background-color:yellow' title="原文 : By default, the Operator will expose all the ports configured for the Coherence resource on the StatefulSet headless service.">デフォルトでは、オペレータは、StatefulSetヘッドレス・サービスで<code>Coherence</code>リソースに構成されているすべてのポートを公開します。</span> <span class="merged" id="all.1wch35.spl2" style='background-color:yellow' title="原文 : This allows Coherence Extend and gRPC clients to use this service name as the WKA address when using the Coherence NameService to lookup endpoints (see the client example below).">これにより、Coherence NameServiceを使用してエンドポイントを検索するときに、Coherence ExtendおよびgRPCクライアントでこのサービス名をWKAアドレスとして使用できます(次のクライアントの例を参照)。</span> </p>

</div>

<h3 id="_prerequisites"><span class="merged" id="all.2LZvWc.5"  title="原文:: Prerequisites">前提条件</span></h3>
<div class="section">
<p><span class="merged" id="all.2G7Qr4" style='background-color:yellow' title="原文 : The instructions assume that you are using a Kubernetes cluster with Istio installed and configured already.">この手順では、Istioがインストールされ、すでに構成されているKubernetesクラスタを使用していることを前提としています。</span></p>


<h4 id="_enable_istio_strict_mode"><span class="merged" id="all.7ms5Q" style='background-color:yellow' title="原文 : Enable Istio Strict Mode">Istio Strict Modeの有効化</span></h4>
<div class="section">
<p><span class="merged" id="all.45tmvL.spl1" style='background-color:yellow' title="原文 : For this example we make Istio run in &quot;strict&quot; mode so that it will not allow any traffic between Pods outside the Envoy proxy.">この例では、Istioを"strict"モードで実行して、Envoyプロキシ外のPod間のトラフィックを許可しないようにします。</span> <span class="merged" id="all.45tmvL.spl2" style='background-color:yellow' title="原文 : If other modes are used, such as permissive, then Istio allows Pod to Pod communication so a cluster may appear to work in permissive mode, when it would not in strict mode.">許容モードなどの他のモードが使用されている場合、IstioはPodからPodへの通信を許可するため、クラスタは厳密モードではない場合に許容モードで動作するように見えます。</span> </p>

<p><span class="merged" id="all.2ipiUk" style='background-color:yellow' title="原文 : To set Istio to strict mode create the following yaml file.">Istioをstrictモードに設定するには、次のyamlファイルを作成します。</span></p>

<pre
lang="yaml"
title="istio-strict.yaml"
>apiVersion: security.istio.io/v1beta1
kind: PeerAuthentication
metadata:
  name: "default"
spec:
  mtls:
    mode: STRICT</pre>

<p><span class="merged" id="all.3RfKqi" style='background-color:yellow' title="原文 : Install this yaml into the Istio system namespace with the following command:">次のコマンドを使用して、このyamlをIstioシステム・ネームスペースにインストールします:</span></p>

<pre
lang="bash"

>kubectl -n istio-system apply istio-strict.yaml</pre>

</div>
</div>

<h3 id="_using_the_coherence_operator_with_istio"><span class="merged" id="all.4XxsVx" style='background-color:yellow' title="原文 : Using the Coherence operator with Istio">IstioでのCoherenceオペレータの使用</span></h3>
<div class="section">
<p><span class="merged" id="all.3dHXz2.spl1" style='background-color:yellow' title="原文 : To use Coherence operator with Istio, you can deploy the operator into a namespace which has Istio automatic sidecar injection enabled.">IstioでCoherenceオペレータを使用するには、Istio自動サイドカー・インジェクションが有効になっているネームスペースにオペレータをデプロイできます。</span> <span class="merged" id="all.3dHXz2.spl2" style='background-color:yellow' title="原文 : Before installing the operator, create the namespace in which you want to run the Coherence operator and label it for automatic injection.">オペレータをインストールする前に、Coherenceオペレータを実行するネームスペースを作成し、自動インジェクション用にラベル付けします。</span> </p>

<pre
lang="bash"

>kubectl create namespace coherence
kubectl label namespace coherence istio-injection=enabled</pre>

<p><span class="merged" id="all.1KxioB" style='background-color:yellow' title="原文 : Istio Sidecar AutoInjection is done automatically when you label the coherence namespace with istio-injection.">Istio Sidecar AutoInjectionは、istioインジェクションでコヒーレンス・ネームスペースにラベル付けすると自動的に実行されます。</span></p>


<h4 id="_exclude_the_operator_web_hook_from_the_envoy_proxy"><span class="merged" id="all.lOg7u" style='background-color:yellow' title="原文 : Exclude the Operator Web-Hook from the Envoy Proxy">オペレータWebフックをEnvoyプロキシから除外</span></h4>
<div class="section">
<p><span class="merged" id="all.n0wKm.spl1" style='background-color:yellow' title="原文 : The Coherence Operator uses an admissions web-hook, which Kubernetes will call to validate Coherence resources.">Coherence Operatorは、CoherenceリソースをバリデートするためにKubernetesがコールする入学webフックを使用します。</span> <span class="merged" id="all.n0wKm.spl2" style='background-color:yellow' title="原文 : This web-hook binds to port 9443 in the Operator Pods and is already configured to use TLS as is standard for Kubernetes admissions web-hooks.">このwebフックはオペレータ・ポッドのポート<code>9443</code>にバインドされ、Kubernetes入学Webフックの標準としてTLSを使用するようにすでに構成されています。</span> <span class="merged" id="all.n0wKm.spl3" style='background-color:yellow' title="原文 : If this port is routed through the Envoy proxy Kubernetes will be unable to access the web-hook.">このポートがEnvoyプロキシを介してルーティングされる場合、Kubernetesはwebフックにアクセスできません。</span> </p>

<p><span class="merged" id="all.48D4No.spl1" style='background-color:yellow' title="原文 : The Operator yaml manifests and Helm chart already add the traffic.sidecar.istio.io/excludeInboundPorts annotation to the Operator Pods.">オペレータのyamlマニフェストおよびHelmチャートは、すでに<code>traffic.sidecar.istio.io/excludeInboundPorts</code>注釈をオペレータ・ポッドに追加しています。</span> <span class="merged" id="all.48D4No.spl2" style='background-color:yellow' title="原文 : This should exclude the web-hook port from being Istio.">これにより、webフック・ポートがIstioから除外されます。</span> </p>

<p><span class="merged" id="all.Kl2WF" style='background-color:yellow' title="原文 : Another way to do this is to add a PeerAuthentication resource to the Operator namespace.">これを行うもう1つの方法は、オペレータ・ネームスペースに<code>PeerAuthentication</code>リソースを追加することです。</span></p>

<p><span class="merged" id="all.3z4FkP" style='background-color:yellow' title="原文 : Before installing the Operator, create the following PeerAuthentication yaml."><strong>「オペレータをインストールする前に」</strong>、次の<code>PeerAuthentication</code> yamlを作成します。</span></p>

<pre
lang="yaml"
title="istio-operator.yaml"
>apiVersion: security.istio.io/v1beta1
kind: PeerAuthentication
metadata:
  name: "coherence-operator"
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: coherence-operator
      app.kubernetes.io/instance: coherence-operator-manager
      app.kubernetes.io/component: manager
  mtls:
    mode: STRICT
  portLevelMtls:
    9443:
      mode: PERMISSIVE</pre>

<p><span class="merged" id="all.1rI3Sp.spl1" style='background-color:yellow' title="原文 : Then install this PeerAuthentication resource into the same namespace that the Operator will be installed into.">次に、オペレータがインストールされるのと同じネームスペースに、この<code>PeerAuthentication</code>リソースをインストールします。</span> <span class="merged" id="all.1rI3Sp.spl2" style='background-color:yellow' title="原文 : For example, if the Operator will be in the coherence namespace:">たとえば、オペレータが<code>coherence</code>ネームスペース内にある場合:</span> </p>

<pre
lang="bash"

>kubectl -n coherence apply istio-operator.yaml</pre>

<p><span class="merged" id="all.13a4Er" style='background-color:yellow' title="原文 : You can then install the operator using your preferred method in the Operator Installation Guide.">次に、オペレータ<router-link to="/docs/installation/01_installation">「インストール・ガイド」</router-link>の任意のメソッドを使用してオペレータをインストールできます。</span></p>

<p><span class="merged" id="all.8zuvh" style='background-color:yellow' title="原文 : After installed operator, use the following command to confirm the operator is running:">オペレータのインストール後、次のコマンドを使用して、オペレータが実行中であることを確認します:</span></p>

<pre
lang="bash"

>kubectl get pods -n coherence

NAME                                                     READY   STATUS    RESTARTS   AGE
coherence-operator-controller-manager-7d76f9f475-q2vwv   2/2     Running   1          17h</pre>

<p><span class="merged" id="all.3x1F6P.spl1" style='background-color:yellow' title="原文 : The output should show 2/2 in READY column, meaning there are 2 containers running in the Operator pod.">出力では、READY列に2/2と表示されます。つまり、Operatorポッドで実行されているコンテナが2つあります。</span> <span class="merged" id="all.3x1F6P.spl2" style='background-color:yellow' title="原文 : One is Coherence Operator and the other is Envoy Proxy.">1つはCoherence Operatorで、もう1つはEnvoyプロキシです。</span> </p>

<p><span class="merged" id="all.1WcySn" style='background-color:yellow' title="原文 : If we use the Istio Kiali addon to visualize Istio we can see the Operator in the list of applications">Istio Kialiアドオンを使用してIstioをビジュアル化すると、アプリケーションのリストにOperatorが表示されます</span></p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali operator app" src="./images/images/kiali-operator-app.png" width="1024" /> </v-card-text> </v-card>

<p><span class="merged" id="all.cFhGn" style='background-color:yellow' title="原文 : We can also see on the detailed view, that the Operator talks to the Kubernetes API server">オペレータがKubernetes APIサーバーと通信する詳細なビューも確認できます</span></p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali operator app graph" src="./images/images/kiali-operator-app-graph.png" width="1024" /> </v-card-text> </v-card>

</div>
</div>

<h3 id="_creating_a_coherence_cluster_with_istio"><span class="merged" id="all.4VO6QC" style='background-color:yellow' title="原文 : Creating a Coherence cluster with Istio">Istioを使用したCoherenceクラスタの作成</span></h3>
<div class="section">
<p><span class="merged" id="all.3b92Fg.spl1" style='background-color:yellow' title="原文 : You can configure a cluster to run with Istio automatic sidecar injection enabled.">Istioの自動サイドカー・インジェクションを有効にして実行するようにクラスタを構成できます。</span> <span class="merged" id="all.3b92Fg.spl2" style='background-color:yellow' title="原文 : Before creating the cluster, create the namespace in which the cluster will run and label it for automatic injection.">クラスタを作成する前に、クラスタが実行されるネームスペースを作成し、自動インジェクション用にラベルを付けます。</span> </p>

<pre
lang="bash"

>kubectl create namespace coherence-example
kubectl label namespace coherence-example istio-injection=enabled</pre>

<p><span class="merged" id="all.2NsvP5" style='background-color:yellow' title="原文 : Now create a Coherence resource as normal, there is no additional configuration required to work in Istio.">ここで、通常どおりCoherenceリソースを作成します。Istioでの作業に必要な追加の構成はありません。</span></p>

<p><span class="merged" id="all.4WGVmw" style='background-color:yellow' title="原文 : For example using the yaml below to create a three member cluster with management and metrics enabled:">たとえば、次のyamlを使用して、管理およびメトリクスが有効な3つのメンバー・クラスタを作成します:</span></p>

<pre
lang="yaml"
title="storage.yaml"
>apiVersion: coherence.oracle.com/v1
kind: Coherence
metadata:
  name: storage
spec:
  replicas: 3
  image: ghcr.io/oracle/coherence-ce:22.06.7
  labels:
    app: storage      <span class="conum" data-value="1" />
    version: 1.0.0    <span class="conum" data-value="2" />
  coherence:
    management:
      enabled: true
    metrics:
      enabled: true
  ports:
    - name: management  <span class="conum" data-value="3" />
    - name: metrics
    - name: extend
      port: 20000
      appProtocol: tcp  <span class="conum" data-value="4" />
    - name: grpc-proxy
      port: 1408
      appProtocol: grpc <span class="conum" data-value="5" /></pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2a1ELc" style='background-color:yellow' title="原文 : Istio prefers applications to have an app label">Istioは、アプリケーションが<code>app</code>ラベルを持つことを優先</span></li>
<li data-value="2"><span class="merged" id="all.2gsrtv" style='background-color:yellow' title="原文 : Istio prefers applications to have a version label">Istioは、アプリケーションが<code>version</code>ラベルを持つことを優先</span></li>
<li data-value="3"><span class="merged" id="all.3taM7Q" style='background-color:yellow' title="原文 : The Coherence Pods will expose ports for Management over REST, metrics, a Coherence*Extend proxy and a gRPC proxy">Coherenceポッドは、REST、メトリクス、Coherence*ExtendプロキシおよびgRPCプロキシを介した管理用のポートを公開</span></li>
<li data-value="4"><span class="merged" id="all.22UtcO" style='background-color:yellow' title="原文 : The Operator will set the appProtocol for the management and metrics ports to http, but the Extend port must be set manually to tcp so that Istio knows what sort of traffic is being used by that port">オペレータは、管理ポートおよびメトリクス・ポートの<code>appProtocol</code>を<code>http</code>に設定しますが、拡張ポートを<code>tcp</code>に手動で設定して、Istioがそのポートで使用されているトラフィックの種類を認識できるようにする必要があります</span></li>
<li data-value="5"><span class="merged" id="all.3fsYV5" style='background-color:yellow' title="原文 : The gRPC port’s appProtocol field is set to grpc">gRPCポートの<code>appProtocol</code>フィールドが<code>grpc</code>に設定されている</span></li>
</ul>
<p><span class="merged" id="all.26b2Ww" style='background-color:yellow' title="原文 : Using the Kiali console, we can now see two applications, the Coherence Operator in the &quot;coherence&quot; namespace and the &quot;storage&quot; application in the &quot;coherence-example&quot; namespace.">Kialiコンソールを使用すると、「coherence」ネームスペースのCoherence Operatorと「coherence-example」ネームスペースの「storage」という2つのアプリケーションを表示できます。</span></p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali storage app" src="./images/images/kiali-storage-app.png" width="1024" /> </v-card-text> </v-card>

<p><span class="merged" id="all.4d3w91" style='background-color:yellow' title="原文 : If we look at the graph view we can see all the traffic between the different parts of the system">グラフ・ビューを見ると、システムのさまざまな部分間のすべてのトラフィックを確認できます</span></p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali post deploy" src="./images/images/kiali-post-deploy.png" width="1024" /> </v-card-text> </v-card>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2jamDT" style='background-color:yellow' title="原文 : We can see the Kubernetes API server accessing the Operator web-hook to validate the yaml">オペレータwebフックにアクセスしてyamlをバリデートするKubernetes APIサーバーが表示されます</span></p>

</li>
<li>
<p><span class="merged" id="all.K5FiN" style='background-color:yellow' title="原文 : We can see tge storage pods (the box marked &quot;storage 1.0.0&quot;) communicate with each other via the storage-sts service to from a Coherence cluster">ストレージ・ポッド(「storage 1.0.0」とマークされたボックス)が、storage-stsサービスを介してCoherenceクラスタから相互に通信していることがわかります</span></p>

</li>
<li>
<p><span class="merged" id="all.16Li73" style='background-color:yellow' title="原文 : We can see the storage pods communicate with the Operator REST service to request their Coherence site and rack labels">ストレージ・ポッドがオペレータRESTサービスと通信してCoherenceサイトおよびラック・ラベルをリクエストしているのがわかります</span></p>

</li>
<li>
<p><span class="merged" id="all.jUFtT" style='background-color:yellow' title="原文 : We can see the Operator ping the storage pods health endpoints via the storage-sts service">storage-stsサービスを介してストレージ・ポッドのヘルス・エンドポイントをpingするオペレータを確認できます</span></p>

</li>
</ul>
<p><span class="merged" id="all.3zI696" style='background-color:yellow' title="原文 : All of this traffic is using mTLS controlled by Istio">このトラフィックはすべて、Istioによって制御されるmTLSを使用しています</span></p>

</div>

<h3 id="_coherence_clients_running_in_kubernetes"><span class="merged" id="all.2t3Bn" style='background-color:yellow' title="原文 : Coherence Clients Running in Kubernetes">Kubernetesで実行されているCoherenceクライアント</span></h3>
<div class="section">
<p><span class="merged" id="all.3KLxXB" style='background-color:yellow' title="原文 : Coherence Extend clients and gRPC clients running inside the cluster will also work with Istio.">Coherence Extendクライアントおよびクラスタ内で実行されているgRPCクライアントもIstioと連携します。</span></p>

<p><span class="merged" id="all.3cd0MA" style='background-color:yellow' title="原文 : For this example the clients will be run in the coherence-client namespace, so it needs to be created and labelled so that Istio injection works in that namespace.">この例では、クライアントは<code>coherence-client</code>ネームスペースで実行されるため、Istioインジェクションがそのネームスペースで動作するように作成およびラベル付けする必要があります。</span></p>

<pre
lang="bash"

>kubectl create namespace coherence-client
kubectl label namespace coherence-client istio-injection=enabled</pre>

<p><span class="merged" id="all.30UqI2" style='background-color:yellow' title="原文 : To simulate a client application a CoherenceJob resource will be used with different configurations for the different types of client.">クライアント・アプリケーションをシミュレートするために、<code>CoherenceJob</code>リソースは、様々なタイプのクライアントに対して異なる構成で使用されます。</span></p>

<p><span class="merged" id="all.ODdFb.spl1" style='background-color:yellow' title="原文 : The simplest way to configure a Coherence extend client in a cache configuration file is a default configuration similar to that shown below.">Coherence拡張クライアントをキャッシュ構成ファイルで構成する最も簡単な方法は、次に示すようなデフォルト構成です。</span> <span class="merged" id="all.ODdFb.spl2" style='background-color:yellow' title="原文 : No ports or addresses need to be configured.">ポートまたはアドレスを構成する必要はありません。</span> <span class="merged" id="all.ODdFb.spl3" style='background-color:yellow' title="原文 : Coherence will use the JVM’s configured cluster name and well know addresses to locate to look up the Extend endpoints using the Coherence NameService.">Coherenceでは、JVMの構成済クラスタ名とよく知られたアドレスを使用して、Coherence NameServiceを使用してExtendエンドポイントを検索します。</span> </p>

<pre
lang="xml"

>&lt;remote-cache-scheme&gt;
  &lt;scheme-name&gt;thin-remote&lt;/scheme-name&gt;
  &lt;service-name&gt;RemoteCache&lt;/service-name&gt;
  &lt;proxy-service-name&gt;Proxy&lt;/proxy-service-name&gt;
&lt;/remote-cache-scheme&gt;</pre>

<p><span class="merged" id="all.3iUOf1" style='background-color:yellow' title="原文 : We can configure a CoherenceJob to run an Extend client with this configuration as shown below:">次に示すように、この構成でExtendクライアントを実行するように<code>CoherenceJob</code>を構成できます:</span></p>

<pre
lang="yaml"
title="extend-client.yaml"
>apiVersion: coherence.oracle.com/v1
kind: CoherenceJob
metadata:
  name: client
spec:
  image: ghcr.io/oracle/coherence-ce:22.06.7  <span class="conum" data-value="1" />
  restartPolicy: Never
  cluster: storage  <span class="conum" data-value="2" />
  coherence:
    wka:
      addresses:
        - "storage-sts.coherence-example.svc"  <span class="conum" data-value="3" />
  application:
    type: operator  <span class="conum" data-value="4" />
    args:
      - sleep
      - "300s"
  env:
    - name: COHERENCE_CLIENT    <span class="conum" data-value="5" />
      value: "remote"
    - name: COHERENCE_PROFILE   <span class="conum" data-value="6" />
      value: "thin"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4bg5oQ" style='background-color:yellow' title="原文 : The client will use the CE image published on GitHub, which will use the default cache configuration file from Coherence jar.">クライアントは、GitHubで公開されているCEイメージを使用します。このイメージでは、Coherence jarのデフォルトのキャッシュ構成ファイルが使用されます。</span></li>
<li data-value="2"><span class="merged" id="all.1xTf1z" style='background-color:yellow' title="原文 : The cluster name must be set to the cluster name of the cluster started above, in this case storage">クラスタ名は、上で起動したクラスタのクラスタ名に設定する必要があります(この場合は<code>storage</code>)</span></li>
<li data-value="3"><span class="merged" id="all.9sk8z.spl1" style='background-color:yellow' title="原文 : The WKA address needs to be set to the DNS name of the headless service for the storage cluster created above.">WKAアドレスは、上で作成したストレージ・クラスタのヘッドレス・サービスのDNS名に設定する必要があります。</span> <span class="merged" id="all.9sk8z.spl2" style='background-color:yellow' title="原文 : As this Job is running in a different name space this is the fully qualified name &lt;service-name&gt;.&lt;namespace&gt;.svc which is storage-sts.coherence-example.svc">このジョブは別のネームスペースで実行されているため、<code>storage-sts.coherence-example.svc</code>の完全修飾名<code>&lt;service-name>.&lt;namespace>.svc</code>です</span> </li>
<li data-value="4"><span class="merged" id="all.4F8z4s" style='background-color:yellow' title="原文 : Instead of running a normal command this Job will run the Operator’s sleep command and sleep for 300s (300 seconds).">通常のコマンドを実行するかわりに、このジョブはオペレータの<code>sleep</code>コマンドを実行し、<code>300s</code> (300秒)の間スリープします。</span></li>
<li data-value="5"><span class="merged" id="all.3VDU8w" style='background-color:yellow' title="原文 : The COHERENCE_CLIENT environment variable value of remote sets the Coherence cache configuration to be an Extend client using the NameService"><code>remote</code>の<code>COHERENCE_CLIENT</code>環境変数値は、NameServiceを使用してCoherenceキャッシュ構成を拡張クライアントとして設定</span></li>
<li data-value="6"><span class="merged" id="all.wiEYw" style='background-color:yellow' title="原文 : The COHERENCE_PROFILE environment variable value of thin sets the Coherence cache configuration not to use a Near Cache."><code>thin</code>の<code>COHERENCE_PROFILE</code>環境変数値は、ニア・キャッシュを使用しないCoherenceキャッシュ構成を設定します。</span></li>
</ul>
<p><span class="merged" id="all.3KYBtA" style='background-color:yellow' title="原文 : The yaml above can be deployed into Kubernetes:">上のyamlは、Kubernetesにデプロイできます:</span></p>

<pre
lang="bash"

>kubectl -n coherence-client apply -f extend-client.yaml</pre>

<pre
lang="bash"

>$ kubectl -n coherence-client get pod
NAME           READY   STATUS    RESTARTS   AGE
client-qgnw5   2/2     Running   0          80s</pre>

<p><span class="merged" id="all.20eJzo.spl1" style='background-color:yellow' title="原文 : The Pod is now running but not doing anything, just sleeping.">ポッドは走っているが、何もしていない、ただ眠っているだけだ。</span> <span class="merged" id="all.20eJzo.spl2" style='background-color:yellow' title="原文 : If we look at the Kiali dashboard we can see the client application started and communicated wth the Operator.">Kialiのダッシュボードを見ると、クライアント・アプリケーションがOperatorで起動され、通信されていることがわかります。</span> </p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali client started graph" src="./images/images/kiali-client-started-graph.png" width="1024" /> </v-card-text> </v-card>

<p><span class="merged" id="all.1k09Pu.spl1" style='background-color:yellow' title="原文 : We can use this sleeping Pod to exec into and run commands.">このスリープしているPodを使用して、コマンドを実行したり実行したりできます。</span> <span class="merged" id="all.1k09Pu.spl2" style='background-color:yellow' title="原文 : In this case we will create a Coherence QueryPlus client and run some CohQL commands.">この場合、Coherence QueryPlusクライアントを作成し、いくつかのCohQLコマンドを実行します。</span> <span class="merged" id="all.1k09Pu.spl3" style='background-color:yellow' title="原文 : The command below will exec into the sleeping Pod.">次のコマンドは、スリープしているポッドに実行されます。</span> </p>

<pre
lang="bash"

>kubectl -n coherence-client exec -it client-qgnw5 -- /coherence-operator/utils/runner queryplus</pre>

<p><span class="merged" id="all.2intam" style='background-color:yellow' title="原文 : A QueryPlus client will be started and eventually display the CohQL&gt; prompt.">QueryPlusクライアントが起動され、最終的に<code>CohQL></code>プロンプトが表示されます。</span></p>

<pre
lang="bash"

>Coherence Command Line Tool

CohQL&gt;</pre>

<p><span class="merged" id="all.465efc.spl1" style='background-color:yellow' title="原文 : A simple command to try is just creating a cache, so at the prompt type the command create cache test which will create a cache named test.">試行する簡単なコマンドはキャッシュの作成のみであるため、プロンプトで、<code>test</code>という名前のキャッシュを作成するコマンド<code>create cache test</code>を入力します。</span> <span class="merged" id="all.465efc.spl2" style='background-color:yellow' title="原文 : If all is configured correctly this client will connect to the cluster over Extend and create the cache called test and return to the CohQL prompt.">すべてが正しく構成されている場合、このクライアントはExtendを介してクラスタに接続し、<code>test</code>というキャッシュを作成し、<code>CohQL</code>プロンプトに戻ります。</span> </p>

<pre
lang="bash"

>Coherence Command Line Tool

CohQL&gt; create cache test</pre>

<p><span class="merged" id="all.soAJw" style='background-color:yellow' title="原文 : We can also try selecting data from the cache using the CohQL query select * from test (which will return nothing as the cache is empty).">また、CohQL問合せ<code>select * from test</code>を使用してキャッシュからデータを選択することもできます(キャッシュが空であるため、何も返されません)。</span></p>

<pre
lang="bash"

>CohQL&gt; select * from test
Results

CohQL&gt;</pre>

<p><span class="merged" id="all.32o0Tv.spl1" style='background-color:yellow' title="原文 : If we now look at the Kiali dashboard we can see that the client has communicated with the storage cluster.">Kialiダッシュボードを見ると、クライアントがストレージ・クラスタと通信していることがわかります。</span> <span class="merged" id="all.32o0Tv.spl2" style='background-color:yellow' title="原文 : All of this communication was using mTLS but without configuring Coherence to use TLS.">この通信はすべてmTLSを使用していましたが、TLSを使用するようにCoherenceを構成していませんでした。</span> </p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali client storage" src="./images/images/kiali-client-storage.png" width="1024" /> </v-card-text> </v-card>

<p><span class="merged" id="all.4bBAYC" style='background-color:yellow' title="原文 : To exit from the CohQL&gt; prompt type the bye command."><code>CohQL></code>プロンプトから終了するには、<code>bye</code>コマンドを入力します。</span></p>

<p><span class="merged" id="all.2CJoWp.spl1" style='background-color:yellow' title="原文 : Coherence Extend clients can connect to the cluster also using Istio to provide mTLS support.">Coherence Extendクライアントは、Istioを使用してクラスタに接続し、mTLSサポートを提供することもできます。</span> <span class="merged" id="all.2CJoWp.spl2" style='background-color:yellow' title="原文 : Coherence clusters work with mTLS and Coherence clients can also support TLS through the Istio Gateway with TLS termination to connect to Coherence cluster running inside kubernetes.">CoherenceクラスタはmTLSで動作し、Coherenceクライアントは、TLS終端を持つIstio Gatewayを介してTLSをサポートして、kubernetes内で実行されているCoherenceクラスタに接続することもできます。</span> <span class="merged" id="all.2CJoWp.spl3" style='background-color:yellow' title="原文 : For example, you can apply the following Istio Gateway and Virtual Service in the namespace of the Coherence cluster.">たとえば、次のIstio Gatewayおよび仮想サービスをCoherenceクラスタのネームスペースに適用できます。</span> <span class="merged" id="all.2CJoWp.spl4" style='background-color:yellow' title="原文 : Before applying the gateway, create a secret for the credential from the certificate and key (e.g. server.crt and server.key) to be used by the Gateway:">ゲートウェイを適用する前に、ゲートウェイで使用される証明書およびキー(例、server.crtおよびserver.key)から資格証明のシークレットを作成します:</span> </p>

</div>

<h3 id="_coherence_clients_running_outside_kubernetes"><span class="merged" id="all.2cdt3p" style='background-color:yellow' title="原文 : Coherence Clients Running Outside Kubernetes">Kubernetes外で実行されているCoherenceクライアント</span></h3>
<div class="section">
<p><span class="merged" id="all.2rfhg3.spl1" style='background-color:yellow' title="原文 : Coherence clients running outside the Kubernetes can be configured to connect to a Coherence cluster inside Kubernetes using any of the ingress or gateway features of Istio and Kubernetes.">Kubernetesの外部で実行されているCoherenceクライアントは、IstioおよびKubernetesのいずれかのイングレスまたはゲートウェイ機能を使用して、Kubernetes内のCoherenceクラスタに接続するように構成できます。</span> <span class="merged" id="all.2rfhg3.spl2" style='background-color:yellow' title="原文 : All the different ways to do this are beyond the scope of this simple example as there are many and they depend on the versions of Istio and Kubernetes being used.">これを行うすべての方法は、この単純な例の範囲外です。多くの例があり、使用されるIstioおよびKubernetesのバージョンに依存するためです。</span> </p>

<p><span class="merged" id="all.38W1FT.spl1" style='background-color:yellow' title="原文 : When connecting Coherence Extend or gRPC clients from outside Kubernetes, the Coherence NameService cannot be used by clients to look up the endpoints.">Coherence ExtendクライアントまたはgRPCクライアントをKubernetes外部から接続する場合、Coherence NameServiceをクライアントがエンドポイントを検索するために使用することはできません。</span> <span class="merged" id="all.38W1FT.spl2" style='background-color:yellow' title="原文 : The clients must be configured with fixed endpoints using the hostnames and ports of the configured ingress or gateway services.">クライアントは、構成されたイングレスまたはゲートウェイ・サービスのホスト名およびポートを使用して固定エンドポイントで構成する必要があります。</span> </p>

</div>
</div>
</doc-view>
<!-- pages/examples/900_demo/README.js -->
<doc-view>
<p><span class="merged" id="all.2dqhtR.spl1" style='background-color:yellow' title="原文 : The Coherence Demonstration application is an application which demonstrates various Coherence related features such include Persistence, Federation and Lambda support.">Coherenceデモ・アプリケーションは、永続性、フェデレーション、ラムダのサポートなどの様々なCoherence関連機能を示すアプリケーションです。</span> <span class="merged" id="all.2dqhtR.spl2" style='background-color:yellow' title="原文 : This demonstration can run stand alone but can also be installed on the Coherence Operator.">このデモンストレーションはスタンドアロンで実行できますが、Coherence Operatorにインストールすることもできます。</span> </p>

<p><span class="merged" id="all.2kml5T" style='background-color:yellow' title="原文 : When installed using the Coherence Operator, the setup includes two Coherence Clusters, in the same Kubernetes cluster, which are configured with Active/Active Federation.">Coherence Operatorを使用してインストールした場合、設定には、アクティブ/アクティブ・フェデレーションで構成された同じKubernetesクラスタに2つのCoherenceクラスタが含まれます。</span></p>



<v-card> <v-card-text class="overflow-y-hidden" style="text-align:center"> <img alt="サービスの詳細" src="./images/images/coherence-demo.png" width="950" /> </v-card-text> </v-card>

<p><span class="merged" id="all.42EjYS" style='background-color:yellow' title="原文 :  Please see The Coherence Demo GitHub project for full instructions."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />完全な手順については、<a href="https://github.com/coherence-community/coherence-demo" id="" target="_blank" >「CoherenceデモGitHubプロジェクト」</a>を参照してください。</span></p>

</doc-view>
<!-- pages/examples/README.js -->
<doc-view>

<h2 id="_examples_overview"><span class="merged" id="all.1jTEjx.1"  title="原文:: Examples Overview">例の概要</span></h2>
<div class="section">
<p><span class="merged" id="all.3GQ4Wu.1" style='background-color:yellow' title="原文 : There are a number of examples which show you how to build and deploy applications for the Coherence Operator.">Coherence Operatorのアプリケーションのビルドおよびデプロイ方法を示す例がいくつかあります。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.13"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.VKwLf.1" style='background-color:yellow' title="原文 :  The complete source code for the examples is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />例のソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/015_simple_image/README"><div class="card__link-hover"/>
<span class="merged" id="all.2PUYWT.1" style='background-color:yellow' title="原文 :  Simple Coherence Image using JIB "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">JIBを使用したシンプルなCoherenceイメージ</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.4e4Xw.1" style='background-color:yellow' title="原文 : Building a simple Coherence server image with JIB using Maven or Gradle.">MavenまたはGradleを使用して、<a href="https://github.com/GoogleContainerTools/jib/blob/master/README.md" id="" target="_blank" >JIB</a>を使用した単純なCoherenceサーバー・イメージをビルドします。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/016_simple_docker_image/README"><div class="card__link-hover"/>
<span class="merged" id="all.4dIVey.1" style='background-color:yellow' title="原文 :  Simple Coherence Image using a Dockerfile "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Dockerfileを使用したシンプルなCoherenceイメージ</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.3BzIMm.1" style='background-color:yellow' title="原文 : Building a simple Coherence image with a Dockerfile, that works out of the box with the Operator.">Dockerfileを使用して単純なCoherenceイメージを作成します。このイメージは、オペレータとともにすぐに使用できます。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/020_hello_world/README"><div class="card__link-hover"/>
<span class="merged" id="all.4B8i3D.1" style='background-color:yellow' title="原文 :  Hello World "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">こんにちは世界</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.vbpYz.1" style='background-color:yellow' title="原文 : Deploying the most basic Coherence cluster using the Operator.">オペレータを使用した最も基本的なCoherenceクラスタのデプロイ。</span></p>
</v-card-text> </v-card> </v-flex> </v-layout> </v-container> </v-flex> </v-layout> <v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/025_extend_client/README"><div class="card__link-hover"/>
<span class="merged" id="all.2ju4Jl.1" style='background-color:yellow' title="原文 :  Coherence*Extend Clients "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Coherence*Extendクライアント</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.mRTvz.1" style='background-color:yellow' title="原文 : An example demonstrating various ways to configure and use Coherence*Extend with Kubernetes.">Kubernetesを使用してCoherence*Extendを構成および使用するための様々な方法を示す例。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link @click.native="this.scrollFix('#examples/020_deployment/README.adoc')" to="#examples/020_deployment/README.adoc"><div class="card__link-hover"/>
<span class="merged" id="all.15XJkn.1" style='background-color:yellow' title="原文 :  Deployment "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">デプロイメント</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1cUQRp.1" style='background-color:yellow' title="原文 : This example shows how to deploy Coherence applications using the Coherence Operator.">この例では、Coherence Operatorを使用してCoherenceアプリケーションをデプロイする方法を示します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/090_tls/README"><div class="card__link-hover"/>
<span class="merged" id="all.1XFJ9G.1" style='background-color:yellow' title="原文 :  TLS "></router-link> <v-card-title primary class="headline layout justify-center"> <span style="text-align:center">TLS</span> </v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.LzPx6.1" style='background-color:yellow' title="原文 : Securing Coherence clusters using TLS.">TLSを使用してCoherenceクラスタを保護します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/095_network_policies/README"><div class="card__link-hover"/>
<span class="merged" id="all.863Cs.1" style='background-color:yellow' title="原文 :  Network Policies "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">ネットワーク・ポリシー</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.4et6Rg.1" style='background-color:yellow' title="原文 : An example covering the use of Kubernetes NetworkPolicy rules with the Operator and Coherence clusters.">Kubernetes <code>NetworkPolicy</code>ルールと、OperatorクラスタおよびCoherenceクラスタの使用について説明する例。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/100_federation/README"><div class="card__link-hover"/>
<span class="merged" id="all.2UnlYn.1" style='background-color:yellow' title="原文 :  Federation "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">フェデレーション</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2kCjks.1.spl1" style='background-color:yellow' title="原文 : This is a simple Coherence federation example.">これは単純なCoherenceフェデレーションの例です。</span> <span class="merged" id="all.2kCjks.1.spl2" style='background-color:yellow' title="原文 : The federation feature requires Coherence Grid Edition.">フェデレーション機能にはCoherence Grid Editionが必要です。</span> </p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/200_autoscaler/README"><div class="card__link-hover"/>
<span class="merged" id="all.1Cgdic.1" style='background-color:yellow' title="原文 :  Autoscaling "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">自動スケーリング</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.4MsEdH.1" style='background-color:yellow' title="原文 : Scaling Coherence clusters using the horizontal Pod Autoscaler.">水平なPod Autoscalerを使用したCoherenceクラスタのスケーリング。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/300_helm/README"><div class="card__link-hover"/>
<span class="merged" id="all.3RJC8L.1" style='background-color:yellow' title="原文 :  Helm "></router-link> <v-card-title primary class="headline layout justify-center"> <span style="text-align:center">Helm</span> </v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.2bOPYe.1" style='background-color:yellow' title="原文 : Manage Coherence resources using Helm.">Helmを使用してCoherenceリソースを管理します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/400_Istio/README"><div class="card__link-hover"/>
<span class="merged" id="all.1a6xNy.1" style='background-color:yellow' title="原文 :  Istio "></router-link> <v-card-title primary class="headline layout justify-center"> <span style="text-align:center">Istio</span> </v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.3BJaXa.1" style='background-color:yellow' title="原文 : Istio Support">Istioサポート</span></p>
</v-card-text> </v-card> </v-flex> </v-layout> </v-container> </v-flex> </v-layout> <v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/900_demo/README"><div class="card__link-hover"/>
<span class="merged" id="all.40IwIZ.1" style='background-color:yellow' title="原文 :  Coherence Demo App "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Coherenceデモ・アプリケーション</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.47amyD.1" style='background-color:yellow' title="原文 : Deploying the Coherence demo application.">Coherenceデモ・アプリケーションのデプロイ。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</doc-view>
<!-- pages/examples/no-operator/000_overview.js -->
<doc-view>

<h2 id="_coherence_in_kubernetes_without_the_operator"><span class="merged" id="all.3Vd2Lf" style='background-color:yellow' title="原文 : Coherence in Kubernetes Without the Operator">オペレータを使用しないKubernetesのCoherence</span></h2>
<div class="section">
<p><span class="merged" id="all.1MeDP0.spl1" style='background-color:yellow' title="原文 : Although this project is all about the Coherence Kubernetes Operator, there are occasions where using an Operator is not possible.">このプロジェクトはすべてCoherence Kubernetes Operatorに関するものですが、オペレータを使用できない場合があります。</span> <span class="merged" id="all.1MeDP0.spl2" style='background-color:yellow' title="原文 : For example, some corporate or cloud security policies ban the use of CRDs, or have very restrictive RBAC policies that ultimately make it impossible to run Operators that uses their own CRDs or require cluster roles (or even just namespace roles).">たとえば、企業またはクラウドのセキュリティ・ポリシーによっては、CRDの使用を禁止したり、独自のCRDを使用するオペレータを実行したり、クラスタ・ロール(またはネームスペース・ロールのみ)を必要としたりできないようにする非常に限定的なRBACポリシーがあります。</span> <span class="merged" id="all.1MeDP0.spl3" style='background-color:yellow' title="原文 : These example shows how to run a Coherence clusters in Kubernetes manually.">次の例は、KubernetesでCoherenceクラスタを手動で実行する方法を示しています。</span> <span class="merged" id="all.1MeDP0.spl4" style='background-color:yellow' title="原文 : Obviously the features of the Operator such as safe scaling, safe rolling upgrades, etc. will not be available.">明らかに、セーフ・スケーリング、安全なローリング・アップグレードなどのオペレータの機能は利用できません。</span> </p>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.14"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.1d1YDX.spl1" style='background-color:yellow' title="原文 : We really recommend that you try and use the Coherence Operator for managing Coherence clusters in Kubernetes.">KubernetesでCoherenceクラスタを管理するには、Coherence Operatorを使用することをお薦めします。</span> <span class="merged" id="all.1d1YDX.spl2" style='background-color:yellow' title="原文 : It is possible to run the Operator with fewer RBAC permissions, for example without ClusterRoles and only using Roles restricted to a single namespace."><code>ClusterRoles</code>を使用せず、単一のネームスペースに制限された<code>Roles</code>のみを使用するなど、RBAC権限が少ないオペレータを実行できます。</span> <span class="merged" id="all.1d1YDX.spl3" style='background-color:yellow' title="原文 : The Operator can also run without installing its web-hooks.">オペレータは、webフックをインストールせずに実行することもできます。</span> <span class="merged" id="all.1d1YDX.spl4" style='background-color:yellow' title="原文 : Ultimately though it requires the CRD to be installed, which could be done manually instead of allowing the Operator to install it.">最終的には、CRDをインストールする必要がありますが、オペレータによるインストールを許可するかわりに手動で行うことができます。</span> <span class="merged" id="all.1d1YDX.spl5" style='background-color:yellow' title="原文 : If you really cannot change the minds of those dictating policies that mean you cannot use the Operator then these examples may be useful.">オペレータを使用できないことをこれらの決定するポリシーの考えを実際に変更できない場合は、これらの例が役立つことがあります。</span> </p>
</p>
</div>
<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.14"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.1fxxJ5" style='background-color:yellow' title="原文 :  The complete source code for the examples is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />例のソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/no-operator/" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>

<h3 id="_prerequisites"><span class="merged" id="all.2LZvWc.6"  title="原文:: Prerequisites">前提条件</span></h3>
<div class="section">
<p><span class="merged" id="all.3N9KGw" style='background-color:yellow' title="原文 : There are some common prerequisites used by all the examples.">すべての例で使用される一般的な前提条件があります。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.C04Hp" style='background-color:yellow' title="原文 : The Server Image"><strong>サーバー・イメージ</strong></span></p>

</li>
</ul>
<p><span class="merged" id="all.1PAo2q.spl1" style='background-color:yellow' title="原文 : These examples use the image built in the Build a Coherence Server Image example.">これらの例では、<router-link to="/examples/015_simple_image/README">「Coherenceサーバー・イメージのビルド」</router-link>の例で作成したイメージを使用します。</span> <span class="merged" id="all.1PAo2q.spl2" style='background-color:yellow' title="原文 : The image is nothing more than a cache configuration file that has an Extend proxy along with Coherence metrics and management over REST.">イメージは、REST上のCoherenceメトリクスおよび管理とともにExtendプロキシを持つキャッシュ構成ファイルのみです。</span> <span class="merged" id="all.1PAo2q.spl3" style='background-color:yellow' title="原文 : We will use this image in the various examples we cover here.">ここで説明する様々な例でこのイメージを使用します。</span> <span class="merged" id="all.1PAo2q.spl4" style='background-color:yellow' title="原文 : When we run the image it will start a simple storage enabled Coherence server.">イメージを実行すると、単純なストレージ対応のCoherenceサーバーが起動します。</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3Ucl63" style='background-color:yellow' title="原文 : The Test Client In the test-client/ directory is a simple Maven project that we will use to run a simple Extend client."><strong>「テスト・クライアント」</strong> <router-link to="/examples/no-operator/test-client/README"><code>test-client/</code></router-link>ディレクトリには、単純なExtendクライアントの実行に使用する単純なMavenプロジェクトがあります。</span></p>

</li>
<li>
<p><span class="merged" id="all.1NWyYw.spl1" style='background-color:yellow' title="原文 : Network Policies When running in Kubernetes cluster where NetworkPolicy rules are applied there are certain ingress and egress policies required to allow Coherence to work."><strong>「ネットワーク・ポリシー」</strong> <code>NetworkPolicy</code>ルールが適用されているKubernetesクラスタで実行する場合、Coherenceが機能するために必要な特定のイングレスおよびエグレス・ポリシーがあります。</span> <span class="merged" id="all.1NWyYw.spl2" style='background-color:yellow' title="原文 : These are covered in the Network Policies Example">これらは<router-link to="/examples/095_network_policies/README">「ネットワーク・ポリシーの例」</router-link>で説明されています</span> </p>

</li>
</ul>
</div>
</div>

<h2 id="_the_examples"><span class="merged" id="all.4c8ujc" style='background-color:yellow' title="原文 : The Examples">例</span></h2>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/no-operator/01_simple_server/README"><div class="card__link-hover"/>
<span class="merged" id="all.1baz5c" style='background-color:yellow' title="原文 :  Simple Server "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">簡易サーバー</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.BPKR7" style='background-color:yellow' title="原文 : Run a simple Coherence storage enabled cluster as a StatefulSet and connect an Extend client to it.">単純なCoherenceストレージ対応クラスタをStatefulSetとして実行し、Extendクライアントを接続します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/no-operator/02_metrics/README"><div class="card__link-hover"/>
<span class="merged" id="all.N95Bq" style='background-color:yellow' title="原文 :  Simple Server with Metrics "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">メトリクス付きの簡易サーバー</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1T1G2V" style='background-color:yellow' title="原文 : Expands the simple storage enabled server to expose metrics that can be scraped by Prometheus.">Prometheusによってスクレイプ可能なメトリクスを公開するために、単純なストレージ対応サーバーを展開します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/no-operator/03_extend_tls/README"><div class="card__link-hover"/>
<span class="merged" id="all.1An1Gg" style='background-color:yellow' title="原文 :  Securing Extend with TLS "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">TLSによる拡張の保護</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.niqCr" style='background-color:yellow' title="原文 : Expands the simple storage enabled server to secure Extend using TLS.">TLSを使用して拡張を保護するために、単純なストレージ対応サーバーを展開します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/no-operator/04_istio/README"><div class="card__link-hover"/>
<span class="merged" id="all.1Wt2hT" style='background-color:yellow' title="原文 :  Running Coherence with Istio "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Istioを使用したCoherenceの実行</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.niqCr.1" style='background-color:yellow' title="原文 : Expands the simple storage enabled server to secure Extend using TLS.">TLSを使用して拡張を保護するために、単純なストレージ対応サーバーを展開します。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</doc-view>
<!-- pages/examples/no-operator/01_simple_server/README.js -->
<doc-view>

<h2 id="_a_simple_coherence_cluster_in_kubernetes"><span class="merged" id="all.3UBS2S" style='background-color:yellow' title="原文 : A Simple Coherence Cluster in Kubernetes">Kubernetesの単純なCoherenceクラスタ</span></h2>
<div class="section">
<p><span class="merged" id="all.2hRFrs" style='background-color:yellow' title="原文 : This example shows how to deploy a simple Coherence cluster in Kubernetes manually, without using the Coherence Operator.">この例では、Coherence Operatorを使用せずに、Kubernetesに単純なCoherenceクラスタを手動でデプロイする方法を示します。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.15"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.1Ja7TA" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/no-operator/01_simple_server" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>
<p><span class="merged" id="all.3Hthfg"  title="原文:: Prerequisites"><strong>前提条件</strong></span></p>

<p><span class="merged" id="all.3yNzBq" style='background-color:yellow' title="原文 : This example assumes that you have already built the example server image.">この例では、サンプル・サーバー・イメージがすでにビルドされていることを前提としています。</span></p>

</div>

<h2 id="_create_the_kubernetes_resources"><span class="merged" id="all.3N5M6P" style='background-color:yellow' title="原文 : Create the Kubernetes Resources">Kubernetesリソースの作成</span></h2>
<div class="section">
<p><span class="merged" id="all.2LcsWY" style='background-color:yellow' title="原文 : Now we have an image we can create the yaml files required to run the Coherence cluster in Kubernetes.">これで、KubernetesでCoherenceクラスタを実行するために必要なyamlファイルを作成できます。</span></p>


<h3 id="_statefulset_and_services"><span class="merged" id="all.hUUsN" style='background-color:yellow' title="原文 : StatefulSet and Services">StatefulSetおよびサービス</span></h3>
<div class="section">
<p><span class="merged" id="all.t97ug" style='background-color:yellow' title="原文 : We will run Coherence using a StatefulSet and in Kubernetes all StatefulSet resources also require a headless Service."><code>StatefulSet</code>を使用してCoherenceを実行し、Kubernetesでは、すべての<code>StatefulSet</code>リソースにもヘッドレス<code>Service</code>が必要です。</span></p>


<h4 id="_statefulset_headless_service"><span class="merged" id="all.1hbxdP" style='background-color:yellow' title="原文 : StatefulSet Headless Service">StatefulSetヘッドレス・サービス</span></h4>
<div class="section">
<pre
lang="yaml"
title="coherence.yaml"
>apiVersion: v1
kind: Service
metadata:
  name: storage-sts
  labels:
    coherence.oracle.com/cluster: test-cluster
    coherence.oracle.com/deployment: storage
    coherence.oracle.com/component: statefulset-service
spec:
  type: ClusterIP
  clusterIP: None
  ports:
  - name: tcp-coherence
    port: 7
    protocol: TCP
    targetPort: 7
  publishNotReadyAddresses: true
  selector:
    coherence.oracle.com/cluster: test-cluster
    coherence.oracle.com/deployment: storage</pre>

<p><span class="merged" id="all.2TViYR.spl1" style='background-color:yellow' title="原文 : The Service above named storage-sts has a selector that must match labels on the Pods in the StatefulSet."><code>storage-sts</code>という名前の<code>Service</code>には、<code>StatefulSet</code>の<code>Pods</code>のラベルと一致する必要があるセレクタがあります。</span> <span class="merged" id="all.2TViYR.spl2" style='background-color:yellow' title="原文 : We use port 7 in this Service because all services must define at least one port, but we never use this port and nothing in the Coherence Pods will bind to port 7.">この<code>Service</code>ではポート7を使用します。これは、すべてのサービスが1つ以上のポートを定義する必要があるが、このポートを使用せず、Coherence <code>Pods</code>ではポート7にバインドされないためです。</span> </p>

</div>

<h4 id="_coherence_well_known_address_headless_service"><span class="merged" id="all.1f9Th0" style='background-color:yellow' title="原文 : Coherence Well Known Address Headless Service">Coherenceのよく知られたアドレス・ヘッドレス・サービス</span></h4>
<div class="section">
<p><span class="merged" id="all.457Elz.spl1" style='background-color:yellow' title="原文 : When running Coherence clusters in Kubernetes we need to use well-known-addressing for Coherence cluster discovery.">KubernetesでCoherenceクラスタを実行する場合、Coherenceクラスタの検出に既知のアドレス指定を使用する必要があります。</span> <span class="merged" id="all.457Elz.spl2" style='background-color:yellow' title="原文 : For this to work we create a Service that we can use for discovery of Pods that are in the cluster.">これを行うには、クラスタ内にある<code>Pods</code>の検出に使用できる<code>Service</code>を作成します。</span> <span class="merged" id="all.457Elz.spl3" style='background-color:yellow' title="原文 : In this example we only have a single StatefulSet, so we could just use the headless service above for WKA too.">この例では、<code>StatefulSet</code>が1つのみであるため、前述のヘッドレス・サービスもWKAに使用できます。</span> <span class="merged" id="all.457Elz.spl4" style='background-color:yellow' title="原文 : But in Coherence clusters where there are multiple StatefulSets in the cluster we would have to use a separate Service.">ただし、クラスタに複数の<code>StatefulSets</code>があるCoherenceクラスタでは、個別の<code>Service</code>を使用する必要があります。</span> </p>

<pre
lang="yaml"
title="coherence.yaml"
>apiVersion: v1
kind: Service
metadata:
  name: storage-wka
  labels:
    coherence.oracle.com/cluster: test-cluster
    coherence.oracle.com/deployment: storage
    coherence.oracle.com/component: wka-service
spec:
  type: ClusterIP
  clusterIP: None
  ports:
  - name: tcp-coherence
    port: 7
    protocol: TCP
    targetPort: 7
  publishNotReadyAddresses: true
  selector:
    coherence.oracle.com/cluster: test-cluster</pre>

<p><span class="merged" id="all.i6CH4.spl1" style='background-color:yellow' title="原文 : The Service above named storage-wka is almost identical to the StatefulSet service.">前述の<code>storage-wka</code>という名前の<code>Service</code>は、<code>StatefulSet</code>サービスとほとんど同じです。</span> <span class="merged" id="all.i6CH4.spl2" style='background-color:yellow' title="原文 : It only has a single selector label, so will match all Pods with the label coherence.oracle.com/cluster: test-cluster regardless of which StatefulSet they belong to.">セレクタ・ラベルは1つのみであるため、<code>Pods</code>が属する<code>StatefulSet</code>に関係なく、すべてのラベルが<code>coherence.oracle.com/cluster: test-cluster</code>と一致します。</span> </p>

<p><span class="merged" id="all.420Nkh" style='background-color:yellow' title="原文 : The other important property of the WKA Service is that it must have the field publishNotReadyAddresses: true so that Pods with matching labels are assigned to the Service even when those Pods are not ready.">WKA <code>Service</code>の他の重要なプロパティは、<code>Pods</code>の準備ができていない場合でも、一致するラベルを持つ<code>Pods</code>が<code>Service</code>に割り当てられるように、フィールド<code>publishNotReadyAddresses: true</code>が必要であることです。</span></p>

</div>

<h4 id="_the_statefulset"><span class="merged" id="all.2HBpXt" style='background-color:yellow' title="原文 : The StatefulSet">StatefulSet</span></h4>
<div class="section">
<p><span class="merged" id="all.2vUjK5" style='background-color:yellow' title="原文 : We can now create the StatefulSet yaml.">これで、<code>StatefulSet</code> yamlを作成できます。</span></p>

<pre
lang="yaml"
title="coherence.yaml"
>apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: storage
spec:
  selector:
    matchLabels:
      coherence.oracle.com/cluster: test-cluster
      coherence.oracle.com/deployment: storage
  serviceName: storage-sts
  replicas: 3
  template:
    metadata:
      labels:
        coherence.oracle.com/cluster: test-cluster
        coherence.oracle.com/deployment: storage
    spec:
      containers:
        - name: coherence
          image: simple-coherence:1.0.0
          command:
            - java
          args:
            - -cp
            - "@/app/jib-classpath-file"
            - -Xms1800m
            - -Xmx1800m
            - "@/app/jib-main-class-file"
          env:
            - name: COHERENCE_CLUSTER
              value: storage
            - name: COHERENCE_WKA
              value: storage-wka.svc
            - name: COHERENCE_CACHECONFIG
              value: "test-cache-config.xml"
          ports:
            - name: extend
              containerPort: 20000</pre>

<ul class="ulist">
<li>
<p><span class="merged" id="all.2GYfyZ" style='background-color:yellow' title="原文 : The StatefulSet above will create a Coherence cluster with three replicas (or Pods).">前述の<code>StatefulSet</code>は、3つのレプリカ(または<code>Pods</code>)を持つCoherenceクラスタを作成します。</span></p>

</li>
<li>
<p><span class="merged" id="all.3mQWVg" style='background-color:yellow' title="原文 : There is a single container in the Pod named coherence that will run the image simple-coherence:1.0.0 we created above."><code>coherence</code>という名前の<code>Pod</code>には、前述で作成したイメージ<code>simple-coherence:1.0.0</code>を実行する単一の<code>container</code>があります。</span></p>

</li>
<li>
<p><span class="merged" id="all.kVX0T" style='background-color:yellow' title="原文 : The command line used to run the container will be java -cp @/app/jib-classpath-file -Xms1800m -Xmx1800m @/app/jib-main-class-file">コンテナの実行に使用されるコマンドラインは、<code>java -cp @/app/jib-classpath-file -Xms1800m -Xmx1800m @/app/jib-main-class-file</code>になります</span></p>

</li>
<li>
<p><span class="merged" id="all.2cKSc3.spl1" style='background-color:yellow' title="原文 : Because we used JIB to create the image, there will be a file named /app/jib-classpath-file that contains the classpath for the application.">JIBを使用してイメージを作成したため、アプリケーションのクラスパスを含む<code>/app/jib-classpath-file</code>という名前のファイルがあります。</span> <span class="merged" id="all.2cKSc3.spl2" style='background-color:yellow' title="原文 : We can use this to set the classpath on the JVM command line using -cp @/app/jib-classpath-file so in our yaml we know we will have the correct classpath for the image we built.">これを使用して、<code>-cp @/app/jib-classpath-file</code>を使用してJVMコマンドラインにクラスパスを設定できるため、yamlでは、作成したイメージに正しいクラスパスがあることがわかります。</span> <span class="merged" id="all.2cKSc3.spl3" style='background-color:yellow' title="原文 : If we change the classpath by changing project dependencies in the pom.xml file for our project and rebuild the image the container in Kubernetes will automatically use the changed classpath.">プロジェクトの<code>pom.xml</code>ファイルのプロジェクト依存関係を変更してクラスパスを変更し、イメージを再ビルドすると、Kubernetesのコンテナで変更されたクラスパスが自動的に使用されます。</span> </p>

</li>
<li>
<p><span class="merged" id="all.4Xglb9.spl1" style='background-color:yellow' title="原文 : JIB also creates a file in the image named /app/jib-main-class-file which contains the name of the main class we specified in the JIB Maven plugin.">JIBは、JIB Mavenプラグインで指定したメイン・クラスの名前を含む<code>/app/jib-main-class-file</code>というイメージにファイルを作成します。</span> <span class="merged" id="all.4Xglb9.spl2" style='background-color:yellow' title="原文 : We can use @/app/jib-main-class-file in place of the main class in our command line so that we run the correct main class in our container.">コンテナ内で正しいメイン・クラスを実行できるように、コマンドラインでメイン・クラスのかわりに<code>@/app/jib-main-class-file</code>を使用できます。</span> <span class="merged" id="all.4Xglb9.spl3" style='background-color:yellow' title="原文 : If we change the main class in the JIB settings when we build the image our container in Kubernetes will automatically run the correct main class.">JIB設定でメイン・クラスを変更すると、Kubernetesのコンテナで正しいメイン・クラスが自動的に実行されます。</span> </p>

</li>
<li>
<p><span class="merged" id="all.2tZTi5" style='background-color:yellow' title="原文 : We set both the min and max heap to 1.8 GB (it is a Coherence recommendation to set both min and max heap to the same value rather than set a smaller -Xms).">最小ヒープと最大ヒープの両方を1.8 GBに設定します(小さい -Xmsを設定するのではなく、最小ヒープと最大ヒープの両方を同じ値に設定することをお薦めします)。</span></p>

</li>
<li>
<p><span class="merged" id="all.3xPUKF" style='background-color:yellow' title="原文 : The main class that will run will be com.tangosol.net.Coherence.">実行されるメイン・クラスは<code>com.tangosol.net.Coherence</code>です。</span></p>

</li>
<li>
<p><span class="merged" id="all.1lnFSR.spl1" style='background-color:yellow' title="原文 : The cache configuration file configures a Coherence Extend proxy service, which will listen on port 20000.">キャッシュ構成ファイルは、ポート<code>20000</code>でリスニングするCoherence Extendプロキシ・サービスを構成します。</span> <span class="merged" id="all.1lnFSR.spl2" style='background-color:yellow' title="原文 : We need to expose this port in the container’s ports section.">このポート・コンテナのポート・セクションで公開する必要があります。</span> </p>

</li>
<li>
<p><span class="merged" id="all.1lsnPo" style='background-color:yellow' title="原文 : We set a number of environment variables for the container:">コンテナに多数の環境変数を設定します:</span></p>

</li>
</ul>

<div class="table__overflow elevation-1  ">
<table class="datatable table">
<colgroup>
<col style="width: 33.333%;">
<col style="width: 33.333%;">
<col style="width: 33.333%;">
</colgroup>
<thead>
<tr>
<th><span class="merged" id="all.4eTLuy"  title="原文:: Name">名前</span></th>
<th><span class="merged" id="all.42bBIm.1"  title="原文:: Value">値</span></th>
<th><span class="merged" id="all.4JM9z7.46"  title="原文:: Description">説明</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class=""><span class="merged" id="all.3ffl6H" style='background-color:yellow' title="原文 : COHERENCE_CLUSTER">COHERENCE_CLUSTER</span></td>
<td class=""><span class="merged" id="all.1XunTw"  title="原文:: storage">ストレージ</span></td>
<td class=""><span class="merged" id="all.3PSY9v" style='background-color:yellow' title="原文 : This sets the cluster name in Coherence (the same as setting -Dcoherence.cluster=storage)">これにより、Coherenceでクラスタ名が設定されます(<code>-Dcoherence.cluster=storage</code>の設定と同じ)</span></td>
</tr>
<tr>
<td class=""><span class="merged" id="all.2MdIYR" style='background-color:yellow' title="原文 : COHERENCE_WKA">COHERENCE_WKA</span></td>
<td class=""><span class="merged" id="all.1Kp2Wk" style='background-color:yellow' title="原文 : storage-wka">storage-wka</span></td>
<td class=""><span class="merged" id="all.dSVIR.spl1" style='background-color:yellow' title="原文 : This sets the DNS name Coherence will use for discovery of other Pods in cluster.">これにより、Coherenceがクラスタ内の他のポッドの検出に使用するDNS名が設定されます。</span> <span class="merged" id="all.dSVIR.spl2" style='background-color:yellow' title="原文 : It is set to the name of the WKA Service created above.">前に作成したWKA <code>Service</code>の名前に設定されます。</span> </td>
</tr>
<tr>
<td class=""><span class="merged" id="all.3rBCG" style='background-color:yellow' title="原文 : COHERENCE_CACHECONFIG">COHERENCE_CACHECONFIG</span></td>
<td class=""><span class="merged" id="all.3OybXX" style='background-color:yellow' title="原文 : &quot;test-cache-config.xml&quot;">"test-cache-config.xml"</span></td>
<td class=""><span class="merged" id="all.3yOvXY" style='background-color:yellow' title="原文 : This tells Coherence the name of the cache configuration file to use (the same as setting -Dcoherence.cacheconfig=test-cache-config.xml);">これは、使用するキャッシュ構成ファイルの名前をCoherenceに通知します(<code>-Dcoherence.cacheconfig=test-cache-config.xml</code>の設定と同じ)</span></td>
</tr>
</tbody>
</table>
</div>
</div>

<h4 id="_coherence_extend_service"><span class="merged" id="all.1fcedW" style='background-color:yellow' title="原文 : Coherence Extend Service">Coherence拡張サービス</span></h4>
<div class="section">
<p><span class="merged" id="all.uLvDb.spl1" style='background-color:yellow' title="原文 : In the cache configuration used in the image Coherence will run a Coherence Extend proxy service, listening on port 20000.">イメージCoherenceで使用されるキャッシュ構成では、ポート20000でリスニングするCoherence Extendプロキシ・サービスが実行されます。</span> <span class="merged" id="all.uLvDb.spl2" style='background-color:yellow' title="原文 : This port has been exposed in the Coherence container in the StatefulSet and we can also expose it via a Service.">このポートは、<code>StatefulSet</code>のCoherenceコンテナで公開されており、<code>Service</code>を介して公開することもできます。</span> </p>

<pre
lang="yaml"
title="coherence.yaml"
>apiVersion: v1
kind: Service
metadata:
  name: storage-extend
  labels:
    coherence.oracle.com/cluster: test-cluster
    coherence.oracle.com/deployment: storage
    coherence.oracle.com/component: wka-service
spec:
  type: ClusterIP
  ports:
  - name: extend
    port: 20000
    protocol: TCP
    targetPort: extend
  selector:
    coherence.oracle.com/cluster: test-cluster
    coherence.oracle.com/deployment: storage</pre>

<p><span class="merged" id="all.2OfBEt.spl1" style='background-color:yellow' title="原文 : The type of the Service above is ClusterIP, but we could just as easily use a different type depending on how the service will be used.">上記の<code>Service</code>のタイプは<code>ClusterIP</code>ですが、サービスの使用方法に応じて、異なるタイプを使用することもできます。</span> <span class="merged" id="all.2OfBEt.spl2" style='background-color:yellow' title="原文 : For example, we might use ingress, or Istio, or a load balancer if the Extend clients were connecting from outside the Kubernetes cluster.">たとえば、ExtendクライアントがKubernetesクラスタの外部から接続している場合、イングレス、Istioまたはロード・バランサを使用できます。</span> <span class="merged" id="all.2OfBEt.spl3" style='background-color:yellow' title="原文 : In local development we can just port forward to the service above.">ローカル開発では、上のサービスに移植できます。</span> </p>

</div>
</div>
</div>

<h2 id="_deploy_to_kubernetes"><span class="merged" id="all.41fqoB" style='background-color:yellow' title="原文 : Deploy to Kubernetes">Kubernetesにデプロイ</span></h2>
<div class="section">
<p><span class="merged" id="all.Z6U6X.spl1" style='background-color:yellow' title="原文 : We can combine all the snippets of yaml above into a single file and deploy it to Kubernetes.">前述のyamlのすべてのスニペットを1つのファイルに結合し、Kubernetesにデプロイできます。</span> <span class="merged" id="all.Z6U6X.spl2" style='background-color:yellow' title="原文 : The source code for this example contains a file named coherence.yaml containing all the configuration above.">この例のソース・コードには、前述のすべての構成を含む<code>coherence.yaml</code>という名前のファイルが含まれています。</span> <span class="merged" id="all.Z6U6X.spl3" style='background-color:yellow' title="原文 : We can deploy it with the following command:">次のコマンドを使用してデプロイできます:</span> </p>

<pre
lang="bash"

>kubectl apply -f coherence.yaml</pre>

<p><span class="merged" id="all.2VF36S" style='background-color:yellow' title="原文 : We can see all the resources created in Kubernetes by running the following command:">次のコマンドを実行すると、Kubernetesで作成されたすべてのリソースを表示できます:</span></p>

<pre
lang="bash"

>kubectl get all</pre>

<p><span class="merged" id="all.3pkFbl" style='background-color:yellow' title="原文 : Which will display something like the following:">次のような内容が表示されます:</span></p>

<pre


>NAME            READY   STATUS    RESTARTS   AGE
pod/storage-0   1/1     Running   0          19s
pod/storage-1   1/1     Running   0          17s
pod/storage-2   1/1     Running   0          16s

NAME                     TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)     AGE
service/storage-extend   ClusterIP   10.105.78.34   &lt;none&gt;        20000/TCP   19s
service/storage-sts      ClusterIP   None           &lt;none&gt;        7/TCP       19s
service/storage-wka      ClusterIP   None           &lt;none&gt;        7/TCP       19s

NAME                       READY   AGE
statefulset.apps/storage   3/3     19s</pre>

<p><span class="merged" id="all.kDGmp.spl1" style='background-color:yellow' title="原文 : We can see there are three Pods as we specified three replicas.">3つのレプリカを指定しているため、<code>Pods</code>が3つあることがわかります。</span> <span class="merged" id="all.kDGmp.spl2" style='background-color:yellow' title="原文 : The three Services we specified have been created.">指定した3つの<code>Services</code>が作成されました。</span> <span class="merged" id="all.kDGmp.spl3" style='background-color:yellow' title="原文 : Finally, the StatefulSet exists and has three ready replicas.">最後に、<code>StatefulSet</code>が存在し、3つの準備ができたレプリカがあります。</span> </p>

</div>

<h2 id="_connect_an_extend_client"><span class="merged" id="all.3cdXip" style='background-color:yellow' title="原文 : Connect an Extend Client">拡張クライアントの接続</span></h2>
<div class="section">
<p><span class="merged" id="all.3H5wgY.spl1" style='background-color:yellow' title="原文 : Now we have a Coherence cluster running in Kubernetes we can try connecting a simple Extend client.">これで、KubernetesでCoherenceクラスタが実行され、単純なExtendクライアントの接続を試みます。</span> <span class="merged" id="all.3H5wgY.spl2" style='background-color:yellow' title="原文 : For this example we will use the test client Maven project to run the client.">この例では、テスト・クライアントのMavenプロジェクトを使用してクライアントを実行します。</span> </p>

<p><span class="merged" id="all.17KV74.spl1" style='background-color:yellow' title="原文 : To connect from our local dev machine into the server we will use port-forward in this example.">ローカル開発マシンからサーバーに接続するには、この例ではポート・フォワードを使用します。</span> <span class="merged" id="all.17KV74.spl2" style='background-color:yellow' title="原文 : We could have configured ingress and load balancing, etc. but for local dev and test port-forward is simple and easy.">イングレスや負荷分散などを構成できましたが、ローカルな開発とテスト用ポート転送は簡単で簡単です。</span> </p>

<p><span class="merged" id="all.1Dtnly.spl1" style='background-color:yellow' title="原文 : The client is configured to connect to an Extend proxy listening on 127.0.0.1:20000.">クライアントは、<code>127.0.0.1:20000</code>でリスニングしているExtendプロキシに接続するように構成されています。</span> <span class="merged" id="all.1Dtnly.spl2" style='background-color:yellow' title="原文 : The server we have deployed into Kubernetes is listening also listening on port 20000 via the storage-extend service.">Kubernetesにデプロイしたサーバーは、<code>storage-extend</code>サービスを介してポート20000でリスニングしています。</span> <span class="merged" id="all.1Dtnly.spl3" style='background-color:yellow' title="原文 : If we run a port-forward process that forwards port 20000 on our local machine to port 20000 of the service we can connect the client without needing any other configuration.">ポート20000をローカル・マシン上のポート20000に転送するポート・フォワード・プロセスを実行すると、その他の構成を必要とせずにクライアントを接続できます。</span> </p>

<pre
lang="bash"

>kubectl port-forward service/storage-extend 20000:20000</pre>

<p><span class="merged" id="all.39Wklj" style='background-color:yellow' title="原文 : Now in another terminal window, we can run the test client from the test-client/ directory execute the following command:">別の端末ウィンドウで、<code>test-client/</code>ディレクトリからテスト・クライアントを実行して次のコマンドを実行できます:</span></p>

<pre
lang="bash"

>mvn exec:java</pre>

<p><span class="merged" id="all.2n6oZx.spl1" style='background-color:yellow' title="原文 : This will start a Coherence interactive console which will eventually print the Map (?): prompt.">これにより、最終的に<code>Map (?):</code>プロンプトが出力されるCoherence対話型コンソールが起動します。</span> <span class="merged" id="all.2n6oZx.spl2" style='background-color:yellow' title="原文 : The console is now waiting for commands, so we can go ahead and create a cache.">コンソールがコマンドを待機しているため、先に進んでキャッシュを作成できます。</span> </p>

<p><span class="merged" id="all.49DVjn.spl1" style='background-color:yellow' title="原文 : At the Map (?): prompt type the command cache test and press enter."><code>Map (?):</code>プロンプトで、コマンド<code>cache test</code>を入力し、Enterを押します。</span> <span class="merged" id="all.49DVjn.spl2" style='background-color:yellow' title="原文 : This will create a cache named test">これにより、<code>test</code>という名前のキャッシュが作成されます</span> </p>

<pre


>Map (?): cache test</pre>

<p><span class="merged" id="all.33AoGe" style='background-color:yellow' title="原文 : We should see output something like this:">次のように出力されます:</span></p>

<pre


>2021-09-17 12:25:12.143/14.600 Oracle Coherence CE 21.12.1 &lt;Info&gt; (thread=com.tangosol.net.CacheFactory.main(), member=1): Loaded cache configuration from "file:/Users/jonathanknight/dev/Projects/GitOracle/coherence-operator-3.0/examples/no-operator/test-client/target/classes/client-cache-config.xml"
2021-09-17 12:25:12.207/14.664 Oracle Coherence CE 21.12.1 &lt;D5&gt; (thread=com.tangosol.net.CacheFactory.main(), member=1): Created cache factory com.tangosol.net.ExtensibleConfigurableCacheFactory

Cache Configuration: test
  SchemeName: remote
  ServiceName: RemoteCache
  ServiceDependencies: DefaultRemoteCacheServiceDependencies{RemoteCluster=null, RemoteService=Proxy, InitiatorDependencies=DefaultTcpInitiatorDependencies{EventDispatcherThreadPriority=10, RequestTimeoutMillis=30000, SerializerFactory=null, TaskHungThresholdMillis=0, TaskTimeoutMillis=0, ThreadPriority=10, WorkerThreadCount=0, WorkerThreadCountMax=2147483647, WorkerThreadCountMin=0, WorkerThreadPriority=5}{Codec=null, FilterList=[], PingIntervalMillis=0, PingTimeoutMillis=30000, MaxIncomingMessageSize=0, MaxOutgoingMessageSize=0}{ConnectTimeoutMillis=30000, RequestSendTimeoutMillis=30000}{LocalAddress=null, RemoteAddressProviderBldr=com.tangosol.coherence.config.builder.WrapperSocketAddressProviderBuilder@35f8cdc1, SocketOptions=SocketOptions{LingerTimeout=0, KeepAlive=true, TcpNoDelay=true}, SocketProvideBuilderr=com.tangosol.coherence.config.builder.SocketProviderBuilder@1e4cf40, isNameServiceAddressProvider=false}}{DeferKeyAssociationCheck=false}

Map (test):</pre>

<p><span class="merged" id="all.fh6Nl" style='background-color:yellow' title="原文 : The cache named test has been created and prompt has changed to Map (test):, so this confirms that we have connected to the Extend proxy in the server running in Kubernetes."><code>test</code>という名前のキャッシュが作成され、プロンプトが<code>Map (test):</code>に変更されたため、Kubernetesで実行されているサーバーのExtendプロキシに接続していることが確認されます。</span></p>

<p><span class="merged" id="all.3hbsad" style='background-color:yellow' title="原文 : We can not put data into the cache using the put command"><code>put</code>コマンドを使用してキャッシュにデータを配置することはできません</span></p>

<pre


>Map (test): put key-1 value-1</pre>

<p><span class="merged" id="all.3T6neG" style='background-color:yellow' title="原文 : The command above puts an entry into the test cache with a key of &quot;key-1&quot; and a value of &quot;value-1&quot; and will print the previous value mapped to the &quot;key-1&quot; key, which in this case is null.">前述のコマンドは、<code>"key-1"</code>のキーと<code>"value-1"</code>の値を使用して<code>test</code>キャッシュにエントリを配置し、<code>"key-1"</code>キーにマップされた前の値を出力します(この場合は<code>null</code>)。</span></p>

<pre


>Map (test): put key-1 value-1
null

Map (test):</pre>

<p><span class="merged" id="all.1g63tO" style='background-color:yellow' title="原文 : We can now do a get command to fetch the entry we just put, which should print value-1 and re-display the command prompt."><code>get</code>コマンドを実行して、先ほど入力したエントリを取得できるようになりました。<code>value-1</code>を出力し、コマンド・プロンプトを再表示します。</span></p>

<pre


>Map (test): get key-1
value-1

Map (test):</pre>

<p><span class="merged" id="all.zAEtu" style='background-color:yellow' title="原文 : To confirm we really have connected to the server we can kill the console wil ctrl-C, restart it and execute the cache and get commands again.">サーバーに実際に接続していることを確認するために、コンソールwil ctrl-Cを強制終了し、再起動して、<code>cache</code>および<code>get</code>コマンドを再度実行できます。</span></p>

<pre


>Map (?): cache test

... output removed for brevity ...

Map (test): get key-1
value-1

Map (test):</pre>

<p><span class="merged" id="all.1eGhLJ" style='background-color:yellow' title="原文 : We can see above that the get command returned value-1 which we previously inserted.">前述のとおり、getコマンドは以前に挿入した<code>value-1</code>を返しました。</span></p>

</div>

<h2 id="_clean_up"><span class="merged" id="all.yltYa" style='background-color:yellow' title="原文 : Clean-UP">クリーンアップ</span></h2>
<div class="section">
<p><span class="merged" id="all.2D53a" style='background-color:yellow' title="原文 : We can now exit the test client by pressing ctrl-C, stop the port-forward process with crtl-C and undeploy the server:">ctrl-Cキーを押してテスト・クライアントを終了し、crtl-Cでポート転送プロセスを停止し、サーバーをアンデプロイできるようになりました:</span></p>

<pre
lang="bash"

>kubectl delete -f coherence.yaml</pre>

</div>
</doc-view>
<!-- pages/examples/no-operator/02_metrics/README.js -->
<doc-view>

<h2 id="_enabling_coherence_metrics"><span class="merged" id="all.2rkDXW" style='background-color:yellow' title="原文 : Enabling Coherence Metrics">Coherenceメトリクスの有効化</span></h2>
<div class="section">
<p><span class="merged" id="all.1Qo2lk.spl1" style='background-color:yellow' title="原文 : This example shows how to deploy a simple Coherence cluster in Kubernetes manually, and enabling the Pods in that cluster to expose a http endpoint to allow access to Coherence metrics.">この例は、Kubernetesに単純なCoherenceクラスタを手動でデプロイし、そのクラスタ内のポッドがhttpエンドポイントを公開してCoherenceメトリクスへのアクセスを許可する方法を示しています。</span> <span class="merged" id="all.1Qo2lk.spl2" style='background-color:yellow' title="原文 : This example expands on the StatefulSet used in the first simple deployment example.">この例では、最初の単純なデプロイメント例で使用されている<code>StatefulSet</code>を展開します。</span> </p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.16"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.2ZhQJ8" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/no-operator/02_metrics" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>
<p><span class="merged" id="all.3Hthfg.1"  title="原文:: Prerequisites"><strong>前提条件</strong></span></p>

<p><span class="merged" id="all.3yNzBq.1" style='background-color:yellow' title="原文 : This example assumes that you have already built the example server image.">この例では、サンプル・サーバー・イメージがすでにビルドされていることを前提としています。</span></p>

</div>

<h2 id="_create_the_kubernetes_resources"><span class="merged" id="all.3N5M6P.1" style='background-color:yellow' title="原文 : Create the Kubernetes Resources">Kubernetesリソースの作成</span></h2>
<div class="section">
<p><span class="merged" id="all.MeDZj.spl1" style='background-color:yellow' title="原文 : In the simple server example we created some Services and a StatefulSet that ran a Coherence cluster in Kubernetes.">単純なサーバー例では、KubernetesでCoherenceクラスタを実行する<code>Services</code>および<code>StatefulSet</code>を作成しました。</span> <span class="merged" id="all.MeDZj.spl2" style='background-color:yellow' title="原文 : In this example we will just cover the additional configurations we need to make to expose Coherence metrics.">この例では、Coherenceメトリクスを公開するために必要な追加の構成について説明します。</span> <span class="merged" id="all.MeDZj.spl3" style='background-color:yellow' title="原文 : We will not bother repeating the configuration for the Services for the StatefulSet and well known addressing or the Service for exposing Extend."><code>StatefulSet</code>の<code>Services</code>の構成と、よく知られているアドレス指定またはExtendを公開するサービスの構成は繰り返しません。</span> <span class="merged" id="all.MeDZj.spl4" style='background-color:yellow' title="原文 : We will assume they are already part of our yaml file.">すでにyamlファイルの一部であるとします。</span> </p>

<p><span class="merged" id="all.4JONyh" style='background-color:yellow' title="原文 : The coherence-metrics.yaml file that is part of the source for this example contains all those resources.">この例のソースの一部である<code>coherence-metrics.yaml</code>ファイルには、これらのすべてのリソースが含まれます。</span></p>


<h3 id="_the_statefulset"><span class="merged" id="all.2HBpXt.1" style='background-color:yellow' title="原文 : The StatefulSet">StatefulSet</span></h3>
<div class="section">
<p><span class="merged" id="all.2cxmas.spl1" style='background-color:yellow' title="原文 : To expose Coherence metrics we just need to change the StatefulSet to set either the system properties or environment variables to enable metrics.">Coherenceメトリクスを公開するには、<code>StatefulSet</code>を変更して、メトリクスを有効にするためにシステム・プロパティまたは環境変数を設定する必要があります。</span> <span class="merged" id="all.2cxmas.spl2" style='background-color:yellow' title="原文 : We will also add a container port to the expose metrics endpoint.">また、メトリクスの公開エンドポイントにコンテナ・ポートを追加します。</span> </p>

<pre
lang="yaml"
title="coherence.yaml"
>apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: storage
spec:
  selector:
    matchLabels:
      coherence.oracle.com/cluster: test-cluster
      coherence.oracle.com/deployment: storage
  serviceName: storage-sts
  replicas: 3
  template:
    metadata:
      labels:
        coherence.oracle.com/cluster: test-cluster
        coherence.oracle.com/deployment: storage
    spec:
      containers:
        - name: coherence
          image: simple-coherence:1.0.0
          command:
            - java
          args:
            - -cp
            - "@/app/jib-classpath-file"
            - -Xms1800m
            - -Xmx1800m
            - "@/app/jib-main-class-file"
          env:
            - name: COHERENCE_CLUSTER
              value: storage
            - name: COHERENCE_WKA
              value: storage-wka
            - name: COHERENCE_CACHECONFIG
              value: "test-cache-config.xml"
            - name: COHERENCE_METRICS_HTTP_ENABLED
              value: "true"
          ports:
            - name: extend
              containerPort: 20000
            - name: metrics
              containerPort: 9612</pre>

<p><span class="merged" id="all.kjM6s.spl1" style='background-color:yellow' title="原文 : The yaml above is identical to that used in the simple server example apart from: * We added the COHERENCE_METRICS_HTTP_ENABLED environment variable with a value of &quot;true&quot;.">前述のyamlは、単純なサーバー例で使用されているものと異なります: * <code>"true"</code>の値を持つ<code>COHERENCE_METRICS_HTTP_ENABLED</code>環境変数を追加しました。</span> <span class="merged" id="all.kjM6s.spl2" style='background-color:yellow' title="原文 : Instead of this we could have added -Dcoherence.metrics.http.enabled=true to the args: list to set the coherence.metrics.http.enabled system property to true.">かわりに、<code>-Dcoherence.metrics.http.enabled=true</code>を<code>args:</code>リストに追加して、<code>coherence.metrics.http.enabled</code>システム・プロパティをtrueに設定できます。</span> <span class="merged" id="all.kjM6s.spl3" style='background-color:yellow' title="原文 : Recent versions of Coherence work with both system properties or environment variables, and we just chose to use environment variables in this example. * We added a port named metrics with a port value of 9612, which is the default port that the Coherence metrics endpoint binds to.">Coherenceの最新バージョンは、システム・プロパティまたは環境変数の両方で動作し、この例では環境変数を使用することを選択しました。* <code>metrics</code>という名前のポートを<code>9612</code> (Coherenceメトリクス・エンドポイントがバインドするデフォルトのポート)で追加しました。</span> </p>

</div>
</div>

<h2 id="_deploy_the_cluster"><span class="merged" id="all.2yd3h4" style='background-color:yellow' title="原文 : Deploy the Cluster">クラスタのデプロイ</span></h2>
<div class="section">
<p><span class="merged" id="all.3rJyaU.spl1" style='background-color:yellow' title="原文 : We can combine all the snippets of yaml above into a single file and deploy it to Kubernetes.">前述のyamlのすべてのスニペットを1つのファイルに結合し、Kubernetesにデプロイできます。</span> <span class="merged" id="all.3rJyaU.spl2" style='background-color:yellow' title="原文 : The source code for this example contains a file named coherence-metrics.yaml containing all the configuration above.">この例のソース・コードには、前述のすべての構成を含む<code>coherence-metrics.yaml</code>という名前のファイルが含まれています。</span> <span class="merged" id="all.3rJyaU.spl3" style='background-color:yellow' title="原文 : We can deploy it with the following command:">次のコマンドを使用してデプロイできます:</span> </p>

<pre
lang="bash"

>kubectl apply -f coherence-metrics.yaml</pre>

<p><span class="merged" id="all.3IrzHw" style='background-color:yellow' title="原文 : We can see all the resources created in Kubernetes are the same as the simple server example:">Kubernetesで作成されたすべてのリソースが、単純なサーバーの例と同じであることを確認できます:</span></p>

<pre
lang="bash"

>kubectl get all</pre>

<p><span class="merged" id="all.3pkFbl.1" style='background-color:yellow' title="原文 : Which will display something like the following:">次のような内容が表示されます:</span></p>

<pre


>pod/storage-0   1/1     Running   0          10s
pod/storage-1   1/1     Running   0          7s
pod/storage-2   1/1     Running   0          6s

NAME                     TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)     AGE
service/kubernetes       ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP     158d
service/storage-extend   ClusterIP   10.102.198.218   &lt;none&gt;        20000/TCP   10s
service/storage-sts      ClusterIP   None             &lt;none&gt;        7/TCP       10s
service/storage-wka      ClusterIP   None             &lt;none&gt;        7/TCP       10s

NAME                       READY   AGE
statefulset.apps/storage   3/3     10s</pre>

</div>

<h2 id="_retrieve_metrics"><span class="merged" id="all.CwdJ9" style='background-color:yellow' title="原文 : Retrieve Metrics">メトリクスの取得</span></h2>
<div class="section">
<p><span class="merged" id="all.18kQff.spl1" style='background-color:yellow' title="原文 : To test that we can access metrics we will port-forward to one of the Pods and use curl to get the metrics.">メトリクスにアクセスできることをテストするには、<code>Pods</code>のいずれかにポート・フォワードし、<code>curl</code>を使用してメトリクスを取得します。</span> <span class="merged" id="all.18kQff.spl2" style='background-color:yellow' title="原文 : We can choose any of the three Pods to test, or repeat the test for each Pod.">テストする3つの<code>Pods</code>のいずれかを選択するか、<code>Pod</code>ごとにテストを繰り返します。</span> <span class="merged" id="all.18kQff.spl3" style='background-color:yellow' title="原文 : In this example, we’ll just port-forward local port 9612 to port 9612 in pod/storage-0.">この例では、ポート転送ローカル・ポート9612を<code>pod/storage-0</code>のポート9612にのみ行います。</span> </p>

<pre
lang="bash"

>kubectl port-forward pod/storage-0 9612:9612</pre>

<p><span class="merged" id="all.3TCT1F.spl1" style='background-color:yellow' title="原文 : Now in another terminal we can run the curl command to get metrics.">別の端末で、<code>curl</code>コマンドを実行してメトリクスを取得できます。</span> <span class="merged" id="all.3TCT1F.spl2" style='background-color:yellow' title="原文 : As we are using port forwarding the host will be 127.0.0.1 and the port will be 9612.">ポート転送を使用しているため、ホストは<code>127.0.0.1</code>になり、ポートは<code>9612</code>になります。</span> </p>

<pre
lang="bash"

>curl -X GET http://127.0.0.1:9612/metrics</pre>

<p><span class="merged" id="all.Zjgwk.spl1" style='background-color:yellow' title="原文 : This should then bring back all the Coherence metrics for pod/storage-0.">これにより、<code>pod/storage-0</code>のすべてのCoherenceメトリクスが戻されます。</span> <span class="merged" id="all.Zjgwk.spl2" style='background-color:yellow' title="原文 : The default format of the response is Prometheus text format.">レスポンスのデフォルトの形式は、Prometheusテキスト形式です。</span> </p>

<p><span class="merged" id="all.eONzf.spl1" style='background-color:yellow' title="原文 : We can also retrieve individual metrics by name.">名前で個々のメトリクスを取得することもできます。</span> <span class="merged" id="all.eONzf.spl2" style='background-color:yellow' title="原文 : For example, we can get the Coherence.Cluster.Size metric:">たとえば、<code>Coherence.Cluster.Size</code>メトリックを取得できます:</span> </p>

<pre
lang="bash"

>curl -X GET http://127.0.0.1:9612/metrics/Coherence.Cluster.Size</pre>

<p><span class="merged" id="all.12I7cm" style='background-color:yellow' title="原文 : which will display something like this:">次のように表示されます:</span></p>

<pre
lang="bash"

>vendor:coherence_cluster_size{cluster="storage", version="21.12.1"} 3</pre>

<p><span class="merged" id="all.QChSF" style='background-color:yellow' title="原文 : This displays the metric name in Prometheus format vendor:coherence_cluster_size, the metric labels cluster=&quot;storage&quot;, version=&quot;21.12.1&quot; and the metric value, in this case 3 as there are three cluster members because we specified a replicas value of 3 in the StatefulSet.">これにより、メトリック名がPrometheus形式<code>vendor:coherence_cluster_size</code>、メトリック・ラベル<code>cluster="storage", version="21.12.1"</code>およびメトリック値(この例では、<code>StatefulSet</code>でレプリカ値3を指定したため、3つのクラスタ・メンバーがあるため<code>3</code>)で表示されます。</span></p>

<p><span class="merged" id="all.1xtOLt" style='background-color:yellow' title="原文 : We can also receive the same response as json by using either the accepted media type header &quot;Accept: application/json&quot;:">受け入れられるメディア・タイプ・ヘッダー<code>"Accept: application/json"</code>を使用して、<code>json</code>と同じレスポンスを受信することもできます :</span></p>

<pre
lang="bash"

>curl -X GET -H "Accept: application/json" http://127.0.0.1:9612/metrics/Coherence.Cluster.Size</pre>

<p><span class="merged" id="all.3OaEKn" style='background-color:yellow' title="原文 : Or by using the .json suffix on the URL">または、URLの<code>.json</code>サフィクスを使用</span></p>

<pre
lang="bash"

>curl -X GET http://127.0.0.1:9612/metrics/Coherence.Cluster.Size.json</pre>

<p><span class="merged" id="all.2c0wuB" style='background-color:yellow' title="原文 : Both requests will display something like this:">どちらのリクエストも、次のように表示されます:</span></p>

<pre
lang="bash"

>[{"name":"Coherence.Cluster.Size","tags":{"cluster":"storage","version":"21.12.1"},"scope":"VENDOR","value":3}]</pre>

<p><span class="merged" id="all.ksXec" style='background-color:yellow' title="原文 : We have now verified that the Pods in the cluster are producing metrics.">クラスタ内の<code>Pods</code>がメトリクスを生成していることを確認しました。</span></p>

</div>

<h2 id="_using_prometheus"><span class="merged" id="all.3TplMG" style='background-color:yellow' title="原文 : Using Prometheus">Prometheusの使用</span></h2>
<div class="section">
<p><span class="merged" id="all.1lDPH5.spl1" style='background-color:yellow' title="原文 : One of the most common ways to analyse metrics in Kubernetes is by using Prometheus.">Kubernetesでメトリクスを分析する最も一般的な方法の1つは、Prometheusを使用することです。</span> <span class="merged" id="all.1lDPH5.spl2" style='background-color:yellow' title="原文 : The recommended way to do this is to deploy Prometheus inside your Kubernetes cluster so that it can scrape metrics directly from Pods.">推奨される方法は、<code>Pods</code>から直接メトリクスをスクレイプできるように、Kubernetesクラスタ内にPrometheusをデプロイすることです。</span> <span class="merged" id="all.1lDPH5.spl3" style='background-color:yellow' title="原文 : Whilst Prometheus can be installed outside the Kubernetes cluster, this introduces a much more complicated set-up.">PrometheusはKubernetesクラスタの外部にインストールできますが、より複雑なセット・アップが導入されます。</span> <span class="merged" id="all.1lDPH5.spl4" style='background-color:yellow' title="原文 : If using Prometheus externally to the Kubernetes cluster, the approach recommended by Prometheus is to use federation, which we show in an example below.">Prometheusを外部でKubernetesクラスタに対して使用する場合、Prometheusで推奨されるアプローチはフェデレーションを使用することです(次の例を参照)。</span> </p>


<h3 id="_install_prometheus"><span class="merged" id="all.3NplFl.1" style='background-color:yellow' title="原文 : Install Prometheus">Prometheusのインストール</span></h3>
<div class="section">
<p><span class="merged" id="all.2pwIuP.spl1" style='background-color:yellow' title="原文 : The simplest way to install Prometheus is to follow the instructions in the Prometheus Operator Quick Start page.">Prometheusをインストールする最も簡単な方法は、Prometheusオペレータの<a href="https://prometheus-operator.dev/docs/getting-started/quick-start/" id="" target="_blank" >「クイック・スタート」</a>ページの指示に従うことです。</span> <span class="merged" id="all.2pwIuP.spl2" style='background-color:yellow' title="原文 : Prometheus can then be accessed as documented in the Access Prometheus section of the Quick Start page.">Prometheusには、<a href="https://prometheus-operator.dev/docs/getting-started/quick-start/#access-prometheus" id="" target="_blank" >「クイック・スタートのPrometheusセクションにアクセス」</a>ページの説明に従ってアクセスできます。</span> </p>

<p><span class="merged" id="all.1iyvjL" style='background-color:yellow' title="原文 : As described in the Prometheus docs we can create a port-forward process to the Prometheus Service.">Prometheusドキュメントで説明したように、Prometheus <code>Service</code>へのポート転送プロセスを作成できます。</span></p>

<pre
lang="bash"

>kubectl --namespace monitoring port-forward svc/prometheus-k8s 9090</pre>

<p><span class="merged" id="all.1NgURv" style='background-color:yellow' title="原文 : Then point our browser to http://localhost:9090 to access the Prometheus UI.">次に、ブラウザを<a href="http://localhost:9090" id="" target="_blank" >http://localhost:9090</a>に指定して、Prometheus UIにアクセスします。</span></p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="Prometheus UI" src="./images/img/prom.png" /> </v-card-text> </v-card>

<p><span class="merged" id="all.4MkOCO" style='background-color:yellow' title="原文 : At this stage there will be no Coherence metrics, but we’ll change that in the next section.">この段階ではCoherenceメトリクスはありませんが、次のセクションで変更を行います。</span></p>

</div>

<h3 id="_create_a_servicemonitor"><span class="merged" id="all.10DFaD" style='background-color:yellow' title="原文 : Create a ServiceMonitor">ServiceMonitorの作成</span></h3>
<div class="section">
<p><span class="merged" id="all.1IlogT.spl1" style='background-color:yellow' title="原文 : The out of the box Prometheus install uses ServiceMonitor resources to determine which Pods to scrape metrics from.">標準のPrometheusインストールでは、<code>ServiceMonitor</code>リソースを使用して、メトリクスをスクレイプするポッドを決定します。</span> <span class="merged" id="all.1IlogT.spl2" style='background-color:yellow' title="原文 : We can therefore configure Prometheus to scrape our Coherence cluster metrics by adding a Service and ServiceMonitor.">したがって、<code>Service</code>および<code>ServiceMonitor</code>を追加して、Coherenceクラスタ・メトリクスをスクレイプするようにPrometheusを構成できます。</span> </p>

<p><span class="merged" id="all.1T3s7G.spl1" style='background-color:yellow' title="原文 : A Prometheus ServiceMonitor, as the name suggests, monitors a Service so we need to create a Service to expose the metrics port.">名前が示すPrometheus <code>ServiceMonitor</code>は、<code>Service</code>を監視するため、メトリクス・ポートを公開するために<code>Service</code>を作成する必要があります。</span> <span class="merged" id="all.1T3s7G.spl2" style='background-color:yellow' title="原文 : We are not going to access this Service ourselves, so it does not need to be a load balancer, in fact it can just be a headless service.">この<code>Service</code>には自分からアクセスしないため、ロード・バランサである必要はありません。実際、ヘッドレス・サービスである可能性があります。</span> <span class="merged" id="all.1T3s7G.spl3" style='background-color:yellow' title="原文 : Prometheus uses the Service to locate the Pods that it should scrape.">Prometheusは、<code>Service</code>を使用して、スクレイプするポッドを特定します。</span> </p>

<p><span class="merged" id="all.4Fm56u" style='background-color:yellow' title="原文 : The yaml below is a simple headless service that has a selector that matches labels in our Coherence cluster Pods.">次のyamlは、Coherenceクラスタ<code>Pods</code>のラベルに一致するセレクタを持つ単純なヘッドレス・サービスです。</span></p>

<pre
lang="yaml"
title="prometheus-metrics.yaml"
>apiVersion: v1
kind: Service
metadata:
  name: storage-metrics
  labels:
    coherence.oracle.com/cluster: test-cluster
    coherence.oracle.com/deployment: storage
    coherence.oracle.com/component: metrics-service
spec:
  type: ClusterIP
  ports:
  - name: metrics
    port: 9612
    targetPort: metrics
  selector:
    coherence.oracle.com/cluster: test-cluster
    coherence.oracle.com/deployment: storage</pre>

<p><span class="merged" id="all.4gKZ5n" style='background-color:yellow' title="原文 : We can now create a Prometheus ServiceMonitor that tells Prometheus about the Service to use.">使用する<code>Service</code>についてPrometheusに指示するPrometheus <code>ServiceMonitor</code>を作成できるようになりました。</span></p>

<pre
lang="yaml"
title="prometheus-metrics.yaml"
>apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: storage-metrics
  labels:
    coherence.oracle.com/cluster: test-cluster
    coherence.oracle.com/deployment: storage
    coherence.oracle.com/component: service-monitor
spec:
  endpoints:
  - port: metrics
  selector:
    matchLabels:
        coherence.oracle.com/cluster: test-cluster
        coherence.oracle.com/deployment: storage
        coherence.oracle.com/component: metrics-service</pre>

<p><span class="merged" id="all.3Eifql" style='background-color:yellow' title="原文 : The ServiceMonitor above contains a single endpoint that scrapes the port named metrics in any Service with labels matching those in the matchLabels array, which in this case are the labels we applied to the storage-metrics service above.">前述の<code>ServiceMonitor</code>には、任意の<code>Service</code>で<code>metrics</code>という名前のポートを廃棄する単一のエンドポイントが含まれており、ラベルは<code>matchLabels</code>配列のポートと一致します。この場合、前述の<code>storage-metrics</code>サービスに適用したラベルになります。</span></p>

<p><span class="merged" id="all.2XU06I" style='background-color:yellow' title="原文 : The full specification of what can be in a ServiceMonitor can be found in the Prometheus ServiceMonitorSpec documentation."><code>ServiceMonitor</code>で使用できる内容の完全な仕様は、Prometheus <a href="https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#servicemonitorspec" id="" target="_blank" >ServiceMonitorSpec</a>ドキュメントに記載されています。</span></p>

<p><span class="merged" id="all.2THAOZ.spl1" style='background-color:yellow' title="原文 : We can combine both of the above pieces of yaml into a single file and deploy them.">前述のyamlの両方を1つのファイルに結合し、デプロイできます。</span> <span class="merged" id="all.2THAOZ.spl2" style='background-color:yellow' title="原文 : The example source code contains a file named prometheus-metrics.yaml that contains the yaml above.">ソース・コードの例には、前述のyamlを含む<code>prometheus-metrics.yaml</code>という名前のファイルが含まれています。</span> <span class="merged" id="all.2THAOZ.spl3" style='background-color:yellow' title="原文 : Create the Service and ServiceMonitor in the same Kubernetes namespace as the Coherence cluster.">Coherenceクラスタと同じKubernetesネームスペースに<code>Service</code>および<code>ServiceMonitor</code>を作成します。</span> </p>

<pre
lang="bash"

>kubectl apply -f prometheus-metrics.yaml</pre>

<p><span class="merged" id="all.FhWyD.spl1" style='background-color:yellow' title="原文 : It can sometimes take a minute or two for Prometheus to discover the ServiceMonitor and start to scrape metrics from the Pods.">Prometheusで<code>ServiceMonitor</code>を検出し、ポッドからメトリクスをスクレイプするために1分または2分かかることがあります。</span> <span class="merged" id="all.FhWyD.spl2" style='background-color:yellow' title="原文 : Once this happens it should be possible to see Coherence metrics for the cluster in Prometheus.">これが発生したら、PrometheusでクラスタのCoherenceメトリクスを確認できます。</span> </p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="Prometheus UI" src="./images/img/prom-coh.png" /> </v-card-text> </v-card>

<p><span class="merged" id="all.qYN4J" style='background-color:yellow' title="原文 : As shown above, the vendor:coherence_cluster_size metric has been scraped from all three Pods and as expected all Pods have a cluster size value of 3.">前述のように、<code>vendor:coherence_cluster_size</code>メトリックは3つの<code>Pods</code>すべてからスクレイプされ、すべての<code>Pods</code>のクラスタ・サイズ値は<code>3</code>です。</span></p>

</div>

<h3 id="_federated_prometheus_metrics"><span class="merged" id="all.uXfl5" style='background-color:yellow' title="原文 : Federated Prometheus Metrics">フェデレーテッドPrometheusメトリクス</span></h3>
<div class="section">
<p><span class="merged" id="all.4G6fnz.spl1" style='background-color:yellow' title="原文 : Prometheus Federation is the recommended way to scale Prometheus and to make metrics from inside Kubernetes available in a Prometheus instance outside of Kubernetes.">Prometheusフェデレーションは、Prometheusをスケーリングし、Kubernetesの外部のPrometheusインスタンスでKubernetes内からメトリクスを使用できるようにすることをお薦めします。</span> <span class="merged" id="all.4G6fnz.spl2" style='background-color:yellow' title="原文 : Instead of the external Prometheus instance needing to be configured to locate and connect to Pods inside Kubernetes, it only needs an ingress into Prometheus running inside Kubernetes and can scrape all the metrics from there.">Kubernetes内の<code>Pods</code>を検索して接続するように構成する必要がある外部Prometheusインスタンスではなく、Kubernetes内で実行されているPrometheusへのイングレスのみが必要で、そこからすべてのメトリクスをスクレイプできます。</span> <span class="merged" id="all.4G6fnz.spl3" style='background-color:yellow' title="原文 : More details can be found in the Prometheus Federation documentation.">詳細は、<a href="https://prometheus.io/docs/prometheus/latest/federation/" id="" target="_blank" >「Prometheusフェデレーション」</a>ドキュメントを参照してください。</span> </p>

<p><span class="merged" id="all.3rtbdX" style='background-color:yellow' title="原文 : We can install a local Prometheus instance as described in the Prometheus Getting Started guide."><a href="https://prometheus.io/docs/prometheus/latest/getting_started/" id="" target="_blank" >「Prometheusはじめに」</a>ガイドの説明に従って、ローカルPrometheusインスタンスをインストールできます。</span></p>

<p><span class="merged" id="all.1YDT7.spl1" style='background-color:yellow' title="原文 : In the Prometheus installation directory we can edit the prometheus.yml file to configure Prometheus to scrape the federation endpoint of Prometheus inside Kubernetes.">Prometheusインストール・ディレクトリでは、<code>prometheus.yml</code>ファイルを編集して、Kubernetes内のPrometheusのフェデレーション・エンドポイントをスクレイプするようにPrometheusを構成できます。</span> <span class="merged" id="all.1YDT7.spl2" style='background-color:yellow' title="原文 : We need to add the federation configuration to the scrape_configs: section as shown below:">次に示すように、フェデレーション構成を<code>scrape_configs:</code>セクションに<strong>「追加」</strong>する必要があります:</span> </p>

<pre
lang="yaml"
title="prometheus.yml"
>scrape_configs:
  - job_name: 'federate'
    scrape_interval: 15s
    honor_labels: true
    metrics_path: '/federate'
    params:
      'match[]':
        - '{__name__=~"vendor:coherence_.*"}'
    static_configs:
      - targets:
        - '127.0.0.1:9091'</pre>

<p><span class="merged" id="all.1rhQZj.spl1" style='background-color:yellow' title="原文 : You will notice that we have used 127.0.0.1:9091 as the target address."><code>127.0.0.1:9091</code>をターゲット・アドレスとして使用していることがわかります。</span> <span class="merged" id="all.1rhQZj.spl2" style='background-color:yellow' title="原文 : This is because when we run our local Prometheus instance it will bind to port 9090 so when we run the port-forward process to allow connections into Prometheus in the cluster we cannot use port 9090, so we will forward local port 9091 to the Prometheus service port 9090 in Kubernetes.">これは、ローカルPrometheusインスタンスを実行するとポート9090にバインドされるため、ポート・フォワード・プロセスを実行してクラスタ内のPrometheusへの接続を許可するときにポート<code>9090</code>を使用できないため、ローカル・ポート<code>9091</code>をKubernetesのPrometheusサービス・ポート<code>9090</code>に転送します。</span> </p>

<p><span class="merged" id="all.2vs5XM" style='background-color:yellow' title="原文 : In the params: section we have specified that the &apos;match[]&apos;: field only federates metrics that have a name that starts with vendor:coherence_ so in this example we only federate Coherence metrics."><code>params:</code>セクションで、<code>'match[]':</code>フィールドに<code>vendor:coherence_</code>で始まる名前のメトリクスのみがフェデレートされるように指定しました。この例では、Coherenceメトリクスのみをフェデレートします。</span></p>

<p><span class="merged" id="all.3AJNBQ" style='background-color:yellow' title="原文 : Run the port-forward process so that when we start our local Prometheus instance it can connect to Prometheus in Kubernetes.">ポート・フォワード・プロセスを実行して、ローカルPrometheusインスタンスを起動するとKubernetesのPrometheusに接続できるようにします。</span></p>

<pre
lang="bash"

>kubectl --namespace monitoring port-forward svc/prometheus-k8s 9091:9090</pre>

<p><span class="merged" id="all.36BKMa.spl1" style='background-color:yellow' title="原文 : We’re now forwarding local port 9091 to Prometheus service port 9090 so we can run the local Prometheus instance.">ローカル・ポート9091をPrometheusサービス・ポート9090に転送して、ローカルPrometheusインスタンスを実行できます。</span> <span class="merged" id="all.36BKMa.spl2" style='background-color:yellow' title="原文 : As described in the Prometheus documentation, from the Prometheus installation directory run the command:">Prometheusドキュメントの説明に従って、Prometheusインストール・ディレクトリから次のコマンドを実行します:</span> </p>

<pre
lang="bash"

>./prometheus --config.file=prometheus.yml</pre>

<p><span class="merged" id="all.1ILfIQ.spl1" style='background-color:yellow' title="原文 : Once Prometheus starts we can point our browser to http://localhost:9090 to access the prometheus UI.">Prometheusを起動すると、ブラウザを<a href="http://localhost:9090" id="" target="_blank" >http://localhost:9090</a>にポイントしてprometheus UIにアクセスできます。</span> <span class="merged" id="all.1ILfIQ.spl2" style='background-color:yellow' title="原文 : After a short pause, Prometheus should start to scrap emetrics from inside Kubernetes and we should see them in the UI">短い一時停止の後、PrometheusはKubernetes内からメトリクスの廃棄を開始し、UIでそれらを表示</span> </p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="Prometheus UI" src="./images/img/prom-federate.png" /> </v-card-text> </v-card>

</div>
</div>

<h2 id="_grafana"><span class="merged" id="all.1v7sdF"  title="原文:: Grafana">Grafana</span></h2>
<div class="section">
<p><span class="merged" id="all.3VCI5k.spl1" style='background-color:yellow' title="原文 : We could now install Grafana and configure it to connect to Prometheus, either the local instance or the instance inside Kubernetes.">これで、Grafanaをインストールし、ローカル・インスタンスまたはKubernetes内のインスタンスPrometheusに接続するように構成できます。</span> <span class="merged" id="all.3VCI5k.spl2" style='background-color:yellow' title="原文 : The Coherence Operator provides a number of dashboards that can imported into Grafana.">Coherence Operatorには、Grafanaにインポートできる多数のダッシュボードが用意されています。</span> <span class="merged" id="all.3VCI5k.spl3" style='background-color:yellow' title="原文 : See the Operator Import Grafana Dashboards documentation.">オペレータの<a href="https://oracle.github.io/coherence-operator/docs/latest/#/docs/metrics/030_importing" id="" target="_blank" >「Grafanaダッシュボードのインポート」</a>ドキュメントを参照してください。</span> </p>

</div>
</doc-view>
<!-- pages/examples/no-operator/03_extend_tls/README.js -->
<doc-view>

<h2 id="_secure_coherence_extend_with_tls"><span class="merged" id="all.3EgJbG" style='background-color:yellow' title="原文 : Secure Coherence Extend with TLS">TLSによるセキュアなCoherence拡張</span></h2>
<div class="section">
<p><span class="merged" id="all.2RtAoY.spl1" style='background-color:yellow' title="原文 : This example shows how to deploy a simple Coherence cluster in Kubernetes manually, and secure the Extend endpoint using TLS.">この例では、Kubernetesに単純なCoherenceクラスタを手動でデプロイし、TLSを使用して拡張エンドポイントを保護する方法を示します。</span> <span class="merged" id="all.2RtAoY.spl2" style='background-color:yellow' title="原文 : This example expands on the StatefulSet used in the first simple deployment example.">この例では、最初の単純なデプロイメント例で使用されている<code>StatefulSet</code>を展開します。</span> </p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.17"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.4Q3rp" style='background-color:yellow' title="原文 :  The complete source code for this example is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />この例の完全なソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/no-operator/03_extend_tls" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>
<p><span class="merged" id="all.3Hthfg.2"  title="原文:: Prerequisites"><strong>前提条件</strong></span></p>

<p><span class="merged" id="all.3yNzBq.2" style='background-color:yellow' title="原文 : This example assumes that you have already built the example server image.">この例では、サンプル・サーバー・イメージがすでにビルドされていることを前提としています。</span></p>

<p><span class="merged" id="all.2KS6Lu.spl1" style='background-color:yellow' title="原文 : There are a number of ways to use TLS to secure ingress in Kubernetes.">Kubernetesには、TLSを使用してイングレスを保護する方法が多数あります。</span> <span class="merged" id="all.2KS6Lu.spl2" style='background-color:yellow' title="原文 : We could use a load balancer Service and terminate TLS at the load balance, or we could use an add-on such as Istio to manage TLS ingress.">ロード・バランサ<code>Service</code>を使用してTLSをロード・バランシングで終了することも、Istioなどのアドオンを使用してTLSイングレスを管理することもできます。</span> <span class="merged" id="all.2KS6Lu.spl3" style='background-color:yellow' title="原文 : Both of those approaches would require no changes to the Coherence server, as the server would not know TLS was being used.">サーバーがTLSが使用されていることを認識していないため、これらのアプローチの両方でCoherenceサーバーを変更する必要はありません。</span> <span class="merged" id="all.2KS6Lu.spl4" style='background-color:yellow' title="原文 : The Coherence Operator Examples contains examples of using TLS with Coherence and using Istio."><a href="https://oracle.github.io/coherence-operator/docs/latest/#/examples/010_overview" id="" target="_blank" >「Coherence Operatorの例」</a>には、CoherenceでTLSを使用し、Istioを使用する例が含まれています。</span> <span class="merged" id="all.2KS6Lu.spl5" style='background-color:yellow' title="原文 : The TLS example also shows how to use Kubernetes built in certificate management to create keys and certificates.">TLSの例は、証明書管理に組み込まれたKubernetesを使用してキーおよび証明書を作成する方法も示しています。</span> </p>

<p><span class="merged" id="all.1LGoMt" style='background-color:yellow' title="原文 : In this example we are going to actually change the server to use TLS for its Extend endpoints.">この例では、ExtendエンドポイントにTLSを使用するようにサーバーを実際に変更します。</span></p>

</div>

<h2 id="_create_certs_and_java_keystores"><span class="merged" id="all.3uq6Q1" style='background-color:yellow' title="原文 : Create Certs and Java Keystores">証明書およびJavaキーストアの作成</span></h2>
<div class="section">
<p><span class="merged" id="all.217gYs.spl1" style='background-color:yellow' title="原文 : To use TLS we will need some certificates and Java keystore files.">TLSを使用するには、いくつかの証明書およびJavaキーストア・ファイルが必要です。</span> <span class="merged" id="all.217gYs.spl2" style='background-color:yellow' title="原文 : For testing and examples, self-signed certs are fine.">テストや例については、自己署名証明書は良好です。</span> <span class="merged" id="all.217gYs.spl3" style='background-color:yellow' title="原文 : The source code for this example contains some keystores. * server.jks contains the server key and certificate files * trust.jks contains the CA certificate used to create the client and server certificates">この例のソース・コードには、いくつかのキーストアが含まれます。* <code>server.jks</code>には、サーバー・キーおよび証明書ファイルが含まれます* <code>trust.jks</code>には、クライアント証明書およびサーバー証明書の作成に使用されるCA証明書が含まれます</span> </p>

<p><span class="merged" id="all.3wefj.spl1" style='background-color:yellow' title="原文 : The keystores are password protected, the passwords are stored in files with the example source.">キーストアはパスワードで保護され、パスワードはソースの例を含むファイルに格納されます。</span> <span class="merged" id="all.3wefj.spl2" style='background-color:yellow' title="原文 : We will use these files to securely provide the passwords to the client and server instead of hard coding or providing credentials via system properties or environment variables. * server-password.txt is the password to open the server.jks keystore * server-key-password.txt is the password for the key file stored in the server.jks keystore * trust-password.txt is the password to open the trust.jks` keystore.">これらのファイルを使用して、ハード・コーディングやシステム・プロパティまたは環境変数を介した資格証明の提供ではなく、クライアントおよびサーバーにパスワードを安全に提供します。* <code>server-password.txt</code>は、<code>server.jks</code>キーストアを開くためのパスワードです* <code>server-key-password.txt</code>は、<code>server.jks</code>キーストアに格納されているキー・ファイルのパスワードです* <code>trust-password.txt</code>は、trust.jks`キーストアを開くためのパスワードです。</span> </p>

</div>

<h2 id="_configure_coherence_extend_tls"><span class="merged" id="all.2MIJtZ" style='background-color:yellow' title="原文 : Configure Coherence Extend TLS">Coherence拡張TLSの構成</span></h2>
<div class="section">
<p><span class="merged" id="all.3F8ZDv.spl1" style='background-color:yellow' title="原文 : The Coherence documentation explains how to Use TLS Secure Communication.">Coherenceドキュメントでは、<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/secure/using-ssl-secure-communication.html#GUID-90E20139-3945-4993-9048-7FBC93B243A3" id="" target="_blank" >「TLSセキュア通信の使用」</a>の方法について説明します。</span> <span class="merged" id="all.3F8ZDv.spl2" style='background-color:yellow' title="原文 : This example is going to use a standard approach to securing Extend with TLS.">この例では、TLSでExtendを保護するための標準アプローチを使用します。</span> <span class="merged" id="all.3F8ZDv.spl3" style='background-color:yellow' title="原文 : To provide the keystores and credentials the example will make use of Kubernetes Secrets to mount those files as Volumes in the StatefulSet.">キーストアおよび資格証明を提供するために、この例ではKubernetes <code>Secrets</code>を使用して、これらのファイルを<code>StatefulSet</code>に<code>Volumes</code>としてマウントします。</span> <span class="merged" id="all.3F8ZDv.spl4" style='background-color:yellow' title="原文 : This is much more flexible and secure than baking them into an application’s code or image.">これは、アプリケーションのコードまたはイメージにベイク処理するよりも、非常に柔軟で安全です。</span> </p>


<h3 id="_configure_the_extend_proxy"><span class="merged" id="all.4QltDO" style='background-color:yellow' title="原文 : Configure the Extend Proxy">拡張プロキシの構成</span></h3>
<div class="section">
<p><span class="merged" id="all.3ew1y0" style='background-color:yellow' title="原文 : If we look at the test-cache-config.xml file in the simple-server example project, we can see the configuration for the Extend proxy."><code>simple-server</code>サンプル・プロジェクトの<code>test-cache-config.xml</code>ファイルを見ると、Extendプロキシの構成が表示されます。</span></p>

<pre
lang="xml"
title="test-cache-config.xml"
>    &lt;proxy-scheme&gt;
      &lt;service-name&gt;Proxy&lt;/service-name&gt;
      &lt;acceptor-config&gt;
        &lt;tcp-acceptor&gt;
          &lt;socket-provider system-property="coherence.extend.socket.provider"/&gt;
          &lt;local-address&gt;
            &lt;address system-property="coherence.extend.address"&gt;0.0.0.0&lt;/address&gt;
            &lt;port system-property="coherence.extend.port"&gt;20000&lt;/port&gt;
          &lt;/local-address&gt;
        &lt;/tcp-acceptor&gt;
      &lt;/acceptor-config&gt;
      &lt;autostart&gt;true&lt;/autostart&gt;
    &lt;/proxy-scheme&gt;</pre>

<p><span class="merged" id="all.1XwAHI.spl1" style='background-color:yellow' title="原文 : The important item to note above is the socket-provider element, which is empty, but can be set using the coherence.extend.socket.provider system property (or the COHERENCE_EXTEND_SOCKET_PROVIDER environment variable).">前述の重要なアイテムは、<code>socket-provider</code>要素です。これは空ですが、<code>coherence.extend.socket.provider</code>システム・プロパティ(または<code>COHERENCE_EXTEND_SOCKET_PROVIDER</code>環境変数)を使用して設定できます。</span> <span class="merged" id="all.1XwAHI.spl2" style='background-color:yellow' title="原文 : By default, a plain TCP socket will be used, but by setting the specified property a different socket can be used, in this case we’ll use one configured for TLS.">デフォルトでは、プレーンTCPソケットが使用されますが、指定されたプロパティを設定すると別のソケットを使用できます。この場合、TLS用に構成されたものを使用します。</span> </p>

</div>

<h3 id="_socket_providers"><span class="merged" id="all.yoYxF" style='background-color:yellow' title="原文 : Socket Providers">ソケット・プロバイダ</span></h3>
<div class="section">
<p><span class="merged" id="all.2Byzyb.spl1" style='background-color:yellow' title="原文 : In Coherence, socket providers can be configured in the operational configuration file, typically named tangosol-coherence-override.xml.">Coherenceでは、ソケット・プロバイダをオペレーショナル構成ファイル(通常は<code>tangosol-coherence-override.xml</code>という名前)で構成できます。</span> <span class="merged" id="all.2Byzyb.spl2" style='background-color:yellow' title="原文 : The source code for the simple-server module contains this file with the TLS socket provider already configured."><code>simple-server</code>モジュールのソース・コードには、TLSソケット・プロバイダがすでに構成されているこのファイルが含まれています。</span> </p>

<p><span class="merged" id="all.2vnxrE" style='background-color:yellow' title="原文 : We need to configure two things in the operational configuration file, the socket provider and some password providers to supply the keystore credentials.">キーストア資格証明を提供するために、操作構成ファイル、ソケット・プロバイダおよび一部のパスワード・プロバイダに2つのものを構成する必要があります。</span></p>

<p><span class="merged" id="all.2gwQV7" style='background-color:yellow' title="原文 : The socket-provider section looks like this:"><code>socket-provider</code>セクションは次のようになります:</span></p>

<pre
lang="xml"
title="tangosol-coherence-override.xml"
>&lt;socket-providers&gt;
    &lt;socket-provider id="extend-tls"&gt;
        &lt;ssl&gt;
            &lt;protocol&gt;TLS&lt;/protocol&gt;
            &lt;identity-manager&gt;
                &lt;algorithm&gt;SunX509&lt;/algorithm&gt;
                &lt;key-store&gt;
                    &lt;url system-property="coherence.extend.keystore"&gt;file:server.jks&lt;/url&gt;
                    &lt;password-provider&gt;
                        &lt;name&gt;identity-password-provider&lt;/name&gt;
                    &lt;/password-provider&gt;
                    &lt;type&gt;JKS&lt;/type&gt;
                &lt;/key-store&gt;
                &lt;password-provider&gt;
                    &lt;name&gt;key-password-provider&lt;/name&gt;
                &lt;/password-provider&gt;
            &lt;/identity-manager&gt;
            &lt;trust-manager&gt;
                &lt;algorithm&gt;SunX509&lt;/algorithm&gt;
                &lt;key-store&gt;
                    &lt;url system-property="coherence.extend.truststore"&gt;file:trust.jks&lt;/url&gt;
                    &lt;password-provider&gt;
                        &lt;name&gt;trust-password-provider&lt;/name&gt;
                    &lt;/password-provider&gt;
                    &lt;type&gt;JKS&lt;/type&gt;
                &lt;/key-store&gt;
            &lt;/trust-manager&gt;
            &lt;socket-provider&gt;tcp&lt;/socket-provider&gt;
        &lt;/ssl&gt;
    &lt;/socket-provider&gt;
&lt;/socket-providers&gt;</pre>

<p><span class="merged" id="all.36KlKz.spl1" style='background-color:yellow' title="原文 : There is a socket-provider with the id of extend-tls.">idが<code>extend-tls</code>の<code>socket-provider</code>があります。</span> <span class="merged" id="all.36KlKz.spl2" style='background-color:yellow' title="原文 : This id is the value that must be used to tell the Extend proxy which socket provider to use, i.e. using the system property -Dcoherence.extend.socket.provider=extend-tls">このidは、つまり、システム・プロパティ<code>-Dcoherence.extend.socket.provider=extend-tls</code>を使用して、使用するソケット・プロバイダをExtendプロキシに通知するために使用する必要がある値です</span> </p>

<p><span class="merged" id="all.1Fmiep.spl1" style='background-color:yellow' title="原文 : The &lt;identity-manager&gt; element specifies the keystore containing the key and certificate file that the proxy should use."><code>&lt;identity-manager></code>要素は、プロキシが使用するキーおよび証明書ファイルを含むキーストアを指定します。</span> <span class="merged" id="all.1Fmiep.spl2" style='background-color:yellow' title="原文 : This is set to file:server.jks but can be overridden using the coherence.extend.keystore system property, or corresponding environment variable.">これは<code>file:server.jks</code>に設定されていますが、<code>coherence.extend.keystore</code>システム・プロパティまたは対応する環境変数を使用してオーバーライドできます。</span> <span class="merged" id="all.1Fmiep.spl3" style='background-color:yellow' title="原文 : The password for the &lt;identity-manager&gt; keystore is configured to be provided by the password-provider named identity-password-provider."><code>&lt;identity-manager></code>キーストアのパスワードは、<code>identity-password-provider</code>という名前の<code>password-provider</code>によって指定されるように構成されています。</span> <span class="merged" id="all.1Fmiep.spl4" style='background-color:yellow' title="原文 : The password for the key file in the identity keystore is configured to be provided by the password-provider named key-password-provider.">アイデンティティ・キーストア内のキー・ファイルのパスワードは、<code>key-password-provider</code>という名前の<code>password-provider</code>によって指定されるように構成されます。</span> </p>

<p><span class="merged" id="all.4NDLwI.spl1" style='background-color:yellow' title="原文 : The &lt;trust-manager&gt; element contains the configuration for the trust keystore containing the CA certs used to validate client certificates."><code>&lt;trust-manager></code>要素には、クライアント証明書のバリデートに使用されるCA証明書を含むトラスト・キーストアの構成が含まれます。</span> <span class="merged" id="all.4NDLwI.spl2" style='background-color:yellow' title="原文 : By default, the keystore name is file:trust.jks but this can be overridden using the coherence.extend.truststore system property or corresponding environment variable.">デフォルトでは、キーストア名は<code>file:trust.jks</code>ですが、<code>coherence.extend.truststore</code>システム・プロパティまたは対応する環境変数を使用してオーバーライドできます。</span> <span class="merged" id="all.4NDLwI.spl3" style='background-color:yellow' title="原文 : The password for the trust keystore is configured to be provided by the password-provider named trust-password-provider.">トラスト・キーストアのパスワードは、<code>trust-password-provider</code>という名前の<code>password-provider</code>によって指定されるように構成されています。</span> </p>

<p><span class="merged" id="all.1fEvG3" style='background-color:yellow' title="原文 : There are three &lt;password-provider&gt; elements in the configuration above, so we need to also configure these three password providers in the operational configuration file.">前述の構成には3つの<code>&lt;password-provider></code>要素があるため、これらの3つのパスワード・プロバイダも操作構成ファイルで構成する必要があります。</span></p>

<pre
lang="xml"
title="tangosol-coherence-override.xml"
>&lt;password-providers&gt;
    &lt;password-provider id="trust-password-provider"&gt;
        &lt;class-name&gt;com.oracle.coherence.examples.tls.FileBasedPasswordProvider&lt;/class-name&gt;
        &lt;init-params&gt;
            &lt;init-param&gt;
                &lt;param-name&gt;fileName&lt;/param-name&gt;
                &lt;param-value system-property="coherence.trust.password.file"&gt;trust-password.txt&lt;/param-value&gt;
            &lt;/init-param&gt;
        &lt;/init-params&gt;
    &lt;/password-provider&gt;
    &lt;password-provider id="identity-password-provider"&gt;
        &lt;class-name&gt;com.oracle.coherence.examples.tls.FileBasedPasswordProvider&lt;/class-name&gt;
        &lt;init-params&gt;
            &lt;init-param&gt;
                &lt;param-name&gt;fileName&lt;/param-name&gt;
                &lt;param-value system-property="coherence.identity.password.file"&gt;server-password.txt&lt;/param-value&gt;
            &lt;/init-param&gt;
        &lt;/init-params&gt;
    &lt;/password-provider&gt;
    &lt;password-provider id="key-password-provider"&gt;
        &lt;class-name&gt;com.oracle.coherence.examples.tls.FileBasedPasswordProvider&lt;/class-name&gt;
        &lt;init-params&gt;
            &lt;init-param&gt;
                &lt;param-name&gt;fileName&lt;/param-name&gt;
                &lt;param-value system-property="coherence.key.password.file"&gt;server-key-password.txt&lt;/param-value&gt;
            &lt;/init-param&gt;
        &lt;/init-params&gt;
    &lt;/password-provider&gt;
&lt;/password-providers&gt;</pre>

<p><span class="merged" id="all.8GuxE.spl1" style='background-color:yellow' title="原文 : There are three password providers declared above, each with an &apos;id&apos; attribute corresponding to the names used in the socket provider configuration.">前述の3つのパスワード・プロバイダが宣言されており、それぞれがソケット・プロバイダ構成で使用される名前に対応するid属性を持ちます。</span> <span class="merged" id="all.8GuxE.spl2" style='background-color:yellow' title="原文 : Each password provider is identical, they just have a different password file name.">各パスワード・プロバイダは同一であり、パスワード・ファイル名が異なります。</span> </p>

<p><span class="merged" id="all.M1aFf.spl1" style='background-color:yellow' title="原文 : The class-name element refers to a class named com.oracle.coherence.examples.tls.FileBasedPasswordProvider, which is in the source code for both the server and client."><code>class-name</code>要素は、<code>com.oracle.coherence.examples.tls.FileBasedPasswordProvider</code>というクラスを指し、これはサーバーとクライアントの両方のソース・コードにあります。</span> <span class="merged" id="all.M1aFf.spl2" style='background-color:yellow' title="原文 : This is an implementation of the com.tangosol.net.PasswordProvider interface which can read a password from a file.">これは、ファイルからパスワードを読み取ることができる<code>com.tangosol.net.PasswordProvider</code>インタフェースの実装です。</span> </p>

<p><span class="merged" id="all.3erFTG.spl1" style='background-color:yellow' title="原文 : Each password provider’s password file name can be set using the relevant system property or environment variable.">各パスワード・プロバイダのパスワード・ファイル名は、関連するシステム・プロパティまたは環境変数を使用して設定できます。</span> <span class="merged" id="all.3erFTG.spl2" style='background-color:yellow' title="原文 : The name of the trust keystore password file is set using the coherence.trust.password.file system property.">トラスト・キーストアのパスワード・ファイルの名前は、<code>coherence.trust.password.file</code>システム・プロパティを使用して設定されます。</span> <span class="merged" id="all.3erFTG.spl3" style='background-color:yellow' title="原文 : The name of the identity keystore is set using the coherence.identity.password.file system property.">アイデンティティ・キーストアの名前は、<code>coherence.identity.password.file</code>システム・プロパティを使用して設定されます。</span> <span class="merged" id="all.3erFTG.spl4" style='background-color:yellow' title="原文 : The nam eof the identity key file password file is set using the coherence.key.password.file system property.">アイデンティティ・キー・ファイルのパスワード・ファイルは、<code>coherence.key.password.file</code>システム・プロパティを使用して設定されます。</span> </p>

<p><span class="merged" id="all.2bieIV.spl1" style='background-color:yellow' title="原文 : The simple server image has all the configuration above built in so there is nothing additional to do to use TLS other than set the system properties or environment variables.">単純なサーバー・イメージには、前述のすべての構成が組み込まれているため、システム・プロパティまたは環境変数を設定する以外にTLSを使用することは追加されません。</span> <span class="merged" id="all.2bieIV.spl2" style='background-color:yellow' title="原文 : The test client uses the same configurations, so it can also be run using TLS by setting the relevant system properties.">テスト・クライアントは同じ構成を使用するため、関連するシステム・プロパティを設定してTLSを使用して実行することもできます。</span> </p>

</div>
</div>

<h2 id="_create_the_kubernetes_resources"><span class="merged" id="all.3N5M6P.2" style='background-color:yellow' title="原文 : Create the Kubernetes Resources">Kubernetesリソースの作成</span></h2>
<div class="section">
<p><span class="merged" id="all.6ni7U" style='background-color:yellow' title="原文 : We can now create the resources we need to run the Cluster with TLS enabled.">TLSを有効にしてクラスタを実行するために必要なリソースを作成できるようになりました。</span></p>


<h3 id="_keystore_secret"><span class="merged" id="all.34xSLM" style='background-color:yellow' title="原文 : Keystore Secret">キーストア・シークレット</span></h3>
<div class="section">
<p><span class="merged" id="all.3OWfdY.spl1" style='background-color:yellow' title="原文 : We first need to supply the keystores and credentials to the Coherence Pods.">最初に、キーストアと資格証明をCoherence <code>Pods</code>に指定する必要があります。</span> <span class="merged" id="all.3OWfdY.spl2" style='background-color:yellow' title="原文 : The secure way to do this in Kubernetes is to use a Secret.">Kubernetesでこれを行う安全な方法は、<code>Secret</code>を使用することです。</span> <span class="merged" id="all.3OWfdY.spl3" style='background-color:yellow' title="原文 : We can create a Secret from the command line using kubectl."><code>kubectl</code>を使用して、コマンドラインから<code>Secret</code>を作成できます。</span> <span class="merged" id="all.3OWfdY.spl4" style='background-color:yellow' title="原文 : From the 03_extend_tls/ directory containing the keystores and password file srun the following command:">キーストアとパスワード・ファイルを含む<code>03_extend_tls/</code>ディレクトリから、次のコマンドを実行します:</span> </p>

<pre
lang="bash"

>kubectl create secret generic coherence-tls \
    --from-file=./server.jks \
    --from-file=./server-password.txt \
    --from-file=./server-key-password.txt \
    --from-file=./trust.jks \
    --from-file=./trust-password.txt</pre>

<p><span class="merged" id="all.31ROyj.spl1" style='background-color:yellow' title="原文 : The command above will create a Secret named coherence-tls containing the files specified.">前述のコマンドでは、指定したファイルを含む<code>coherence-tls</code>という名前の<code>Secret</code>が作成されます。</span> <span class="merged" id="all.31ROyj.spl2" style='background-color:yellow' title="原文 : We can now use the Secret in the cluster’s StatefulSet">クラスタの<code>StatefulSet</code>で<code>Secret</code>を使用できるようになりました</span> </p>

</div>

<h3 id="_statefulset"><span class="merged" id="all.23k6KP"  title="原文: StatefulSet">StatefulSet</span></h3>
<div class="section">
<p><span class="merged" id="all.2jSd9i" style='background-color:yellow' title="原文 : We will expand on the StatefulSet created in the simple server example and add TLS.">単純なサーバー例で作成した<code>StatefulSet</code>を展開して、TLSを追加します。</span></p>

<pre
lang="yaml"
title="coherence-tls.yaml"
>apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: storage
  labels:
    coherence.oracle.com/cluster: test-cluster
    coherence.oracle.com/deployment: storage
    coherence.oracle.com/component: statefulset
spec:
  selector:
    matchLabels:
      coherence.oracle.com/cluster: test-cluster
      coherence.oracle.com/deployment: storage
  serviceName: storage-sts
  replicas: 3
  template:
    metadata:
      labels:
        coherence.oracle.com/cluster: test-cluster
        coherence.oracle.com/deployment: storage
    spec:
      volumes:
        - name: tls
          secret:
            secretName: coherence-tls
      containers:
        - name: coherence
          image: simple-coherence:1.0.0
          volumeMounts:
            - mountPath: /certs
              name: tls
          command:
            - java
          args:
            - -cp
            - "@/app/jib-classpath-file"
            - -Xms1800m
            - -Xmx1800m
            - "@/app/jib-main-class-file"
          env:
            - name: COHERENCE_CLUSTER
              value: storage
            - name: COHERENCE_WKA
              value: storage-wka
            - name: COHERENCE_CACHECONFIG
              value: test-cache-config.xml
            - name: COHERENCE_EXTEND_SOCKET_PROVIDER
              value: extend-tls
            - name: COHERENCE_EXTEND_KEYSTORE
              value: file:/certs/server.jks
            - name: COHERENCE_IDENTITY_PASSWORD_FILE
              value: /certs/server-password.txt
            - name: COHERENCE_KEY_PASSWORD_FILE
              value: /certs/server-key-password.txt
            - name: COHERENCE_EXTEND_TRUSTSTORE
              value: file:/certs/trust.jks
            - name: COHERENCE_TRUST_PASSWORD_FILE
              value: /certs/trust-password.txt
          ports:
            - name: extend
              containerPort: 20000</pre>

<p><span class="merged" id="all.2O6bHY" style='background-color:yellow' title="原文 : The yaml above is identical to the simple server example with the following additions:">前述のyamlは、次の追加とともに単純なサーバーの例と同じです:</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.30dfpQ" style='background-color:yellow' title="原文 : A Volume has been added to the spec section."><code>Volume</code>が<code>spec</code>セクションに追加されました。</span></p>

</li>
</ul>
<div class="listing">
<pre>volumes:
- name: tls
  secret:
    secretName: coherence-tls</pre>
</div>

<p><span class="merged" id="all.2mvS4u" style='background-color:yellow' title="原文 : The volume name is tls and the files to mount to the file system in the Pod come from the coherence-tls secret we created above.">ボリューム名は<code>tls</code>で、ポッド内のファイル・システムにマウントするファイルは、前述の<code>coherence-tls</code>シークレットから取得されます。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3haXFo" style='background-color:yellow' title="原文 : A volumeMount has been added to the Coherence container to map the tls volume to the mount point /certs."><code>tls</code>ボリュームをマウント・ポイント<code>/certs</code>にマップするために、<code>volumeMount</code>がCoherenceコンテナに追加されました。</span></p>

</li>
</ul>
<div class="listing">
<pre>volumeMounts:
  - mountPath: /certs
    name: tls</pre>
</div>

<ul class="ulist">
<li>
<p><span class="merged" id="all.4NsJWE" style='background-color:yellow' title="原文 : A number of environment variables have been added to configure Coherence to use the extend-tls socket provider and the locations of the keystores and password files."><code>extend-tls</code>ソケット・プロバイダ、およびキーストアおよびパスワード・ファイルのロケーションを使用するようにCoherenceを構成するために、いくつかの環境変数が追加されました。</span></p>

</li>
</ul>
<div class="listing">
<pre>- name: COHERENCE_EXTEND_SOCKET_PROVIDER
  value: extend-tls
- name: COHERENCE_EXTEND_KEYSTORE
  value: file:/certs/server.jks
- name: COHERENCE_IDENTITY_PASSWORD_FILE
  value: /certs/server-password.txt
- name: COHERENCE_KEY_PASSWORD_FILE
  value: /certs/server-key-password.txt
- name: COHERENCE_EXTEND_TRUSTSTORE
  value: file:/certs/trust.jks
- name: COHERENCE_TRUST_PASSWORD_FILE
  value: /certs/trust-password.txt</pre>
</div>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.15"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.1omHLr.spl1" style='background-color:yellow' title="原文 : The COHERENCE_EXTEND_KEYSTORE and COHERENCE_EXTEND_TRUSTSTORE values must be URLs."><code>COHERENCE_EXTEND_KEYSTORE</code>および<code>COHERENCE_EXTEND_TRUSTSTORE</code>の値はURLである必要があります。</span> <span class="merged" id="all.1omHLr.spl2" style='background-color:yellow' title="原文 : In this case we refer to files usinf the file: prefix.">この場合、ファイルでは<code>file:</code>プレフィクスを使用します。</span> </p>
</p>
</div>
</div>
</div>

<h2 id="_deploy_to_kubernetes"><span class="merged" id="all.41fqoB.1" style='background-color:yellow' title="原文 : Deploy to Kubernetes">Kubernetesにデプロイ</span></h2>
<div class="section">
<p><span class="merged" id="all.8RXXw" style='background-color:yellow' title="原文 : The source code for this example contains a file named coherence-tls.yaml containing all the configuration above as well as the Services required to run Coherence and expose the Extend port.">この例のソース・コードには、前述のすべての構成を含む<code>coherence-tls.yaml</code>というファイルと、Coherenceを実行してExtendポートを公開するために必要な<code>Services</code>が含まれています。</span></p>

<p><span class="merged" id="all.4aaI7v" style='background-color:yellow' title="原文 : We can deploy it with the following command:">次のコマンドを使用してデプロイできます:</span></p>

<pre
lang="bash"

>kubectl apply -f coherence-tls.yaml</pre>

<p><span class="merged" id="all.30qnc4" style='background-color:yellow' title="原文 : We can see all the resources created in Kubernetes are the same as for the simple server example.">Kubernetesで作成されたすべてのリソースは、単純なサーバー例の場合と同じです。</span></p>

<pre
lang="bash"

>kubectl get all</pre>

<p><span class="merged" id="all.3pkFbl.2" style='background-color:yellow' title="原文 : Which will display something like the following:">次のような内容が表示されます:</span></p>

<pre


>NAME            READY   STATUS    RESTARTS   AGE
pod/storage-0   1/1     Running   0          19s
pod/storage-1   1/1     Running   0          17s
pod/storage-2   1/1     Running   0          16s

NAME                     TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)     AGE
service/storage-extend   ClusterIP   10.105.78.34   &lt;none&gt;        20000/TCP   19s
service/storage-sts      ClusterIP   None           &lt;none&gt;        7/TCP       19s
service/storage-wka      ClusterIP   None           &lt;none&gt;        7/TCP       19s

NAME                       READY   AGE
statefulset.apps/storage   3/3     19s</pre>

</div>

<h2 id="_run_the_client"><span class="merged" id="all.3gmc4i" style='background-color:yellow' title="原文 : Run the Client">クライアントの実行</span></h2>
<div class="section">
<p><span class="merged" id="all.1HIQIt" style='background-color:yellow' title="原文 : If we run the test client using the same instructions as the simple server example, we will run an interactive Coherence console.">単純なサーバー例と同じ手順を使用してテスト・クライアントを実行すると、対話型のCoherenceコンソールが実行されます。</span></p>

<pre
lang="bash"

>cd test-client/
mvn exec:java</pre>

<p><span class="merged" id="all.4Nngfa" style='background-color:yellow' title="原文 : When the Map (?): prompt is displayed we can try to create a cache."><code>Map (?):</code>プロンプトが表示されたら、キャッシュの作成を試行できます。</span></p>

<pre


>Map (?): cache test</pre>

<p><span class="merged" id="all.70rT4" style='background-color:yellow' title="原文 : This will not throw an exception because the client is not using TLS so the server rejected the connection.">クライアントがTLSを使用していないため、サーバーは接続を拒否するため、例外をスローしません。</span></p>

<pre


>2021-09-17 18:19:39.182/12.090 Oracle Coherence CE 21.12.1 &lt;Error&gt; (thread=com.tangosol.net.CacheFactory.main(), member=1): Error while starting service "RemoteCache": com.tangosol.net.messaging.ConnectionException: could not establish a connection to one of the following addresses: [127.0.0.1:20000]
	at com.tangosol.coherence.component.util.daemon.queueProcessor.service.peer.initiator.TcpInitiator.openConnection(TcpInitiator.CDB:139)
	at com.tangosol.coherence.component.util.daemon.queueProcessor.service.peer.Initiator.ensureConnection(Initiator.CDB:11)
	at com.tangosol.coherence.component.net.extend.remoteService.RemoteCacheService.openChannel(RemoteCacheService.CDB:7)
	at com.tangosol.coherence.component.net.extend.RemoteService.ensureChannel(RemoteService.CDB:6)
	at com.tangosol.coherence.component.net.extend.RemoteService.doStart(RemoteService.CDB:11)</pre>


<h3 id="_enable_client_tls"><span class="merged" id="all.3o2LSn" style='background-color:yellow' title="原文 : Enable Client TLS">クライアントTLSの有効化</span></h3>
<div class="section">
<p><span class="merged" id="all.2PKlDv.spl1" style='background-color:yellow' title="原文 : Just like the server, the example test client contains the same operational configuration to configure a socket provider and password providers.">サーバーと同様に、テスト・クライアントの例には、ソケット・プロバイダとパスワード・プロバイダを構成するのと同じ動作構成が含まれます。</span> <span class="merged" id="all.2PKlDv.spl2" style='background-color:yellow' title="原文 : The test client directory also contains copies of the keystores and password files.">テスト・クライアント・ディレクトリには、キーストアとパスワード・ファイルのコピーも含まれています。</span> <span class="merged" id="all.2PKlDv.spl3" style='background-color:yellow' title="原文 : We can therefore run the client with the relevant system properties to enable it to use TLS and connect to the server.">したがって、クライアントを関連するシステム・プロパティで実行して、TLSを使用してサーバーに接続できるようにすることができます。</span> </p>

<p><span class="merged" id="all.Qqyps" style='background-color:yellow' title="原文 : We just need to run the client from the test-client/ directory setting the socket provider system property."><code>test-client/</code>ディレクトリからクライアントを実行して、ソケット・プロバイダのシステム・プロパティを設定する必要があります。</span></p>

<pre
lang="bash"

>cd test-client/
mvn exec:java -Dcoherence.extend.socket.provider=extend-tls</pre>

<p><span class="merged" id="all.3vggl6" style='background-color:yellow' title="原文 : After the client starts we can run the cache command, which should complete without an error.">クライアントの起動後、エラーなしで完了する<code>cache</code>コマンドを実行できます。</span></p>

<pre


>Map (?): cache test</pre>

<p><span class="merged" id="all.3qZRne" style='background-color:yellow' title="原文 : We can see from the output below that the client connected and created a remote cache.">次の出力から、クライアントがリモート・キャッシュに接続して作成されたことがわかります。</span></p>

<pre


>Cache Configuration: test
  SchemeName: remote
  ServiceName: RemoteCache
  ServiceDependencies: DefaultRemoteCacheServiceDependencies{RemoteCluster=null, RemoteService=Proxy, InitiatorDependencies=DefaultTcpInitiatorDependencies{EventDispatcherThreadPriority=10, RequestTimeoutMillis=30000, SerializerFactory=null, TaskHungThresholdMillis=0, TaskTimeoutMillis=0, ThreadPriority=10, WorkerThreadCount=0, WorkerThreadCountMax=2147483647, WorkerThreadCountMin=0, WorkerThreadPriority=5}{Codec=null, FilterList=[], PingIntervalMillis=0, PingTimeoutMillis=30000, MaxIncomingMessageSize=0, MaxOutgoingMessageSize=0}{ConnectTimeoutMillis=30000, RequestSendTimeoutMillis=30000}{LocalAddress=null, RemoteAddressProviderBldr=com.tangosol.coherence.config.builder.WrapperSocketAddressProviderBuilder@5431b4b4, SocketOptions=SocketOptions{LingerTimeout=0, KeepAlive=true, TcpNoDelay=true}, SocketProvideBuilderr=com.tangosol.coherence.config.builder.SocketProviderBuilder@52c85af7, isNameServiceAddressProvider=false}}{DeferKeyAssociationCheck=false}

Map (test):</pre>

<p><span class="merged" id="all.3E8jGT" style='background-color:yellow' title="原文 : Now the client is connected using TLS, we could do puts and gets, or other operations on the cache.">クライアントはTLSを使用して接続され、キャッシュ上のputおよびget、またはその他の操作を実行できます。</span></p>

<p><span class="merged" id="all.rszXS" style='background-color:yellow' title="原文 : To exit from the client press ctrl-C, and uninstall the cluster">クライアントから終了するには、Ctrl+Cを押し、クラスタをアンインストール</span></p>

<pre
lang="bash"

>kubectl delete -f coherence-tls.yaml</pre>

</div>
</div>
</doc-view>
<!-- pages/examples/no-operator/04_istio/README.js -->
<doc-view>

<h2 id="_running_coherence_with_istio"><span class="merged" id="all.1QFdQT" style='background-color:yellow' title="原文 : Running Coherence with Istio">Istioを使用したCoherenceの実行</span></h2>
<div class="section">
<p><span class="merged" id="all.3a6pqe" style='background-color:yellow' title="原文 : This example shows how to deploy a simple Coherence cluster in Kubernetes with Istio.">この例は、Istioを使用してKubernetesに単純なCoherenceクラスタをデプロイする方法を示しています。</span></p>

<p><span class="merged" id="all.2rc0Qi.spl1" style='background-color:yellow' title="原文 : Coherence can be configured to work with Istio, even if Istio is configured in Strict Mode.">IstioがStrictモードで構成されている場合でも、Coherenceは<a href="https://istio.io" id="" target="_blank" >Istio</a>で動作するように構成できます。</span> <span class="merged" id="all.2rc0Qi.spl2" style='background-color:yellow' title="原文 : Coherence caches can be accessed from inside or outside the Kubernetes cluster via Coherence*Extend, REST, and other supported Coherence clients.">Coherenceキャッシュには、Coherence*Extend、RESTおよびその他のサポートされているCoherenceクライアントを介して、Kubernetesクラスタの内部または外部からアクセスできます。</span> <span class="merged" id="all.2rc0Qi.spl3" style='background-color:yellow' title="原文 : Although Coherence itself can be configured to use TLS, when using Istio Coherence cluster members and clients can just use the default socket configurations and Istio will control and route all the traffic over mTLS.">Coherence自体はTLSを使用するように構成できますが、Istio Coherenceクラスタ・メンバーおよびクライアントを使用する場合、デフォルトのソケット構成のみを使用でき、IstioはmTLSを介してすべてのトラフィックを制御およびルーティングします。</span> </p>

</div>

<h2 id="_how_does_coherence_work_with_istio"><span class="merged" id="all.2nSZrv.1" style='background-color:yellow' title="原文 : How Does Coherence Work with Istio?">CoherenceとIstioの連携方法</span></h2>
<div class="section">
<p><span class="merged" id="all.28ymnv.1.spl1" style='background-color:yellow' title="原文 : Istio is a &quot;Service Mesh&quot; so the clue to how Istio works in Kubernetes is in the name, it relies on the configuration of Kubernetes Services.">Istioは「サービス・メッシュ」であるため、KubernetesでIstioがどのように機能するかの手がかりは名前にあり、Kubernetesサービスの構成に依存します。</span> <span class="merged" id="all.28ymnv.1.spl2" style='background-color:yellow' title="原文 : This means that any ports than need to be accessed in Pods, including those using in &quot;Pod to Pod&quot; communication must be exposed via a Service.">つまり、PodからPodへの通信を使用するポートを含め、Podでアクセスする必要があるポートは、サービスを介して公開される必要があります。</span> <span class="merged" id="all.28ymnv.1.spl3" style='background-color:yellow' title="原文 : Usually a Pod can reach any port on another Pod even if it is not exposed in the container spec, but this is not the case when using Istio as only ports exposed by the Envoy proxy are allowed.">通常、ポッドはコンテナ仕様で公開されていない場合でも、別のポッド上の任意のポートに到達できますが、Envoyプロキシによって公開されているポートのみが許可されるため、Istioを使用する場合にはそうではありません。</span> </p>

<p><span class="merged" id="all.3O018H.spl1" style='background-color:yellow' title="原文 : For Coherence cluster membership, this means the cluster port and the local port must be exposed on a Service.">Coherenceクラスタ・メンバーシップの場合、これはクラスタ・ポートとローカル・ポートをサービスで公開する必要があることを意味します。</span> <span class="merged" id="all.3O018H.spl2" style='background-color:yellow' title="原文 : To do this the local port must be configured to be a fixed port instead of the default ephemeral port.">これを行うには、デフォルトのエフェメラル・ポートではなく固定ポートとしてローカル・ポートを構成する必要があります。</span> <span class="merged" id="all.3O018H.spl3" style='background-color:yellow' title="原文 : The default cluster port is 7574 and there is no reason to ever change this when running in containers.">デフォルトのクラスタ・ポートは<code>7574</code>で、コンテナで実行するときにこれを変更する必要はありません。</span> <span class="merged" id="all.3O018H.spl4" style='background-color:yellow' title="原文 : A fixed local port has to be configured for Coherence to work with Istio out of the box.">CoherenceがIstioと連携するように、固定ローカル・ポートをあらかじめ構成しておく必要があります。</span> <span class="merged" id="all.3O018H.spl5" style='background-color:yellow' title="原文 : Additional ports, management port, metrics port, etc. also need to be exposed if they are being used.">追加のポート、管理ポート、メトリクス・ポートなども使用されている場合は公開する必要があります。</span> </p>

<p><span class="merged" id="all.MvZ73.spl1" style='background-color:yellow' title="原文 : Ideally, Coherence clusters are run as a StatefulSet in Kubernetes.">理想的には、CoherenceクラスタはKubernetesでStatefulSetとして実行されます。</span> <span class="merged" id="all.MvZ73.spl2" style='background-color:yellow' title="原文 : This means that the Pods are configured with a host name and a subdomain based on the name of the StatefulSet headless service name, and it is this name that should be used to access Pods.">つまり、ポッドは、StatefulSetヘッドレス・サービス名の名前に基づいてホスト名とサブドメインで構成され、この名前はポッドへのアクセスに使用する必要があります。</span> </p>


<h3 id="_prerequisites"><span class="merged" id="all.2LZvWc.7"  title="原文:: Prerequisites">前提条件</span></h3>
<div class="section">
<p><span class="merged" id="all.2G7Qr4.1" style='background-color:yellow' title="原文 : The instructions assume that you are using a Kubernetes cluster with Istio installed and configured already.">この手順では、Istioがインストールされ、すでに構成されているKubernetesクラスタを使用していることを前提としています。</span></p>


<h4 id="_enable_istio_strict_mode"><span class="merged" id="all.7ms5Q.1" style='background-color:yellow' title="原文 : Enable Istio Strict Mode">Istio Strict Modeの有効化</span></h4>
<div class="section">
<p><span class="merged" id="all.45tmvL.1.spl1" style='background-color:yellow' title="原文 : For this example we make Istio run in &quot;strict&quot; mode so that it will not allow any traffic between Pods outside the Envoy proxy.">この例では、Istioを"strict"モードで実行して、Envoyプロキシ外のPod間のトラフィックを許可しないようにします。</span> <span class="merged" id="all.45tmvL.1.spl2" style='background-color:yellow' title="原文 : If other modes are used, such as permissive, then Istio allows Pod to Pod communication so a cluster may appear to work in permissive mode, when it would not in strict mode.">許容モードなどの他のモードが使用されている場合、IstioはPodからPodへの通信を許可するため、クラスタは厳密モードではない場合に許容モードで動作するように見えます。</span> </p>

<p><span class="merged" id="all.2ipiUk.1" style='background-color:yellow' title="原文 : To set Istio to strict mode create the following yaml file.">Istioをstrictモードに設定するには、次のyamlファイルを作成します。</span></p>

<pre
lang="yaml"
title="istio-strict.yaml"
>apiVersion: security.istio.io/v1beta1
kind: PeerAuthentication
metadata:
  name: "default"
spec:
  mtls:
    mode: STRICT</pre>

<p><span class="merged" id="all.3RfKqi.1" style='background-color:yellow' title="原文 : Install this yaml into the Istio system namespace with the following command:">次のコマンドを使用して、このyamlをIstioシステム・ネームスペースにインストールします:</span></p>

<pre
lang="bash"

>kubectl -n istio-system apply istio-strict.yaml</pre>

</div>
</div>
</div>

<h2 id="_create_a_coherence_cluster"><span class="merged" id="all.1nXToc"  title="原文: Create a Coherence Cluster">Coherenceクラスタの作成</span></h2>
<div class="section">
<p><span class="merged" id="all.YZQ0r.spl1" style='background-color:yellow' title="原文 : The best way to run Coherence cluster members is to use a StatefulSet.">Coherenceクラスタ・メンバーを実行する最適な方法は、StatefulSetを使用することです。</span> <span class="merged" id="all.YZQ0r.spl2" style='background-color:yellow' title="原文 : Multiple StatefulSets can be created that are all part of the same Coherence cluster.">同じCoherenceクラスタの一部である複数のStatefulSetsを作成できます。</span> </p>

<p><span class="merged" id="all.2ehoaH.spl1" style='background-color:yellow' title="原文 : In this example we will run a Coherence cluster using the CE image.">この例では、CEイメージを使用してCoherenceクラスタを実行します。</span> <span class="merged" id="all.2ehoaH.spl2" style='background-color:yellow' title="原文 : This image starts Coherence with health checks enabled on port 6676, an Extend proxy listening on port 20000, a gRPC proxy on port 1408, the cluster port set to 7574.">このイメージは、ポート6676でヘルス・チェックを有効にし、ポート20000でリスニングする拡張プロキシ、ポート1408でgRPCプロキシ、クラスタ・ポートを7574に設定してCoherenceを起動します。</span> <span class="merged" id="all.2ehoaH.spl3" style='background-color:yellow' title="原文 : We will also enable Coherence Management over REST on port 30000, and metrics on port 9612.">また、ポート30000でCoherence Management over RESTを有効にし、ポート9612でメトリクスを有効にします。</span> <span class="merged" id="all.2ehoaH.spl4" style='background-color:yellow' title="原文 : We will set the Coherence local port to a fixed value of 7575.">Coherenceローカル・ポートを固定値7575に設定します。</span> </p>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.16"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.Afdwp.spl1" style='background-color:yellow' title="原文 : Istio has a few requirements for how Kubernetes resources are configured.">Istioには、Kubernetesリソースの構成方法に関するいくつかの要件があります。</span> <span class="merged" id="all.Afdwp.spl2" style='background-color:yellow' title="原文 : One of those is labels, where an app and version label are required to specify the application name that the resource is part of and the version of that application.">その1つはラベルで、リソースが属するアプリケーション名およびアプリケーションのバージョンを指定するには、<code>app</code>および<code>version</code>ラベルが必要です。</span> <span class="merged" id="all.Afdwp.spl3" style='background-color:yellow' title="原文 : All the resources in this example contains those labels.">この例のすべてのリソースには、これらのラベルが含まれています。</span> </p>
</p>
</div>

<h3 id="_cluster_discovery_service"><span class="merged" id="all.r45n9" style='background-color:yellow' title="原文 : Cluster Discovery Service">クラスタ検出サービス</span></h3>
<div class="section">
<p><span class="merged" id="all.2hndcp.spl1" style='background-color:yellow' title="原文 : For Coherence cluster discovery to work in Kubernetes we have to configure Coherence well-known-addresses which requires a headless service.">Coherenceクラスタの検出がKubernetesで機能するには、ヘッドレス・サービスを必要とするCoherenceの既知のアドレスを構成する必要があります。</span> <span class="merged" id="all.2hndcp.spl2" style='background-color:yellow' title="原文 : We cannot use the same headless service then we will create for the StatefulSet because the WKA service must have the publishNotReadyAddresses field set to true, whereas the StatefulSet service does not.">同じヘッドレス・サービスを使用できないため、WKAサービスの<code>publishNotReadyAddresses</code>フィールドは<code>true</code>に設定される必要があり、StatefulSetサービスは設定されないため、StatefulSetに対して作成します。</span> <span class="merged" id="all.2hndcp.spl3" style='background-color:yellow' title="原文 : We would not want the ports accessed via the StatefulSet service to route to unready Pods, but for cluster discovery we must allow unready Pods to be part of the Service.">StatefulSetサービスを介してアクセスされるポートを、準備されていないポッドにルーティングすることは望んでいませんが、クラスタ検出では、準備されていないポッドをサービスの一部にすることを許可する必要があります。</span> </p>

<p><span class="merged" id="all.MMN8O" style='background-color:yellow' title="原文 : The discovery service can be created with yaml like that shown below.">次に示すようなyamlを使用して検出サービスを作成できます。</span></p>

<pre
lang="yaml"
title="wka-service.yaml"
>apiVersion: v1
kind: Service
metadata:
  name: storage-wka    <span class="conum" data-value="1" />
spec:
  clusterIP: None
  publishNotReadyAddresses: true  <span class="conum" data-value="2" />
  selector:                       <span class="conum" data-value="3" />
    app: my-coherence-app
    version: 1.0.0
  ports:
    - name: coherence    <span class="conum" data-value="4" />
      port: 7574
      targetPort: coherence
      appProtocol: tcp</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.45BgmK" style='background-color:yellow' title="原文 : The service name is storeage-wka and this will be used to configure the Coherence WKA address in the cluster.">サービス名は<code>storeage-wka</code>で、これはクラスタ内のCoherence WKAアドレスを構成するために使用されます。</span></li>
<li data-value="2"><span class="merged" id="all.2XsXBK" style='background-color:yellow' title="原文 : The publishNotReadyAddresses field must be set to true"><code>publishNotReadyAddresses</code>フィールドを<code>true</code>に設定する必要があります</span></li>
<li data-value="3"><span class="merged" id="all.3lF1CU" style='background-color:yellow' title="原文 : The selector is configured to match a sub-set of the Pod labels configured in the StatefulSet"><code>selector</code>は、StatefulSetで構成されたポッド・ラベルのサブセットと一致するように構成されます</span></li>
<li data-value="4"><span class="merged" id="all.2QB1OF.spl1" style='background-color:yellow' title="原文 : We do not really need or care about the port for the cluster discovery service, but all Kubernetes services must have at least one port, so here we use the cluster port.">クラスタ検出サービスのポートは実際には必要ありませんが、すべてのKubernetesサービスには少なくとも1つのポートが必要であるため、ここではクラスタ・ポートを使用します。</span> <span class="merged" id="all.2QB1OF.spl2" style='background-color:yellow' title="原文 : We could use any random port, even one that nothing is listening on">ランダムなポートを使用でき、何も聞いていないポートも使用できます</span> </li>
</ul>
</div>

<h3 id="_statefulset_headless_service"><span class="merged" id="all.1hbxdP.1" style='background-color:yellow' title="原文 : StatefulSet Headless Service">StatefulSetヘッドレス・サービス</span></h3>
<div class="section">
<p><span class="merged" id="all.2LGzeI.spl1" style='background-color:yellow' title="原文 : All StatefulSets require a headless Service creating and the name of this Service is specified in the StatefulSet spec.">すべてのStatefulSetsにはヘッドレス・サービスの作成が必要であり、このサービスの名前はStatefulSet仕様で指定されます。</span> <span class="merged" id="all.2LGzeI.spl2" style='background-color:yellow' title="原文 : All the ports mentioned above will be exposed on this service.">前述のすべてのポートが、このサービスで公開されます。</span> <span class="merged" id="all.2LGzeI.spl3" style='background-color:yellow' title="原文 : The yaml for the service could look like this:">サービスのyamlは次のようになります:</span> </p>

<pre
lang="yaml"
title="storage-service.yaml"
>apiVersion: v1
kind: Service
metadata:
  name: storage-headless
spec:
  clusterIP: None
  selector:
    app: my-coherence-app  <span class="conum" data-value="1" />
    version: 1.0.0
  ports:
    - name: coherence              <span class="conum" data-value="2" />
      port: 7574
      targetPort: coherence
      appProtocol: tcp
    - name: coh-local              <span class="conum" data-value="3" />
      port: 7575
      targetPort: coh-local
      appProtocol: tcp
    - name: extend-proxy           <span class="conum" data-value="4" />
      port: 20000
      targetPort: extend-proxy
      appProtocol: tcp
    - name: grpc-proxy             <span class="conum" data-value="5" />
      port: 1408
      targetPort: grpc-proxy
      appProtocol: grpc
    - name: management             <span class="conum" data-value="6" />
      port: 30000
      targetPort: management
      appProtocol: http
    - name: metrics                <span class="conum" data-value="7" />
      port: 9612
      targetPort: metrics
      appProtocol: http</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.u6ytY" style='background-color:yellow' title="原文 : The selector labels will match a sub-set of the labels specified for the Pods in the StatefulSet">セレクタ・ラベルは、StatefulSetのポッドに指定されたラベルのサブセットと一致</span></li>
<li data-value="2"><span class="merged" id="all.xYYSb.spl1" style='background-color:yellow' title="原文 : The Coherence cluster port 7574 is exposed with the name coherence mapping to the container port in the StatefulSet named coherence.">Coherenceクラスタ・ポート7574は、<code>coherence</code>という名前のStatefulSetのコンテナ・ポートへの<code>coherence</code>マッピングという名前で公開されます。</span> <span class="merged" id="all.xYYSb.spl2" style='background-color:yellow' title="原文 : This port has an appProtocol of tcp to tell Istio that the port traffic is raw TCP traffic.">このポートの<code>appProtocol</code>は<code>tcp</code>で、ポート・トラフィックがRAW TCPトラフィックであることをIstioに伝えます。</span> </li>
<li data-value="3"><span class="merged" id="all.1rOxIi" style='background-color:yellow' title="原文 : The Coherence local port 7575 is exposed with the name coh-local mapping to the container port in the StatefulSet named coh-local This port has an appProtocol of tcp to tell Istio that the port traffic is raw TCP traffic.">Coherenceローカル・ポート7575は、<code>coh-local</code>という名前のStatefulSetのコンテナ・ポートへの<code>coh-local</code>マッピングという名前で公開されます。このポートには、ポート・トラフィックがRAW TCPトラフィックであることをIstioに知らせる<code>appProtocol</code>が<code>tcp</code>です。</span></li>
<li data-value="4"><span class="merged" id="all.2msG3w" style='background-color:yellow' title="原文 : The Coherence Extend proxy port 20000 is exposed with the name extend-proxy mapping to the container port in the StatefulSet named extend-proxy This port has an appProtocol of tcp to tell Istio that the port traffic is raw TCP traffic.">Coherence Extendプロキシ・ポート20000は、<code>extend-proxy</code>という名前のStatefulSetのコンテナ・ポートへの<code>extend-proxy</code>マッピングという名前で公開されます。このポートには、ポート・トラフィックがRAW TCPトラフィックであることをIstioに知らせる<code>appProtocol</code>が<code>tcp</code>です。</span></li>
<li data-value="5"><span class="merged" id="all.3H5j6V" style='background-color:yellow' title="原文 : The Coherence gRPC proxy port 1408 is exposed with the name grpc-proxy mapping to the container port in the StatefulSet named grpc-proxy This port has an appProtocol of grpc to tell Istio that the port traffic is gRPC traffic.">Coherence gRPCプロキシ・ポート1408は、<code>grpc-proxy</code>という名前のStatefulSetのコンテナ・ポートへの<code>grpc-proxy</code>マッピングという名前で公開されます。このポートには、ポート・トラフィックがgRPCトラフィックであることをIstioに知らせる<code>appProtocol</code>が<code>grpc</code>です。</span></li>
<li data-value="6"><span class="merged" id="all.144EpA" style='background-color:yellow' title="原文 : The Coherence Management over REST port 30000 is exposed with the name management mapping to the container port in the StatefulSet named management This port has an appProtocol of http to tell Istio that the port traffic is http traffic.">Coherence Management over RESTポート30000は、StatefulSet <code>management</code>という名前のコンテナ・ポートへの<code>management</code>マッピングという名前で公開されます。このポートには、ポート・トラフィックがhttpトラフィックであることをIstioに知らせる<code>appProtocol</code>が<code>http</code>です。</span></li>
<li data-value="7"><span class="merged" id="all.j0V5F" style='background-color:yellow' title="原文 : The Coherence Metrics port 9612 is exposed with the name metrics mapping to the container port in the StatefulSet named metrics This port has an appProtocol of http to tell Istio that the port traffic is http traffic.">Coherenceメトリクス・ポート9612は、<code>metrics</code>という名前のStatefulSetのコンテナ・ポートへの<code>metrics</code>マッピングという名前で公開されています。このポートには、ポート・トラフィックがhttpトラフィックであることをIstioに知らせる<code>appProtocol</code>が<code>http</code>です。</span></li>
</ul>
<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.17"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.Q5DgR.spl1" style='background-color:yellow' title="原文 : Istio requires ports to specify the protocol used for their traffic, and this can be done in two ways.">Istioは、トラフィックに使用するプロトコルを指定するためにポートを必要とします。これは2つの方法で実行できます。</span> <span class="merged" id="all.Q5DgR.spl2" style='background-color:yellow' title="原文 : Either using the appProtocol field for the ports, as shown above.">前述のように、ポートに<code>appProtocol</code>フィールドを使用します。</span> <span class="merged" id="all.Q5DgR.spl3" style='background-color:yellow' title="原文 : Or, prefix the port name with the protocol, so instead of management the port name would be http-management">または、ポート名の前にプロトコルを付けるため、<code>management</code>のかわりに、ポート名は<code>http-management</code>になります</span> </p>
</p>
</div>
</div>

<h3 id="_the_statefulset"><span class="merged" id="all.2HBpXt.2" style='background-color:yellow' title="原文 : The StatefulSet">StatefulSet</span></h3>
<div class="section">
<p><span class="merged" id="all.2e4S8D.spl1" style='background-color:yellow' title="原文 : With the two Services defined, the StatefulSet can now be configured.">2つのサービスを定義すると、StatefulSetを構成できるようになります。</span> <span class="merged" id="all.2e4S8D.spl2"  title="原文:: Istio">Istio</span> </p>

<pre
lang="yaml"
title="storage.yaml"
>apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: storage
  labels:
    app: my-coherence-app
    version: 1.0.0
spec:
  selector:
    matchLabels:
        app: my-coherence-app
        version: 1.0.0
  serviceName: storage-headless  <span class="conum" data-value="1" />
  replicas: 3
  podManagementPolicy: Parallel
  updateStrategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
  template:
    metadata:
      labels:
        app: my-coherence-app
        version: 1.0.0
    spec:
      containers:
        - name: coherence
          image: ghcr.io/oracle/coherence-ce:22.06.7   <span class="conum" data-value="2" />
          env:
            - name: COHERENCE_CLUSTER          <span class="conum" data-value="3" />
              value: "test-cluster"
            - name: NAMESPACE                  <span class="conum" data-value="4" />
              valueFrom:
                fieldRef:
                  fieldPath: "metadata.namespace"
            - name: COHERENCE_WKA                   <span class="conum" data-value="5" />
              value: "storage-wka.${NAMESPACE}.svc"
            - name: COHERENCE_LOCALPORT        <span class="conum" data-value="6" />
              value: "7575"
            - name: COHERENCE_LOCALHOST        <span class="conum" data-value="7" />
              valueFrom:
                fieldRef:
                  fieldPath: "metadata.name"
            - name: COHERENCE_MACHINE          <span class="conum" data-value="8" />
              valueFrom:
                fieldRef:
                  fieldPath: "spec.nodeName"
            - name: COHERENCE_MEMBER           <span class="conum" data-value="9" />
              valueFrom:
                fieldRef:
                  fieldPath: "metadata.name"
            - name: COHERENCE_EXTEND_PORT
              value: "20000"
            - name: COHERENCE_GRPC_SERVER_PORT
              value: "1408"
          ports:
           - name: coherence         <span class="conum" data-value="10" />
             containerPort: 7574
           - name: coh-local
             containerPort: 7575
           - name: extend-proxy
             containerPort: 20000
           - name: grpc-proxy
             containerPort: 1408
           - name: management
             containerPort: 30000
           - name: metrics
             containerPort: 9162
          readinessProbe:            <span class="conum" data-value="11" />
            httpGet:
              path: "/ready"
              port: 6676
              scheme: "HTTP"
          livenessProbe:
            httpGet:
              path: "/healthz"
              port: 6676
              scheme: "HTTP"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.U0MJx" style='background-color:yellow' title="原文 : All StatefulSets require a headless service, in this case the service will be named storage-headless to match the service above">すべてのStatefulSetsにはヘッドレス・サービスが必要です。この場合、サービスは前述のサービスと一致するように<code>storage-headless</code>という名前になります</span></li>
<li data-value="2"><span class="merged" id="all.4L2bGc" style='background-color:yellow' title="原文 : This example is using the CE 22.06 image">この例では、CE 22.06イメージを使用しています</span></li>
<li data-value="3"><span class="merged" id="all.47rNuF" style='background-color:yellow' title="原文 : The COHERENCE_CLUSTER environment variable sets the Coherence cluster name to test-cluster"><code>COHERENCE_CLUSTER</code>環境変数は、Coherenceクラスタ名を<code>test-cluster</code>に設定</span></li>
<li data-value="4"><span class="merged" id="all.3OS6vA.spl1" style='background-color:yellow' title="原文 : The NAMESPACE environment variable contains the namespace the StatefulSet is deployed into."><code>NAMESPACE</code>環境変数には、StatefulSetがデプロイされるネームスペースが含まれます。</span> <span class="merged" id="all.3OS6vA.spl2" style='background-color:yellow' title="原文 : The value is taken from the matadata.namespace field of the Pod.">値は、ポッドの<code>matadata.namespace</code>フィールドから取得されます。</span> <span class="merged" id="all.3OS6vA.spl3" style='background-color:yellow' title="原文 : This is then used to create a fully qualified well known address value">これを使用して、完全修飾の既知の住所値を作成</span> </li>
<li data-value="5"><span class="merged" id="all.1uC6V7.spl1" style='background-color:yellow' title="原文 : The COHERENCE_WKA environment variable sets address Coherence uses to perform a DNS lookup for cluster member IP addresses."><code>COHERENCE_WKA</code>環境変数は、Coherenceがクラスタ・メンバーIPアドレスのDNSルックアップを実行するために使用するアドレスを設定します。</span> <span class="merged" id="all.1uC6V7.spl2" style='background-color:yellow' title="原文 : In this case we use the name of the WKA service created above combined with the NAMESPACE environment variable to give a fully qualified service name.">この場合、前述で作成したWKAサービスの名前を<code>NAMESPACE</code>環境変数と組み合せて使用して、完全修飾サービス名を指定します。</span> </li>
<li data-value="6"><span class="merged" id="all.18CTAq" style='background-color:yellow' title="原文 : The COHERENCE_LOCALPORT environment variable sets the Coherence localport to 7575, which matches what was exposed in the Service ports and container ports"><code>COHERENCE_LOCALPORT</code>環境変数は、Coherenceローカル・ポートを7575に設定します。これは、サービス・ポートおよびコンテナ・ポートで公開された内容と一致</span></li>
<li data-value="7"><span class="merged" id="all.AhkQY" style='background-color:yellow' title="原文 : The COHERENCE_LOCAHOST environment variable sets the hostname that Coherence binds to, in this case it will be the same as the Pod name by using the &quot;valueFrom&quot; setting to get the value from the Pod’s metadata.name field"><code>COHERENCE_LOCAHOST</code>環境変数は、Coherenceがバインドするホスト名を設定します。この場合、ポッドの<code>metadata.name</code>フィールドから値を取得するために"valueFrom"設定を使用してポッド名と同じになります</span></li>
<li data-value="8"><span class="merged" id="all.3BsvI2.spl1" style='background-color:yellow' title="原文 : It is best practice to use the COHERENCE_MACHINE environment variable to set the Coherence machine label to the Kubernetes Node name."><code>COHERENCE_MACHINE</code>環境変数を使用して、Coherenceマシン・ラベルをKubernetesノード名に設定することをお薦めします。</span> <span class="merged" id="all.3BsvI2.spl2" style='background-color:yellow' title="原文 : The machine name is used by Coherence when assigning backup partitions, so a backup of a partition will not be on the same Node as the primary owner of the partition. the same as the Pod name by using the &quot;valueFrom&quot; setting to get the value from the Pod’s metadata.name field">マシン名は、バックアップ・パーティションの割当て時にCoherenceによって使用されるため、パーティションのバックアップは、パーティションのプライマリ所有者と同じノード上にはありません。"valueFrom"設定を使用してポッドの<code>metadata.name</code>フィールドから値を取得することで、ポッド名と同じです</span> </li>
<li data-value="9"><span class="merged" id="all.1pxdh9" style='background-color:yellow' title="原文 : It is best practice to use the COHERENCE_MEMBER environment variable to set the Coherence member name to the Pod name."><code>COHERENCE_MEMBER</code>環境変数を使用して、Coherenceメンバー名をポッド名に設定することをお薦めします。</span></li>
<li data-value="10"><span class="merged" id="all.3xlWJH.spl1" style='background-color:yellow' title="原文 : All the ports required are exposed as container ports.">必要なポートはすべてコンテナ・ポートとして公開されます。</span> <span class="merged" id="all.3xlWJH.spl2" style='background-color:yellow' title="原文 : The names must correspond to the names used for the container ports in the Service spec.">名前は、サービス仕様のコンテナ・ポートに使用される名前に対応している必要があります。</span> </li>
<li data-value="11"><span class="merged" id="all.4CQqF5" style='background-color:yellow' title="原文 : As we are using Coherence CE 22.06 we can use Coherence built in health check endpoints for the readiness and liveness probes.">Coherence CE 22.06を使用しているため、レディネスおよびリブネス・プローブにCoherenceの組込みヘルス・チェック・エンドポイントを使用できます。</span></li>
</ul>
<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.18"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.2aRiFQ.spl1" style='background-color:yellow' title="原文 : The example above is using Coherence 22.06 which has built in health checks and health check endpoints which can be used as readiness and liveness probes in Kubernetes.">前述の例は、Coherence 22.06を使用しています。このCoherenceには、Kubernetesでレディネスおよびリブネス・プローブとして使用できるヘルス・チェックおよびヘルス・チェック・エンドポイントが組み込まれています。</span> <span class="merged" id="all.2aRiFQ.spl2" style='background-color:yellow' title="原文 : These endpoints are only available if you start Coherence correctly using the Bootstrap API introduced in 22.06.">これらのエンドポイントは、22.06で導入されたブートストラップAPIを使用してCoherenceを正しく起動した場合にのみ使用できます。</span> </p>

<p><span class="merged" id="all.3norm9" style='background-color:yellow' title="原文 : Start Coherence using com.tangosol.net.Coherence as the main class.">メイン・クラスとして<code>com.tangosol.net.Coherence</code>を使用してCoherenceを起動します。</span></p>

<pre
lang="bash"

>java -cp coherence.jar com.tangosol.net.Coherence</pre>

<p><span class="merged" id="all.447JKq" style='background-color:yellow' title="原文 : Start Coherence in code:">コードでCoherenceを起動します:</span></p>

<pre
lang="java"

>Coherence coherence = Coherence.clusterMember().start().join();</pre>

<p><span class="merged" id="all.vCpxN" style='background-color:yellow' title="原文 : See the Coherence Bootstrap API documentation for more details">詳細は、Coherenceの<a href="https://docs.oracle.com/en/middleware/standalone/coherence/14.1.1.2206/develop-applications/starting-and-stopping-cluster-members.html#GUID-A74280C1-AB23-48DB-8C0D-E494230ABFCA" id="" target="_blank" >「ブートストラップAPI」</a>ドキュメントを参照してください</span></p>
</p>
</div>
</div>

<h3 id="_deploy_the_cluster"><span class="merged" id="all.2yd3h4.1" style='background-color:yellow' title="原文 : Deploy the Cluster">クラスタのデプロイ</span></h3>
<div class="section">
<p><span class="merged" id="all.3kfmBQ.spl1" style='background-color:yellow' title="原文 : We will deploy the cluster into a Kubernetes namespace names coherence.">クラスタをKubernetesネームスペース名<code>coherence</code>にデプロイします。</span> <span class="merged" id="all.3kfmBQ.spl2" style='background-color:yellow' title="原文 : Before deploying the cluster we need to ensure it has been labeled so that Istio will inject the Envoy proxy sidecar into the Pods.">クラスタをデプロイする前に、IstioがEnvoyプロキシ・サイドカーをポッドにインジェクトするように、ラベルが付けられていることを確認する必要があります。</span> </p>

<pre
lang="bash"

>kubectl create namespace coherence
kubectl label namespace coherence istio-injection=enabled</pre>

<p><span class="merged" id="all.2GwrLY.spl1" style='background-color:yellow' title="原文 : To deploy the cluster we just apply all three yaml files to Kubernetes.">クラスタをデプロイするには、3つのyamlファイルをすべてKubernetesに適用します。</span> <span class="merged" id="all.2GwrLY.spl2" style='background-color:yellow' title="原文 : We could combine them into a single yaml file if we wanted to.">1つのyamlファイルに結合できます。</span> </p>

<pre
lang="bash"

>kubectl -n coherence apply -f wka-service.yaml
kubectl -n coherence apply -f storage-service.yaml
kubectl -n coherence apply -f storage.yaml</pre>

<p><span class="merged" id="all.4CEzf0" style='background-color:yellow' title="原文 : If we list the services, we see the two services we created">サービスをリストすると、作成した2つのサービスが表示されます</span></p>

<pre
lang="bash"

>$ kubectl get svc
NAME               TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)                                                   AGE
storage-headless   ClusterIP   None         &lt;none&gt;        7574/TCP,7575/TCP,20000/TCP,1408/TCP,30000/TCP,9612/TCP   37m
storage-wka        ClusterIP   None         &lt;none&gt;        7574/TCP                                                  16m</pre>

<p><span class="merged" id="all.2xgZIB" style='background-color:yellow' title="原文 : If we list the Pods, we see three Pods, as the StatefulSet replicas field is set to three.">ポッドをリストすると、StatefulSetレプリカ・フィールドが3に設定されているため、3つのポッドが表示されます。</span></p>

<pre
lang="bash"

>$ kubectl get pod
NAME        READY   STATUS    RESTARTS   AGE
storage-0   2/2     Running   0          7m47s
storage-1   2/2     Running   0          7m47s
storage-2   2/2     Running   0          7m47s</pre>

<p><span class="merged" id="all.1YOLVB" style='background-color:yellow' title="原文 : We can use Istio’s Kiali dashboard to visualize the cluster we created.">IstioのKialiダッシュボードを使用して、作成したクラスタをビジュアル化できます。</span></p>

<p><span class="merged" id="all.34JfEp.spl1" style='background-color:yellow' title="原文 : We labelled the resources with the app label with a value of my-coherence-app and we can see this application in the Kiali dashboard.">リソースに<code>app</code>ラベルと値<code>my-coherence-app</code>のラベルを付けたため、このアプリケーションをKialiダッシュボードに表示できます。</span> <span class="merged" id="all.34JfEp.spl2" style='background-color:yellow' title="原文 : The graph shows the cluster member Pods communicating with each other via the storage-headless service.">グラフには、<code>storage-headless</code>サービスを介して相互に通信するクラスタ・メンバー・ポッドが表示されます。</span> <span class="merged" id="all.34JfEp.spl3" style='background-color:yellow' title="原文 : The padlock icons show that this traffic is using mTLS even though Coherence has not been configured with TLS, this is being provided by Istio.">南京錠アイコンは、CoherenceがTLSで構成されていなくても、このトラフィックがmTLSを使用していることを示しています。これはIstioによって提供されています。</span> </p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali cluster start" src="./images/images/kiali-cluster-start.png" width="1024" /> </v-card-text> </v-card>

</div>
</div>

<h2 id="_coherence_clients"><span class="merged" id="all.UWPlx" style='background-color:yellow' title="原文 : Coherence Clients">Coherenceクライアント</span></h2>
<div class="section">
<p><span class="merged" id="all.4MvGGG" style='background-color:yellow' title="原文 : Coherence clients (Extend or gRPC) can be configured to connect to the Coherence cluster.">Coherenceクライアント(拡張またはgRPC)は、Coherenceクラスタに接続するように構成できます。</span></p>


<h3 id="_extend_proxy_configuration"><span class="merged" id="all.1IOXDw" style='background-color:yellow' title="原文 : Extend Proxy Configuration">プロキシ構成の拡張</span></h3>
<div class="section">
<p><span class="merged" id="all.1ZUCAL.spl1" style='background-color:yellow' title="原文 : To work correctly with Istio a Coherence Extend proxy in the server’s cache configuration file must be configured to use a fixed port.">Istioで正しく動作するには、サーバーのキャッシュ構成ファイルでCoherence Extendプロキシが固定ポートを使用するように構成されている必要があります。</span> <span class="merged" id="all.1ZUCAL.spl2" style='background-color:yellow' title="原文 : For example, the XML snippet below configures the proxy to bind to all interfaces (0.0.0.0) on port 20000.">たとえば、次のXMLスニペットは、ポート20000のすべてのインタフェース(<code>0.0.0.0</code>)にバインドするようにプロキシを構成します。</span> </p>

<pre
lang="xml"

>    &lt;proxy-scheme&gt;
      &lt;service-name&gt;Proxy&lt;/service-name&gt;
      &lt;acceptor-config&gt;
        &lt;tcp-acceptor&gt;
          &lt;local-address&gt;
            &lt;address system-property="coherence.extend.address"&gt;0.0.0.0&lt;/address&gt;
            &lt;port system-property="coherence.extend.port"&gt;20000&lt;/port&gt;
          &lt;/local-address&gt;
        &lt;/tcp-acceptor&gt;
      &lt;/acceptor-config&gt;
      &lt;autostart&gt;true&lt;/autostart&gt;
    &lt;/proxy-scheme&gt;</pre>

<p><span class="merged" id="all.2cf7jN" style='background-color:yellow' title="原文 : The port could be changed by setting the COHERENCE_EXTEND_PORT environment variable in the server yaml.">ポートは、サーバーyamlで<code>COHERENCE_EXTEND_PORT</code>環境変数を設定することで変更できます。</span></p>

<pre
lang="yaml"

>    spec:
      containers:
        - name: coherence
          image: ghcr.io/oracle/coherence-ce:22.06.7
          env:
            - name: COHERENCE_EXTEND_PORT
              value: "20001"</pre>

<p><span class="merged" id="all.2PuIM3" style='background-color:yellow' title="原文 : The Extend port should be exposed on the StatefulSet (as shown in the StatefulSet yaml above) and on the StatefulSet headless service so that clients can discover it and connect to it (as shown in the Service yaml above).">Extendポートは、StatefulSet (前述の<router-link @click.native="this.scrollFix('#sts')" to="#sts">StatefulSet yaml</router-link>を参照)およびStatefulSetヘッドレス・サービスで公開し、クライアントがそれを検出して接続できるようにします(前述の<router-link @click.native="this.scrollFix('#headless-svc')" to="#headless-svc">「サービスyaml」</router-link>を参照)。</span></p>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.18"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.2JJ6Mn" style='background-color:yellow' title="原文 : The default cache configuration file used by Coherence, and used in the Coherence images published on GitHub, contains an Extend Proxy service that uses the COHERENCE_EXTEND_PORT environment variable to set the port.">Coherenceで使用されるデフォルトのキャッシュ構成ファイルで、GitHubで公開されたCoherenceイメージで使用されます。<code>COHERENCE_EXTEND_PORT</code>環境変数を使用してポートを設定する拡張プロキシ・サービスが含まれています。</span></p>
</p>
</div>
</div>

<h3 id="_grpc_proxy_configuration"><span class="merged" id="all.2EWafl" style='background-color:yellow' title="原文 : gRPC Proxy Configuration">gRPCプロキシ構成</span></h3>
<div class="section">
<p><span class="merged" id="all.WA5Ex.spl1" style='background-color:yellow' title="原文 : The Coherence gRPC proxy binds to an ephemeral port by default.">Coherence gRPCプロキシは、デフォルトでエフェメラル・ポートにバインドされます。</span> <span class="merged" id="all.WA5Ex.spl2" style='background-color:yellow' title="原文 : This port can be changed by using the COHERENCE_GRPC_SERVER_PORT environment variable;">このポートは、<code>COHERENCE_GRPC_SERVER_PORT</code>環境変数を使用して変更できます</span> </p>

<pre
lang="yaml"

>    spec:
      containers:
        - name: coherence
          image: ghcr.io/oracle/coherence-ce:22.06.7
          env:
            - name: COHERENCE_GRPC_SERVER_PORT
              value: "1408"</pre>

<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.19"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.3C3xos" style='background-color:yellow' title="原文 : The default configuration used by Coherence images published on GitHub sets the gRPC port to 1408.">GitHubで公開されたCoherenceイメージで使用されるデフォルト構成では、gRPCポートが1408に設定されます。</span></p>
</p>
</div>
<p><span class="merged" id="all.yYWVE.spl1" style='background-color:yellow' title="原文 : Once the server StatefulSet and Service have been properly configured the clients can be configured.">サーバーStatefulSetとサービスが適切に構成されると、クライアントを構成できます。</span> <span class="merged" id="all.yYWVE.spl2" style='background-color:yellow' title="原文 : The options available for this will depend on where the client will run.">これに使用できるオプションは、クライアントが実行される場所によって異なります。</span> </p>

</div>

<h3 id="_clients_inside_kubernetes"><span class="merged" id="all.3MBN8M" style='background-color:yellow' title="原文 : Clients Inside Kubernetes">Kubernetes内のクライアント</span></h3>
<div class="section">
<p><span class="merged" id="all.4SjYvy.spl1" style='background-color:yellow' title="原文 : If the clients are also inside the cluster they can be configured to connect using the StatefulSet headless service as the hostname for the proxy endpoints.">クライアントもクラスタ内にある場合は、プロキシ・エンドポイントのホスト名としてStatefulSetヘッドレス・サービスを使用して接続するように構成できます。</span> <span class="merged" id="all.4SjYvy.spl2" style='background-color:yellow' title="原文 : There are two options for configuring Extend and">Extendの構成には2つのオプションがあります</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3yC8Ub" style='background-color:yellow' title="原文 : Clients inside Kubernetes can also use the minimal Coherence NameService configuration where the StatefulSet service name is used as the client’s WKA address and the same cluster name is configured.">Kubernetes内のクライアントは、StatefulSetサービス名がクライアントのWKAアドレスとして使用され、同じクラスタ名が構成されている最小のCoherence NameService構成を使用することもできます。</span></p>

</li>
<li>
<p><span class="merged" id="all.Rhboj.spl1" style='background-color:yellow' title="原文 : Clients external to the Kubernetes cluster can be configured using any of the ingress or gateway features of Istio and Kubernetes.">Kubernetesクラスタ外部のクライアントは、IstioおよびKubernetesのイングレス機能またはゲートウェイ機能を使用して構成できます。</span> <span class="merged" id="all.Rhboj.spl2" style='background-color:yellow' title="原文 : All the different ways to do this are beyond the scope of this simple example as there are many, and they depend on the versions of Istio and Kubernetes being used.">これを行うすべての方法は、この単純な例の範囲を超えて多くあり、使用されるIstioおよびKubernetesのバージョンによって異なります。</span> </p>

</li>
</ul>

<h4 id="_build_a_client_image"><span class="merged" id="all.3LFzmM" style='background-color:yellow' title="原文 : Build a Client Image">クライアント・イメージの構築</span></h4>
<div class="section">
<p><span class="merged" id="all.4KvC99.spl1" style='background-color:yellow' title="原文 : For this example we need a simple client image that can be run with different configurations.">この例では、異なる構成で実行できる単純なクライアント・イメージが必要です。</span> <span class="merged" id="all.4KvC99.spl2" style='background-color:yellow' title="原文 : Instead of building an application we will use a Coherence Image from GitHub combined with the utilities from the Coherence Operator.">アプリケーションを作成するかわりに、GitHubのCoherenceイメージをCoherence Operatorのユーティリティと組み合せて使用します。</span> </p>

<p><span class="merged" id="all.1UpfiY.spl1" style='background-color:yellow' title="原文 : The simple Dockerfile below is a multistage build file.">次の単純なDockerfileは、マルチ・ステージ・ビルド・ファイルです。</span> <span class="merged" id="all.1UpfiY.spl2" style='background-color:yellow' title="原文 : It uses the Operator image as a &quot;builder&quot; and then the Coherence image as the base.">オペレータ・イメージをビルダーとして使用し、次にCoherenceイメージをベースとして使用します。</span> <span class="merged" id="all.1UpfiY.spl3" style='background-color:yellow' title="原文 : Various utilities are copied from the Operator image into the base.">オペレータ・イメージからベースにさまざまなユーティリティがコピーされます。</span> </p>

<pre

title="Dockerfile"
>FROM ghcr.io/oracle/coherence-operator:3.4.0 AS Builder

FROM ghcr.io/oracle/coherence-ce:22.06.7
COPY --from=Builder /files /files
COPY --from=Builder /files/lib/coherence-operator.jar /app/libs/coherence-operator.jar
COPY coherence-java-client-22.06.7.jar /app/libs/coherence-java-client-22.06.7.jar

ENTRYPOINT ["files/runner"]
CMD ["-h"]</pre>

<p><span class="merged" id="all.1Xrjk9.spl1" style='background-color:yellow' title="原文 : As we are going to show both the Coherence Extend client and gRPC client we need to add the Coherence gRPC client jar.">Coherence ExtendクライアントとgRPCクライアントの両方を表示するため、Coherence gRPCクライアントjarを追加する必要があります。</span> <span class="merged" id="all.1Xrjk9.spl2" style='background-color:yellow' title="原文 : We can download this with curl to the same directory as the Dockerfile.">これは、<code>curl</code>を使用してDockerfileと同じディレクトリにダウンロードできます。</span> </p>

<pre
lang="bash"

>curl -s https://repo1.maven.org/maven2/com/oracle/coherence/ce/coherence-java-client/22.06.7/coherence-java-client-22.06.7.jar \
  -o coherence-java-client-22.06.7.jar</pre>

<p><span class="merged" id="all.47IsV3" style='background-color:yellow' title="原文 : Build the image with the following command:">次のコマンドを使用してイメージを構築します:</span></p>

<pre
lang="bash"

>docker build -t coherence-client:1.0.0 -f Dockerfile .</pre>

<p><span class="merged" id="all.43ZWML.spl1" style='background-color:yellow' title="原文 : There will now be an imaged named coherence-client:1.0.0 which can be pushed somewhere Kubernetes can see it.">これで、Kubernetesが参照できる場所にプッシュできる<code>coherence-client:1.0.0</code>という名前のイメージが作成されます。</span> <span class="merged" id="all.43ZWML.spl2" style='background-color:yellow' title="原文 : We will use this example below.">次の例では使用します。</span> </p>

</div>

<h4 id="_using_the_coherence_nameservice_configuration"><span class="merged" id="all.38k2YB" style='background-color:yellow' title="原文 : Using the Coherence NameService Configuration">Coherence NameService構成の使用</span></h4>
<div class="section">
<p><span class="merged" id="all.W4FQm.spl1" style='background-color:yellow' title="原文 : The minimal configuration in a client’s cache configuration file is shown below.">クライアントのキャッシュ構成ファイルの最小構成を次に示します。</span> <span class="merged" id="all.W4FQm.spl2" style='background-color:yellow' title="原文 : This configuration will use the Coherence NameService to look up the endpoints for the Extend Proxy services running in the Coherence cluster.">この構成では、Coherence NameServiceを使用して、Coherenceクラスタで実行されているExtendプロキシ・サービスのエンドポイントを検索します。</span> </p>

<pre
lang="xml"

>&lt;remote-cache-scheme&gt;
  &lt;scheme-name&gt;thin-remote&lt;/scheme-name&gt;
  &lt;service-name&gt;RemoteCache&lt;/service-name&gt;
  &lt;proxy-service-name&gt;Proxy&lt;/proxy-service-name&gt;
&lt;/remote-cache-scheme&gt;</pre>

<p><span class="merged" id="all.ZSoWz.spl1" style='background-color:yellow' title="原文 : For the NameService to work in Kubernetes, the client must be configured with the same cluster name, the same well known addresses and same cluster port as the server.">NameServiceをKubernetesで機能させるには、サーバーと同じクラスタ名、既知のアドレスおよびクラスタ・ポートでクライアントを構成する必要があります。</span> <span class="merged" id="all.ZSoWz.spl2" style='background-color:yellow' title="原文 : When using Istio the server’s cluster port, local port and Extend port should be exposed on the StatefulSet headless service.">Istioを使用する場合、サーバーのクラスタ・ポート、ローカル・ポートおよび拡張ポートは、StatefulSetヘッドレス・サービスで公開する必要があります。</span> <span class="merged" id="all.ZSoWz.spl3" style='background-color:yellow' title="原文 : The client’s well known address is then set to the qualified Kubernetes DNS name for the server’s StatefulSet headless service.">次に、クライアントの既知のアドレスは、サーバーのStatefulSetヘッドレス・サービスの修飾されたKubernetes DNS名に設定されます。</span> </p>

<p><span class="merged" id="all.18c0Ts" style='background-color:yellow' title="原文 : These can all be set using environment variables in the yaml for the client.">これらはすべて、クライアントのyamlの環境変数を使用して設定できます。</span></p>

<p><span class="merged" id="all.1wwZ0H" style='background-color:yellow' title="原文 : For example, assuming the client will connect to the Coherence cluster configured in the StatefulSet above:">たとえば、クライアントが前述の<router-link @click.native="this.scrollFix('#sts')" to="#sts">StatefulSet</router-link>で構成されたCoherenceクラスタに接続するとします:</span></p>

<pre
lang="yaml"

>  env:
    - name: COHERENCE_CLUSTER             <span class="conum" data-value="1" />
      value: "test-cluster"
    - name: COHERENCE_WKA                 <span class="conum" data-value="2" />
      value: "storage-headless.coherence.svc"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.2zfh69" style='background-color:yellow' title="原文 : The cluster name is set to test-cluster the same as the StatefulSet">クラスタ名は、StatefulSetと同じように<code>test-cluster</code>に設定されます</span></li>
<li data-value="2"><span class="merged" id="all.39m0jO" style='background-color:yellow' title="原文 : The COHERENCE_WKA value is set to the DNS name of the StatefulSet headless service, which has the format &lt;service-name&gt;.&lt;namespace&gt;.svc so in this case storage-headless.coherence.svc"><code>COHERENCE_WKA</code>値は、StatefulSetヘッドレス・サービスのDNS名に設定されます。このサービスの形式は<code>&lt;service-name>.&lt;namespace>.svc</code>であるため、この場合は<code>storage-headless.coherence.svc</code>です</span></li>
</ul>
</div>

<h4 id="_run_an_extend_client_pod"><span class="merged" id="all.Loaen" style='background-color:yellow' title="原文 : Run an Extend Client Pod">Extendクライアント・ポッドの実行</span></h4>
<div class="section">
<p><span class="merged" id="all.3pd7El" style='background-color:yellow' title="原文 : Using the coherence-client:1.0.0 image created above, we can run a simple Coherence client Pod.">上で作成した<code>coherence-client:1.0.0</code>イメージを使用して、単純なCoherenceクライアント・ポッドを実行できます。</span></p>

<pre
lang="yaml"
title="extend-client-pod.yaml"
>apiVersion: v1
kind: Pod
metadata:
  name: client
  labels:
    app: coherence-client
    version: 1.0.0
spec:
  containers:
    - name: coherence
      image: coherence-client:1.0.0  <span class="conum" data-value="1" />
      command:
        - /files/runner   <span class="conum" data-value="2" />
        - sleep
        - "15m"
      env:
        - name: COHERENCE_CLUSTER              <span class="conum" data-value="3" />
          value: "test-cluster"
        - name: COHERENCE_WKA                  <span class="conum" data-value="4" />
          value: "storage-headless.coherence.svc"
        - name: COHERENCE_CLIENT               <span class="conum" data-value="5" />
          value: "remote"</pre>

<ul class="colist">
<li data-value="1"><span class="merged" id="all.4PpWvj" style='background-color:yellow' title="原文 : The container image is set to the client image built above coherence-client:1.0.0">コンテナ・イメージは、<code>coherence-client:1.0.0</code>の上に構築されたクライアント・イメージに設定されます</span></li>
<li data-value="2"><span class="merged" id="all.3yNoTQ" style='background-color:yellow' title="原文 : The command line the container will run is /files/runner sleep 15m which will just sleep for 15 minutes">コンテナが実行するコマンドラインは、15分間スリープする<code>/files/runner sleep 15m</code>です</span></li>
<li data-value="3"><span class="merged" id="all.e9WAM" style='background-color:yellow' title="原文 : The Coherence cluster name is set to the same name as the server deployed above in the StatefulSet yaml">Coherenceクラスタ名は、前述の<router-link @click.native="this.scrollFix('#sts')" to="#sts">StatefulSet yaml</router-link>にデプロイされたサーバーと同じ名前に設定されます</span></li>
<li data-value="4"><span class="merged" id="all.OxbGk" style='background-color:yellow' title="原文 : The WKA address is set to the StatefulSet’s headless service name storage-headless.coherence.svc">WKAアドレスは、StatefulSetのヘッドレス・サービス名<code>storage-headless.coherence.svc</code>に設定されます</span></li>
<li data-value="5"><span class="merged" id="all.gggof" style='background-color:yellow' title="原文 : For this example the COHERENCE_CLIENT which sets the default cache configuration file to run as an Extend client, using the NameService to look up the proxies.">この例では、NameServiceを使用してプロキシを検索し、デフォルトのキャッシュ構成ファイルをExtendクライアントとして実行するように設定する<code>COHERENCE_CLIENT</code>です。</span></li>
</ul>
<p><span class="merged" id="all.hz3nw" style='background-color:yellow' title="原文 : We can deploy the client into Kubernetes">クライアントをKubernetesにデプロイできます</span></p>

<pre
lang="bash"

>kubectl -n coherence apply -f extend-client-pod.yaml</pre>

<p><span class="merged" id="all.3pAzUo.spl1" style='background-color:yellow' title="原文 : We deployed the client into the same namespace as the cluster, we could easily have deployed it to another namespace.">クライアントをクラスタと同じネームスペースにデプロイしたため、別のネームスペースに簡単にデプロイできました。</span> <span class="merged" id="all.3pAzUo.spl2" style='background-color:yellow' title="原文 : If we list the Pods we will see the cluster and the client.">Podをリストすると、クラスタとクライアントが表示されます。</span> <span class="merged" id="all.3pAzUo.spl3" style='background-color:yellow' title="原文 : All Pods has two containers, one being the Istio side-car.">すべてのPodには2つのコンテナがあり、1つはIstioサイドカです。</span> </p>

<pre
lang="bash"

>$ k -n coherence get pod
NAME        READY   STATUS    RESTARTS   AGE
storage-0   2/2     Running   0          105m
storage-1   2/2     Running   0          105m
storage-2   2/2     Running   0          105m
client      2/2     Running   0          8m27s</pre>

<p><span class="merged" id="all.39RkqW" style='background-color:yellow' title="原文 : Now we can exec into the Pod and start a Coherence QueryPlus console session using the following command:">これで、次のコマンドを使用してPodを実行し、CoherenceのQueryPlusコンソール・セッションを開始できます:</span></p>

<pre
lang="bash"

>kubectl -n coherence exec -it client -- /files/runner queryplus</pre>

<p><span class="merged" id="all.konWy" style='background-color:yellow' title="原文 : The QueryPlus session will start and eventually display the CohQL&gt; prompt:">QueryPlusセッションが起動し、最終的に<code>CohQL></code>プロンプトが表示されます:</span></p>

<pre
lang="bash"

>Coherence Command Line Tool

CohQL&gt;</pre>

<p><span class="merged" id="all.465efc.1.spl1" style='background-color:yellow' title="原文 : A simple command to try is just creating a cache, so at the prompt type the command create cache test which will create a cache named test.">試行する簡単なコマンドはキャッシュの作成のみであるため、プロンプトで、<code>test</code>という名前のキャッシュを作成するコマンド<code>create cache test</code>を入力します。</span> <span class="merged" id="all.465efc.1.spl2" style='background-color:yellow' title="原文 : If all is configured correctly this client will connect to the cluster over Extend and create the cache called test and return to the CohQL prompt.">すべてが正しく構成されている場合、このクライアントはExtendを介してクラスタに接続し、<code>test</code>というキャッシュを作成し、<code>CohQL</code>プロンプトに戻ります。</span> </p>

<pre
lang="bash"

>Coherence Command Line Tool

CohQL&gt; create cache test</pre>

<p><span class="merged" id="all.soAJw.1" style='background-color:yellow' title="原文 : We can also try selecting data from the cache using the CohQL query select * from test (which will return nothing as the cache is empty).">また、CohQL問合せ<code>select * from test</code>を使用してキャッシュからデータを選択することもできます(キャッシュが空であるため、何も返されません)。</span></p>

<pre
lang="bash"

>CohQL&gt; select * from test
Results

CohQL&gt;</pre>

<p><span class="merged" id="all.45d1YV.spl1" style='background-color:yellow' title="原文 : If we now look at the Kiali dashboard we can see that the client application has communicated with the storage cluster.">Kialiダッシュボードを見ると、クライアント・アプリケーションがストレージ・クラスタと通信していることがわかります。</span> <span class="merged" id="all.45d1YV.spl2" style='background-color:yellow' title="原文 : All of this communication was using mTLS but without configuring Coherence to use TLS.">この通信はすべてmTLSを使用していましたが、TLSを使用するようにCoherenceを構成していませんでした。</span> </p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali client remote app" src="./images/images/kiali-client-remote-app.png" /> </v-card-text> </v-card>

<p><span class="merged" id="all.1iP9KY" style='background-color:yellow' title="原文 : If we look at the Kiali dashboard traffic tab for the client application we can see the traffic was TCP over mTLS.">クライアント・アプリケーションの「Kiali」ダッシュボードの「トラフィック」タブを見ると、トラフィックがmTLS経由のTCPであることがわかります。</span></p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali client remote traffic" src="./images/images/kiali-client-remote-traffic.png" /> </v-card-text> </v-card>

<p><span class="merged" id="all.2bskoa.spl1" style='background-color:yellow' title="原文 : To exit from the CohQL&gt; prompt type the bye command."><code>CohQL></code>プロンプトから終了するには、<code>bye</code>コマンドを入力します。</span> <span class="merged" id="all.2bskoa.spl2" style='background-color:yellow' title="原文 : The delete the client Pod">クライアント・ポッドの削除</span> </p>

<pre
lang="bash"

>kubectl -n coherence delete -f extend-client-pod.yaml</pre>

</div>

<h4 id="_run_a_grpc_client_pod"><span class="merged" id="all.4JWiew" style='background-color:yellow' title="原文 : Run a gRPC Client Pod">gRPCクライアント・ポッドの実行</span></h4>
<div class="section">
<p><span class="merged" id="all.3HY9t8.spl1" style='background-color:yellow' title="原文 : We can run the same image as a gRPC client.">gRPCクライアントと同じイメージを実行できます。</span> <span class="merged" id="all.3HY9t8.spl2" style='background-color:yellow' title="原文 : For this example, instead of the NameService we will configure Coherence to">この例では、NameServiceのかわりにCoherenceを次のように構成</span> </p>

<pre
lang="yaml"
title="grpc-client-pod.yaml"
>apiVersion: v1
kind: Pod
metadata:
  name: client
  labels:
    app: coherence-client
    version: 1.0.0
spec:
  containers:
    - name: coherence
      image: coherence-client:1.0.0
      command:
        - /files/runner
        - sleep
        - "15m"
      env:
        - name: COHERENCE_CLIENT
          value: "grpc-fixed"
        - name: COHERENCE_GRPC_ADDRESS
          value: "storage-headless.coherence.svc"
        - name: COHERENCE_GRPC_PORT
          value: "1408"</pre>

<p><span class="merged" id="all.3WNAiu" style='background-color:yellow' title="原文 : We can now deploy the gRPC client Pod">gRPCクライアントPodをデプロイできるようになりました</span></p>

<pre
lang="bash"

>kubectl -n coherence delete -f grpc-client-pod.yaml</pre>

<p><span class="merged" id="all.1olKIX" style='background-color:yellow' title="原文 : And exec into the Pod to create a QueryPlus session.">そして、ポッドにexecしてQueryPlusセッションを作成します。</span></p>

<pre
lang="bash"

>kubectl -n coherence exec -it client -- /files/runner queryplus</pre>

<p><span class="merged" id="all.4H587M.spl1" style='background-color:yellow' title="原文 : We can run the same create cache test and select * from test command that we ran above to connect the client to the cluster.">クライアントをクラスタに接続するために、上で実行したものと同じ<code>create cache test</code>および<code>select * from test</code>コマンドを実行できます。</span> <span class="merged" id="all.4H587M.spl2" style='background-color:yellow' title="原文 : This time the client should be connecting over gRPC.">今回、クライアントはgRPCを介して接続する必要があります。</span> </p>

<p><span class="merged" id="all.QxbEK.spl1" style='background-color:yellow' title="原文 : If we now look at the Kiali dashboard we can see again that the client application has communicated with the storage cluster.">ここでKialiダッシュボードを見ると、クライアント・アプリケーションがストレージ・クラスタと通信していることがわかります。</span> <span class="merged" id="all.QxbEK.spl2" style='background-color:yellow' title="原文 : All of this communication was using mTLS but without configuring Coherence to use TLS.">この通信はすべてmTLSを使用していましたが、TLSを使用するようにCoherenceを構成していませんでした。</span> </p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali client grpc app" src="./images/images/kiali-client-grpc-app.png" /> </v-card-text> </v-card>

<p><span class="merged" id="all.2XAYfn" style='background-color:yellow' title="原文 : If we look at the Kiali dashboard traffic tab for the client application we can see that this time the traffic was gRPC over mTLS.">クライアント・アプリケーションの「Kiali」ダッシュボードの「トラフィック」タブを見ると、今回はトラフィックがmTLS経由でgRPCであることがわかります。</span></p>



<v-card> <v-card-text class="overflow-y-hidden"> <img alt="kiali client grpc traffic" src="./images/images/kiali-client-grpc-traffic.png" /> </v-card-text> </v-card>

<p><span class="merged" id="all.2bskoa.1.spl1" style='background-color:yellow' title="原文 : To exit from the CohQL&gt; prompt type the bye command."><code>CohQL></code>プロンプトから終了するには、<code>bye</code>コマンドを入力します。</span> <span class="merged" id="all.2bskoa.1.spl2" style='background-color:yellow' title="原文 : The delete the client Pod">クライアント・ポッドの削除</span> </p>

<pre
lang="bash"

>kubectl -n coherence delete -f extend-client-pod.yaml</pre>

</div>
</div>

<h3 id="_clients_outside_kubernetes"><span class="merged" id="all.3aoC01" style='background-color:yellow' title="原文 : Clients Outside Kubernetes">Kubernetes外のクライアント</span></h3>
<div class="section">
<p><span class="merged" id="all.49z7dH.spl1" style='background-color:yellow' title="原文 : When connecting Coherence Extend or gRPC clients from outside Kubernetes, the Coherence NameService cannot be used by clients to look up the endpoints.">Coherence ExtendクライアントまたはgRPCクライアントをKubernetes外部から接続する場合、Coherence NameServiceをクライアントがエンドポイントを検索するために使用することはできません。</span> <span class="merged" id="all.49z7dH.spl2" style='background-color:yellow' title="原文 : The clients must be configured with fixed endpoints using the hostnames and ports of the configured ingress or gateway services.">クライアントは、構成されたイングレスまたはゲートウェイ・サービスのホスト名およびポートを使用して固定エンドポイントで構成する必要があります。</span> <span class="merged" id="all.49z7dH.spl3" style='background-color:yellow' title="原文 : Exactly how this is done will depend on the versions of Istio and Kubernetes being used and whether Ingress or the Kubernetes Gateway API is used.">これを正確に実行する方法は、使用されているIstioのバージョンとKubernetes、およびIngressまたはKubernetes Gateway APIのどちらが使用されているかによって異なります。</span> <span class="merged" id="all.49z7dH.spl4" style='background-color:yellow' title="原文 : The different options available make it impossible to build an example that can cover all these scenarios.">使用可能なオプションによって、これらすべてのシナリオをカバーする例を作成することはできません。</span> </p>

</div>
</div>
</doc-view>
<!-- pages/examples/no-operator/README.js -->
<doc-view>

<h2 id="_coherence_in_kubernetes_without_the_operator"><span class="merged" id="all.3Vd2Lf.1" style='background-color:yellow' title="原文 : Coherence in Kubernetes Without the Operator">オペレータを使用しないKubernetesのCoherence</span></h2>
<div class="section">
<p><span class="merged" id="all.1MeDP0.1.spl1" style='background-color:yellow' title="原文 : Although this project is all about the Coherence Kubernetes Operator, there are occasions where using an Operator is not possible.">このプロジェクトはすべてCoherence Kubernetes Operatorに関するものですが、オペレータを使用できない場合があります。</span> <span class="merged" id="all.1MeDP0.1.spl2" style='background-color:yellow' title="原文 : For example, some corporate or cloud security policies ban the use of CRDs, or have very restrictive RBAC policies that ultimately make it impossible to run Operators that uses their own CRDs or require cluster roles (or even just namespace roles).">たとえば、企業またはクラウドのセキュリティ・ポリシーによっては、CRDの使用を禁止したり、独自のCRDを使用するオペレータを実行したり、クラスタ・ロール(またはネームスペース・ロールのみ)を必要としたりできないようにする非常に限定的なRBACポリシーがあります。</span> <span class="merged" id="all.1MeDP0.1.spl3" style='background-color:yellow' title="原文 : These example shows how to run a Coherence clusters in Kubernetes manually.">次の例は、KubernetesでCoherenceクラスタを手動で実行する方法を示しています。</span> <span class="merged" id="all.1MeDP0.1.spl4" style='background-color:yellow' title="原文 : Obviously the features of the Operator such as safe scaling, safe rolling upgrades, etc. will not be available.">明らかに、セーフ・スケーリング、安全なローリング・アップグレードなどのオペレータの機能は利用できません。</span> </p>

<div class="admonition note">
<p class="admonition-textlabel"><span class="merged" id="all.22fJPu.19"  title="原文:: Note">ノート</span></p>
<p ><p><span class="merged" id="all.1d1YDX.1.spl1" style='background-color:yellow' title="原文 : We really recommend that you try and use the Coherence Operator for managing Coherence clusters in Kubernetes.">KubernetesでCoherenceクラスタを管理するには、Coherence Operatorを使用することをお薦めします。</span> <span class="merged" id="all.1d1YDX.1.spl2" style='background-color:yellow' title="原文 : It is possible to run the Operator with fewer RBAC permissions, for example without ClusterRoles and only using Roles restricted to a single namespace."><code>ClusterRoles</code>を使用せず、単一のネームスペースに制限された<code>Roles</code>のみを使用するなど、RBAC権限が少ないオペレータを実行できます。</span> <span class="merged" id="all.1d1YDX.1.spl3" style='background-color:yellow' title="原文 : The Operator can also run without installing its web-hooks.">オペレータは、webフックをインストールせずに実行することもできます。</span> <span class="merged" id="all.1d1YDX.1.spl4" style='background-color:yellow' title="原文 : Ultimately though it requires the CRD to be installed, which could be done manually instead of allowing the Operator to install it.">最終的には、CRDをインストールする必要がありますが、オペレータによるインストールを許可するかわりに手動で行うことができます。</span> <span class="merged" id="all.1d1YDX.1.spl5" style='background-color:yellow' title="原文 : If you really cannot change the minds of those dictating policies that mean you cannot use the Operator then these examples may be useful.">オペレータを使用できないことをこれらの決定するポリシーの考えを実際に変更できない場合は、これらの例が役立つことがあります。</span> </p>
</p>
</div>
<div class="admonition tip">
<p class="admonition-textlabel"><span class="merged" id="all.245DJ6.20"  title="原文:: Tip">ヒント</span></p>
<p ><p><span class="merged" id="all.1fxxJ5.1" style='background-color:yellow' title="原文 :  The complete source code for the examples is in the Coherence Operator GitHub repository."><img alt="GitHubマーク32px" src="./images/GitHub-Mark-32px.png" />例のソース・コードは、<a href="https://github.com/oracle/coherence-operator/tree/main/examples/no-operator/" id="" target="_blank" >Coherence Operator GitHub</a>リポジトリにあります。</span></p>
</p>
</div>

<h3 id="_prerequisites"><span class="merged" id="all.2LZvWc.8"  title="原文:: Prerequisites">前提条件</span></h3>
<div class="section">
<p><span class="merged" id="all.3N9KGw.1" style='background-color:yellow' title="原文 : There are some common prerequisites used by all the examples.">すべての例で使用される一般的な前提条件があります。</span></p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.C04Hp.1" style='background-color:yellow' title="原文 : The Server Image"><strong>サーバー・イメージ</strong></span></p>

</li>
</ul>
<p><span class="merged" id="all.1PAo2q.1.spl1" style='background-color:yellow' title="原文 : These examples use the image built in the Build a Coherence Server Image example.">これらの例では、<router-link to="/examples/015_simple_image/README">「Coherenceサーバー・イメージのビルド」</router-link>の例で作成したイメージを使用します。</span> <span class="merged" id="all.1PAo2q.1.spl2" style='background-color:yellow' title="原文 : The image is nothing more than a cache configuration file that has an Extend proxy along with Coherence metrics and management over REST.">イメージは、REST上のCoherenceメトリクスおよび管理とともにExtendプロキシを持つキャッシュ構成ファイルのみです。</span> <span class="merged" id="all.1PAo2q.1.spl3" style='background-color:yellow' title="原文 : We will use this image in the various examples we cover here.">ここで説明する様々な例でこのイメージを使用します。</span> <span class="merged" id="all.1PAo2q.1.spl4" style='background-color:yellow' title="原文 : When we run the image it will start a simple storage enabled Coherence server.">イメージを実行すると、単純なストレージ対応のCoherenceサーバーが起動します。</span> </p>

<ul class="ulist">
<li>
<p><span class="merged" id="all.3Ucl63.1" style='background-color:yellow' title="原文 : The Test Client In the test-client/ directory is a simple Maven project that we will use to run a simple Extend client."><strong>「テスト・クライアント」</strong> <router-link to="/examples/no-operator/test-client/README"><code>test-client/</code></router-link>ディレクトリには、単純なExtendクライアントの実行に使用する単純なMavenプロジェクトがあります。</span></p>

</li>
<li>
<p><span class="merged" id="all.1NWyYw.1.spl1" style='background-color:yellow' title="原文 : Network Policies When running in Kubernetes cluster where NetworkPolicy rules are applied there are certain ingress and egress policies required to allow Coherence to work."><strong>「ネットワーク・ポリシー」</strong> <code>NetworkPolicy</code>ルールが適用されているKubernetesクラスタで実行する場合、Coherenceが機能するために必要な特定のイングレスおよびエグレス・ポリシーがあります。</span> <span class="merged" id="all.1NWyYw.1.spl2" style='background-color:yellow' title="原文 : These are covered in the Network Policies Example">これらは<router-link to="/examples/095_network_policies/README">「ネットワーク・ポリシーの例」</router-link>で説明されています</span> </p>

</li>
</ul>
</div>
</div>

<h2 id="_the_examples"><span class="merged" id="all.4c8ujc.1" style='background-color:yellow' title="原文 : The Examples">例</span></h2>
<div class="section">
<v-layout row wrap class="mb-5"> <v-flex xs12> <v-container fluid grid-list-md class="pa-0"> <v-layout row wrap class="pillars"> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/no-operator/01_simple_server/README"><div class="card__link-hover"/>
<span class="merged" id="all.1baz5c.1" style='background-color:yellow' title="原文 :  Simple Server "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">簡易サーバー</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.BPKR7.1" style='background-color:yellow' title="原文 : Run a simple Coherence storage enabled cluster as a StatefulSet and connect an Extend client to it.">単純なCoherenceストレージ対応クラスタをStatefulSetとして実行し、Extendクライアントを接続します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/no-operator/02_metrics/README"><div class="card__link-hover"/>
<span class="merged" id="all.N95Bq.1" style='background-color:yellow' title="原文 :  Simple Server with Metrics "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">メトリクス付きの簡易サーバー</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.1T1G2V.1" style='background-color:yellow' title="原文 : Expands the simple storage enabled server to expose metrics that can be scraped by Prometheus.">Prometheusによってスクレイプ可能なメトリクスを公開するために、単純なストレージ対応サーバーを展開します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/no-operator/03_extend_tls/README"><div class="card__link-hover"/>
<span class="merged" id="all.1An1Gg.1" style='background-color:yellow' title="原文 :  Securing Extend with TLS "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">TLSによる拡張の保護</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.niqCr.2" style='background-color:yellow' title="原文 : Expands the simple storage enabled server to secure Extend using TLS.">TLSを使用して拡張を保護するために、単純なストレージ対応サーバーを展開します。</span></p>
</v-card-text> </v-card> </v-flex> <v-flex xs12 sm4 lg3> <v-card> <router-link to="/examples/no-operator/04_istio/README"><div class="card__link-hover"/>
<span class="merged" id="all.1Wt2hT.1" style='background-color:yellow' title="原文 :  Running Coherence with Istio "></router-link> <v-card-title primary class="headline layout justify-center"><span style="text-align:center">Istioを使用したCoherenceの実行</span></v-card-title> <v-card-text class="caption"></span>
<p></p>
<p><span class="merged" id="all.niqCr.3" style='background-color:yellow' title="原文 : Expands the simple storage enabled server to secure Extend using TLS.">TLSを使用して拡張を保護するために、単純なストレージ対応サーバーを展開します。</span></p>
</v-card-text>
</v-card>
</v-flex>
</v-layout>
</v-container>
</v-flex>
</v-layout>
</div>
</doc-view>
<!-- pages/examples/no-operator/test-client/README.js -->
<doc-view>
<p><span class="merged" id="all.2z542P.spl1" style='background-color:yellow' title="原文 : In the examples/no-operator/test-client/ directory is a simple Maven project that we will use to run a simple Extend client."><code>examples/no-operator/test-client/</code>ディレクトリには、単純なExtendクライアントの実行に使用する単純なMavenプロジェクトがあります。</span> <span class="merged" id="all.2z542P.spl2" style='background-color:yellow' title="原文 : This will allow us to show connectivity to our test cluster from outside of Kubernetes.">これにより、Kubernetesの外部からテスト・クラスタへの接続を表示できます。</span> </p>

<p><span class="merged" id="all.4Xg9KE" style='background-color:yellow' title="原文 : To run the test client we can run this command from the test-client/ directory:">テスト・クライアントを実行するには、<code>test-client/</code>ディレクトリから次のコマンドを実行します:</span></p>

<pre
lang="bash"

>mvn exec:java</pre>

<p><span class="merged" id="all.1ERWTE.spl1" style='background-color:yellow' title="原文 : This will start a Coherence interactive console as an Extend client.">これにより、ExtendクライアントとしてCoherence対話型コンソールが起動します。</span> <span class="merged" id="all.1ERWTE.spl2" style='background-color:yellow' title="原文 : We can then run various commands to test Extend connectivity.">その後、様々なコマンドを実行して、Extend接続をテストできます。</span> </p>

</doc-view>
